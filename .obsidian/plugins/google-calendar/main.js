/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var SN=Object.create;var au=Object.defineProperty,TN=Object.defineProperties,xN=Object.getOwnPropertyDescriptor,IN=Object.getOwnPropertyDescriptors,kN=Object.getOwnPropertyNames,pv=Object.getOwnPropertySymbols,BN=Object.getPrototypeOf,gv=Object.prototype.hasOwnProperty,RN=Object.prototype.propertyIsEnumerable;var mv=(e,t,r)=>t in e?au(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Kr=(e,t)=>{for(var r in t||(t={}))gv.call(t,r)&&mv(e,r,t[r]);if(pv)for(var r of pv(t))RN.call(t,r)&&mv(e,r,t[r]);return e},Qr=(e,t)=>TN(e,IN(t)),yv=e=>au(e,"__esModule",{value:!0});var UF=typeof require!="undefined"?require:e=>{throw new Error('Dynamic require of "'+e+'" is not supported')};var ue=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),NN=(e,t)=>{yv(e);for(var r in t)au(e,r,{get:t[r],enumerable:!0})},DN=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of kN(t))!gv.call(e,n)&&n!=="default"&&au(e,n,{get:()=>t[n],enumerable:!(r=xN(t,n))||r.enumerable});return e},Pt=e=>DN(yv(au(e!=null?SN(BN(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var U=(e,t,r)=>new Promise((n,i)=>{var a=c=>{try{u(r.next(c))}catch(f){i(f)}},s=c=>{try{u(r.throw(c))}catch(f){i(f)}},u=c=>c.done?n(c.value):Promise.resolve(c.value).then(a,s);u((r=r.apply(e,t)).next())});var Uh=ue((VF,xv)=>{"use strict";var oc=Object.prototype.hasOwnProperty,Ev=Object.prototype.toString,Cv=Object.defineProperty,Av=Object.getOwnPropertyDescriptor,wv=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Ev.call(t)==="[object Array]"},bv=function(t){if(!t||Ev.call(t)!=="[object Object]")return!1;var r=oc.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&oc.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i=="undefined"||oc.call(t,i)},Sv=function(t,r){Cv&&r.name==="__proto__"?Cv(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},Tv=function(t,r){if(r==="__proto__")if(oc.call(t,r)){if(Av)return Av(t,r).value}else return;return t[r]};xv.exports=function e(){var t,r,n,i,a,s,u=arguments[0],c=1,f=arguments.length,d=!1;for(typeof u=="boolean"&&(d=u,u=arguments[1]||{},c=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});c<f;++c)if(t=arguments[c],t!=null)for(r in t)n=Tv(u,r),i=Tv(t,r),u!==i&&(d&&i&&(bv(i)||(a=wv(i)))?(a?(a=!1,s=n&&wv(n)?n:[]):s=n&&bv(n)?n:{},Sv(u,{name:r,newValue:e(d,s,i)})):typeof i!="undefined"&&Sv(u,{name:r,newValue:i}));return u}});var Fh=ue((Hs,Iv)=>{"use strict";var LN=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof Wi!="undefined")return Wi;throw new Error("unable to locate global object")},Wi=LN();Iv.exports=Hs=Wi.fetch;Wi.fetch&&(Hs.default=Wi.fetch.bind(Wi));Hs.Headers=Wi.Headers;Hs.Request=Wi.Request;Hs.Response=Wi.Response});var qh=ue((HF,kv)=>{"use strict";var gi=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";gi.writable=e=>gi(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";gi.readable=e=>gi(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";gi.duplex=e=>gi.writable(e)&&gi.readable(e);gi.transform=e=>gi.duplex(e)&&typeof e._transform=="function";kv.exports=gi});var Gh=ue(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.GaxiosError=void 0;var Bv=class extends Error{constructor(t,r,n){super(t);this.response=n,this.config=r,this.code=n.status.toString()}};uc.GaxiosError=Bv});var Nv=ue(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.getRetryConfig=void 0;function PN(e){return U(this,null,function*(){var t;let r=Rv(e);if(!e||!e.config||!r&&!e.config.retry)return{shouldRetry:!1};r=r||{},r.currentRetryAttempt=r.currentRetryAttempt||0,r.retry=r.retry===void 0||r.retry===null?3:r.retry,r.httpMethodsToRetry=r.httpMethodsToRetry||["GET","HEAD","PUT","OPTIONS","DELETE"],r.noResponseRetries=r.noResponseRetries===void 0||r.noResponseRetries===null?2:r.noResponseRetries;let n=[[100,199],[429,429],[500,599]];if(r.statusCodesToRetry=r.statusCodesToRetry||n,e.config.retryConfig=r,!(yield(r.shouldRetry||ON)(e)))return{shouldRetry:!1,config:e.config};let s=(r.currentRetryAttempt?0:(t=r.retryDelay)!==null&&t!==void 0?t:100)+(Math.pow(2,r.currentRetryAttempt)-1)/2*1e3;e.config.retryConfig.currentRetryAttempt+=1;let u=new Promise(c=>{setTimeout(c,s)});return r.onRetryAttempt&&r.onRetryAttempt(e),yield u,{shouldRetry:!0,config:e.config}})}lc.getRetryConfig=PN;function ON(e){let t=Rv(e);if(e.name==="AbortError"||!t||t.retry===0||!e.response&&(t.currentRetryAttempt||0)>=t.noResponseRetries||!e.config.method||t.httpMethodsToRetry.indexOf(e.config.method.toUpperCase())<0)return!1;if(e.response&&e.response.status){let r=!1;for(let[n,i]of t.statusCodesToRetry){let a=e.response.status;if(a>=n&&a<=i){r=!0;break}}if(!r)return!1}return t.currentRetryAttempt=t.currentRetryAttempt||0,!(t.currentRetryAttempt>=t.retry)}function Rv(e){if(e&&e.config&&e.config.retryConfig)return e.config.retryConfig}});var Lv=ue((WF,Dv)=>{var Ys=1e3,js=Ys*60,Ws=js*60,Za=Ws*24,MN=Za*7,UN=Za*365.25;Dv.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return FN(e);if(r==="number"&&isFinite(e))return t.long?GN(e):qN(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function FN(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*UN;case"weeks":case"week":case"w":return r*MN;case"days":case"day":case"d":return r*Za;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ws;case"minutes":case"minute":case"mins":case"min":case"m":return r*js;case"seconds":case"second":case"secs":case"sec":case"s":return r*Ys;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function qN(e){var t=Math.abs(e);return t>=Za?Math.round(e/Za)+"d":t>=Ws?Math.round(e/Ws)+"h":t>=js?Math.round(e/js)+"m":t>=Ys?Math.round(e/Ys)+"s":e+"ms"}function GN(e){var t=Math.abs(e);return t>=Za?cc(e,t,Za,"day"):t>=Ws?cc(e,t,Ws,"hour"):t>=js?cc(e,t,js,"minute"):t>=Ys?cc(e,t,Ys,"second"):e+" ms"}function cc(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var Ov=ue((zF,Pv)=>{function KN(e){r.debug=r,r.default=r,r.coerce=c,r.disable=a,r.enable=i,r.enabled=s,r.humanize=Lv(),r.destroy=f,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function t(d){let p=0;for(let g=0;g<d.length;g++)p=(p<<5)-p+d.charCodeAt(g),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=t;function r(d){let p,g=null,v,m;function E(..._){if(!E.enabled)return;let C=E,B=Number(new Date),R=B-(p||B);C.diff=R,C.prev=p,C.curr=B,p=B,_[0]=r.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let D=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(O,ae)=>{if(O==="%%")return"%";D++;let j=r.formatters[ae];if(typeof j=="function"){let Y=_[D];O=j.call(C,Y),_.splice(D,1),D--}return O}),r.formatArgs.call(C,_),(C.log||r.log).apply(C,_)}return E.namespace=d,E.useColors=r.useColors(),E.color=r.selectColor(d),E.extend=n,E.destroy=r.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(v!==r.namespaces&&(v=r.namespaces,m=r.enabled(d)),m),set:_=>{g=_}}),typeof r.init=="function"&&r.init(E),E}function n(d,p){let g=r(this.namespace+(typeof p=="undefined"?":":p)+d);return g.log=this.log,g}function i(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let p,g=(typeof d=="string"?d:"").split(/[\s,]+/),v=g.length;for(p=0;p<v;p++)!g[p]||(d=g[p].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.slice(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}function a(){let d=[...r.names.map(u),...r.skips.map(u).map(p=>"-"+p)].join(",");return r.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let p,g;for(p=0,g=r.skips.length;p<g;p++)if(r.skips[p].test(d))return!1;for(p=0,g=r.names.length;p<g;p++)if(r.names[p].test(d))return!0;return!1}function u(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Pv.exports=KN});var dc=ue((An,fc)=>{An.formatArgs=HN;An.save=YN;An.load=jN;An.useColors=VN;An.storage=WN();An.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();An.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function VN(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function HN(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+fc.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}An.log=console.debug||console.log||(()=>{});function YN(e){try{e?An.storage.setItem("debug",e):An.storage.removeItem("debug")}catch(t){}}function jN(){let e;try{e=An.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function WN(){try{return localStorage}catch(e){}}fc.exports=Ov()(An);var{formatters:zN}=fc.exports;zN.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Mv=ue(Kh=>{"use strict";Object.defineProperty(Kh,"__esModule",{value:!0});function JN(e){return function(t,r){return new Promise((n,i)=>{e.call(this,t,r,(a,s)=>{a?i(a):n(s)})})}}Kh.default=JN});var qv=ue((Hh,Fv)=>{"use strict";var Uv=Hh&&Hh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},QN=require("events"),XN=Uv(dc()),ZN=Uv(Mv()),lu=XN.default("agent-base");function $N(e){return Boolean(e)&&typeof e.addRequest=="function"}function Vh(){let{stack:e}=new Error;return typeof e!="string"?!1:e.split(`
`).some(t=>t.indexOf("(https.js:")!==-1||t.indexOf("node:https:")!==-1)}function hc(e,t){return new hc.Agent(e,t)}(function(e){class t extends QN.EventEmitter{constructor(n,i){super();let a=i;typeof n=="function"?this.callback=n:n&&(a=n),this.timeout=null,a&&typeof a.timeout=="number"&&(this.timeout=a.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:Vh()?443:80}set defaultPort(n){this.explicitDefaultPort=n}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:Vh()?"https:":"http:"}set protocol(n){this.explicitProtocol=n}callback(n,i,a){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(n,i){let a=Object.assign({},i);typeof a.secureEndpoint!="boolean"&&(a.secureEndpoint=Vh()),a.host==null&&(a.host="localhost"),a.port==null&&(a.port=a.secureEndpoint?443:80),a.protocol==null&&(a.protocol=a.secureEndpoint?"https:":"http:"),a.host&&a.path&&delete a.path,delete a.agent,delete a.hostname,delete a._defaultAgent,delete a.defaultPort,delete a.createConnection,n._last=!0,n.shouldKeepAlive=!1;let s=!1,u=null,c=a.timeout||this.timeout,f=v=>{n._hadError||(n.emit("error",v),n._hadError=!0)},d=()=>{u=null,s=!0;let v=new Error(`A "socket" was not created for HTTP request before ${c}ms`);v.code="ETIMEOUT",f(v)},p=v=>{s||(u!==null&&(clearTimeout(u),u=null),f(v))},g=v=>{if(s)return;if(u!=null&&(clearTimeout(u),u=null),$N(v)){lu("Callback returned another Agent instance %o",v.constructor.name),v.addRequest(n,a);return}if(v){v.once("free",()=>{this.freeSocket(v,a)}),n.onSocket(v);return}let m=new Error(`no Duplex stream was returned to agent-base for \`${n.method} ${n.path}\``);f(m)};if(typeof this.callback!="function"){f(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(lu("Converting legacy callback function to promise"),this.promisifiedCallback=ZN.default(this.callback)):this.promisifiedCallback=this.callback),typeof c=="number"&&c>0&&(u=setTimeout(d,c)),"port"in a&&typeof a.port!="number"&&(a.port=Number(a.port));try{lu("Resolving socket for %o request: %o",a.protocol,`${n.method} ${n.path}`),Promise.resolve(this.promisifiedCallback(n,a)).then(g,p)}catch(v){Promise.reject(v).catch(p)}}freeSocket(n,i){lu("Freeing socket %o %o",n.constructor.name,i),n.destroy()}destroy(){lu("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype})(hc||(hc={}));Fv.exports=hc});var Gv=ue(fu=>{"use strict";var e4=fu&&fu.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fu,"__esModule",{value:!0});var t4=e4(dc()),cu=t4.default("https-proxy-agent:parse-proxy-response");function r4(e){return new Promise((t,r)=>{let n=0,i=[];function a(){let p=e.read();p?d(p):e.once("readable",a)}function s(){e.removeListener("end",c),e.removeListener("error",f),e.removeListener("close",u),e.removeListener("readable",a)}function u(p){cu("onclose had error %o",p)}function c(){cu("onend")}function f(p){s(),cu("onerror %o",p),r(p)}function d(p){i.push(p),n+=p.length;let g=Buffer.concat(i,n);if(g.indexOf(`\r
\r
`)===-1){cu("have not received end of HTTP headers yet..."),a();return}let m=g.toString("ascii",0,g.indexOf(`\r
`)),E=+m.split(" ")[1];cu("got proxy server response: %o",m),t({statusCode:E,buffered:g})}e.on("error",f),e.on("close",u),e.on("end",c),a()})}fu.default=r4});var Yv=ue($a=>{"use strict";var n4=$a&&$a.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function u(d){try{f(n.next(d))}catch(p){s(p)}}function c(d){try{f(n.throw(d))}catch(p){s(p)}}function f(d){d.done?a(d.value):i(d.value).then(u,c)}f((n=n.apply(e,t||[])).next())})},zs=$a&&$a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($a,"__esModule",{value:!0});var Kv=zs(require("net")),Vv=zs(require("tls")),i4=zs(require("url")),a4=zs(require("assert")),s4=zs(dc()),o4=qv(),u4=zs(Gv()),du=s4.default("https-proxy-agent:agent"),Hv=class extends o4.Agent{constructor(t){let r;if(typeof t=="string"?r=i4.default.parse(t):r=t,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");du("creating new HttpsProxyAgent instance: %o",r);super(r);let n=Object.assign({},r);this.secureProxy=r.secureProxy||f4(n.protocol),n.host=n.hostname||n.host,typeof n.port=="string"&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in n)&&(n.ALPNProtocols=["http 1.1"]),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(t,r){return n4(this,void 0,void 0,function*(){let{proxy:n,secureProxy:i}=this,a;i?(du("Creating `tls.Socket`: %o",n),a=Vv.default.connect(n)):(du("Creating `net.Socket`: %o",n),a=Kv.default.connect(n));let s=Object.assign({},n.headers),c=`CONNECT ${`${r.host}:${r.port}`} HTTP/1.1\r
`;n.auth&&(s["Proxy-Authorization"]=`Basic ${Buffer.from(n.auth).toString("base64")}`);let{host:f,port:d,secureEndpoint:p}=r;c4(d,p)||(f+=`:${d}`),s.Host=f,s.Connection="close";for(let _ of Object.keys(s))c+=`${_}: ${s[_]}\r
`;let g=u4.default(a);a.write(`${c}\r
`);let{statusCode:v,buffered:m}=yield g;if(v===200){if(t.once("socket",l4),r.secureEndpoint){du("Upgrading socket connection to TLS");let _=r.servername||r.host;return Vv.default.connect(Object.assign(Object.assign({},d4(r,"host","hostname","path","port")),{socket:a,servername:_}))}return a}a.destroy();let E=new Kv.default.Socket({writable:!1});return E.readable=!0,t.once("socket",_=>{du("replaying proxy buffer for failed request"),a4.default(_.listenerCount("data")>0),_.push(m),_.push(null)}),E})}};$a.default=Hv;function l4(e){e.resume()}function c4(e,t){return Boolean(!t&&e===80||t&&e===443)}function f4(e){return typeof e=="string"?/^https:?$/i.test(e):!1}function d4(e,...t){let r={},n;for(n in e)t.includes(n)||(r[n]=e[n]);return r}});var zh=ue((Wh,jv)=>{"use strict";var h4=Wh&&Wh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Yh=h4(Yv());function jh(e){return new Yh.default(e)}(function(e){e.HttpsProxyAgent=Yh.default,e.prototype=Yh.default.prototype})(jh||(jh={}));jv.exports=jh});var Zv=ue(Js=>{"use strict";var pc=Js&&Js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Js,"__esModule",{value:!0});Js.Gaxios=void 0;var p4=pc(Uh()),g4=require("https"),m4=pc(Fh()),y4=pc(require("querystring")),v4=pc(qh()),Wv=require("url"),_4=Gh(),E4=Nv(),C4=w4()?window.fetch:m4.default;function A4(){return typeof window!="undefined"&&!!window}function w4(){return A4()&&!!window.fetch}function b4(){return typeof Buffer!="undefined"}function zv(e,t){return!!Jv(e,t)}function Jv(e,t){t=t.toLowerCase();for(let r of Object.keys((e==null?void 0:e.headers)||{}))if(t===r.toLowerCase())return e.headers[r]}var Jh;function Qv(){var e,t,r,n;let i=((e=process==null?void 0:process.env)===null||e===void 0?void 0:e.HTTPS_PROXY)||((t=process==null?void 0:process.env)===null||t===void 0?void 0:t.https_proxy)||((r=process==null?void 0:process.env)===null||r===void 0?void 0:r.HTTP_PROXY)||((n=process==null?void 0:process.env)===null||n===void 0?void 0:n.http_proxy);return i&&(Jh=zh()),i}Qv();function S4(e){var t;let r=(t=process.env.NO_PROXY)!==null&&t!==void 0?t:process.env.no_proxy;if(!r)return!1;let n=r.split(","),i=new Wv.URL(e);return!!n.find(a=>a.startsWith("*.")||a.startsWith(".")?(a=a.replace(/^\*\./,"."),i.hostname.endsWith(a)):a===i.origin||a===i.hostname)}function T4(e){if(!S4(e))return Qv()}var Xv=class{constructor(t){this.agentCache=new Map,this.defaults=t||{}}request(){return U(this,arguments,function*(t={}){return t=this.validateOpts(t),this._request(t)})}_defaultAdapter(t){return U(this,null,function*(){let n=yield(t.fetchImplementation||C4)(t.url,t),i=yield this.getResponseData(t,n);return this.translateResponse(t,n,i)})}_request(){return U(this,arguments,function*(t={}){try{let r;if(t.adapter?r=yield t.adapter(t,this._defaultAdapter.bind(this)):r=yield this._defaultAdapter(t),!t.validateStatus(r.status))throw new _4.GaxiosError(`Request failed with status code ${r.status}`,t,r);return r}catch(r){let n=r;n.config=t;let{shouldRetry:i,config:a}=yield(0,E4.getRetryConfig)(n);if(i&&a)return n.config.retryConfig.currentRetryAttempt=a.retryConfig.currentRetryAttempt,this._request(n.config);throw n}})}getResponseData(t,r){return U(this,null,function*(){switch(t.responseType){case"stream":return r.body;case"json":{let n=yield r.text();try{n=JSON.parse(n)}catch(i){}return n}case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();default:return r.text()}})}validateOpts(t){let r=(0,p4.default)(!0,{},this.defaults,t);if(!r.url)throw new Error("URL is required.");let n=r.baseUrl||r.baseURL;if(n&&(r.url=n+r.url),r.paramsSerializer=r.paramsSerializer||this.paramsSerializer,r.params&&Object.keys(r.params).length>0){let a=r.paramsSerializer(r.params);a.startsWith("?")&&(a=a.slice(1));let s=r.url.includes("?")?"&":"?";r.url=r.url+s+a}if(typeof t.maxContentLength=="number"&&(r.size=t.maxContentLength),typeof t.maxRedirects=="number"&&(r.follow=t.maxRedirects),r.headers=r.headers||{},r.data){let a=typeof FormData=="undefined"?!1:(r==null?void 0:r.data)instanceof FormData;v4.default.readable(r.data)?r.body=r.data:b4()&&Buffer.isBuffer(r.data)?(r.body=r.data,zv(r,"Content-Type")||(r.headers["Content-Type"]="application/json")):typeof r.data=="object"?a||(Jv(r,"content-type")==="application/x-www-form-urlencoded"?r.body=r.paramsSerializer(r.data):(zv(r,"Content-Type")||(r.headers["Content-Type"]="application/json"),r.body=JSON.stringify(r.data))):r.body=r.data}r.validateStatus=r.validateStatus||this.validateStatus,r.responseType=r.responseType||"json",!r.headers.Accept&&r.responseType==="json"&&(r.headers.Accept="application/json"),r.method=r.method||"GET";let i=T4(r.url);if(i)if(this.agentCache.has(i))r.agent=this.agentCache.get(i);else{if(r.cert&&r.key){let a=new Wv.URL(i);r.agent=new Jh({port:a.port,host:a.host,protocol:a.protocol,cert:r.cert,key:r.key})}else r.agent=new Jh(i);this.agentCache.set(i,r.agent)}else r.cert&&r.key&&(this.agentCache.has(r.key)?r.agent=this.agentCache.get(r.key):(r.agent=new g4.Agent({cert:r.cert,key:r.key}),this.agentCache.set(r.key,r.agent)));return r}validateStatus(t){return t>=200&&t<300}paramsSerializer(t){return y4.default.stringify(t)}translateResponse(t,r,n){let i={};return r.headers.forEach((a,s)=>{i[s]=a}),{config:t,data:n,headers:i,status:r.status,statusText:r.statusText,request:{responseURL:r.url}}}};Js.Gaxios=Xv});var Qs=ue(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.request=ni.instance=ni.Gaxios=ni.GaxiosError=void 0;var $v=Zv();Object.defineProperty(ni,"Gaxios",{enumerable:!0,get:function(){return $v.Gaxios}});var x4=Gh();Object.defineProperty(ni,"GaxiosError",{enumerable:!0,get:function(){return x4.GaxiosError}});ni.instance=new $v.Gaxios;function I4(e){return U(this,null,function*(){return ni.instance.request(e)})}ni.request=I4});var Qh=ue((e1,gc)=>{(function(e){"use strict";var t,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,i=Math.floor,a="[BigNumber Error] ",s=a+"Number primitive has more than 15 significant digits: ",u=1e14,c=14,f=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,g=1e9;function v(L){var O,ae,j,Y=fe.prototype={constructor:fe,toString:null,valueOf:null},ye=new fe(1),me=20,we=4,Ke=-7,Oe=21,Ie=-1e7,Pe=1e7,_e=!1,nt=1,Xe=0,Nt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},At="0123456789abcdefghijklmnopqrstuvwxyz",it=!0;function fe(x,k){var N,W,G,J,X,V,Q,re,Z=this;if(!(Z instanceof fe))return new fe(x,k);if(k==null){if(x&&x._isBigNumber===!0){Z.s=x.s,!x.c||x.e>Pe?Z.c=Z.e=null:x.e<Ie?Z.c=[Z.e=0]:(Z.e=x.e,Z.c=x.c.slice());return}if((V=typeof x=="number")&&x*0==0){if(Z.s=1/x<0?(x=-x,-1):1,x===~~x){for(J=0,X=x;X>=10;X/=10,J++);J>Pe?Z.c=Z.e=null:(Z.e=J,Z.c=[x]);return}re=String(x)}else{if(!r.test(re=String(x)))return j(Z,re,V);Z.s=re.charCodeAt(0)==45?(re=re.slice(1),-1):1}(J=re.indexOf("."))>-1&&(re=re.replace(".","")),(X=re.search(/e/i))>0?(J<0&&(J=X),J+=+re.slice(X+1),re=re.substring(0,X)):J<0&&(J=re.length)}else{if(C(k,2,At.length,"Base"),k==10&&it)return Z=new fe(x),Le(Z,me+Z.e+1,we);if(re=String(x),V=typeof x=="number"){if(x*0!=0)return j(Z,re,V,k);if(Z.s=1/x<0?(re=re.slice(1),-1):1,fe.DEBUG&&re.replace(/^0\.0*|\./,"").length>15)throw Error(s+x)}else Z.s=re.charCodeAt(0)===45?(re=re.slice(1),-1):1;for(N=At.slice(0,k),J=X=0,Q=re.length;X<Q;X++)if(N.indexOf(W=re.charAt(X))<0){if(W=="."){if(X>J){J=Q;continue}}else if(!G&&(re==re.toUpperCase()&&(re=re.toLowerCase())||re==re.toLowerCase()&&(re=re.toUpperCase()))){G=!0,X=-1,J=0;continue}return j(Z,String(x),V,k)}V=!1,re=ae(re,k,10,Z.s),(J=re.indexOf("."))>-1?re=re.replace(".",""):J=re.length}for(X=0;re.charCodeAt(X)===48;X++);for(Q=re.length;re.charCodeAt(--Q)===48;);if(re=re.slice(X,++Q)){if(Q-=X,V&&fe.DEBUG&&Q>15&&(x>f||x!==i(x)))throw Error(s+Z.s*x);if((J=J-X-1)>Pe)Z.c=Z.e=null;else if(J<Ie)Z.c=[Z.e=0];else{if(Z.e=J,Z.c=[],X=(J+1)%c,J<0&&(X+=c),X<Q){for(X&&Z.c.push(+re.slice(0,X)),Q-=c;X<Q;)Z.c.push(+re.slice(X,X+=c));X=c-(re=re.slice(X)).length}else X-=Q;for(;X--;re+="0");Z.c.push(+re)}}else Z.c=[Z.e=0]}fe.clone=v,fe.ROUND_UP=0,fe.ROUND_DOWN=1,fe.ROUND_CEIL=2,fe.ROUND_FLOOR=3,fe.ROUND_HALF_UP=4,fe.ROUND_HALF_DOWN=5,fe.ROUND_HALF_EVEN=6,fe.ROUND_HALF_CEIL=7,fe.ROUND_HALF_FLOOR=8,fe.EUCLID=9,fe.config=fe.set=function(x){var k,N;if(x!=null)if(typeof x=="object"){if(x.hasOwnProperty(k="DECIMAL_PLACES")&&(N=x[k],C(N,0,g,k),me=N),x.hasOwnProperty(k="ROUNDING_MODE")&&(N=x[k],C(N,0,8,k),we=N),x.hasOwnProperty(k="EXPONENTIAL_AT")&&(N=x[k],N&&N.pop?(C(N[0],-g,0,k),C(N[1],0,g,k),Ke=N[0],Oe=N[1]):(C(N,-g,g,k),Ke=-(Oe=N<0?-N:N))),x.hasOwnProperty(k="RANGE"))if(N=x[k],N&&N.pop)C(N[0],-g,-1,k),C(N[1],1,g,k),Ie=N[0],Pe=N[1];else if(C(N,-g,g,k),N)Ie=-(Pe=N<0?-N:N);else throw Error(a+k+" cannot be zero: "+N);if(x.hasOwnProperty(k="CRYPTO"))if(N=x[k],N===!!N)if(N)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))_e=N;else throw _e=!N,Error(a+"crypto unavailable");else _e=N;else throw Error(a+k+" not true or false: "+N);if(x.hasOwnProperty(k="MODULO_MODE")&&(N=x[k],C(N,0,9,k),nt=N),x.hasOwnProperty(k="POW_PRECISION")&&(N=x[k],C(N,0,g,k),Xe=N),x.hasOwnProperty(k="FORMAT"))if(N=x[k],typeof N=="object")Nt=N;else throw Error(a+k+" not an object: "+N);if(x.hasOwnProperty(k="ALPHABET"))if(N=x[k],typeof N=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(N))it=N.slice(0,10)=="0123456789",At=N;else throw Error(a+k+" invalid: "+N)}else throw Error(a+"Object expected: "+x);return{DECIMAL_PLACES:me,ROUNDING_MODE:we,EXPONENTIAL_AT:[Ke,Oe],RANGE:[Ie,Pe],CRYPTO:_e,MODULO_MODE:nt,POW_PRECISION:Xe,FORMAT:Nt,ALPHABET:At}},fe.isBigNumber=function(x){if(!x||x._isBigNumber!==!0)return!1;if(!fe.DEBUG)return!0;var k,N,W=x.c,G=x.e,J=x.s;e:if({}.toString.call(W)=="[object Array]"){if((J===1||J===-1)&&G>=-g&&G<=g&&G===i(G)){if(W[0]===0){if(G===0&&W.length===1)return!0;break e}if(k=(G+1)%c,k<1&&(k+=c),String(W[0]).length==k){for(k=0;k<W.length;k++)if(N=W[k],N<0||N>=u||N!==i(N))break e;if(N!==0)return!0}}}else if(W===null&&G===null&&(J===null||J===1||J===-1))return!0;throw Error(a+"Invalid BigNumber: "+x)},fe.maximum=fe.max=function(){return Tt(arguments,Y.lt)},fe.minimum=fe.min=function(){return Tt(arguments,Y.gt)},fe.random=function(){var x=9007199254740992,k=Math.random()*x&2097151?function(){return i(Math.random()*x)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(N){var W,G,J,X,V,Q=0,re=[],Z=new fe(ye);if(N==null?N=me:C(N,0,g),X=n(N/c),_e)if(crypto.getRandomValues){for(W=crypto.getRandomValues(new Uint32Array(X*=2));Q<X;)V=W[Q]*131072+(W[Q+1]>>>11),V>=9e15?(G=crypto.getRandomValues(new Uint32Array(2)),W[Q]=G[0],W[Q+1]=G[1]):(re.push(V%1e14),Q+=2);Q=X/2}else if(crypto.randomBytes){for(W=crypto.randomBytes(X*=7);Q<X;)V=(W[Q]&31)*281474976710656+W[Q+1]*1099511627776+W[Q+2]*4294967296+W[Q+3]*16777216+(W[Q+4]<<16)+(W[Q+5]<<8)+W[Q+6],V>=9e15?crypto.randomBytes(7).copy(W,Q):(re.push(V%1e14),Q+=7);Q=X/7}else throw _e=!1,Error(a+"crypto unavailable");if(!_e)for(;Q<X;)V=k(),V<9e15&&(re[Q++]=V%1e14);for(X=re[--Q],N%=c,X&&N&&(V=d[c-N],re[Q]=i(X/V)*V);re[Q]===0;re.pop(),Q--);if(Q<0)re=[J=0];else{for(J=-1;re[0]===0;re.splice(0,1),J-=c);for(Q=1,V=re[0];V>=10;V/=10,Q++);Q<c&&(J-=c-Q)}return Z.e=J,Z.c=re,Z}}(),fe.sum=function(){for(var x=1,k=arguments,N=new fe(k[0]);x<k.length;)N=N.plus(k[x++]);return N},ae=function(){var x="0123456789";function k(N,W,G,J){for(var X,V=[0],Q,re=0,Z=N.length;re<Z;){for(Q=V.length;Q--;V[Q]*=W);for(V[0]+=J.indexOf(N.charAt(re++)),X=0;X<V.length;X++)V[X]>G-1&&(V[X+1]==null&&(V[X+1]=0),V[X+1]+=V[X]/G|0,V[X]%=G)}return V.reverse()}return function(N,W,G,J,X){var V,Q,re,Z,de,Me,Fe,pt,tr=N.indexOf("."),Xt=me,lt=we;for(tr>=0&&(Z=Xe,Xe=0,N=N.replace(".",""),pt=new fe(W),Me=pt.pow(N.length-tr),Xe=Z,pt.c=k(D(E(Me.c),Me.e,"0"),10,G,x),pt.e=pt.c.length),Fe=k(N,W,G,X?(V=At,x):(V=x,At)),re=Z=Fe.length;Fe[--Z]==0;Fe.pop());if(!Fe[0])return V.charAt(0);if(tr<0?--re:(Me.c=Fe,Me.e=re,Me.s=J,Me=O(Me,pt,Xt,lt,G),Fe=Me.c,de=Me.r,re=Me.e),Q=re+Xt+1,tr=Fe[Q],Z=G/2,de=de||Q<0||Fe[Q+1]!=null,de=lt<4?(tr!=null||de)&&(lt==0||lt==(Me.s<0?3:2)):tr>Z||tr==Z&&(lt==4||de||lt==6&&Fe[Q-1]&1||lt==(Me.s<0?8:7)),Q<1||!Fe[0])N=de?D(V.charAt(1),-Xt,V.charAt(0)):V.charAt(0);else{if(Fe.length=Q,de)for(--G;++Fe[--Q]>G;)Fe[Q]=0,Q||(++re,Fe=[1].concat(Fe));for(Z=Fe.length;!Fe[--Z];);for(tr=0,N="";tr<=Z;N+=V.charAt(Fe[tr++]));N=D(N,re,V.charAt(0))}return N}}(),O=function(){function x(W,G,J){var X,V,Q,re,Z=0,de=W.length,Me=G%p,Fe=G/p|0;for(W=W.slice();de--;)Q=W[de]%p,re=W[de]/p|0,X=Fe*Q+re*Me,V=Me*Q+X%p*p+Z,Z=(V/J|0)+(X/p|0)+Fe*re,W[de]=V%J;return Z&&(W=[Z].concat(W)),W}function k(W,G,J,X){var V,Q;if(J!=X)Q=J>X?1:-1;else for(V=Q=0;V<J;V++)if(W[V]!=G[V]){Q=W[V]>G[V]?1:-1;break}return Q}function N(W,G,J,X){for(var V=0;J--;)W[J]-=V,V=W[J]<G[J]?1:0,W[J]=V*X+W[J]-G[J];for(;!W[0]&&W.length>1;W.splice(0,1));}return function(W,G,J,X,V){var Q,re,Z,de,Me,Fe,pt,tr,Xt,lt,Lt,gr,ua,Ga,Ka,sn,Oi,Fr=W.s==G.s?1:-1,_r=W.c,rr=G.c;if(!_r||!_r[0]||!rr||!rr[0])return new fe(!W.s||!G.s||(_r?rr&&_r[0]==rr[0]:!rr)?NaN:_r&&_r[0]==0||!rr?Fr*0:Fr/0);for(tr=new fe(Fr),Xt=tr.c=[],re=W.e-G.e,Fr=J+re+1,V||(V=u,re=m(W.e/c)-m(G.e/c),Fr=Fr/c|0),Z=0;rr[Z]==(_r[Z]||0);Z++);if(rr[Z]>(_r[Z]||0)&&re--,Fr<0)Xt.push(1),de=!0;else{for(Ga=_r.length,sn=rr.length,Z=0,Fr+=2,Me=i(V/(rr[0]+1)),Me>1&&(rr=x(rr,Me,V),_r=x(_r,Me,V),sn=rr.length,Ga=_r.length),ua=sn,lt=_r.slice(0,sn),Lt=lt.length;Lt<sn;lt[Lt++]=0);Oi=rr.slice(),Oi=[0].concat(Oi),Ka=rr[0],rr[1]>=V/2&&Ka++;do{if(Me=0,Q=k(rr,lt,sn,Lt),Q<0){if(gr=lt[0],sn!=Lt&&(gr=gr*V+(lt[1]||0)),Me=i(gr/Ka),Me>1)for(Me>=V&&(Me=V-1),Fe=x(rr,Me,V),pt=Fe.length,Lt=lt.length;k(Fe,lt,pt,Lt)==1;)Me--,N(Fe,sn<pt?Oi:rr,pt,V),pt=Fe.length,Q=1;else Me==0&&(Q=Me=1),Fe=rr.slice(),pt=Fe.length;if(pt<Lt&&(Fe=[0].concat(Fe)),N(lt,Fe,Lt,V),Lt=lt.length,Q==-1)for(;k(rr,lt,sn,Lt)<1;)Me++,N(lt,sn<Lt?Oi:rr,Lt,V),Lt=lt.length}else Q===0&&(Me++,lt=[0]);Xt[Z++]=Me,lt[0]?lt[Lt++]=_r[ua]||0:(lt=[_r[ua]],Lt=1)}while((ua++<Ga||lt[0]!=null)&&Fr--);de=lt[0]!=null,Xt[0]||Xt.splice(0,1)}if(V==u){for(Z=1,Fr=Xt[0];Fr>=10;Fr/=10,Z++);Le(tr,J+(tr.e=Z+re*c-1)+1,X,de)}else tr.e=re,tr.r=+de;return tr}}();function Dt(x,k,N,W){var G,J,X,V,Q;if(N==null?N=we:C(N,0,8),!x.c)return x.toString();if(G=x.c[0],X=x.e,k==null)Q=E(x.c),Q=W==1||W==2&&(X<=Ke||X>=Oe)?R(Q,X):D(Q,X,"0");else if(x=Le(new fe(x),k,N),J=x.e,Q=E(x.c),V=Q.length,W==1||W==2&&(k<=J||J<=Ke)){for(;V<k;Q+="0",V++);Q=R(Q,J)}else if(k-=X,Q=D(Q,J,"0"),J+1>V){if(--k>0)for(Q+=".";k--;Q+="0");}else if(k+=J-V,k>0)for(J+1==V&&(Q+=".");k--;Q+="0");return x.s<0&&G?"-"+Q:Q}function Tt(x,k){for(var N,W=1,G=new fe(x[0]);W<x.length;W++)if(N=new fe(x[W]),N.s)k.call(G,N)&&(G=N);else{G=N;break}return G}function Re(x,k,N){for(var W=1,G=k.length;!k[--G];k.pop());for(G=k[0];G>=10;G/=10,W++);return(N=W+N*c-1)>Pe?x.c=x.e=null:N<Ie?x.c=[x.e=0]:(x.e=N,x.c=k),x}j=function(){var x=/^(-?)0([xbo])(?=\w[\w.]*$)/i,k=/^([^.]+)\.$/,N=/^\.([^.]+)$/,W=/^-?(Infinity|NaN)$/,G=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(J,X,V,Q){var re,Z=V?X:X.replace(G,"");if(W.test(Z))J.s=isNaN(Z)?null:Z<0?-1:1;else{if(!V&&(Z=Z.replace(x,function(de,Me,Fe){return re=(Fe=Fe.toLowerCase())=="x"?16:Fe=="b"?2:8,!Q||Q==re?Me:de}),Q&&(re=Q,Z=Z.replace(k,"$1").replace(N,"0.$1")),X!=Z))return new fe(Z,re);if(fe.DEBUG)throw Error(a+"Not a"+(Q?" base "+Q:"")+" number: "+X);J.s=null}J.c=J.e=null}}();function Le(x,k,N,W){var G,J,X,V,Q,re,Z,de=x.c,Me=d;if(de){e:{for(G=1,V=de[0];V>=10;V/=10,G++);if(J=k-G,J<0)J+=c,X=k,Q=de[re=0],Z=Q/Me[G-X-1]%10|0;else if(re=n((J+1)/c),re>=de.length)if(W){for(;de.length<=re;de.push(0));Q=Z=0,G=1,J%=c,X=J-c+1}else break e;else{for(Q=V=de[re],G=1;V>=10;V/=10,G++);J%=c,X=J-c+G,Z=X<0?0:Q/Me[G-X-1]%10|0}if(W=W||k<0||de[re+1]!=null||(X<0?Q:Q%Me[G-X-1]),W=N<4?(Z||W)&&(N==0||N==(x.s<0?3:2)):Z>5||Z==5&&(N==4||W||N==6&&(J>0?X>0?Q/Me[G-X]:0:de[re-1])%10&1||N==(x.s<0?8:7)),k<1||!de[0])return de.length=0,W?(k-=x.e+1,de[0]=Me[(c-k%c)%c],x.e=-k||0):de[0]=x.e=0,x;if(J==0?(de.length=re,V=1,re--):(de.length=re+1,V=Me[c-J],de[re]=X>0?i(Q/Me[G-X]%Me[X])*V:0),W)for(;;)if(re==0){for(J=1,X=de[0];X>=10;X/=10,J++);for(X=de[0]+=V,V=1;X>=10;X/=10,V++);J!=V&&(x.e++,de[0]==u&&(de[0]=1));break}else{if(de[re]+=V,de[re]!=u)break;de[re--]=0,V=1}for(J=de.length;de[--J]===0;de.pop());}x.e>Pe?x.c=x.e=null:x.e<Ie&&(x.c=[x.e=0])}return x}function He(x){var k,N=x.e;return N===null?x.toString():(k=E(x.c),k=N<=Ke||N>=Oe?R(k,N):D(k,N,"0"),x.s<0?"-"+k:k)}return Y.absoluteValue=Y.abs=function(){var x=new fe(this);return x.s<0&&(x.s=1),x},Y.comparedTo=function(x,k){return _(this,new fe(x,k))},Y.decimalPlaces=Y.dp=function(x,k){var N,W,G,J=this;if(x!=null)return C(x,0,g),k==null?k=we:C(k,0,8),Le(new fe(J),x+J.e+1,k);if(!(N=J.c))return null;if(W=((G=N.length-1)-m(this.e/c))*c,G=N[G])for(;G%10==0;G/=10,W--);return W<0&&(W=0),W},Y.dividedBy=Y.div=function(x,k){return O(this,new fe(x,k),me,we)},Y.dividedToIntegerBy=Y.idiv=function(x,k){return O(this,new fe(x,k),0,1)},Y.exponentiatedBy=Y.pow=function(x,k){var N,W,G,J,X,V,Q,re,Z,de=this;if(x=new fe(x),x.c&&!x.isInteger())throw Error(a+"Exponent not an integer: "+He(x));if(k!=null&&(k=new fe(k)),V=x.e>14,!de.c||!de.c[0]||de.c[0]==1&&!de.e&&de.c.length==1||!x.c||!x.c[0])return Z=new fe(Math.pow(+He(de),V?2-B(x):+He(x))),k?Z.mod(k):Z;if(Q=x.s<0,k){if(k.c?!k.c[0]:!k.s)return new fe(NaN);W=!Q&&de.isInteger()&&k.isInteger(),W&&(de=de.mod(k))}else{if(x.e>9&&(de.e>0||de.e<-1||(de.e==0?de.c[0]>1||V&&de.c[1]>=24e7:de.c[0]<8e13||V&&de.c[0]<=9999975e7)))return J=de.s<0&&B(x)?-0:0,de.e>-1&&(J=1/J),new fe(Q?1/J:J);Xe&&(J=n(Xe/c+2))}for(V?(N=new fe(.5),Q&&(x.s=1),re=B(x)):(G=Math.abs(+He(x)),re=G%2),Z=new fe(ye);;){if(re){if(Z=Z.times(de),!Z.c)break;J?Z.c.length>J&&(Z.c.length=J):W&&(Z=Z.mod(k))}if(G){if(G=i(G/2),G===0)break;re=G%2}else if(x=x.times(N),Le(x,x.e+1,1),x.e>14)re=B(x);else{if(G=+He(x),G===0)break;re=G%2}de=de.times(de),J?de.c&&de.c.length>J&&(de.c.length=J):W&&(de=de.mod(k))}return W?Z:(Q&&(Z=ye.div(Z)),k?Z.mod(k):J?Le(Z,Xe,we,X):Z)},Y.integerValue=function(x){var k=new fe(this);return x==null?x=we:C(x,0,8),Le(k,k.e+1,x)},Y.isEqualTo=Y.eq=function(x,k){return _(this,new fe(x,k))===0},Y.isFinite=function(){return!!this.c},Y.isGreaterThan=Y.gt=function(x,k){return _(this,new fe(x,k))>0},Y.isGreaterThanOrEqualTo=Y.gte=function(x,k){return(k=_(this,new fe(x,k)))===1||k===0},Y.isInteger=function(){return!!this.c&&m(this.e/c)>this.c.length-2},Y.isLessThan=Y.lt=function(x,k){return _(this,new fe(x,k))<0},Y.isLessThanOrEqualTo=Y.lte=function(x,k){return(k=_(this,new fe(x,k)))===-1||k===0},Y.isNaN=function(){return!this.s},Y.isNegative=function(){return this.s<0},Y.isPositive=function(){return this.s>0},Y.isZero=function(){return!!this.c&&this.c[0]==0},Y.minus=function(x,k){var N,W,G,J,X=this,V=X.s;if(x=new fe(x,k),k=x.s,!V||!k)return new fe(NaN);if(V!=k)return x.s=-k,X.plus(x);var Q=X.e/c,re=x.e/c,Z=X.c,de=x.c;if(!Q||!re){if(!Z||!de)return Z?(x.s=-k,x):new fe(de?X:NaN);if(!Z[0]||!de[0])return de[0]?(x.s=-k,x):new fe(Z[0]?X:we==3?-0:0)}if(Q=m(Q),re=m(re),Z=Z.slice(),V=Q-re){for((J=V<0)?(V=-V,G=Z):(re=Q,G=de),G.reverse(),k=V;k--;G.push(0));G.reverse()}else for(W=(J=(V=Z.length)<(k=de.length))?V:k,V=k=0;k<W;k++)if(Z[k]!=de[k]){J=Z[k]<de[k];break}if(J&&(G=Z,Z=de,de=G,x.s=-x.s),k=(W=de.length)-(N=Z.length),k>0)for(;k--;Z[N++]=0);for(k=u-1;W>V;){if(Z[--W]<de[W]){for(N=W;N&&!Z[--N];Z[N]=k);--Z[N],Z[W]+=u}Z[W]-=de[W]}for(;Z[0]==0;Z.splice(0,1),--re);return Z[0]?Re(x,Z,re):(x.s=we==3?-1:1,x.c=[x.e=0],x)},Y.modulo=Y.mod=function(x,k){var N,W,G=this;return x=new fe(x,k),!G.c||!x.s||x.c&&!x.c[0]?new fe(NaN):!x.c||G.c&&!G.c[0]?new fe(G):(nt==9?(W=x.s,x.s=1,N=O(G,x,0,3),x.s=W,N.s*=W):N=O(G,x,0,nt),x=G.minus(N.times(x)),!x.c[0]&&nt==1&&(x.s=G.s),x)},Y.multipliedBy=Y.times=function(x,k){var N,W,G,J,X,V,Q,re,Z,de,Me,Fe,pt,tr,Xt,lt=this,Lt=lt.c,gr=(x=new fe(x,k)).c;if(!Lt||!gr||!Lt[0]||!gr[0])return!lt.s||!x.s||Lt&&!Lt[0]&&!gr||gr&&!gr[0]&&!Lt?x.c=x.e=x.s=null:(x.s*=lt.s,!Lt||!gr?x.c=x.e=null:(x.c=[0],x.e=0)),x;for(W=m(lt.e/c)+m(x.e/c),x.s*=lt.s,Q=Lt.length,de=gr.length,Q<de&&(pt=Lt,Lt=gr,gr=pt,G=Q,Q=de,de=G),G=Q+de,pt=[];G--;pt.push(0));for(tr=u,Xt=p,G=de;--G>=0;){for(N=0,Me=gr[G]%Xt,Fe=gr[G]/Xt|0,X=Q,J=G+X;J>G;)re=Lt[--X]%Xt,Z=Lt[X]/Xt|0,V=Fe*re+Z*Me,re=Me*re+V%Xt*Xt+pt[J]+N,N=(re/tr|0)+(V/Xt|0)+Fe*Z,pt[J--]=re%tr;pt[J]=N}return N?++W:pt.splice(0,1),Re(x,pt,W)},Y.negated=function(){var x=new fe(this);return x.s=-x.s||null,x},Y.plus=function(x,k){var N,W=this,G=W.s;if(x=new fe(x,k),k=x.s,!G||!k)return new fe(NaN);if(G!=k)return x.s=-k,W.minus(x);var J=W.e/c,X=x.e/c,V=W.c,Q=x.c;if(!J||!X){if(!V||!Q)return new fe(G/0);if(!V[0]||!Q[0])return Q[0]?x:new fe(V[0]?W:G*0)}if(J=m(J),X=m(X),V=V.slice(),G=J-X){for(G>0?(X=J,N=Q):(G=-G,N=V),N.reverse();G--;N.push(0));N.reverse()}for(G=V.length,k=Q.length,G-k<0&&(N=Q,Q=V,V=N,k=G),G=0;k;)G=(V[--k]=V[k]+Q[k]+G)/u|0,V[k]=u===V[k]?0:V[k]%u;return G&&(V=[G].concat(V),++X),Re(x,V,X)},Y.precision=Y.sd=function(x,k){var N,W,G,J=this;if(x!=null&&x!==!!x)return C(x,1,g),k==null?k=we:C(k,0,8),Le(new fe(J),x,k);if(!(N=J.c))return null;if(G=N.length-1,W=G*c+1,G=N[G]){for(;G%10==0;G/=10,W--);for(G=N[0];G>=10;G/=10,W++);}return x&&J.e+1>W&&(W=J.e+1),W},Y.shiftedBy=function(x){return C(x,-f,f),this.times("1e"+x)},Y.squareRoot=Y.sqrt=function(){var x,k,N,W,G,J=this,X=J.c,V=J.s,Q=J.e,re=me+4,Z=new fe("0.5");if(V!==1||!X||!X[0])return new fe(!V||V<0&&(!X||X[0])?NaN:X?J:1/0);if(V=Math.sqrt(+He(J)),V==0||V==1/0?(k=E(X),(k.length+Q)%2==0&&(k+="0"),V=Math.sqrt(+k),Q=m((Q+1)/2)-(Q<0||Q%2),V==1/0?k="5e"+Q:(k=V.toExponential(),k=k.slice(0,k.indexOf("e")+1)+Q),N=new fe(k)):N=new fe(V+""),N.c[0]){for(Q=N.e,V=Q+re,V<3&&(V=0);;)if(G=N,N=Z.times(G.plus(O(J,G,re,1))),E(G.c).slice(0,V)===(k=E(N.c)).slice(0,V))if(N.e<Q&&--V,k=k.slice(V-3,V+1),k=="9999"||!W&&k=="4999"){if(!W&&(Le(G,G.e+me+2,0),G.times(G).eq(J))){N=G;break}re+=4,V+=4,W=1}else{(!+k||!+k.slice(1)&&k.charAt(0)=="5")&&(Le(N,N.e+me+2,1),x=!N.times(N).eq(J));break}}return Le(N,N.e+me+1,we,x)},Y.toExponential=function(x,k){return x!=null&&(C(x,0,g),x++),Dt(this,x,k,1)},Y.toFixed=function(x,k){return x!=null&&(C(x,0,g),x=x+this.e+1),Dt(this,x,k)},Y.toFormat=function(x,k,N){var W,G=this;if(N==null)x!=null&&k&&typeof k=="object"?(N=k,k=null):x&&typeof x=="object"?(N=x,x=k=null):N=Nt;else if(typeof N!="object")throw Error(a+"Argument not an object: "+N);if(W=G.toFixed(x,k),G.c){var J,X=W.split("."),V=+N.groupSize,Q=+N.secondaryGroupSize,re=N.groupSeparator||"",Z=X[0],de=X[1],Me=G.s<0,Fe=Me?Z.slice(1):Z,pt=Fe.length;if(Q&&(J=V,V=Q,Q=J,pt-=J),V>0&&pt>0){for(J=pt%V||V,Z=Fe.substr(0,J);J<pt;J+=V)Z+=re+Fe.substr(J,V);Q>0&&(Z+=re+Fe.slice(J)),Me&&(Z="-"+Z)}W=de?Z+(N.decimalSeparator||"")+((Q=+N.fractionGroupSize)?de.replace(new RegExp("\\d{"+Q+"}\\B","g"),"$&"+(N.fractionGroupSeparator||"")):de):Z}return(N.prefix||"")+W+(N.suffix||"")},Y.toFraction=function(x){var k,N,W,G,J,X,V,Q,re,Z,de,Me,Fe=this,pt=Fe.c;if(x!=null&&(V=new fe(x),!V.isInteger()&&(V.c||V.s!==1)||V.lt(ye)))throw Error(a+"Argument "+(V.isInteger()?"out of range: ":"not an integer: ")+He(V));if(!pt)return new fe(Fe);for(k=new fe(ye),re=N=new fe(ye),W=Q=new fe(ye),Me=E(pt),J=k.e=Me.length-Fe.e-1,k.c[0]=d[(X=J%c)<0?c+X:X],x=!x||V.comparedTo(k)>0?J>0?k:re:V,X=Pe,Pe=1/0,V=new fe(Me),Q.c[0]=0;Z=O(V,k,0,1),G=N.plus(Z.times(W)),G.comparedTo(x)!=1;)N=W,W=G,re=Q.plus(Z.times(G=re)),Q=G,k=V.minus(Z.times(G=k)),V=G;return G=O(x.minus(N),W,0,1),Q=Q.plus(G.times(re)),N=N.plus(G.times(W)),Q.s=re.s=Fe.s,J=J*2,de=O(re,W,J,we).minus(Fe).abs().comparedTo(O(Q,N,J,we).minus(Fe).abs())<1?[re,W]:[Q,N],Pe=X,de},Y.toNumber=function(){return+He(this)},Y.toPrecision=function(x,k){return x!=null&&C(x,1,g),Dt(this,x,k,2)},Y.toString=function(x){var k,N=this,W=N.s,G=N.e;return G===null?W?(k="Infinity",W<0&&(k="-"+k)):k="NaN":(x==null?k=G<=Ke||G>=Oe?R(E(N.c),G):D(E(N.c),G,"0"):x===10&&it?(N=Le(new fe(N),me+G+1,we),k=D(E(N.c),N.e,"0")):(C(x,2,At.length,"Base"),k=ae(D(E(N.c),G,"0"),10,x,W,!0)),W<0&&N.c[0]&&(k="-"+k)),k},Y.valueOf=Y.toJSON=function(){return He(this)},Y._isBigNumber=!0,L!=null&&fe.set(L),fe}function m(L){var O=L|0;return L>0||L===O?O:O-1}function E(L){for(var O,ae,j=1,Y=L.length,ye=L[0]+"";j<Y;){for(O=L[j++]+"",ae=c-O.length;ae--;O="0"+O);ye+=O}for(Y=ye.length;ye.charCodeAt(--Y)===48;);return ye.slice(0,Y+1||1)}function _(L,O){var ae,j,Y=L.c,ye=O.c,me=L.s,we=O.s,Ke=L.e,Oe=O.e;if(!me||!we)return null;if(ae=Y&&!Y[0],j=ye&&!ye[0],ae||j)return ae?j?0:-we:me;if(me!=we)return me;if(ae=me<0,j=Ke==Oe,!Y||!ye)return j?0:!Y^ae?1:-1;if(!j)return Ke>Oe^ae?1:-1;for(we=(Ke=Y.length)<(Oe=ye.length)?Ke:Oe,me=0;me<we;me++)if(Y[me]!=ye[me])return Y[me]>ye[me]^ae?1:-1;return Ke==Oe?0:Ke>Oe^ae?1:-1}function C(L,O,ae,j){if(L<O||L>ae||L!==i(L))throw Error(a+(j||"Argument")+(typeof L=="number"?L<O||L>ae?" out of range: ":" not an integer: ":" not a primitive number: ")+String(L))}function B(L){var O=L.c.length-1;return m(L.e/c)==O&&L.c[O]%2!=0}function R(L,O){return(L.length>1?L.charAt(0)+"."+L.slice(1):L)+(O<0?"e":"e+")+O}function D(L,O,ae){var j,Y;if(O<0){for(Y=ae+".";++O;Y+=ae);L=Y+L}else if(j=L.length,++O>j){for(Y=ae,O-=j;--O;Y+=ae);L+=Y}else O<j&&(L=L.slice(0,O)+"."+L.slice(O));return L}t=v(),t.default=t.BigNumber=t,typeof define=="function"&&define.amd?define(function(){return t}):typeof gc!="undefined"&&gc.exports?gc.exports=t:(e||(e=typeof self!="undefined"&&self?self:window),e.BigNumber=t)})(e1)});var i1=ue((eq,n1)=>{var t1=Qh(),r1=n1.exports;(function(){"use strict";function e(f){return f<10?"0"+f:f}var t=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,i,a={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s;function u(f){return r.lastIndex=0,r.test(f)?'"'+f.replace(r,function(d){var p=a[d];return typeof p=="string"?p:"\\u"+("0000"+d.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+f+'"'}function c(f,d){var p,g,v,m,E=n,_,C=d[f],B=C!=null&&(C instanceof t1||t1.isBigNumber(C));switch(C&&typeof C=="object"&&typeof C.toJSON=="function"&&(C=C.toJSON(f)),typeof s=="function"&&(C=s.call(d,f,C)),typeof C){case"string":return B?C:u(C);case"number":return isFinite(C)?String(C):"null";case"boolean":case"null":case"bigint":return String(C);case"object":if(!C)return"null";if(n+=i,_=[],Object.prototype.toString.apply(C)==="[object Array]"){for(m=C.length,p=0;p<m;p+=1)_[p]=c(p,C)||"null";return v=_.length===0?"[]":n?`[
`+n+_.join(`,
`+n)+`
`+E+"]":"["+_.join(",")+"]",n=E,v}if(s&&typeof s=="object")for(m=s.length,p=0;p<m;p+=1)typeof s[p]=="string"&&(g=s[p],v=c(g,C),v&&_.push(u(g)+(n?": ":":")+v));else Object.keys(C).forEach(function(R){var D=c(R,C);D&&_.push(u(R)+(n?": ":":")+D)});return v=_.length===0?"{}":n?`{
`+n+_.join(`,
`+n)+`
`+E+"}":"{"+_.join(",")+"}",n=E,v}}typeof r1.stringify!="function"&&(r1.stringify=function(f,d,p){var g;if(n="",i="",typeof p=="number")for(g=0;g<p;g+=1)i+=" ";else typeof p=="string"&&(i=p);if(s=d,d&&typeof d!="function"&&(typeof d!="object"||typeof d.length!="number"))throw new Error("JSON.stringify");return c("",{"":f})})})()});var s1=ue((tq,a1)=>{var mc=null,k4=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,B4=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/,R4=function(e){"use strict";var t={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(e!=null){if(e.strict===!0&&(t.strict=!0),e.storeAsString===!0&&(t.storeAsString=!0),t.alwaysParseAsBig=e.alwaysParseAsBig===!0?e.alwaysParseAsBig:!1,t.useNativeBigInt=e.useNativeBigInt===!0?e.useNativeBigInt:!1,typeof e.constructorAction!="undefined")if(e.constructorAction==="error"||e.constructorAction==="ignore"||e.constructorAction==="preserve")t.constructorAction=e.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${e.constructorAction}`);if(typeof e.protoAction!="undefined")if(e.protoAction==="error"||e.protoAction==="ignore"||e.protoAction==="preserve")t.protoAction=e.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${e.protoAction}`)}var r,n,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},a,s=function(E){throw{name:"SyntaxError",message:E,at:r,text:a}},u=function(E){return E&&E!==n&&s("Expected '"+E+"' instead of '"+n+"'"),n=a.charAt(r),r+=1,n},c=function(){var E,_="";for(n==="-"&&(_="-",u("-"));n>="0"&&n<="9";)_+=n,u();if(n===".")for(_+=".";u()&&n>="0"&&n<="9";)_+=n;if(n==="e"||n==="E")for(_+=n,u(),(n==="-"||n==="+")&&(_+=n,u());n>="0"&&n<="9";)_+=n,u();if(E=+_,!isFinite(E))s("Bad number");else return mc==null&&(mc=Qh()),_.length>15?t.storeAsString?_:t.useNativeBigInt?BigInt(_):new mc(_):t.alwaysParseAsBig?t.useNativeBigInt?BigInt(E):new mc(E):E},f=function(){var E,_,C="",B;if(n==='"')for(var R=r;u();){if(n==='"')return r-1>R&&(C+=a.substring(R,r-1)),u(),C;if(n==="\\"){if(r-1>R&&(C+=a.substring(R,r-1)),u(),n==="u"){for(B=0,_=0;_<4&&(E=parseInt(u(),16),!!isFinite(E));_+=1)B=B*16+E;C+=String.fromCharCode(B)}else if(typeof i[n]=="string")C+=i[n];else break;R=r}}s("Bad string")},d=function(){for(;n&&n<=" ";)u()},p=function(){switch(n){case"t":return u("t"),u("r"),u("u"),u("e"),!0;case"f":return u("f"),u("a"),u("l"),u("s"),u("e"),!1;case"n":return u("n"),u("u"),u("l"),u("l"),null}s("Unexpected '"+n+"'")},g,v=function(){var E=[];if(n==="["){if(u("["),d(),n==="]")return u("]"),E;for(;n;){if(E.push(g()),d(),n==="]")return u("]"),E;u(","),d()}}s("Bad array")},m=function(){var E,_=Object.create(null);if(n==="{"){if(u("{"),d(),n==="}")return u("}"),_;for(;n;){if(E=f(),d(),u(":"),t.strict===!0&&Object.hasOwnProperty.call(_,E)&&s('Duplicate key "'+E+'"'),k4.test(E)===!0?t.protoAction==="error"?s("Object contains forbidden prototype property"):t.protoAction==="ignore"?g():_[E]=g():B4.test(E)===!0?t.constructorAction==="error"?s("Object contains forbidden constructor property"):t.constructorAction==="ignore"?g():_[E]=g():_[E]=g(),d(),n==="}")return u("}"),_;u(","),d()}}s("Bad object")};return g=function(){switch(d(),n){case"{":return m();case"[":return v();case'"':return f();case"-":return c();default:return n>="0"&&n<="9"?c():p()}},function(E,_){var C;return a=E+"",r=0,n=" ",C=g(),d(),n&&s("Syntax error"),typeof _=="function"?function B(R,D){var L,O,ae=R[D];return ae&&typeof ae=="object"&&Object.keys(ae).forEach(function(j){O=B(ae,j),O!==void 0?ae[j]=O:delete ae[j]}),_.call(R,D,ae)}({"":C},""):C}};a1.exports=R4});var l1=ue((rq,yc)=>{var o1=i1().stringify,u1=s1();yc.exports=function(e){return{parse:u1(e),stringify:o1}};yc.exports.parse=u1();yc.exports.stringify=o1});var _c=ue(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.requestTimeout=kt.resetIsAvailableCache=kt.isAvailable=kt.project=kt.instance=kt.HEADERS=kt.HEADER_VALUE=kt.HEADER_NAME=kt.SECONDARY_HOST_ADDRESS=kt.HOST_ADDRESS=kt.BASE_PATH=void 0;var Xh=Qs(),N4=l1();kt.BASE_PATH="/computeMetadata/v1";kt.HOST_ADDRESS="http://169.254.169.254";kt.SECONDARY_HOST_ADDRESS="http://metadata.google.internal.";kt.HEADER_NAME="Metadata-Flavor";kt.HEADER_VALUE="Google";kt.HEADERS=Object.freeze({[kt.HEADER_NAME]:kt.HEADER_VALUE});function Zh(e){return e||(e=process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST||kt.HOST_ADDRESS),/^https?:\/\//.test(e)||(e=`http://${e}`),new URL(kt.BASE_PATH,e).href}function D4(e){Object.keys(e).forEach(t=>{switch(t){case"params":case"property":case"headers":break;case"qs":throw new Error("'qs' is not a valid configuration option. Please use 'params' instead.");default:throw new Error(`'${t}' is not a valid configuration option.`)}})}function $h(e,t,r=3,n=!1){return U(this,null,function*(){t=t||{},typeof t=="string"&&(t={property:t});let i="";typeof t=="object"&&t.property&&(i="/"+t.property),D4(t);try{let s=yield(n?L4:Xh.request)({url:`${Zh()}/${e}${i}`,headers:Object.assign({},kt.HEADERS,t.headers),retryConfig:{noResponseRetries:r},params:t.params,responseType:"text",timeout:c1()});if(s.headers[kt.HEADER_NAME.toLowerCase()]!==kt.HEADER_VALUE)throw new Error(`Invalid response from metadata service: incorrect ${kt.HEADER_NAME} header.`);if(!s.data)throw new Error("Invalid response from the metadata service");if(typeof s.data=="string")try{return N4.parse(s.data)}catch(u){}return s.data}catch(a){let s=a;throw s.response&&s.response.status!==200&&(s.message=`Unsuccessful response status code. ${s.message}`),a}})}function L4(e){return U(this,null,function*(){let t=Qr(Kr({},e),{url:e.url.replace(Zh(),Zh(kt.SECONDARY_HOST_ADDRESS))}),r=!1,n=(0,Xh.request)(e).then(a=>(r=!0,a)).catch(a=>{if(r)return i;throw r=!0,a}),i=(0,Xh.request)(t).then(a=>(r=!0,a)).catch(a=>{if(r)return n;throw r=!0,a});return Promise.race([n,i])})}function P4(e){return $h("instance",e)}kt.instance=P4;function O4(e){return $h("project",e)}kt.project=O4;function M4(){return process.env.DETECT_GCP_RETRIES?Number(process.env.DETECT_GCP_RETRIES):0}var vc;function U4(){return U(this,null,function*(){try{return vc===void 0&&(vc=$h("instance",void 0,M4(),!(process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST))),yield vc,!0}catch(e){let t=e;if(process.env.DEBUG_AUTH&&console.info(t),t.type==="request-timeout"||t.response&&t.response.status===404)return!1;if(!(t.response&&t.response.status===404)&&(!t.code||!["EHOSTDOWN","EHOSTUNREACH","ENETUNREACH","ENOENT","ENOTFOUND","ECONNREFUSED"].includes(t.code))){let r="UNKNOWN";t.code&&(r=t.code),process.emitWarning(`received unexpected error = ${t.message} code = ${r}`,"MetadataLookupWarning")}return!1}})}kt.isAvailable=U4;function F4(){vc=void 0}kt.resetIsAvailableCache=F4;function c1(){return process.env.K_SERVICE||process.env.FUNCTION_NAME?0:3e3}kt.requestTimeout=c1});var h1=ue(Ec=>{"use strict";Ec.byteLength=G4;Ec.toByteArray=V4;Ec.fromByteArray=j4;var mi=[],Mn=[],q4=typeof Uint8Array!="undefined"?Uint8Array:Array,e0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(es=0,f1=e0.length;es<f1;++es)mi[es]=e0[es],Mn[e0.charCodeAt(es)]=es;var es,f1;Mn["-".charCodeAt(0)]=62;Mn["_".charCodeAt(0)]=63;function d1(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function G4(e){var t=d1(e),r=t[0],n=t[1];return(r+n)*3/4-n}function K4(e,t,r){return(t+r)*3/4-r}function V4(e){var t,r=d1(e),n=r[0],i=r[1],a=new q4(K4(e,n,i)),s=0,u=i>0?n-4:n,c;for(c=0;c<u;c+=4)t=Mn[e.charCodeAt(c)]<<18|Mn[e.charCodeAt(c+1)]<<12|Mn[e.charCodeAt(c+2)]<<6|Mn[e.charCodeAt(c+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=Mn[e.charCodeAt(c)]<<2|Mn[e.charCodeAt(c+1)]>>4,a[s++]=t&255),i===1&&(t=Mn[e.charCodeAt(c)]<<10|Mn[e.charCodeAt(c+1)]<<4|Mn[e.charCodeAt(c+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function H4(e){return mi[e>>18&63]+mi[e>>12&63]+mi[e>>6&63]+mi[e&63]}function Y4(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(H4(n));return i.join("")}function j4(e){for(var t,r=e.length,n=r%3,i=[],a=16383,s=0,u=r-n;s<u;s+=a)i.push(Y4(e,s,s+a>u?u:s+a));return n===1?(t=e[r-1],i.push(mi[t>>2]+mi[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(mi[t>>10]+mi[t>>4&63]+mi[t<<2&63]+"=")),i.join("")}});var g1=ue(p1=>{(function(e){function t(){}function r(c,f){if(c=c===void 0?"utf-8":c,f=f===void 0?{fatal:!1}:f,s.indexOf(c.toLowerCase())===-1)throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+c+"') is invalid.");if(f.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function n(c){return Buffer.from(c.buffer,c.byteOffset,c.byteLength).toString("utf-8")}function i(c){var f=URL.createObjectURL(new Blob([c],{type:"text/plain;charset=UTF-8"}));try{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.send(),d.responseText}catch(p){return a(c)}finally{URL.revokeObjectURL(f)}}function a(c){for(var f=0,d=Math.min(65536,c.length+1),p=new Uint16Array(d),g=[],v=0;;){var m=f<c.length;if(!m||v>=d-1){if(g.push(String.fromCharCode.apply(null,p.subarray(0,v))),!m)return g.join("");c=c.subarray(f),v=f=0}if(m=c[f++],(m&128)==0)p[v++]=m;else if((m&224)==192){var E=c[f++]&63;p[v++]=(m&31)<<6|E}else if((m&240)==224){E=c[f++]&63;var _=c[f++]&63;p[v++]=(m&31)<<12|E<<6|_}else if((m&248)==240){E=c[f++]&63,_=c[f++]&63;var C=c[f++]&63;m=(m&7)<<18|E<<12|_<<6|C,65535<m&&(m-=65536,p[v++]=m>>>10&1023|55296,m=56320|m&1023),p[v++]=m}}}if(e.TextEncoder&&e.TextDecoder)return!1;var s=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(c,f){if(f=f===void 0?{stream:!1}:f,f.stream)throw Error("Failed to encode: the 'stream' option is unsupported.");f=0;for(var d=c.length,p=0,g=Math.max(32,d+(d>>>1)+7),v=new Uint8Array(g>>>3<<3);f<d;){var m=c.charCodeAt(f++);if(55296<=m&&56319>=m){if(f<d){var E=c.charCodeAt(f);(E&64512)==56320&&(++f,m=((m&1023)<<10)+(E&1023)+65536)}if(55296<=m&&56319>=m)continue}if(p+4>v.length&&(g+=8,g*=1+f/c.length*2,g=g>>>3<<3,E=new Uint8Array(g),E.set(v),v=E),(m&4294967168)==0)v[p++]=m;else{if((m&4294965248)==0)v[p++]=m>>>6&31|192;else if((m&4294901760)==0)v[p++]=m>>>12&15|224,v[p++]=m>>>6&63|128;else if((m&4292870144)==0)v[p++]=m>>>18&7|240,v[p++]=m>>>12&63|128,v[p++]=m>>>6&63|128;else continue;v[p++]=m&63|128}}return v.slice?v.slice(0,p):v.subarray(0,p)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1});var u=a;typeof Buffer=="function"&&Buffer.from?u=n:typeof Blob=="function"&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&(u=i),r.prototype.decode=function(c,f){if(f=f===void 0?{stream:!1}:f,f.stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return c=c instanceof Uint8Array?c:c.buffer instanceof ArrayBuffer?new Uint8Array(c.buffer):new Uint8Array(c),u(c)},e.TextEncoder=t,e.TextDecoder=r})(typeof window!="undefined"?window:typeof global!="undefined"?global:p1)});var m1=ue(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.BrowserCrypto=void 0;var Xs=h1();typeof process=="undefined"&&typeof TextEncoder=="undefined"&&g1();var W4=Zs(),hu=class{constructor(){if(typeof window=="undefined"||window.crypto===void 0||window.crypto.subtle===void 0)throw new Error("SubtleCrypto not found. Make sure it's an https:// website.")}sha256DigestBase64(t){return U(this,null,function*(){let r=new TextEncoder().encode(t),n=yield window.crypto.subtle.digest("SHA-256",r);return Xs.fromByteArray(new Uint8Array(n))})}randomBytesBase64(t){let r=new Uint8Array(t);return window.crypto.getRandomValues(r),Xs.fromByteArray(r)}static padBase64(t){for(;t.length%4!=0;)t+="=";return t}verify(t,r,n){return U(this,null,function*(){let i={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},a=new TextEncoder().encode(r),s=Xs.toByteArray(hu.padBase64(n)),u=yield window.crypto.subtle.importKey("jwk",t,i,!0,["verify"]);return yield window.crypto.subtle.verify(i,u,s,a)})}sign(t,r){return U(this,null,function*(){let n={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},i=new TextEncoder().encode(r),a=yield window.crypto.subtle.importKey("jwk",t,n,!0,["sign"]),s=yield window.crypto.subtle.sign(n,a,i);return Xs.fromByteArray(new Uint8Array(s))})}decodeBase64StringUtf8(t){let r=Xs.toByteArray(hu.padBase64(t));return new TextDecoder().decode(r)}encodeBase64StringUtf8(t){let r=new TextEncoder().encode(t);return Xs.fromByteArray(r)}sha256DigestHex(t){return U(this,null,function*(){let r=new TextEncoder().encode(t),n=yield window.crypto.subtle.digest("SHA-256",r);return(0,W4.fromArrayBufferToHex)(n)})}signWithHmacSha256(t,r){return U(this,null,function*(){let n=typeof t=="string"?t:String.fromCharCode(...new Uint16Array(t)),i=new TextEncoder,a=yield window.crypto.subtle.importKey("raw",i.encode(n),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return window.crypto.subtle.sign("HMAC",a,i.encode(r))})}};Cc.BrowserCrypto=hu});var v1=ue(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.NodeCrypto=void 0;var $s=require("crypto"),y1=class{sha256DigestBase64(t){return U(this,null,function*(){return $s.createHash("sha256").update(t).digest("base64")})}randomBytesBase64(t){return $s.randomBytes(t).toString("base64")}verify(t,r,n){return U(this,null,function*(){let i=$s.createVerify("sha256");return i.update(r),i.end(),i.verify(t,n,"base64")})}sign(t,r){return U(this,null,function*(){let n=$s.createSign("RSA-SHA256");return n.update(r),n.end(),n.sign(t,"base64")})}decodeBase64StringUtf8(t){return Buffer.from(t,"base64").toString("utf-8")}encodeBase64StringUtf8(t){return Buffer.from(t,"utf-8").toString("base64")}sha256DigestHex(t){return U(this,null,function*(){return $s.createHash("sha256").update(t).digest("hex")})}signWithHmacSha256(t,r){return U(this,null,function*(){let n=typeof t=="string"?t:J4(t);return z4($s.createHmac("sha256",n).update(r).digest())})}};Ac.NodeCrypto=y1;function z4(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function J4(e){return Buffer.from(e)}});var Zs=ue(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.fromArrayBufferToHex=_a.hasBrowserCrypto=_a.createCrypto=void 0;var Q4=m1(),X4=v1();function Z4(){return _1()?new Q4.BrowserCrypto:new X4.NodeCrypto}_a.createCrypto=Z4;function _1(){return typeof window!="undefined"&&typeof window.crypto!="undefined"&&typeof window.crypto.subtle!="undefined"}_a.hasBrowserCrypto=_1;function $4(e){return Array.from(new Uint8Array(e)).map(r=>r.toString(16).padStart(2,"0")).join("")}_a.fromArrayBufferToHex=$4});var E1=ue(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.validate=void 0;function eD(e){let t=[{invalid:"uri",expected:"url"},{invalid:"json",expected:"data"},{invalid:"qs",expected:"params"}];for(let r of t)if(e[r.invalid]){let n=`'${r.invalid}' is not a valid configuration option. Please use '${r.expected}' instead. This library is using Axios for requests. Please see https://github.com/axios/axios to learn more about the valid request options.`;throw new Error(n)}}wc.validate=eD});var C1=ue((cq,tD)=>{tD.exports={_args:[["google-auth-library@8.0.2","/home/runner/work/obsidian-google-calendar/obsidian-google-calendar"]],_from:"google-auth-library@8.0.2",_id:"google-auth-library@8.0.2",_inBundle:!1,_integrity:"sha512-HoG+nWFAThLovKpvcbYzxgn+nBJPTfAwtq0GxPN821nOO+21+8oP7MoEHfd1sbDulUFFGfcjJr2CnJ4YssHcyg==",_location:"/google-auth-library",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"google-auth-library@8.0.2",name:"google-auth-library",escapedName:"google-auth-library",rawSpec:"8.0.2",saveSpec:null,fetchSpec:"8.0.2"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/google-auth-library/-/google-auth-library-8.0.2.tgz",_spec:"8.0.2",_where:"/home/runner/work/obsidian-google-calendar/obsidian-google-calendar",author:{name:"Google Inc."},bugs:{url:"https://github.com/googleapis/google-auth-library-nodejs/issues"},dependencies:{arrify:"^2.0.0","base64-js":"^1.3.0","ecdsa-sig-formatter":"^1.0.11","fast-text-encoding":"^1.0.0",gaxios:"^5.0.0","gcp-metadata":"^5.0.0",gtoken:"^5.3.2",jws:"^4.0.0","lru-cache":"^6.0.0"},description:"Google APIs Authentication Client Library for Node.js",devDependencies:{"@compodoc/compodoc":"^1.1.7","@types/base64-js":"^1.2.5","@types/chai":"^4.1.7","@types/jws":"^3.1.0","@types/lru-cache":"^5.0.0","@types/mocha":"^8.0.0","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^16.0.0","@types/sinon":"^10.0.0","@types/tmp":"^0.2.0","assert-rejects":"^1.0.0",c8:"^7.0.0",chai:"^4.2.0",codecov:"^3.0.2",execa:"^5.0.0",gts:"^3.1.0","is-docker":"^2.0.0",karma:"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^5.0.0",keypair:"^1.0.4",linkinator:"^3.0.3",mocha:"^9.2.2",mv:"^2.1.1",ncp:"^2.0.0",nock:"^13.0.0","null-loader":"^4.0.0",puppeteer:"^13.0.0",sinon:"^13.0.0",tmp:"^0.2.0","ts-loader":"^8.0.0",typescript:"^4.6.3",webpack:"^5.21.2","webpack-cli":"^4.0.0"},engines:{node:">=12"},files:["build/src","!build/src/**/*.map"],homepage:"https://github.com/googleapis/google-auth-library-nodejs#readme",keywords:["google","api","google apis","client","client library"],license:"Apache-2.0",main:"./build/src/index.js",name:"google-auth-library",repository:{type:"git",url:"git+https://github.com/googleapis/google-auth-library-nodejs.git"},scripts:{"browser-test":"karma start",clean:"gts clean",compile:"tsc -p .",docs:"compodoc src/","docs-test":"linkinator docs",fix:"gts fix",lint:"gts check",precompile:"gts clean","predocs-test":"npm run docs",prelint:"cd samples; npm link ../; npm install",prepare:"npm run compile","presystem-test":"npm run compile",pretest:"npm run compile","samples-setup":"cd samples/ && npm link ../ && npm run setup && cd ../","samples-test":"cd samples/ && npm link ../ && npm test && cd ../","system-test":"mocha build/system-test --timeout 60000",test:"c8 mocha build/test",webpack:"webpack"},types:"./build/src/index.d.ts",version:"8.0.2"}});var pu=ue(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.DefaultTransporter=void 0;var A1=Qs(),rD=E1(),w1=C1(),b1="google-api-nodejs-client",eo=class{configure(t={}){if(t.headers=t.headers||{},typeof window=="undefined"){let r=t.headers["User-Agent"];r?r.includes(`${b1}/`)||(t.headers["User-Agent"]=`${r} ${eo.USER_AGENT}`):t.headers["User-Agent"]=eo.USER_AGENT;let n=`auth/${w1.version}`;if(t.headers["x-goog-api-client"]&&!t.headers["x-goog-api-client"].includes(n))t.headers["x-goog-api-client"]=`${t.headers["x-goog-api-client"]} ${n}`;else if(!t.headers["x-goog-api-client"]){let i=process.version.replace(/^v/,"");t.headers["x-goog-api-client"]=`gl-node/${i} ${n}`}}return t}request(t,r){t=this.configure(t);try{(0,rD.validate)(t)}catch(n){if(r)return r(n);throw n}if(r)(0,A1.request)(t).then(n=>{r(null,n)},n=>{r(this.processError(n))});else return(0,A1.request)(t).catch(n=>{throw this.processError(n)})}processError(t){let r=t.response,n=t,i=r?r.data:null;return r&&i&&i.error&&r.status!==200?typeof i.error=="string"?(n.message=i.error,n.code=r.status.toString()):Array.isArray(i.error.errors)?(n.message=i.error.errors.map(a=>a.message).join(`
`),n.code=i.error.code,n.errors=i.error.errors):(n.message=i.error.message,n.code=i.error.code||r.status):r&&r.status>=400&&(n.message=i,n.code=r.status.toString()),n}};bc.DefaultTransporter=eo;eo.USER_AGENT=`${b1}/${w1.version}`});var T1=ue((dq,S1)=>{"use strict";var nD=e=>e==null?[]:Array.isArray(e)?e:typeof e=="string"?[e]:typeof e[Symbol.iterator]=="function"?[...e]:[e];S1.exports=nD});var to=ue((t0,I1)=>{var Sc=require("buffer"),yi=Sc.Buffer;function x1(e,t){for(var r in e)t[r]=e[r]}yi.from&&yi.alloc&&yi.allocUnsafe&&yi.allocUnsafeSlow?I1.exports=Sc:(x1(Sc,t0),t0.Buffer=ts);function ts(e,t,r){return yi(e,t,r)}ts.prototype=Object.create(yi.prototype);x1(yi,ts);ts.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return yi(e,t,r)};ts.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=yi(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};ts.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return yi(e)};ts.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Sc.SlowBuffer(e)}});var B1=ue((hq,k1)=>{"use strict";function r0(e){var t=(e/8|0)+(e%8==0?0:1);return t}var iD={ES256:r0(256),ES384:r0(384),ES512:r0(521)};function aD(e){var t=iD[e];if(t)return t;throw new Error('Unknown algorithm "'+e+'"')}k1.exports=aD});var n0=ue((pq,O1)=>{"use strict";var Tc=to().Buffer,R1=B1(),xc=128,N1=0,sD=32,oD=16,uD=2,D1=oD|sD|N1<<6,Ic=uD|N1<<6;function lD(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function L1(e){if(Tc.isBuffer(e))return e;if(typeof e=="string")return Tc.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function cD(e,t){e=L1(e);var r=R1(t),n=r+1,i=e.length,a=0;if(e[a++]!==D1)throw new Error('Could not find expected "seq"');var s=e[a++];if(s===(xc|1)&&(s=e[a++]),i-a<s)throw new Error('"seq" specified length of "'+s+'", only "'+(i-a)+'" remaining');if(e[a++]!==Ic)throw new Error('Could not find expected "int" for "r"');var u=e[a++];if(i-a-2<u)throw new Error('"r" specified length of "'+u+'", only "'+(i-a-2)+'" available');if(n<u)throw new Error('"r" specified length of "'+u+'", max of "'+n+'" is acceptable');var c=a;if(a+=u,e[a++]!==Ic)throw new Error('Could not find expected "int" for "s"');var f=e[a++];if(i-a!==f)throw new Error('"s" specified length of "'+f+'", expected "'+(i-a)+'"');if(n<f)throw new Error('"s" specified length of "'+f+'", max of "'+n+'" is acceptable');var d=a;if(a+=f,a!==i)throw new Error('Expected to consume entire buffer, but "'+(i-a)+'" bytes remain');var p=r-u,g=r-f,v=Tc.allocUnsafe(p+u+g+f);for(a=0;a<p;++a)v[a]=0;e.copy(v,a,c+Math.max(-p,0),c+u),a=r;for(var m=a;a<m+g;++a)v[a]=0;return e.copy(v,a,d+Math.max(-g,0),d+f),v=v.toString("base64"),v=lD(v),v}function P1(e,t,r){for(var n=0;t+n<r&&e[t+n]===0;)++n;var i=e[t+n]>=xc;return i&&--n,n}function fD(e,t){e=L1(e);var r=R1(t),n=e.length;if(n!==r*2)throw new TypeError('"'+t+'" signatures must be "'+r*2+'" bytes, saw "'+n+'"');var i=P1(e,0,r),a=P1(e,r,e.length),s=r-i,u=r-a,c=1+1+s+1+1+u,f=c<xc,d=Tc.allocUnsafe((f?2:3)+c),p=0;return d[p++]=D1,f?d[p++]=c:(d[p++]=xc|1,d[p++]=c&255),d[p++]=Ic,d[p++]=s,i<0?(d[p++]=0,p+=e.copy(d,p,0,r)):p+=e.copy(d,p,i,r),d[p++]=Ic,d[p++]=u,a<0?(d[p++]=0,e.copy(d,p,r)):e.copy(d,p,r+a),d}O1.exports={derToJose:cD,joseToDer:fD}});var gu=ue(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.AuthClient=void 0;var dD=require("events"),hD=pu(),M1=class extends dD.EventEmitter{constructor(){super(...arguments);this.transporter=new hD.DefaultTransporter,this.credentials={},this.eagerRefreshThresholdMillis=5*60*1e3,this.forceRefreshOnFailure=!1}setCredentials(t){this.credentials=t}addSharedMetadataHeaders(t){return!t["x-goog-user-project"]&&this.quotaProjectId&&(t["x-goog-user-project"]=this.quotaProjectId),t}};kc.AuthClient=M1});var i0=ue(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.LoginTicket=void 0;var U1=class{constructor(t,r){this.envelope=t,this.payload=r}getEnvelope(){return this.envelope}getPayload(){return this.payload}getUserId(){let t=this.getPayload();return t&&t.sub?t.sub:null}getAttributes(){return{envelope:this.getEnvelope(),payload:this.getPayload()}}};Bc.LoginTicket=U1});var rs=ue(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.OAuth2Client=vi.CertificateFormat=vi.CodeChallengeMethod=void 0;var Rc=require("querystring"),pD=require("stream"),gD=n0(),a0=Zs(),mD=gu(),yD=i0(),vD;(function(e){e.Plain="plain",e.S256="S256"})(vD=vi.CodeChallengeMethod||(vi.CodeChallengeMethod={}));var Ea;(function(e){e.PEM="PEM",e.JWK="JWK"})(Ea=vi.CertificateFormat||(vi.CertificateFormat={}));var jt=class extends mD.AuthClient{constructor(t,r,n){super();this.certificateCache={},this.certificateExpiry=null,this.certificateCacheFormat=Ea.PEM,this.refreshTokenPromises=new Map;let i=t&&typeof t=="object"?t:{clientId:t,clientSecret:r,redirectUri:n};this._clientId=i.clientId,this._clientSecret=i.clientSecret,this.redirectUri=i.redirectUri,this.eagerRefreshThresholdMillis=i.eagerRefreshThresholdMillis||5*60*1e3,this.forceRefreshOnFailure=!!i.forceRefreshOnFailure}generateAuthUrl(t={}){if(t.code_challenge_method&&!t.code_challenge)throw new Error("If a code_challenge_method is provided, code_challenge must be included.");return t.response_type=t.response_type||"code",t.client_id=t.client_id||this._clientId,t.redirect_uri=t.redirect_uri||this.redirectUri,t.scope instanceof Array&&(t.scope=t.scope.join(" ")),jt.GOOGLE_OAUTH2_AUTH_BASE_URL_+"?"+Rc.stringify(t)}generateCodeVerifier(){throw new Error("generateCodeVerifier is removed, please use generateCodeVerifierAsync instead.")}generateCodeVerifierAsync(){return U(this,null,function*(){let t=(0,a0.createCrypto)(),n=t.randomBytesBase64(96).replace(/\+/g,"~").replace(/=/g,"_").replace(/\//g,"-"),a=(yield t.sha256DigestBase64(n)).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_");return{codeVerifier:n,codeChallenge:a}})}getToken(t,r){let n=typeof t=="string"?{code:t}:t;if(r)this.getTokenAsync(n).then(i=>r(null,i.tokens,i.res),i=>r(i,null,i.response));else return this.getTokenAsync(n)}getTokenAsync(t){return U(this,null,function*(){let r=jt.GOOGLE_OAUTH2_TOKEN_URL_,n={code:t.code,client_id:t.client_id||this._clientId,client_secret:this._clientSecret,redirect_uri:t.redirect_uri||this.redirectUri,grant_type:"authorization_code",code_verifier:t.codeVerifier},i=yield this.transporter.request({method:"POST",url:r,data:Rc.stringify(n),headers:{"Content-Type":"application/x-www-form-urlencoded"}}),a=i.data;return i.data&&i.data.expires_in&&(a.expiry_date=new Date().getTime()+i.data.expires_in*1e3,delete a.expires_in),this.emit("tokens",a),{tokens:a,res:i}})}refreshToken(t){return U(this,null,function*(){if(!t)return this.refreshTokenNoCache(t);if(this.refreshTokenPromises.has(t))return this.refreshTokenPromises.get(t);let r=this.refreshTokenNoCache(t).then(n=>(this.refreshTokenPromises.delete(t),n),n=>{throw this.refreshTokenPromises.delete(t),n});return this.refreshTokenPromises.set(t,r),r})}refreshTokenNoCache(t){return U(this,null,function*(){if(!t)throw new Error("No refresh token is set.");let r=jt.GOOGLE_OAUTH2_TOKEN_URL_,n={refresh_token:t,client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token"},i=yield this.transporter.request({method:"POST",url:r,data:Rc.stringify(n),headers:{"Content-Type":"application/x-www-form-urlencoded"}}),a=i.data;return i.data&&i.data.expires_in&&(a.expiry_date=new Date().getTime()+i.data.expires_in*1e3,delete a.expires_in),this.emit("tokens",a),{tokens:a,res:i}})}refreshAccessToken(t){if(t)this.refreshAccessTokenAsync().then(r=>t(null,r.credentials,r.res),t);else return this.refreshAccessTokenAsync()}refreshAccessTokenAsync(){return U(this,null,function*(){let t=yield this.refreshToken(this.credentials.refresh_token),r=t.tokens;return r.refresh_token=this.credentials.refresh_token,this.credentials=r,{credentials:this.credentials,res:t.res}})}getAccessToken(t){if(t)this.getAccessTokenAsync().then(r=>t(null,r.token,r.res),t);else return this.getAccessTokenAsync()}getAccessTokenAsync(){return U(this,null,function*(){if(!this.credentials.access_token||this.isTokenExpiring()){if(!this.credentials.refresh_token)if(this.refreshHandler){let n=yield this.processAndValidateRefreshHandler();if(n==null?void 0:n.access_token)return this.setCredentials(n),{token:this.credentials.access_token}}else throw new Error("No refresh token or refresh handler callback is set.");let r=yield this.refreshAccessTokenAsync();if(!r.credentials||r.credentials&&!r.credentials.access_token)throw new Error("Could not refresh access token.");return{token:r.credentials.access_token,res:r.res}}else return{token:this.credentials.access_token}})}getRequestHeaders(t){return U(this,null,function*(){return(yield this.getRequestMetadataAsync(t)).headers})}getRequestMetadataAsync(t){return U(this,null,function*(){let r=this.credentials;if(!r.access_token&&!r.refresh_token&&!this.apiKey&&!this.refreshHandler)throw new Error("No access, refresh token, API key or refresh handler callback is set.");if(r.access_token&&!this.isTokenExpiring()){r.token_type=r.token_type||"Bearer";let u={Authorization:r.token_type+" "+r.access_token};return{headers:this.addSharedMetadataHeaders(u)}}if(this.refreshHandler){let u=yield this.processAndValidateRefreshHandler();if(u==null?void 0:u.access_token){this.setCredentials(u);let c={Authorization:"Bearer "+this.credentials.access_token};return{headers:this.addSharedMetadataHeaders(c)}}}if(this.apiKey)return{headers:{"X-Goog-Api-Key":this.apiKey}};let n=null,i=null;try{n=yield this.refreshToken(r.refresh_token),i=n.tokens}catch(u){let c=u;throw c.response&&(c.response.status===403||c.response.status===404)&&(c.message=`Could not refresh access token: ${c.message}`),c}let a=this.credentials;a.token_type=a.token_type||"Bearer",i.refresh_token=a.refresh_token,this.credentials=i;let s={Authorization:a.token_type+" "+i.access_token};return{headers:this.addSharedMetadataHeaders(s),res:n.res}})}static getRevokeTokenUrl(t){let r=Rc.stringify({token:t});return`${jt.GOOGLE_OAUTH2_REVOKE_URL_}?${r}`}revokeToken(t,r){let n={url:jt.getRevokeTokenUrl(t),method:"POST"};if(r)this.transporter.request(n).then(i=>r(null,i),r);else return this.transporter.request(n)}revokeCredentials(t){if(t)this.revokeCredentialsAsync().then(r=>t(null,r),t);else return this.revokeCredentialsAsync()}revokeCredentialsAsync(){return U(this,null,function*(){let t=this.credentials.access_token;if(this.credentials={},t)return this.revokeToken(t);throw new Error("No access token to revoke.")})}request(t,r){if(r)this.requestAsync(t).then(n=>r(null,n),n=>r(n,n.response));else return this.requestAsync(t)}requestAsync(t,r=!1){return U(this,null,function*(){let n;try{let i=yield this.getRequestMetadataAsync(t.url);t.headers=t.headers||{},i.headers&&i.headers["x-goog-user-project"]&&(t.headers["x-goog-user-project"]=i.headers["x-goog-user-project"]),i.headers&&i.headers.Authorization&&(t.headers.Authorization=i.headers.Authorization),this.apiKey&&(t.headers["X-Goog-Api-Key"]=this.apiKey),n=yield this.transporter.request(t)}catch(i){let a=i.response;if(a){let s=a.status,u=this.credentials&&this.credentials.access_token&&this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure),c=this.credentials&&this.credentials.access_token&&!this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure)&&this.refreshHandler,f=a.config.data instanceof pD.Readable,d=s===401||s===403;if(!r&&d&&!f&&u)return yield this.refreshAccessTokenAsync(),this.requestAsync(t,!0);if(!r&&d&&!f&&c){let p=yield this.processAndValidateRefreshHandler();return(p==null?void 0:p.access_token)&&this.setCredentials(p),this.requestAsync(t,!0)}}throw i}return n})}verifyIdToken(t,r){if(r&&typeof r!="function")throw new Error("This method accepts an options object as the first parameter, which includes the idToken, audience, and maxExpiry.");if(r)this.verifyIdTokenAsync(t).then(n=>r(null,n),r);else return this.verifyIdTokenAsync(t)}verifyIdTokenAsync(t){return U(this,null,function*(){if(!t.idToken)throw new Error("The verifyIdToken method requires an ID Token");let r=yield this.getFederatedSignonCertsAsync();return yield this.verifySignedJwtWithCertsAsync(t.idToken,r.certs,t.audience,jt.ISSUERS_,t.maxExpiry)})}getTokenInfo(t){return U(this,null,function*(){let{data:r}=yield this.transporter.request({method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${t}`},url:jt.GOOGLE_TOKEN_INFO_URL}),n=Object.assign({expiry_date:new Date().getTime()+r.expires_in*1e3,scopes:r.scope.split(" ")},r);return delete n.expires_in,delete n.scope,n})}getFederatedSignonCerts(t){if(t)this.getFederatedSignonCertsAsync().then(r=>t(null,r.certs,r.res),t);else return this.getFederatedSignonCertsAsync()}getFederatedSignonCertsAsync(){return U(this,null,function*(){let t=new Date().getTime(),r=(0,a0.hasBrowserCrypto)()?Ea.JWK:Ea.PEM;if(this.certificateExpiry&&t<this.certificateExpiry.getTime()&&this.certificateCacheFormat===r)return{certs:this.certificateCache,format:r};let n,i;switch(r){case Ea.PEM:i=jt.GOOGLE_OAUTH2_FEDERATED_SIGNON_PEM_CERTS_URL_;break;case Ea.JWK:i=jt.GOOGLE_OAUTH2_FEDERATED_SIGNON_JWK_CERTS_URL_;break;default:throw new Error(`Unsupported certificate format ${r}`)}try{n=yield this.transporter.request({url:i})}catch(f){throw f instanceof Error&&(f.message=`Failed to retrieve verification certificates: ${f.message}`),f}let a=n?n.headers["cache-control"]:void 0,s=-1;if(a){let d=new RegExp("max-age=([0-9]*)").exec(a);d&&d.length===2&&(s=Number(d[1])*1e3)}let u={};switch(r){case Ea.PEM:u=n.data;break;case Ea.JWK:for(let f of n.data.keys)u[f.kid]=f;break;default:throw new Error(`Unsupported certificate format ${r}`)}let c=new Date;return this.certificateExpiry=s===-1?null:new Date(c.getTime()+s),this.certificateCache=u,this.certificateCacheFormat=r,{certs:u,format:r,res:n}})}getIapPublicKeys(t){if(t)this.getIapPublicKeysAsync().then(r=>t(null,r.pubkeys,r.res),t);else return this.getIapPublicKeysAsync()}getIapPublicKeysAsync(){return U(this,null,function*(){let t,r=jt.GOOGLE_OAUTH2_IAP_PUBLIC_KEY_URL_;try{t=yield this.transporter.request({url:r})}catch(n){throw n instanceof Error&&(n.message=`Failed to retrieve verification certificates: ${n.message}`),n}return{pubkeys:t.data,res:t}})}verifySignedJwtWithCerts(){throw new Error("verifySignedJwtWithCerts is removed, please use verifySignedJwtWithCertsAsync instead.")}verifySignedJwtWithCertsAsync(t,r,n,i,a){return U(this,null,function*(){let s=(0,a0.createCrypto)();a||(a=jt.MAX_TOKEN_LIFETIME_SECS_);let u=t.split(".");if(u.length!==3)throw new Error("Wrong number of segments in token: "+t);let c=u[0]+"."+u[1],f=u[2],d,p;try{d=JSON.parse(s.decodeBase64StringUtf8(u[0]))}catch(R){throw R instanceof Error&&(R.message=`Can't parse token envelope: ${u[0]}': ${R.message}`),R}if(!d)throw new Error("Can't parse token envelope: "+u[0]);try{p=JSON.parse(s.decodeBase64StringUtf8(u[1]))}catch(R){throw R instanceof Error&&(R.message=`Can't parse token payload '${u[0]}`),R}if(!p)throw new Error("Can't parse token payload: "+u[1]);if(!Object.prototype.hasOwnProperty.call(r,d.kid))throw new Error("No pem found for envelope: "+JSON.stringify(d));let g=r[d.kid];if(d.alg==="ES256"&&(f=gD.joseToDer(f,"ES256").toString("base64")),!(yield s.verify(g,c,f)))throw new Error("Invalid token signature: "+t);if(!p.iat)throw new Error("No issue time in token: "+JSON.stringify(p));if(!p.exp)throw new Error("No expiration time in token: "+JSON.stringify(p));let m=Number(p.iat);if(isNaN(m))throw new Error("iat field using invalid format");let E=Number(p.exp);if(isNaN(E))throw new Error("exp field using invalid format");let _=new Date().getTime()/1e3;if(E>=_+a)throw new Error("Expiration time too far in future: "+JSON.stringify(p));let C=m-jt.CLOCK_SKEW_SECS_,B=E+jt.CLOCK_SKEW_SECS_;if(_<C)throw new Error("Token used too early, "+_+" < "+C+": "+JSON.stringify(p));if(_>B)throw new Error("Token used too late, "+_+" > "+B+": "+JSON.stringify(p));if(i&&i.indexOf(p.iss)<0)throw new Error("Invalid issuer, expected one of ["+i+"], but got "+p.iss);if(typeof n!="undefined"&&n!==null){let R=p.aud,D=!1;if(n.constructor===Array?D=n.indexOf(R)>-1:D=R===n,!D)throw new Error("Wrong recipient, payload audience != requiredAudience")}return new yD.LoginTicket(d,p)})}processAndValidateRefreshHandler(){return U(this,null,function*(){if(this.refreshHandler){let t=yield this.refreshHandler();if(!t.access_token)throw new Error("No access token is returned by the refreshHandler callback.");return t}})}isTokenExpiring(){let t=this.credentials.expiry_date;return t?t<=new Date().getTime()+this.eagerRefreshThresholdMillis:!1}};vi.OAuth2Client=jt;jt.GOOGLE_TOKEN_INFO_URL="https://oauth2.googleapis.com/tokeninfo";jt.GOOGLE_OAUTH2_AUTH_BASE_URL_="https://accounts.google.com/o/oauth2/v2/auth";jt.GOOGLE_OAUTH2_TOKEN_URL_="https://oauth2.googleapis.com/token";jt.GOOGLE_OAUTH2_REVOKE_URL_="https://oauth2.googleapis.com/revoke";jt.GOOGLE_OAUTH2_FEDERATED_SIGNON_PEM_CERTS_URL_="https://www.googleapis.com/oauth2/v1/certs";jt.GOOGLE_OAUTH2_FEDERATED_SIGNON_JWK_CERTS_URL_="https://www.googleapis.com/oauth2/v3/certs";jt.GOOGLE_OAUTH2_IAP_PUBLIC_KEY_URL_="https://www.gstatic.com/iap/verify/public_key";jt.CLOCK_SKEW_SECS_=300;jt.MAX_TOKEN_LIFETIME_SECS_=86400;jt.ISSUERS_=["accounts.google.com","https://accounts.google.com"]});var s0=ue(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.Compute=void 0;var _D=T1(),ED=Qs(),F1=_c(),CD=rs(),q1=class extends CD.OAuth2Client{constructor(t={}){super(t);this.credentials={expiry_date:1,refresh_token:"compute-placeholder"},this.serviceAccountEmail=t.serviceAccountEmail||"default",this.scopes=_D(t.scopes)}refreshTokenNoCache(t){return U(this,null,function*(){let r=`service-accounts/${this.serviceAccountEmail}/token`,n;try{let a={property:r};this.scopes.length>0&&(a.params={scopes:this.scopes.join(",")}),n=yield F1.instance(a)}catch(a){throw a instanceof ED.GaxiosError&&(a.message=`Could not refresh access token: ${a.message}`,this.wrapError(a)),a}let i=n;return n&&n.expires_in&&(i.expiry_date=new Date().getTime()+n.expires_in*1e3,delete i.expires_in),this.emit("tokens",i),{tokens:i,res:null}})}fetchIdToken(t){return U(this,null,function*(){let r=`service-accounts/${this.serviceAccountEmail}/identity?format=full&audience=${t}`,n;try{let i={property:r};n=yield F1.instance(i)}catch(i){throw i instanceof Error&&(i.message=`Could not fetch ID token: ${i.message}`),i}return n})}wrapError(t){let r=t.response;r&&r.status&&(t.code=r.status.toString(),r.status===403?t.message="A Forbidden error was returned while attempting to retrieve an access token for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have the correct permission scopes specified: "+t.message:r.status===404&&(t.message="A Not Found error was returned while attempting to retrieve an accesstoken for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have any permission scopes specified: "+t.message))}};Nc.Compute=q1});var o0=ue(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.IdTokenClient=void 0;var AD=rs(),G1=class extends AD.OAuth2Client{constructor(t){super();this.targetAudience=t.targetAudience,this.idTokenProvider=t.idTokenProvider}getRequestMetadataAsync(t){return U(this,null,function*(){if(!this.credentials.id_token||(this.credentials.expiry_date||0)<Date.now()){let n=yield this.idTokenProvider.fetchIdToken(this.targetAudience);this.credentials={id_token:n,expiry_date:this.getIdTokenExpiryDate(n)}}return{headers:{Authorization:"Bearer "+this.credentials.id_token}}})}getIdTokenExpiryDate(t){let r=t.split(".")[1];if(r)return JSON.parse(Buffer.from(r,"base64").toString("ascii")).exp*1e3}};Dc.IdTokenClient=G1});var u0=ue(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.getEnv=zi.clear=zi.GCPEnv=void 0;var K1=_c(),Ca;(function(e){e.APP_ENGINE="APP_ENGINE",e.KUBERNETES_ENGINE="KUBERNETES_ENGINE",e.CLOUD_FUNCTIONS="CLOUD_FUNCTIONS",e.COMPUTE_ENGINE="COMPUTE_ENGINE",e.CLOUD_RUN="CLOUD_RUN",e.NONE="NONE"})(Ca=zi.GCPEnv||(zi.GCPEnv={}));var mu;function wD(){mu=void 0}zi.clear=wD;function bD(){return U(this,null,function*(){return mu||(mu=SD(),mu)})}zi.getEnv=bD;function SD(){return U(this,null,function*(){let e=Ca.NONE;return TD()?e=Ca.APP_ENGINE:xD()?e=Ca.CLOUD_FUNCTIONS:(yield BD())?(yield kD())?e=Ca.KUBERNETES_ENGINE:ID()?e=Ca.CLOUD_RUN:e=Ca.COMPUTE_ENGINE:e=Ca.NONE,e})}function TD(){return!!(process.env.GAE_SERVICE||process.env.GAE_MODULE_NAME)}function xD(){return!!(process.env.FUNCTION_NAME||process.env.FUNCTION_TARGET)}function ID(){return!!process.env.K_CONFIGURATION}function kD(){return U(this,null,function*(){try{return yield K1.instance("attributes/cluster-name"),!0}catch(e){return!1}})}function BD(){return U(this,null,function*(){return K1.isAvailable()})}});var l0=ue(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.GaxiosError=void 0;var V1=class extends Error{constructor(t,r,n){super(t);this.response=n,this.config=r,this.code=n.status.toString()}};Lc.GaxiosError=V1});var Y1=ue(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.getRetryConfig=void 0;function RD(e){return U(this,null,function*(){var t;let r=H1(e);if(!e||!e.config||!r&&!e.config.retry)return{shouldRetry:!1};r=r||{},r.currentRetryAttempt=r.currentRetryAttempt||0,r.retry=r.retry===void 0||r.retry===null?3:r.retry,r.httpMethodsToRetry=r.httpMethodsToRetry||["GET","HEAD","PUT","OPTIONS","DELETE"],r.noResponseRetries=r.noResponseRetries===void 0||r.noResponseRetries===null?2:r.noResponseRetries;let n=[[100,199],[429,429],[500,599]];if(r.statusCodesToRetry=r.statusCodesToRetry||n,e.config.retryConfig=r,!(yield(r.shouldRetry||ND)(e)))return{shouldRetry:!1,config:e.config};let s=(r.currentRetryAttempt?0:(t=r.retryDelay)!==null&&t!==void 0?t:100)+(Math.pow(2,r.currentRetryAttempt)-1)/2*1e3;e.config.retryConfig.currentRetryAttempt+=1;let u=new Promise(c=>{setTimeout(c,s)});return r.onRetryAttempt&&r.onRetryAttempt(e),yield u,{shouldRetry:!0,config:e.config}})}Pc.getRetryConfig=RD;function ND(e){let t=H1(e);if(e.name==="AbortError"||!t||t.retry===0||!e.response&&(t.currentRetryAttempt||0)>=t.noResponseRetries||!e.config.method||t.httpMethodsToRetry.indexOf(e.config.method.toUpperCase())<0)return!1;if(e.response&&e.response.status){let r=!1;for(let[n,i]of t.statusCodesToRetry){let a=e.response.status;if(a>=n&&a<=i){r=!0;break}}if(!r)return!1}return t.currentRetryAttempt=t.currentRetryAttempt||0,!(t.currentRetryAttempt>=t.retry)}function H1(e){if(e&&e.config&&e.config.retryConfig)return e.config.retryConfig}});var X1=ue(ro=>{"use strict";var Oc=ro&&ro.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ro,"__esModule",{value:!0});ro.Gaxios=void 0;var DD=Oc(Uh()),LD=require("https"),PD=Oc(Fh()),OD=Oc(require("querystring")),MD=Oc(qh()),j1=require("url"),UD=l0(),FD=Y1(),qD=KD()?window.fetch:PD.default;function GD(){return typeof window!="undefined"&&!!window}function KD(){return GD()&&!!window.fetch}function VD(){return typeof Buffer!="undefined"}function W1(e,t){return!!z1(e,t)}function z1(e,t){t=t.toLowerCase();for(let r of Object.keys((e==null?void 0:e.headers)||{}))if(t===r.toLowerCase())return e.headers[r]}var c0;function J1(){let e=process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy;return e&&(c0=zh()),e}J1();function HD(e){var t;let r=(t=process.env.NO_PROXY)!==null&&t!==void 0?t:process.env.no_proxy;if(!r)return!1;let n=r.split(","),i=new j1.URL(e);return!!n.find(a=>a.startsWith("*.")||a.startsWith(".")?(a=a.replace(/^\*\./,"."),i.hostname.endsWith(a)):a===i.origin||a===i.hostname)}function YD(e){if(!HD(e))return J1()}var Q1=class{constructor(t){this.agentCache=new Map,this.defaults=t||{}}request(){return U(this,arguments,function*(t={}){return t=this.validateOpts(t),this._request(t)})}_defaultAdapter(t){return U(this,null,function*(){let n=yield(t.fetchImplementation||qD)(t.url,t),i=yield this.getResponseData(t,n);return this.translateResponse(t,n,i)})}_request(){return U(this,arguments,function*(t={}){try{let r;if(t.adapter?r=yield t.adapter(t,this._defaultAdapter.bind(this)):r=yield this._defaultAdapter(t),!t.validateStatus(r.status))throw new UD.GaxiosError(`Request failed with status code ${r.status}`,t,r);return r}catch(r){let n=r;n.config=t;let{shouldRetry:i,config:a}=yield FD.getRetryConfig(r);if(i&&a)return n.config.retryConfig.currentRetryAttempt=a.retryConfig.currentRetryAttempt,this._request(n.config);throw n}})}getResponseData(t,r){return U(this,null,function*(){switch(t.responseType){case"stream":return r.body;case"json":{let n=yield r.text();try{n=JSON.parse(n)}catch(i){}return n}case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();default:return r.text()}})}validateOpts(t){let r=DD.default(!0,{},this.defaults,t);if(!r.url)throw new Error("URL is required.");let n=r.baseUrl||r.baseURL;if(n&&(r.url=n+r.url),r.paramsSerializer=r.paramsSerializer||this.paramsSerializer,r.params&&Object.keys(r.params).length>0){let a=r.paramsSerializer(r.params);a.startsWith("?")&&(a=a.slice(1));let s=r.url.includes("?")?"&":"?";r.url=r.url+s+a}if(typeof t.maxContentLength=="number"&&(r.size=t.maxContentLength),typeof t.maxRedirects=="number"&&(r.follow=t.maxRedirects),r.headers=r.headers||{},r.data){let a=typeof FormData=="undefined"?!1:(r==null?void 0:r.data)instanceof FormData;MD.default.readable(r.data)?r.body=r.data:VD()&&Buffer.isBuffer(r.data)?(r.body=r.data,W1(r,"Content-Type")||(r.headers["Content-Type"]="application/json")):typeof r.data=="object"?a||(z1(r,"content-type")==="application/x-www-form-urlencoded"?r.body=r.paramsSerializer(r.data):(W1(r,"Content-Type")||(r.headers["Content-Type"]="application/json"),r.body=JSON.stringify(r.data))):r.body=r.data}r.validateStatus=r.validateStatus||this.validateStatus,r.responseType=r.responseType||"json",!r.headers.Accept&&r.responseType==="json"&&(r.headers.Accept="application/json"),r.method=r.method||"GET";let i=YD(r.url);if(i)if(this.agentCache.has(i))r.agent=this.agentCache.get(i);else{if(r.cert&&r.key){let a=new j1.URL(i);r.agent=new c0({port:a.port,host:a.host,protocol:a.protocol,cert:r.cert,key:r.key})}else r.agent=new c0(i);this.agentCache.set(i,r.agent)}else r.cert&&r.key&&(this.agentCache.has(r.key)?r.agent=this.agentCache.get(r.key):(r.agent=new LD.Agent({cert:r.cert,key:r.key}),this.agentCache.set(r.key,r.agent)));return r}validateStatus(t){return t>=200&&t<300}paramsSerializer(t){return OD.default.stringify(t)}translateResponse(t,r,n){let i={};return r.headers.forEach((a,s)=>{i[s]=a}),{config:t,data:n,headers:i,status:r.status,statusText:r.statusText,request:{responseURL:r.url}}}};ro.Gaxios=Q1});var $1=ue(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.request=_i.instance=_i.Gaxios=void 0;var Z1=X1();Object.defineProperty(_i,"Gaxios",{enumerable:!0,get:function(){return Z1.Gaxios}});var jD=l0();Object.defineProperty(_i,"GaxiosError",{enumerable:!0,get:function(){return jD.GaxiosError}});_i.instance=new Z1.Gaxios;function WD(e){return U(this,null,function*(){return _i.instance.request(e)})}_i.request=WD});var f0=ue((Sq,e_)=>{var Mc=to().Buffer,zD=require("stream"),JD=require("util");function Uc(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=Mc.alloc(0),this;if(typeof e.pipe=="function")return this.buffer=Mc.alloc(0),e.pipe(this),this;if(e.length||typeof e=="object")return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}JD.inherits(Uc,zD);Uc.prototype.write=function(t){this.buffer=Mc.concat([this.buffer,Mc.from(t)]),this.emit("data",t)};Uc.prototype.end=function(t){t&&this.write(t),this.emit("end",t),this.emit("close"),this.writable=!1,this.readable=!1};e_.exports=Uc});var r_=ue((Tq,t_)=>{"use strict";var yu=require("buffer").Buffer,d0=require("buffer").SlowBuffer;t_.exports=Fc;function Fc(e,t){if(!yu.isBuffer(e)||!yu.isBuffer(t)||e.length!==t.length)return!1;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}Fc.install=function(){yu.prototype.equal=d0.prototype.equal=function(t){return Fc(this,t)}};var QD=yu.prototype.equal,XD=d0.prototype.equal;Fc.restore=function(){yu.prototype.equal=QD,d0.prototype.equal=XD}});var g0=ue((xq,f_)=>{var ZD=r_(),no=to().Buffer,Ei=require("crypto"),n_=n0(),i_=require("util"),$D=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,vu="secret must be a string or buffer",io="key must be a string or a buffer",eL="key must be a string, a buffer or an object",h0=typeof Ei.createPublicKey=="function";h0&&(io+=" or a KeyObject",vu+="or a KeyObject");function a_(e){if(!no.isBuffer(e)&&typeof e!="string"&&(!h0||typeof e!="object"||typeof e.type!="string"||typeof e.asymmetricKeyType!="string"||typeof e.export!="function"))throw ii(io)}function s_(e){if(!no.isBuffer(e)&&typeof e!="string"&&typeof e!="object")throw ii(eL)}function tL(e){if(!no.isBuffer(e)){if(typeof e=="string")return e;if(!h0||typeof e!="object"||e.type!=="secret"||typeof e.export!="function")throw ii(vu)}}function p0(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function o_(e){e=e.toString();var t=4-e.length%4;if(t!==4)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function ii(e){var t=[].slice.call(arguments,1),r=i_.format.bind(i_,e).apply(null,t);return new TypeError(r)}function rL(e){return no.isBuffer(e)||typeof e=="string"}function _u(e){return rL(e)||(e=JSON.stringify(e)),e}function u_(e){return function(r,n){tL(n),r=_u(r);var i=Ei.createHmac("sha"+e,n),a=(i.update(r),i.digest("base64"));return p0(a)}}function nL(e){return function(r,n,i){var a=u_(e)(r,i);return ZD(no.from(n),no.from(a))}}function l_(e){return function(r,n){s_(n),r=_u(r);var i=Ei.createSign("RSA-SHA"+e),a=(i.update(r),i.sign(n,"base64"));return p0(a)}}function c_(e){return function(r,n,i){a_(i),r=_u(r),n=o_(n);var a=Ei.createVerify("RSA-SHA"+e);return a.update(r),a.verify(i,n,"base64")}}function iL(e){return function(r,n){s_(n),r=_u(r);var i=Ei.createSign("RSA-SHA"+e),a=(i.update(r),i.sign({key:n,padding:Ei.constants.RSA_PKCS1_PSS_PADDING,saltLength:Ei.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return p0(a)}}function aL(e){return function(r,n,i){a_(i),r=_u(r),n=o_(n);var a=Ei.createVerify("RSA-SHA"+e);return a.update(r),a.verify({key:i,padding:Ei.constants.RSA_PKCS1_PSS_PADDING,saltLength:Ei.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function sL(e){var t=l_(e);return function(){var n=t.apply(null,arguments);return n=n_.derToJose(n,"ES"+e),n}}function oL(e){var t=c_(e);return function(n,i,a){i=n_.joseToDer(i,"ES"+e).toString("base64");var s=t(n,i,a);return s}}function uL(){return function(){return""}}function lL(){return function(t,r){return r===""}}f_.exports=function(t){var r={hs:u_,rs:l_,ps:iL,es:sL,none:uL},n={hs:nL,rs:c_,ps:aL,es:oL,none:lL},i=t.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!i)throw ii($D,t);var a=(i[1]||i[3]).toLowerCase(),s=i[2];return{sign:r[a](s),verify:n[a](s)}}});var m0=ue((Iq,d_)=>{var cL=require("buffer").Buffer;d_.exports=function(t){return typeof t=="string"?t:typeof t=="number"||cL.isBuffer(t)?t.toString():JSON.stringify(t)}});var v_=ue((kq,y_)=>{var fL=to().Buffer,h_=f0(),dL=g0(),hL=require("stream"),p_=m0(),y0=require("util");function g_(e,t){return fL.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pL(e,t,r){r=r||"utf8";var n=g_(p_(e),"binary"),i=g_(p_(t),r);return y0.format("%s.%s",n,i)}function m_(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,i=e.encoding,a=dL(t.alg),s=pL(t,r,i),u=a.sign(s,n);return y0.format("%s.%s",s,u)}function qc(e){var t=e.secret||e.privateKey||e.key,r=new h_(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new h_(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}y0.inherits(qc,hL);qc.prototype.sign=function(){try{var t=m_({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",t),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}};qc.sign=m_;y_.exports=qc});var I_=ue((Bq,x_)=>{var __=to().Buffer,E_=f0(),gL=g0(),mL=require("stream"),C_=m0(),yL=require("util"),vL=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function _L(e){return Object.prototype.toString.call(e)==="[object Object]"}function EL(e){if(_L(e))return e;try{return JSON.parse(e)}catch(t){return}}function A_(e){var t=e.split(".",1)[0];return EL(__.from(t,"base64").toString("binary"))}function CL(e){return e.split(".",2).join(".")}function w_(e){return e.split(".")[2]}function AL(e,t){t=t||"utf8";var r=e.split(".")[1];return __.from(r,"base64").toString(t)}function b_(e){return vL.test(e)&&!!A_(e)}function S_(e,t,r){if(!t){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}e=C_(e);var i=w_(e),a=CL(e),s=gL(t);return s.verify(a,i,r)}function T_(e,t){if(t=t||{},e=C_(e),!b_(e))return null;var r=A_(e);if(!r)return null;var n=AL(e);return(r.typ==="JWT"||t.json)&&(n=JSON.parse(n,t.encoding)),{header:r,payload:n,signature:w_(e)}}function ao(e){e=e||{};var t=e.secret||e.publicKey||e.key,r=new E_(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=r,this.signature=new E_(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}yL.inherits(ao,mL);ao.prototype.verify=function(){try{var t=S_(this.signature.buffer,this.algorithm,this.key.buffer),r=T_(this.signature.buffer,this.encoding);return this.emit("done",t,r),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}};ao.decode=T_;ao.isValid=b_;ao.verify=S_;x_.exports=ao});var v0=ue(Aa=>{var k_=v_(),Gc=I_(),wL=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];Aa.ALGORITHMS=wL;Aa.sign=k_.sign;Aa.verify=Gc.verify;Aa.decode=Gc.decode;Aa.isValid=Gc.isValid;Aa.createSign=function(t){return new k_(t)};Aa.createVerify=function(t){return new Gc(t)}});var ft=ue((Nq,B_)=>{B_.exports={options:{usePureJavaScript:!1}}});var D_=ue((Dq,N_)=>{var _0={};N_.exports=_0;var R_={};_0.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=bL(e,t);else{var i=0,a=t.length,s=t.charAt(0),u=[0];for(i=0;i<e.length;++i){for(var c=0,f=e[i];c<u.length;++c)f+=u[c]<<8,u[c]=f%a,f=f/a|0;for(;f>0;)u.push(f%a),f=f/a|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=s;for(i=u.length-1;i>=0;--i)n+=t[u[i]]}if(r){var d=new RegExp(".{1,"+r+"}","g");n=n.match(d).join(`\r
`)}return n};_0.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=R_[t];if(!r){r=R_[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,a=t.charAt(0),s=[0],n=0;n<e.length;n++){var u=r[e.charCodeAt(n)];if(u===void 0)return;for(var c=0,f=u;c<s.length;++c)f+=s[c]*i,s[c]=f&255,f>>=8;for(;f>0;)s.push(f&255),f>>=8}for(var d=0;e[d]===a&&d<e.length-1;++d)s.push(0);return typeof Buffer!="undefined"?Buffer.from(s.reverse()):new Uint8Array(s.reverse())};function bL(e,t){var r=0,n=t.length,i=t.charAt(0),a=[0];for(r=0;r<e.length();++r){for(var s=0,u=e.at(r);s<a.length;++s)u+=a[s]<<8,a[s]=u%n,u=u/n|0;for(;u>0;)a.push(u%n),u=u/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=i;for(r=a.length-1;r>=0;--r)c+=t[a[r]];return c}});var Bt=ue((Lq,M_)=>{var L_=ft(),P_=D_(),K=M_.exports=L_.util=L_.util||{};(function(){if(typeof process!="undefined"&&process.nextTick&&!process.browser){K.nextTick=process.nextTick,typeof setImmediate=="function"?K.setImmediate=setImmediate:K.setImmediate=K.nextTick;return}if(typeof setImmediate=="function"){K.setImmediate=function(){return setImmediate.apply(void 0,arguments)},K.nextTick=function(u){return setImmediate(u)};return}if(K.setImmediate=function(u){setTimeout(u,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){let u=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var f=t.slice();t.length=0,f.forEach(function(d){d()})}};var s=u,e="forge.setImmediate",t=[];K.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",u,!0)}if(typeof MutationObserver!="undefined"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(f){f()})}).observe(i,{attributes:!0});var a=K.setImmediate;K.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),a(c)):(t.push(c),t.length===1&&i.setAttribute("a",n=!n))}}K.nextTick=K.setImmediate})();K.isNodejs=typeof process!="undefined"&&process.versions&&process.versions.node;K.globalScope=function(){return K.isNodejs?global:typeof self=="undefined"?window:self}();K.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};K.isArrayBuffer=function(e){return typeof ArrayBuffer!="undefined"&&e instanceof ArrayBuffer};K.isArrayBufferView=function(e){return e&&K.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function Eu(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}K.ByteBuffer=E0;function E0(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(K.isArrayBuffer(e)||K.isArrayBufferView(e))if(typeof Buffer!="undefined"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(n){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof E0||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}K.ByteStringBuffer=E0;var SL=4096;K.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>SL&&(this.data.substr(0,1),this._constructedStringLength=0)};K.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};K.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};K.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};K.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};K.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};K.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(K.encodeUtf8(e))};K.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};K.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};K.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};K.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};K.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};K.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};K.ByteStringBuffer.prototype.putInt=function(e,t){Eu(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};K.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};K.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};K.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};K.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};K.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};K.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};K.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};K.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};K.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};K.ByteStringBuffer.prototype.getInt=function(e){Eu(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};K.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};K.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};K.ByteStringBuffer.prototype.bytes=function(e){return typeof e=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};K.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};K.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};K.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};K.ByteStringBuffer.prototype.copy=function(){var e=K.createBuffer(this.data);return e.read=this.read,e};K.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};K.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};K.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};K.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};K.ByteStringBuffer.prototype.toString=function(){return K.decodeUtf8(this.bytes())};function TL(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=K.isArrayBuffer(e),n=K.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}K.DataBuffer=TL;K.DataBuffer.prototype.length=function(){return this.write-this.read};K.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};K.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};K.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};K.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};K.DataBuffer.prototype.putBytes=function(e,t){if(K.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(K.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof K.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&K.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof K.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var a;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=K.binary.hex.decode(e,a,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),a=new Uint8Array(this.data.buffer,this.write),this.write+=K.binary.base64.decode(e,a,this.write),this;if(t==="utf8"&&(e=K.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=K.binary.raw.decode(a),this;if(t==="utf16")return this.accommodate(e.length*2),a=new Uint16Array(this.data.buffer,this.write),this.write+=K.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};K.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};K.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};K.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};K.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};K.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};K.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};K.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};K.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};K.DataBuffer.prototype.putInt=function(e,t){Eu(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};K.DataBuffer.prototype.putSignedInt=function(e,t){return Eu(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};K.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};K.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};K.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};K.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};K.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};K.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};K.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};K.DataBuffer.prototype.getInt=function(e){Eu(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};K.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};K.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};K.DataBuffer.prototype.bytes=function(e){return typeof e=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};K.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};K.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};K.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};K.DataBuffer.prototype.copy=function(){return new K.DataBuffer(this)};K.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};K.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};K.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};K.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};K.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return K.binary.raw.encode(t);if(e==="hex")return K.binary.hex.encode(t);if(e==="base64")return K.binary.base64.encode(t);if(e==="utf8")return K.text.utf8.decode(t);if(e==="utf16")return K.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};K.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=K.encodeUtf8(e)),new K.ByteBuffer(e)};K.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};K.xorBytes=function(e,t,r){for(var n="",i="",a="",s=0,u=0;r>0;--r,++s)i=e.charCodeAt(s)^t.charCodeAt(s),u>=10&&(n+=a,a="",u=0),a+=String.fromCharCode(i),++u;return n+=a,n};K.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};K.bytesToHex=function(e){return K.createBuffer(e).toHex()};K.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var wa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ba=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],O_="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";K.encode64=function(e,t){for(var r="",n="",i,a,s,u=0;u<e.length;)i=e.charCodeAt(u++),a=e.charCodeAt(u++),s=e.charCodeAt(u++),r+=wa.charAt(i>>2),r+=wa.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=wa.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":wa.charAt(s&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};K.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,a,s=0;s<e.length;)r=ba[e.charCodeAt(s++)-43],n=ba[e.charCodeAt(s++)-43],i=ba[e.charCodeAt(s++)-43],a=ba[e.charCodeAt(s++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),a!==64&&(t+=String.fromCharCode((i&3)<<6|a)));return t};K.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};K.decodeUtf8=function(e){return decodeURIComponent(escape(e))};K.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:P_.encode,decode:P_.decode}};K.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};K.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,a=0;a<e.length;++a)n[i++]=e.charCodeAt(a);return t?i-r:n};K.binary.hex.encode=K.bytesToHex;K.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,a=r;for(e.length&1&&(i=1,n[a++]=parseInt(e[0],16));i<e.length;i+=2)n[a++]=parseInt(e.substr(i,2),16);return t?a-r:n};K.binary.base64.encode=function(e,t){for(var r="",n="",i,a,s,u=0;u<e.byteLength;)i=e[u++],a=e[u++],s=e[u++],r+=wa.charAt(i>>2),r+=wa.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=wa.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":wa.charAt(s&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};K.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,a,s,u,c=0,f=r;c<e.length;)i=ba[e.charCodeAt(c++)-43],a=ba[e.charCodeAt(c++)-43],s=ba[e.charCodeAt(c++)-43],u=ba[e.charCodeAt(c++)-43],n[f++]=i<<2|a>>4,s!==64&&(n[f++]=(a&15)<<4|s>>2,u!==64&&(n[f++]=(s&3)<<6|u));return t?f-r:n.subarray(0,f)};K.binary.base58.encode=function(e,t){return K.binary.baseN.encode(e,O_,t)};K.binary.base58.decode=function(e,t){return K.binary.baseN.decode(e,O_,t)};K.text={utf8:{},utf16:{}};K.text.utf8.encode=function(e,t,r){e=K.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,a=0;a<e.length;++a)n[i++]=e.charCodeAt(a);return t?i-r:n};K.text.utf8.decode=function(e){return K.decodeUtf8(String.fromCharCode.apply(null,e))};K.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var a=r,s=r,u=0;u<e.length;++u)i[s++]=e.charCodeAt(u),a+=2;return t?a-r:n};K.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};K.deflate=function(e,t,r){if(t=K.decode64(e.deflate(K.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};K.inflate=function(e,t,r){var n=e.inflate(K.encode64(t)).rval;return n===null?null:K.decode64(n)};var C0=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=K.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n!="undefined"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},A0=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(K.decode64(r))),r},xL=function(e,t,r,n){var i=A0(e,t);i===null&&(i={}),i[r]=n,C0(e,t,i)},IL=function(e,t,r){var n=A0(e,t);return n!==null&&(n=r in n?n[r]:null),n},kL=function(e,t,r){var n=A0(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var a in n){i=!1;break}i&&(n=null),C0(e,t,n)}},BL=function(e,t){C0(e,t,null)},Kc=function(e,t,r){var n=null;typeof r=="undefined"&&(r=["web","flash"]);var i,a=!1,s=null;for(var u in r){i=r[u];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),a=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),a=!0)}catch(c){s=c}if(a)break}if(!a)throw s;return n};K.setItem=function(e,t,r,n,i){Kc(xL,arguments,i)};K.getItem=function(e,t,r,n){return Kc(IL,arguments,n)};K.removeItem=function(e,t,r,n){Kc(kL,arguments,n)};K.clearItems=function(e,t,r){Kc(BL,arguments,r)};K.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};K.format=function(e){for(var t=/%./g,r,n,i=0,a=[],s=0;r=t.exec(e);){n=e.substring(s,t.lastIndex-2),n.length>0&&a.push(n),s=t.lastIndex;var u=r[0][1];switch(u){case"s":case"o":i<arguments.length?a.push(arguments[i+++1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+u+"?>")}}return a.push(e.substring(s)),a.join("")};K.formatNumber=function(e,t,r,n){var i=e,a=isNaN(t=Math.abs(t))?2:t,s=r===void 0?",":r,u=n===void 0?".":n,c=i<0?"-":"",f=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",d=f.length>3?f.length%3:0;return c+(d?f.substr(0,d)+u:"")+f.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+u)+(a?s+Math.abs(i-f).toFixed(a).slice(2):"")};K.formatSize=function(e){return e>=1073741824?e=K.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=K.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=K.formatNumber(e/1024,0)+" KiB":e=K.formatNumber(e,0)+" bytes",e};K.bytesFromIP=function(e){return e.indexOf(".")!==-1?K.bytesFromIPv4(e):e.indexOf(":")!==-1?K.bytesFromIPv6(e):null};K.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=K.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};K.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(s){return s.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=K.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var a=K.hexToBytes(e[i]);a.length<2&&n.putByte(0),n.putBytes(a)}return n.getBytes()};K.bytesToIP=function(e){return e.length===4?K.bytesToIPv4(e):e.length===16?K.bytesToIPv6(e):null};K.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};K.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var a=K.bytesToHex(e[i]+e[i+1]);a[0]==="0"&&a!=="0";)a=a.substr(1);if(a==="0"){var s=r[r.length-1],u=t.length;!s||u!==s.end+1?r.push({start:u,end:u}):(s.end=u,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(a)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};K.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in K&&!e.update)return t(null,K.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return K.cores=navigator.hardwareConcurrency,t(null,K.cores);if(typeof Worker=="undefined")return K.cores=1,t(null,K.cores);if(typeof Blob=="undefined")return K.cores=2,t(null,K.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(s){for(var u=Date.now(),c=u+4;Date.now()<c;);self.postMessage({st:u,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(s,u,c){if(u===0){var f=Math.floor(s.reduce(function(d,p){return d+p},0)/s.length);return K.cores=Math.max(1,f),URL.revokeObjectURL(r),t(null,K.cores)}i(c,function(d,p){s.push(a(c,p)),n(s,u-1,c)})}function i(s,u){for(var c=[],f=[],d=0;d<s;++d){var p=new Worker(r);p.addEventListener("message",function(g){if(f.push(g.data),f.length===s){for(var v=0;v<s;++v)c[v].terminate();u(null,f)}}),c.push(p)}for(var d=0;d<s;++d)c[d].postMessage(d)}function a(s,u){for(var c=[],f=0;f<s;++f)for(var d=u[f],p=c[f]=[],g=0;g<s;++g)if(f!==g){var v=u[g];(d.st>v.st&&d.st<v.et||v.st>d.st&&v.st<d.et)&&p.push(g)}return c.reduce(function(m,E){return Math.max(m,E.length)},0)}}});var Vc=ue((Pq,U_)=>{var Tr=ft();Bt();U_.exports=Tr.cipher=Tr.cipher||{};Tr.cipher.algorithms=Tr.cipher.algorithms||{};Tr.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Tr.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Tr.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Tr.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Tr.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Tr.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Tr.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Tr.cipher.algorithms[e]=t};Tr.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Tr.cipher.algorithms?Tr.cipher.algorithms[e]:null};var w0=Tr.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};w0.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Tr.util.createBuffer(),this.output=e.output||Tr.util.createBuffer(),this.mode.start(t)};w0.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};w0.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var S0=ue((Oq,F_)=>{var xr=ft();Bt();xr.cipher=xr.cipher||{};var mt=F_.exports=xr.cipher.modes=xr.cipher.modes||{};mt.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};mt.ecb.prototype.start=function(e){};mt.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};mt.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};mt.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};mt.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};mt.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};mt.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=Hc(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};mt.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};mt.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};mt.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};mt.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};mt.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=xr.util.createBuffer(),this._partialBytes=0};mt.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Hc(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};mt.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(a>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};mt.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(a>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};mt.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=xr.util.createBuffer(),this._partialBytes=0};mt.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Hc(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};mt.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};mt.ofb.prototype.decrypt=mt.ofb.prototype.encrypt;mt.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=xr.util.createBuffer(),this._partialBytes=0};mt.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Hc(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};mt.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Yc(this._inBlock)};mt.ctr.prototype.decrypt=mt.ctr.prototype.encrypt;mt.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=xr.util.createBuffer(),this._partialBytes=0,this._R=3774873600};mt.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=xr.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=xr.util.createBuffer(e.additionalData):r=xr.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=xr.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(b0(n*8)))}this._inBlock=this._j0.slice(0),Yc(this._inBlock),this._partialBytes=0,r=xr.util.createBuffer(r),this._aDataLength=b0(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};mt.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a<=0||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Yc(this._inBlock)};mt.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Yc(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};mt.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=xr.util.createBuffer();var n=this._aDataLength.concat(b0(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^i[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};mt.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var a=e[i/32|0]&1<<31-i%32;a&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};mt.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};mt.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,a=this._m[r][i];t[0]^=a[0],t[1]^=a[1],t[2]^=a[2],t[3]^=a[3]}return t};mt.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};mt.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,a=new Array(i),s=0;s<i;++s){var u=[0,0,0,0],c=s/n|0,f=(n-1-s%n)*t;u[c]=1<<t-1<<f,a[s]=this.generateSubHashTable(this.multiply(u,e),t)}return a};mt.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var a=n>>>1;a>0;)this.pow(i[2*a],i[a]=[]),a>>=1;for(a=2;a<n;){for(var s=1;s<a;++s){var u=i[a],c=i[s];i[a+s]=[u[0]^c[0],u[1]^c[1],u[2]^c[2],u[3]^c[3]]}a*=2}for(i[0]=[0,0,0,0],a=n+1;a<r;++a){var f=i[a^n];i[a]=[e[0]^f[0],e[1]^f[1],e[2]^f[2],e[3]^f[3]]}return i};function Hc(e,t){if(typeof e=="string"&&(e=xr.util.createBuffer(e)),xr.util.isArray(e)&&e.length>4){var r=e;e=xr.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!xr.util.isArray(e)){for(var i=[],a=t/4,n=0;n<a;++n)i.push(e.getInt32());e=i}return e}function Yc(e){e[e.length-1]=e[e.length-1]+1&4294967295}function b0(e){return[e/4294967296|0,e&4294967295]}});var Sa=ue((Mq,V_)=>{var Wt=ft();Vc();S0();Bt();V_.exports=Wt.aes=Wt.aes||{};Wt.aes.startEncrypting=function(e,t,r,n){var i=jc({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};Wt.aes.createEncryptionCipher=function(e,t){return jc({key:e,output:null,decrypt:!1,mode:t})};Wt.aes.startDecrypting=function(e,t,r,n){var i=jc({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};Wt.aes.createDecryptionCipher=function(e,t){return jc({key:e,output:null,decrypt:!0,mode:t})};Wt.aes.Algorithm=function(e,t){T0||G_();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,i){return I0(r._w,n,i,!1)},decrypt:function(n,i){return I0(r._w,n,i,!0)}}}),r._init=!1};Wt.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=Wt.util.createBuffer(t);else if(Wt.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=Wt.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!Wt.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!Wt.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var a=this.mode.name,s=["CFB","OFB","CTR","GCM"].indexOf(a)!==-1;this._w=K_(t,e.decrypt&&!s),this._init=!0}};Wt.aes._expandKey=function(e,t){return T0||G_(),K_(e,t)};Wt.aes._updateBlock=I0;so("AES-ECB",Wt.cipher.modes.ecb);so("AES-CBC",Wt.cipher.modes.cbc);so("AES-CFB",Wt.cipher.modes.cfb);so("AES-OFB",Wt.cipher.modes.ofb);so("AES-CTR",Wt.cipher.modes.ctr);so("AES-GCM",Wt.cipher.modes.gcm);function so(e,t){var r=function(){return new Wt.aes.Algorithm(e,t)};Wt.cipher.registerAlgorithm(e,r)}var T0=!1,oo=4,Xr,x0,q_,ns,ai;function G_(){T0=!0,q_=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;Xr=new Array(256),x0=new Array(256),ns=new Array(4),ai=new Array(4);for(var t=0;t<4;++t)ns[t]=new Array(256),ai[t]=new Array(256);for(var r=0,n=0,i,a,s,u,c,f,d,t=0;t<256;++t){u=n^n<<1^n<<2^n<<3^n<<4,u=u>>8^u&255^99,Xr[r]=u,x0[u]=r,c=e[u],i=e[r],a=e[i],s=e[a],f=c<<24^u<<16^u<<8^(u^c),d=(i^a^s)<<24^(r^s)<<16^(r^a^s)<<8^(r^i^s);for(var p=0;p<4;++p)ns[p][r]=f,ai[p][u]=d,f=f<<24|f>>>8,d=d<<24|d>>>8;r===0?r=n=1:(r=i^e[e[e[i^s]]],n^=e[e[n]])}}function K_(e,t){for(var r=e.slice(0),n,i=1,a=r.length,s=a+6+1,u=oo*s,c=a;c<u;++c)n=r[c-1],c%a==0?(n=Xr[n>>>16&255]<<24^Xr[n>>>8&255]<<16^Xr[n&255]<<8^Xr[n>>>24]^q_[i]<<24,i++):a>6&&c%a==4&&(n=Xr[n>>>24]<<24^Xr[n>>>16&255]<<16^Xr[n>>>8&255]<<8^Xr[n&255]),r[c]=r[c-a]^n;if(t){var f,d=ai[0],p=ai[1],g=ai[2],v=ai[3],m=r.slice(0);u=r.length;for(var c=0,E=u-oo;c<u;c+=oo,E-=oo)if(c===0||c===u-oo)m[c]=r[E],m[c+1]=r[E+3],m[c+2]=r[E+2],m[c+3]=r[E+1];else for(var _=0;_<oo;++_)f=r[E+_],m[c+(3&-_)]=d[Xr[f>>>24]]^p[Xr[f>>>16&255]]^g[Xr[f>>>8&255]]^v[Xr[f&255]];r=m}return r}function I0(e,t,r,n){var i=e.length/4-1,a,s,u,c,f;n?(a=ai[0],s=ai[1],u=ai[2],c=ai[3],f=x0):(a=ns[0],s=ns[1],u=ns[2],c=ns[3],f=Xr);var d,p,g,v,m,E,_;d=t[0]^e[0],p=t[n?3:1]^e[1],g=t[2]^e[2],v=t[n?1:3]^e[3];for(var C=3,B=1;B<i;++B)m=a[d>>>24]^s[p>>>16&255]^u[g>>>8&255]^c[v&255]^e[++C],E=a[p>>>24]^s[g>>>16&255]^u[v>>>8&255]^c[d&255]^e[++C],_=a[g>>>24]^s[v>>>16&255]^u[d>>>8&255]^c[p&255]^e[++C],v=a[v>>>24]^s[d>>>16&255]^u[p>>>8&255]^c[g&255]^e[++C],d=m,p=E,g=_;r[0]=f[d>>>24]<<24^f[p>>>16&255]<<16^f[g>>>8&255]<<8^f[v&255]^e[++C],r[n?3:1]=f[p>>>24]<<24^f[g>>>16&255]<<16^f[v>>>8&255]<<8^f[d&255]^e[++C],r[2]=f[g>>>24]<<24^f[v>>>16&255]<<16^f[d>>>8&255]<<8^f[p&255]^e[++C],r[n?1:3]=f[v>>>24]<<24^f[d>>>16&255]<<16^f[p>>>8&255]<<8^f[g&255]^e[++C]}function jc(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=Wt.cipher.createDecipher(r,e.key):n=Wt.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(a,s){var u=null;s instanceof Wt.util.ByteBuffer&&(u=s,s={}),s=s||{},s.output=u,s.iv=a,i.call(n,s)},n}});var Ta=ue((Uq,H_)=>{var Cu=ft();Cu.pki=Cu.pki||{};var k0=H_.exports=Cu.pki.oids=Cu.oids=Cu.oids||{};function ve(e,t){k0[e]=t,k0[t]=e}function Ft(e,t){k0[e]=t}ve("1.2.840.113549.1.1.1","rsaEncryption");ve("1.2.840.113549.1.1.4","md5WithRSAEncryption");ve("1.2.840.113549.1.1.5","sha1WithRSAEncryption");ve("1.2.840.113549.1.1.7","RSAES-OAEP");ve("1.2.840.113549.1.1.8","mgf1");ve("1.2.840.113549.1.1.9","pSpecified");ve("1.2.840.113549.1.1.10","RSASSA-PSS");ve("1.2.840.113549.1.1.11","sha256WithRSAEncryption");ve("1.2.840.113549.1.1.12","sha384WithRSAEncryption");ve("1.2.840.113549.1.1.13","sha512WithRSAEncryption");ve("1.3.101.112","EdDSA25519");ve("1.2.840.10040.4.3","dsa-with-sha1");ve("1.3.14.3.2.7","desCBC");ve("1.3.14.3.2.26","sha1");ve("1.3.14.3.2.29","sha1WithRSASignature");ve("2.16.840.1.101.3.4.2.1","sha256");ve("2.16.840.1.101.3.4.2.2","sha384");ve("2.16.840.1.101.3.4.2.3","sha512");ve("2.16.840.1.101.3.4.2.4","sha224");ve("2.16.840.1.101.3.4.2.5","sha512-224");ve("2.16.840.1.101.3.4.2.6","sha512-256");ve("1.2.840.113549.2.2","md2");ve("1.2.840.113549.2.5","md5");ve("1.2.840.113549.1.7.1","data");ve("1.2.840.113549.1.7.2","signedData");ve("1.2.840.113549.1.7.3","envelopedData");ve("1.2.840.113549.1.7.4","signedAndEnvelopedData");ve("1.2.840.113549.1.7.5","digestedData");ve("1.2.840.113549.1.7.6","encryptedData");ve("1.2.840.113549.1.9.1","emailAddress");ve("1.2.840.113549.1.9.2","unstructuredName");ve("1.2.840.113549.1.9.3","contentType");ve("1.2.840.113549.1.9.4","messageDigest");ve("1.2.840.113549.1.9.5","signingTime");ve("1.2.840.113549.1.9.6","counterSignature");ve("1.2.840.113549.1.9.7","challengePassword");ve("1.2.840.113549.1.9.8","unstructuredAddress");ve("1.2.840.113549.1.9.14","extensionRequest");ve("1.2.840.113549.1.9.20","friendlyName");ve("1.2.840.113549.1.9.21","localKeyId");ve("1.2.840.113549.1.9.22.1","x509Certificate");ve("1.2.840.113549.1.12.10.1.1","keyBag");ve("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");ve("1.2.840.113549.1.12.10.1.3","certBag");ve("1.2.840.113549.1.12.10.1.4","crlBag");ve("1.2.840.113549.1.12.10.1.5","secretBag");ve("1.2.840.113549.1.12.10.1.6","safeContentsBag");ve("1.2.840.113549.1.5.13","pkcs5PBES2");ve("1.2.840.113549.1.5.12","pkcs5PBKDF2");ve("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");ve("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");ve("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");ve("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");ve("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");ve("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");ve("1.2.840.113549.2.7","hmacWithSHA1");ve("1.2.840.113549.2.8","hmacWithSHA224");ve("1.2.840.113549.2.9","hmacWithSHA256");ve("1.2.840.113549.2.10","hmacWithSHA384");ve("1.2.840.113549.2.11","hmacWithSHA512");ve("1.2.840.113549.3.7","des-EDE3-CBC");ve("2.16.840.1.101.3.4.1.2","aes128-CBC");ve("2.16.840.1.101.3.4.1.22","aes192-CBC");ve("2.16.840.1.101.3.4.1.42","aes256-CBC");ve("2.5.4.3","commonName");ve("2.5.4.4","surname");ve("2.5.4.5","serialNumber");ve("2.5.4.6","countryName");ve("2.5.4.7","localityName");ve("2.5.4.8","stateOrProvinceName");ve("2.5.4.9","streetAddress");ve("2.5.4.10","organizationName");ve("2.5.4.11","organizationalUnitName");ve("2.5.4.12","title");ve("2.5.4.13","description");ve("2.5.4.15","businessCategory");ve("2.5.4.17","postalCode");ve("2.5.4.42","givenName");ve("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");ve("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");ve("2.16.840.1.113730.1.1","nsCertType");ve("2.16.840.1.113730.1.13","nsComment");Ft("2.5.29.1","authorityKeyIdentifier");Ft("2.5.29.2","keyAttributes");Ft("2.5.29.3","certificatePolicies");Ft("2.5.29.4","keyUsageRestriction");Ft("2.5.29.5","policyMapping");Ft("2.5.29.6","subtreesConstraint");Ft("2.5.29.7","subjectAltName");Ft("2.5.29.8","issuerAltName");Ft("2.5.29.9","subjectDirectoryAttributes");Ft("2.5.29.10","basicConstraints");Ft("2.5.29.11","nameConstraints");Ft("2.5.29.12","policyConstraints");Ft("2.5.29.13","basicConstraints");ve("2.5.29.14","subjectKeyIdentifier");ve("2.5.29.15","keyUsage");Ft("2.5.29.16","privateKeyUsagePeriod");ve("2.5.29.17","subjectAltName");ve("2.5.29.18","issuerAltName");ve("2.5.29.19","basicConstraints");Ft("2.5.29.20","cRLNumber");Ft("2.5.29.21","cRLReason");Ft("2.5.29.22","expirationDate");Ft("2.5.29.23","instructionCode");Ft("2.5.29.24","invalidityDate");Ft("2.5.29.25","cRLDistributionPoints");Ft("2.5.29.26","issuingDistributionPoint");Ft("2.5.29.27","deltaCRLIndicator");Ft("2.5.29.28","issuingDistributionPoint");Ft("2.5.29.29","certificateIssuer");Ft("2.5.29.30","nameConstraints");ve("2.5.29.31","cRLDistributionPoints");ve("2.5.29.32","certificatePolicies");Ft("2.5.29.33","policyMappings");Ft("2.5.29.34","policyConstraints");ve("2.5.29.35","authorityKeyIdentifier");Ft("2.5.29.36","policyConstraints");ve("2.5.29.37","extKeyUsage");Ft("2.5.29.46","freshestCRL");Ft("2.5.29.54","inhibitAnyPolicy");ve("1.3.6.1.4.1.11129.2.4.2","timestampList");ve("1.3.6.1.5.5.7.1.1","authorityInfoAccess");ve("1.3.6.1.5.5.7.3.1","serverAuth");ve("1.3.6.1.5.5.7.3.2","clientAuth");ve("1.3.6.1.5.5.7.3.3","codeSigning");ve("1.3.6.1.5.5.7.3.4","emailProtection");ve("1.3.6.1.5.5.7.3.8","timeStamping")});var si=ue((Fq,j_)=>{var $t=ft();Bt();Ta();var Te=j_.exports=$t.asn1=$t.asn1||{};Te.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Te.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Te.create=function(e,t,r,n,i){if($t.util.isArray(n)){for(var a=[],s=0;s<n.length;++s)n[s]!==void 0&&a.push(n[s]);n=a}var u={tagClass:e,type:t,constructed:r,composed:r||$t.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(u.bitStringContents=i.bitStringContents,u.original=Te.copy(u)),u};Te.copy=function(e,t){var r;if($t.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(Te.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:Te.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};Te.equals=function(e,t,r){if($t.util.isArray(e)){if(!$t.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Te.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&Te.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};Te.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function Au(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}var RL=function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var a=r&127;Au(e,t,a),n=e.getInt(a<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};Te.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=$t.util.createBuffer(e));var r=e.length(),n=Wc(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function Wc(e,t,r,n){var i;Au(e,t,2);var a=e.getByte();t--;var s=a&192,u=a&31;i=e.length();var c=RL(e,t);if(t-=i-e.length(),c!==void 0&&c>t){if(n.strict){var f=new Error("Too few bytes to read ASN.1 value.");throw f.available=e.length(),f.remaining=t,f.requested=c,f}c=t}var d,p,g=(a&32)==32;if(g)if(d=[],c===void 0)for(;;){if(Au(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}i=e.length(),d.push(Wc(e,t,r+1,n)),t-=i-e.length()}else for(;c>0;)i=e.length(),d.push(Wc(e,c,r+1,n)),t-=i-e.length(),c-=i-e.length();if(d===void 0&&s===Te.Class.UNIVERSAL&&u===Te.Type.BITSTRING&&(p=e.bytes(c)),d===void 0&&n.decodeBitStrings&&s===Te.Class.UNIVERSAL&&u===Te.Type.BITSTRING&&c>1){var v=e.read,m=t,E=0;if(u===Te.Type.BITSTRING&&(Au(e,t,1),E=e.getByte(),t--),E===0)try{i=e.length();var _={strict:!0,decodeBitStrings:!0},C=Wc(e,t,r+1,_),B=i-e.length();t-=B,u==Te.Type.BITSTRING&&B++;var R=C.tagClass;B===c&&(R===Te.Class.UNIVERSAL||R===Te.Class.CONTEXT_SPECIFIC)&&(d=[C])}catch(L){}d===void 0&&(e.read=v,t=m)}if(d===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(u===Te.Type.BMPSTRING)for(d="";c>0;c-=2)Au(e,t,2),d+=String.fromCharCode(e.getInt16()),t-=2;else d=e.getBytes(c),t-=c}var D=p===void 0?null:{bitStringContents:p};return Te.create(s,u,g,d,D)}Te.toDer=function(e){var t=$t.util.createBuffer(),r=e.tagClass|e.type,n=$t.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=Te.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var a=0;a<e.value.length;++a)e.value[a]!==void 0&&n.putBuffer(Te.toDer(e.value[a]))}else if(e.type===Te.Type.BMPSTRING)for(var a=0;a<e.value.length;++a)n.putInt16(e.value.charCodeAt(a));else e.type===Te.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&(e.value.charCodeAt(1)&128)==0||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)==128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var s=n.length(),u="";do u+=String.fromCharCode(s&255),s=s>>>8;while(s>0);t.putByte(u.length|128);for(var a=u.length-1;a>=0;--a)t.putByte(u.charCodeAt(a))}return t.putBuffer(n),t};Te.oidToDer=function(e){var t=e.split("."),r=$t.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,a,s,u=2;u<t.length;++u){n=!0,i=[],a=parseInt(t[u],10);do s=a&127,a=a>>>7,n||(s|=128),i.push(s),n=!1;while(a>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};Te.derToOid=function(e){var t;typeof e=="string"&&(e=$t.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};Te.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),a=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),u=0;if(e.length>11){var c=e.charAt(10),f=10;c!=="+"&&c!=="-"&&(u=parseInt(e.substr(10,2),10),f+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(a,s,u,0),f&&(c=e.charAt(f),c==="+"||c==="-")){var d=parseInt(e.substr(f+1,2),10),p=parseInt(e.substr(f+4,2),10),g=d*60+p;g*=6e4,c==="+"?t.setTime(+t-g):t.setTime(+t+g)}return t};Te.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),u=parseInt(e.substr(12,2),10),c=0,f=0,d=!1;e.charAt(e.length-1)==="Z"&&(d=!0);var p=e.length-5,g=e.charAt(p);if(g==="+"||g==="-"){var v=parseInt(e.substr(p+1,2),10),m=parseInt(e.substr(p+4,2),10);f=v*60+m,f*=6e4,g==="+"&&(f*=-1),d=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),d?(t.setUTCFullYear(r,n,i),t.setUTCHours(a,s,u,c),t.setTime(+t+f)):(t.setFullYear(r,n,i),t.setHours(a,s,u,c)),t};Te.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Te.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Te.integerToDer=function(e){var t=$t.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};Te.derToInteger=function(e){typeof e=="string"&&(e=$t.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};Te.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass=="undefined")&&(e.type===t.type||typeof t.type=="undefined"))if(e.constructed===t.constructed||typeof t.constructed=="undefined"){if(i=!0,t.value&&$t.util.isArray(t.value))for(var a=0,s=0;i&&s<t.value.length;++s)i=t.value[s].optional||!1,e.value[a]&&(i=Te.validate(e.value[a],t.value[s],r,n),i?++a:t.value[s].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var u;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var Y_=/[^\\u0000-\\u00ff]/;Te.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",a=0;a<t*r;++a)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case Te.Class.UNIVERSAL:n+="Universal:";break;case Te.Class.APPLICATION:n+="Application:";break;case Te.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case Te.Class.PRIVATE:n+="Private:";break}if(e.tagClass===Te.Class.UNIVERSAL)switch(n+=e.type,e.type){case Te.Type.NONE:n+=" (None)";break;case Te.Type.BOOLEAN:n+=" (Boolean)";break;case Te.Type.INTEGER:n+=" (Integer)";break;case Te.Type.BITSTRING:n+=" (Bit string)";break;case Te.Type.OCTETSTRING:n+=" (Octet string)";break;case Te.Type.NULL:n+=" (Null)";break;case Te.Type.OID:n+=" (Object Identifier)";break;case Te.Type.ODESC:n+=" (Object Descriptor)";break;case Te.Type.EXTERNAL:n+=" (External or Instance of)";break;case Te.Type.REAL:n+=" (Real)";break;case Te.Type.ENUMERATED:n+=" (Enumerated)";break;case Te.Type.EMBEDDED:n+=" (Embedded PDV)";break;case Te.Type.UTF8:n+=" (UTF8)";break;case Te.Type.ROID:n+=" (Relative Object Identifier)";break;case Te.Type.SEQUENCE:n+=" (Sequence)";break;case Te.Type.SET:n+=" (Set)";break;case Te.Type.PRINTABLESTRING:n+=" (Printable String)";break;case Te.Type.IA5String:n+=" (IA5String (ASCII))";break;case Te.Type.UTCTIME:n+=" (UTC time)";break;case Te.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case Te.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var s=0,u="",a=0;a<e.value.length;++a)e.value[a]!==void 0&&(s+=1,u+=Te.prettyPrint(e.value[a],t+1,r),a+1<e.value.length&&(u+=","));n+=i+"Sub values: "+s+u}else{if(n+=i+"Value: ",e.type===Te.Type.OID){var c=Te.derToOid(e.value);n+=c,$t.pki&&$t.pki.oids&&c in $t.pki.oids&&(n+=" ("+$t.pki.oids[c]+") ")}if(e.type===Te.Type.INTEGER)try{n+=Te.derToInteger(e.value)}catch(d){n+="0x"+$t.util.bytesToHex(e.value)}else if(e.type===Te.Type.BITSTRING){if(e.value.length>1?n+="0x"+$t.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var f=e.value.charCodeAt(0);f==1?n+=" (1 unused bit shown)":f>1&&(n+=" ("+f+" unused bits shown)")}}else if(e.type===Te.Type.OCTETSTRING)Y_.test(e.value)||(n+="("+e.value+") "),n+="0x"+$t.util.bytesToHex(e.value);else if(e.type===Te.Type.UTF8)try{n+=$t.util.decodeUtf8(e.value)}catch(d){if(d.message==="URI malformed")n+="0x"+$t.util.bytesToHex(e.value)+" (malformed UTF8)";else throw d}else e.type===Te.Type.PRINTABLESTRING||e.type===Te.Type.IA5String?n+=e.value:Y_.test(e.value)?n+="0x"+$t.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var Ci=ue((qq,W_)=>{var zc=ft();W_.exports=zc.md=zc.md||{};zc.md.algorithms=zc.md.algorithms||{}});var uo=ue((Gq,z_)=>{var Ji=ft();Ci();Bt();var NL=z_.exports=Ji.hmac=Ji.hmac||{};NL.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(a,s){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in Ji.md.algorithms)t=Ji.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else t=a;if(s===null)s=e;else{if(typeof s=="string")s=Ji.util.createBuffer(s);else if(Ji.util.isArray(s)){var u=s;s=Ji.util.createBuffer();for(var c=0;c<u.length;++c)s.putByte(u[c])}var f=s.length();f>t.blockLength&&(t.start(),t.update(s.bytes()),s=t.digest()),r=Ji.util.createBuffer(),n=Ji.util.createBuffer(),f=s.length();for(var c=0;c<f;++c){var u=s.at(c);r.putByte(54^u),n.putByte(92^u)}if(f<t.blockLength)for(var u=t.blockLength-f,c=0;c<u;++c)r.putByte(54),n.putByte(92);e=s,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(a){t.update(a)},i.getMac=function(){var a=t.digest().bytes();return t.start(),t.update(n),t.update(a),t.digest()},i.digest=i.getMac,i}});var Qc=ue((Kq,Z_)=>{var Ai=ft();Ci();Bt();var J_=Z_.exports=Ai.md5=Ai.md5||{};Ai.md.md5=Ai.md.algorithms.md5=J_;J_.create=function(){Q_||DL();var e=null,t=Ai.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return t=Ai.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=Ai.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var u=n.fullMessageLength.length-1;u>=0;--u)n.fullMessageLength[u]+=s[1],s[1]=s[0]+(n.fullMessageLength[u]/4294967296>>>0),n.fullMessageLength[u]=n.fullMessageLength[u]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),X_(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Ai.util.createBuffer();i.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(B0.substr(0,n.blockLength-s));for(var u,c=0,f=n.fullMessageLength.length-1;f>=0;--f)u=n.fullMessageLength[f]*8+c,c=u/4294967296>>>0,i.putInt32Le(u>>>0);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};X_(d,r,i);var p=Ai.util.createBuffer();return p.putInt32Le(d.h0),p.putInt32Le(d.h1),p.putInt32Le(d.h2),p.putInt32Le(d.h3),p},n};var B0=null,Jc=null,wu=null,lo=null,Q_=!1;function DL(){B0=String.fromCharCode(128),B0+=Ai.util.fillString(String.fromCharCode(0),64),Jc=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],wu=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],lo=new Array(64);for(var e=0;e<64;++e)lo[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);Q_=!0}function X_(e,t,r){for(var n,i,a,s,u,c,f,d,p=r.length();p>=64;){for(i=e.h0,a=e.h1,s=e.h2,u=e.h3,d=0;d<16;++d)t[d]=r.getInt32Le(),c=u^a&(s^u),n=i+c+lo[d]+t[d],f=wu[d],i=u,u=s,s=a,a+=n<<f|n>>>32-f;for(;d<32;++d)c=s^u&(a^s),n=i+c+lo[d]+t[Jc[d]],f=wu[d],i=u,u=s,s=a,a+=n<<f|n>>>32-f;for(;d<48;++d)c=a^s^u,n=i+c+lo[d]+t[Jc[d]],f=wu[d],i=u,u=s,s=a,a+=n<<f|n>>>32-f;for(;d<64;++d)c=s^(a|~u),n=i+c+lo[d]+t[Jc[d]],f=wu[d],i=u,u=s,s=a,a+=n<<f|n>>>32-f;e.h0=e.h0+i|0,e.h1=e.h1+a|0,e.h2=e.h2+s|0,e.h3=e.h3+u|0,p-=64}}});var is=ue((Vq,eE)=>{var Xc=ft();Bt();var $_=eE.exports=Xc.pem=Xc.pem||{};$_.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=Zc(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=Zc(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=Zc(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=Zc(e.headers[i]);return e.procType&&(r+=`\r
`),r+=Xc.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};$_.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,a;a=r.exec(e),!!a;){var s=a[1];s==="NEW CERTIFICATE REQUEST"&&(s="CERTIFICATE REQUEST");var u={type:s,procType:null,contentDomain:null,dekInfo:null,headers:[],body:Xc.util.decode64(a[3])};if(t.push(u),!!a[2]){for(var c=a[2].split(i),f=0;a&&f<c.length;){for(var d=c[f].replace(/\s+$/,""),p=f+1;p<c.length;++p){var g=c[p];if(!/\s/.test(g[0]))break;d+=g,f=p}if(a=d.match(n),a){for(var v={name:a[1],values:[]},m=a[2].split(","),E=0;E<m.length;++E)v.values.push(LL(m[E]));if(u.procType)if(!u.contentDomain&&v.name==="Content-Domain")u.contentDomain=m[0]||"";else if(!u.dekInfo&&v.name==="DEK-Info"){if(v.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');u.dekInfo={algorithm:m[0],parameters:m[1]||null}}else u.headers.push(v);else{if(v.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(v.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');u.procType={version:m[0],type:m[1]}}}++f}if(u.procType==="ENCRYPTED"&&!u.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function Zc(e){for(var t=e.name+": ",r=[],n=function(c,f){return" "+f},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var a=0,s=-1,i=0;i<t.length;++i,++a)if(a>65&&s!==-1){var u=t[s];u===","?(++s,t=t.substr(0,s)+`\r
 `+t.substr(s)):t=t.substr(0,s)+`\r
`+u+t.substr(s+1),a=i-s-1,s=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(s=i);return t}function LL(e){return e.replace(/^\s+/,"")}});var bu=ue((Hq,rE)=>{var ir=ft();Vc();S0();Bt();rE.exports=ir.des=ir.des||{};ir.des.startEncrypting=function(e,t,r,n){var i=$c({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};ir.des.createEncryptionCipher=function(e,t){return $c({key:e,output:null,decrypt:!1,mode:t})};ir.des.startDecrypting=function(e,t,r,n){var i=$c({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};ir.des.createDecryptionCipher=function(e,t){return $c({key:e,output:null,decrypt:!0,mode:t})};ir.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,i){return tE(r._keys,n,i,!1)},decrypt:function(n,i){return tE(r._keys,n,i,!0)}}}),r._init=!1};ir.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=ir.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=VL(t),this._init=!0}};wi("DES-ECB",ir.cipher.modes.ecb);wi("DES-CBC",ir.cipher.modes.cbc);wi("DES-CFB",ir.cipher.modes.cfb);wi("DES-OFB",ir.cipher.modes.ofb);wi("DES-CTR",ir.cipher.modes.ctr);wi("3DES-ECB",ir.cipher.modes.ecb);wi("3DES-CBC",ir.cipher.modes.cbc);wi("3DES-CFB",ir.cipher.modes.cfb);wi("3DES-OFB",ir.cipher.modes.ofb);wi("3DES-CTR",ir.cipher.modes.ctr);function wi(e,t){var r=function(){return new ir.des.Algorithm(e,t)};ir.cipher.registerAlgorithm(e,r)}var PL=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],OL=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],ML=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],UL=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],FL=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],qL=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],GL=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],KL=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function VL(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],p=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],g=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],v=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],m=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],E=e.length()>8?3:1,_=[],C=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],B=0,R,D=0;D<E;D++){var L=e.getInt32(),O=e.getInt32();R=(L>>>4^O)&252645135,O^=R,L^=R<<4,R=(O>>>-16^L)&65535,L^=R,O^=R<<-16,R=(L>>>2^O)&858993459,O^=R,L^=R<<2,R=(O>>>-16^L)&65535,L^=R,O^=R<<-16,R=(L>>>1^O)&1431655765,O^=R,L^=R<<1,R=(O>>>8^L)&16711935,L^=R,O^=R<<8,R=(L>>>1^O)&1431655765,O^=R,L^=R<<1,R=L<<8|O>>>20&240,L=O<<24|O<<8&16711680|O>>>8&65280|O>>>24&240,O=R;for(var ae=0;ae<C.length;++ae){C[ae]?(L=L<<2|L>>>26,O=O<<2|O>>>26):(L=L<<1|L>>>27,O=O<<1|O>>>27),L&=-15,O&=-15;var j=t[L>>>28]|r[L>>>24&15]|n[L>>>20&15]|i[L>>>16&15]|a[L>>>12&15]|s[L>>>8&15]|u[L>>>4&15],Y=c[O>>>28]|f[O>>>24&15]|d[O>>>20&15]|p[O>>>16&15]|g[O>>>12&15]|v[O>>>8&15]|m[O>>>4&15];R=(Y>>>16^j)&65535,_[B++]=j^R,_[B++]=Y^R<<16}}return _}function tE(e,t,r,n){var i=e.length===32?3:9,a;i===3?a=n?[30,-2,-2]:[0,32,2]:a=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var s,u=t[0],c=t[1];s=(u>>>4^c)&252645135,c^=s,u^=s<<4,s=(u>>>16^c)&65535,c^=s,u^=s<<16,s=(c>>>2^u)&858993459,u^=s,c^=s<<2,s=(c>>>8^u)&16711935,u^=s,c^=s<<8,s=(u>>>1^c)&1431655765,c^=s,u^=s<<1,u=u<<1|u>>>31,c=c<<1|c>>>31;for(var f=0;f<i;f+=3){for(var d=a[f+1],p=a[f+2],g=a[f];g!=d;g+=p){var v=c^e[g],m=(c>>>4|c<<28)^e[g+1];s=u,u=c,c=s^(OL[v>>>24&63]|UL[v>>>16&63]|qL[v>>>8&63]|KL[v&63]|PL[m>>>24&63]|ML[m>>>16&63]|FL[m>>>8&63]|GL[m&63])}s=u,u=c,c=s}u=u>>>1|u<<31,c=c>>>1|c<<31,s=(u>>>1^c)&1431655765,c^=s,u^=s<<1,s=(c>>>8^u)&16711935,u^=s,c^=s<<8,s=(c>>>2^u)&858993459,u^=s,c^=s<<2,s=(u>>>16^c)&65535,c^=s,u^=s<<16,s=(u>>>4^c)&252645135,c^=s,u^=s<<4,r[0]=u,r[1]=c}function $c(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=ir.cipher.createDecipher(r,e.key):n=ir.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(a,s){var u=null;s instanceof ir.util.ByteBuffer&&(u=s,s={}),s=s||{},s.output=u,s.iv=a,i.call(n,s)},n}});var ef=ue((Yq,nE)=>{var Zr=ft();uo();Ci();Bt();var HL=Zr.pkcs5=Zr.pkcs5||{},Qi;Zr.util.isNodejs&&!Zr.options.usePureJavaScript&&(Qi=require("crypto"));nE.exports=Zr.pbkdf2=HL.pbkdf2=function(e,t,r,n,i,a){if(typeof i=="function"&&(a=i,i=null),Zr.util.isNodejs&&!Zr.options.usePureJavaScript&&Qi.pbkdf2&&(i===null||typeof i!="object")&&(Qi.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),a?Qi.pbkdf2Sync.length===4?Qi.pbkdf2(e,t,r,n,function(R,D){if(R)return a(R);a(null,D.toString("binary"))}):Qi.pbkdf2(e,t,r,n,i,function(R,D){if(R)return a(R);a(null,D.toString("binary"))}):Qi.pbkdf2Sync.length===4?Qi.pbkdf2Sync(e,t,r,n).toString("binary"):Qi.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i=="undefined"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Zr.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Zr.md[i].create()}var s=i.digestLength;if(n>4294967295*s){var u=new Error("Derived key is too long.");if(a)return a(u);throw u}var c=Math.ceil(n/s),f=n-(c-1)*s,d=Zr.hmac.create();d.start(i,e);var p="",g,v,m;if(!a){for(var E=1;E<=c;++E){d.start(null,null),d.update(t),d.update(Zr.util.int32ToBytes(E)),g=m=d.digest().getBytes();for(var _=2;_<=r;++_)d.start(null,null),d.update(m),v=d.digest().getBytes(),g=Zr.util.xorBytes(g,v,s),m=v;p+=E<c?g:g.substr(0,f)}return p}var E=1,_;function C(){if(E>c)return a(null,p);d.start(null,null),d.update(t),d.update(Zr.util.int32ToBytes(E)),g=m=d.digest().getBytes(),_=2,B()}function B(){if(_<=r)return d.start(null,null),d.update(m),v=d.digest().getBytes(),g=Zr.util.xorBytes(g,v,s),m=v,++_,Zr.util.setImmediate(B);p+=E<c?g:g.substr(0,f),++E,C()}C()}});var N0=ue((jq,uE)=>{var bi=ft();Ci();Bt();var iE=uE.exports=bi.sha256=bi.sha256||{};bi.md.sha256=bi.md.algorithms.sha256=iE;iE.create=function(){aE||YL();var e=null,t=bi.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return t=bi.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=bi.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var u=n.fullMessageLength.length-1;u>=0;--u)n.fullMessageLength[u]+=s[1],s[1]=s[0]+(n.fullMessageLength[u]/4294967296>>>0),n.fullMessageLength[u]=n.fullMessageLength[u]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),oE(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=bi.util.createBuffer();i.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(R0.substr(0,n.blockLength-s));for(var u,c,f=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)u=n.fullMessageLength[d+1]*8,c=u/4294967296>>>0,f+=c,i.putInt32(f>>>0),f=u>>>0;i.putInt32(f);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};oE(p,r,i);var g=bi.util.createBuffer();return g.putInt32(p.h0),g.putInt32(p.h1),g.putInt32(p.h2),g.putInt32(p.h3),g.putInt32(p.h4),g.putInt32(p.h5),g.putInt32(p.h6),g.putInt32(p.h7),g},n};var R0=null,aE=!1,sE=null;function YL(){R0=String.fromCharCode(128),R0+=bi.util.fillString(String.fromCharCode(0),64),sE=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],aE=!0}function oE(e,t,r){for(var n,i,a,s,u,c,f,d,p,g,v,m,E,_,C,B=r.length();B>=64;){for(f=0;f<16;++f)t[f]=r.getInt32();for(;f<64;++f)n=t[f-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[f-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[f]=n+t[f-7]+i+t[f-16]|0;for(d=e.h0,p=e.h1,g=e.h2,v=e.h3,m=e.h4,E=e.h5,_=e.h6,C=e.h7,f=0;f<64;++f)s=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),u=_^m&(E^_),a=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),c=d&p|g&(d^p),n=C+s+u+sE[f]+t[f],i=a+c,C=_,_=E,E=m,m=v+n>>>0,v=g,g=p,p=d,d=n+i>>>0;e.h0=e.h0+d|0,e.h1=e.h1+p|0,e.h2=e.h2+g|0,e.h3=e.h3+v|0,e.h4=e.h4+m|0,e.h5=e.h5+E|0,e.h6=e.h6+_|0,e.h7=e.h7+C|0,B-=64}}});var D0=ue((Wq,lE)=>{var Si=ft();Bt();var tf=null;Si.util.isNodejs&&!Si.options.usePureJavaScript&&!process.versions["node-webkit"]&&(tf=require("crypto"));var jL=lE.exports=Si.prng=Si.prng||{};jL.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(f,d){if(!d)return t.generateSync(f);var p=t.plugin.cipher,g=t.plugin.increment,v=t.plugin.formatKey,m=t.plugin.formatSeed,E=Si.util.createBuffer();t.key=null,_();function _(C){if(C)return d(C);if(E.length()>=f)return d(null,E.getBytes(f));if(t.generated>1048575&&(t.key=null),t.key===null)return Si.util.nextTick(function(){a(_)});var B=p(t.key,t.seed);t.generated+=B.length,E.putBytes(B),t.key=v(p(t.key,g(t.seed))),t.seed=m(p(t.key,t.seed)),Si.util.setImmediate(_)}},t.generateSync=function(f){var d=t.plugin.cipher,p=t.plugin.increment,g=t.plugin.formatKey,v=t.plugin.formatSeed;t.key=null;for(var m=Si.util.createBuffer();m.length()<f;){t.generated>1048575&&(t.key=null),t.key===null&&s();var E=d(t.key,t.seed);t.generated+=E.length,m.putBytes(E),t.key=g(d(t.key,p(t.seed))),t.seed=v(d(t.key,t.seed))}return m.getBytes(f)};function a(f){if(t.pools[0].messageLength>=32)return u(),f();var d=32-t.pools[0].messageLength<<5;t.seedFile(d,function(p,g){if(p)return f(p);t.collect(g),u(),f()})}function s(){if(t.pools[0].messageLength>=32)return u();var f=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(f)),u()}function u(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var f=t.plugin.md.create();f.update(t.keyBytes);for(var d=1,p=0;p<32;++p)t.reseeds%d==0&&(f.update(t.pools[p].digest().getBytes()),t.pools[p].start()),d=d<<1;t.keyBytes=f.digest().getBytes(),f.start(),f.update(t.keyBytes);var g=f.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(g),t.generated=0}function c(f){var d=null,p=Si.util.globalScope,g=p.crypto||p.msCrypto;g&&g.getRandomValues&&(d=function(L){return g.getRandomValues(L)});var v=Si.util.createBuffer();if(d)for(;v.length()<f;){var m=Math.max(1,Math.min(f-v.length(),65536)/4),E=new Uint32Array(Math.floor(m));try{d(E);for(var _=0;_<E.length;++_)v.putInt32(E[_])}catch(L){if(!(typeof QuotaExceededError!="undefined"&&L instanceof QuotaExceededError))throw L}}if(v.length()<f)for(var C,B,R,D=Math.floor(Math.random()*65536);v.length()<f;){B=16807*(D&65535),C=16807*(D>>16),B+=(C&32767)<<16,B+=C>>15,B=(B&2147483647)+(B>>31),D=B&4294967295;for(var _=0;_<3;++_)R=D>>>(_<<3),R^=Math.floor(Math.random()*256),v.putByte(R&255)}return v.getBytes(f)}return tf?(t.seedFile=function(f,d){tf.randomBytes(f,function(p,g){if(p)return d(p);d(null,g.toString())})},t.seedFileSync=function(f){return tf.randomBytes(f).toString()}):(t.seedFile=function(f,d){try{d(null,c(f))}catch(p){d(p)}},t.seedFileSync=c),t.collect=function(f){for(var d=f.length,p=0;p<d;++p)t.pools[t.pool].update(f.substr(p,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(f,d){for(var p="",g=0;g<d;g+=8)p+=String.fromCharCode(f>>g&255);t.collect(p)},t.registerWorker=function(f){if(f===self)t.seedFile=function(p,g){function v(m){var E=m.data;E.forge&&E.forge.prng&&(self.removeEventListener("message",v),g(E.forge.prng.err,E.forge.prng.bytes))}self.addEventListener("message",v),self.postMessage({forge:{prng:{needed:p}}})};else{var d=function(p){var g=p.data;g.forge&&g.forge.prng&&t.seedFile(g.forge.prng.needed,function(v,m){f.postMessage({forge:{prng:{err:v,bytes:m}}})})};f.addEventListener("message",d)}},t}});var Un=ue((zq,L0)=>{var Ir=ft();Sa();N0();D0();Bt();(function(){if(Ir.random&&Ir.random.getBytes){L0.exports=Ir.random;return}(function(e){var t={},r=new Array(4),n=Ir.util.createBuffer();t.formatKey=function(p){var g=Ir.util.createBuffer(p);return p=new Array(4),p[0]=g.getInt32(),p[1]=g.getInt32(),p[2]=g.getInt32(),p[3]=g.getInt32(),Ir.aes._expandKey(p,!1)},t.formatSeed=function(p){var g=Ir.util.createBuffer(p);return p=new Array(4),p[0]=g.getInt32(),p[1]=g.getInt32(),p[2]=g.getInt32(),p[3]=g.getInt32(),p},t.cipher=function(p,g){return Ir.aes._updateBlock(p,g,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(p){return++p[3],p},t.md=Ir.md.sha256;function i(){var p=Ir.prng.create(t);return p.getBytes=function(g,v){return p.generate(g,v)},p.getBytesSync=function(g){return p.generate(g)},p}var a=i(),s=null,u=Ir.util.globalScope,c=u.crypto||u.msCrypto;if(c&&c.getRandomValues&&(s=function(p){return c.getRandomValues(p)}),Ir.options.usePureJavaScript||!Ir.util.isNodejs&&!s){if(typeof window=="undefined"||window.document===void 0,a.collectInt(+new Date,32),typeof navigator!="undefined"){var f="";for(var d in navigator)try{typeof navigator[d]=="string"&&(f+=navigator[d])}catch(p){}a.collect(f),f=null}e&&(e().mousemove(function(p){a.collectInt(p.clientX,16),a.collectInt(p.clientY,16)}),e().keypress(function(p){a.collectInt(p.charCode,8)}))}if(!Ir.random)Ir.random=a;else for(var d in a)Ir.random[d]=a[d];Ir.random.createInstance=i,L0.exports=Ir.random})(typeof jQuery!="undefined"?jQuery:null)})()});var O0=ue((Jq,dE)=>{var fn=ft();Bt();var P0=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],cE=[1,2,3,5],WL=function(e,t){return e<<t&65535|(e&65535)>>16-t},zL=function(e,t){return(e&65535)>>t|e<<16-t&65535};dE.exports=fn.rc2=fn.rc2||{};fn.rc2.expandKey=function(e,t){typeof e=="string"&&(e=fn.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,a=Math.ceil(i/8),s=255>>(i&7),u;for(u=n;u<128;u++)r.putByte(P0[r.at(u-1)+r.at(u-n)&255]);for(r.setAt(128-a,P0[r.at(128-a)&s]),u=127-a;u>=0;u--)r.setAt(u,P0[r.at(u+1)^r.at(u+a)]);return r};var fE=function(e,t,r){var n=!1,i=null,a=null,s=null,u,c,f,d,p=[];for(e=fn.rc2.expandKey(e,t),f=0;f<64;f++)p.push(e.getInt16Le());r?(u=function(m){for(f=0;f<4;f++)m[f]+=p[d]+(m[(f+3)%4]&m[(f+2)%4])+(~m[(f+3)%4]&m[(f+1)%4]),m[f]=WL(m[f],cE[f]),d++},c=function(m){for(f=0;f<4;f++)m[f]+=p[m[(f+3)%4]&63]}):(u=function(m){for(f=3;f>=0;f--)m[f]=zL(m[f],cE[f]),m[f]-=p[d]+(m[(f+3)%4]&m[(f+2)%4])+(~m[(f+3)%4]&m[(f+1)%4]),d--},c=function(m){for(f=3;f>=0;f--)m[f]-=p[m[(f+3)%4]&63]});var g=function(m){var E=[];for(f=0;f<4;f++){var _=i.getInt16Le();s!==null&&(r?_^=s.getInt16Le():s.putInt16Le(_)),E.push(_&65535)}d=r?0:63;for(var C=0;C<m.length;C++)for(var B=0;B<m[C][0];B++)m[C][1](E);for(f=0;f<4;f++)s!==null&&(r?s.putInt16Le(E[f]):E[f]^=s.getInt16Le()),a.putInt16Le(E[f])},v=null;return v={start:function(m,E){m&&typeof m=="string"&&(m=fn.util.createBuffer(m)),n=!1,i=fn.util.createBuffer(),a=E||new fn.util.createBuffer,s=m,v.output=a},update:function(m){for(n||i.putBuffer(m);i.length()>=8;)g([[5,u],[1,c],[6,u],[1,c],[5,u]])},finish:function(m){var E=!0;if(r)if(m)E=m(8,i,!r);else{var _=i.length()===8?8:8-i.length();i.fillWithByte(_,_)}if(E&&(n=!0,v.update()),!r&&(E=i.length()===0,E))if(m)E=m(8,a,!r);else{var C=a.length(),B=a.at(C-1);B>C?E=!1:a.truncate(B)}return E}},v};fn.rc2.startEncrypting=function(e,t,r){var n=fn.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};fn.rc2.createEncryptionCipher=function(e,t){return fE(e,t,!0)};fn.rc2.startDecrypting=function(e,t,r){var n=fn.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};fn.rc2.createDecryptionCipher=function(e,t){return fE(e,t,!1)}});var Tu=ue((Qq,EE)=>{var M0=ft();EE.exports=M0.jsbn=M0.jsbn||{};var Xi,JL=244837814094590,hE=(JL&16777215)==15715070;function he(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}M0.jsbn.BigInteger=he;function Rt(){return new he(null)}function QL(e,t,r,n,i,a){for(;--a>=0;){var s=t*this.data[e++]+r.data[n]+i;i=Math.floor(s/67108864),r.data[n++]=s&67108863}return i}function XL(e,t,r,n,i,a){for(var s=t&32767,u=t>>15;--a>=0;){var c=this.data[e]&32767,f=this.data[e++]>>15,d=u*c+f*s;c=s*c+((d&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(d>>>15)+u*f+(i>>>30),r.data[n++]=c&1073741823}return i}function pE(e,t,r,n,i,a){for(var s=t&16383,u=t>>14;--a>=0;){var c=this.data[e]&16383,f=this.data[e++]>>14,d=u*c+f*s;c=s*c+((d&16383)<<14)+r.data[n]+i,i=(c>>28)+(d>>14)+u*f,r.data[n++]=c&268435455}return i}typeof navigator=="undefined"?(he.prototype.am=pE,Xi=28):hE&&navigator.appName=="Microsoft Internet Explorer"?(he.prototype.am=XL,Xi=30):hE&&navigator.appName!="Netscape"?(he.prototype.am=QL,Xi=26):(he.prototype.am=pE,Xi=28);he.prototype.DB=Xi;he.prototype.DM=(1<<Xi)-1;he.prototype.DV=1<<Xi;var U0=52;he.prototype.FV=Math.pow(2,U0);he.prototype.F1=U0-Xi;he.prototype.F2=2*Xi-U0;var ZL="0123456789abcdefghijklmnopqrstuvwxyz",rf=new Array,co,Fn;co="0".charCodeAt(0);for(Fn=0;Fn<=9;++Fn)rf[co++]=Fn;co="a".charCodeAt(0);for(Fn=10;Fn<36;++Fn)rf[co++]=Fn;co="A".charCodeAt(0);for(Fn=10;Fn<36;++Fn)rf[co++]=Fn;function gE(e){return ZL.charAt(e)}function mE(e,t){var r=rf[e.charCodeAt(t)];return r==null?-1:r}function $L(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function e6(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function xa(e){var t=Rt();return t.fromInt(e),t}function t6(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,a=0;--n>=0;){var s=r==8?e[n]&255:mE(e,n);if(s<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,a==0?this.data[this.t++]=s:a+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this.data[this.t++]=s>>this.DB-a):this.data[this.t-1]|=s<<a,a+=r,a>=this.DB&&(a-=this.DB)}r==8&&(e[0]&128)!=0&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&he.ZERO.subTo(this,this)}function r6(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}function n6(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,a="",s=this.t,u=this.DB-s*this.DB%t;if(s-- >0)for(u<this.DB&&(n=this.data[s]>>u)>0&&(i=!0,a=gE(n));s>=0;)u<t?(n=(this.data[s]&(1<<u)-1)<<t-u,n|=this.data[--s]>>(u+=this.DB-t)):(n=this.data[s]>>(u-=t)&r,u<=0&&(u+=this.DB,--s)),n>0&&(i=!0),i&&(a+=gE(n));return i?a:"0"}function i6(){var e=Rt();return he.ZERO.subTo(this,e),e}function a6(){return this.s<0?this.negate():this}function s6(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}function nf(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function o6(){return this.t<=0?0:this.DB*(this.t-1)+nf(this.data[this.t-1]^this.s&this.DM)}function u6(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}function l6(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}function c6(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM,u;for(u=this.t-1;u>=0;--u)t.data[u+a+1]=this.data[u]>>n|s,s=(this.data[u]&i)<<r;for(u=a-1;u>=0;--u)t.data[u]=0;t.data[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()}function f6(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,a=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var s=r+1;s<this.t;++s)t.data[s-r-1]|=(this.data[s]&a)<<i,t.data[s-r]=this.data[s]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&a)<<i),t.t=this.t-r,t.clamp()}function d6(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}function h6(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&he.ZERO.subTo(t,t)}function p6(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}function g6(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Rt());var a=Rt(),s=this.s,u=e.s,c=this.DB-nf(n.data[n.t-1]);c>0?(n.lShiftTo(c,a),i.lShiftTo(c,r)):(n.copyTo(a),i.copyTo(r));var f=a.t,d=a.data[f-1];if(d!=0){var p=d*(1<<this.F1)+(f>1?a.data[f-2]>>this.F2:0),g=this.FV/p,v=(1<<this.F1)/p,m=1<<this.F2,E=r.t,_=E-f,C=t==null?Rt():t;for(a.dlShiftTo(_,C),r.compareTo(C)>=0&&(r.data[r.t++]=1,r.subTo(C,r)),he.ONE.dlShiftTo(f,C),C.subTo(a,a);a.t<f;)a.data[a.t++]=0;for(;--_>=0;){var B=r.data[--E]==d?this.DM:Math.floor(r.data[E]*g+(r.data[E-1]+m)*v);if((r.data[E]+=a.am(0,B,r,_,0,f))<B)for(a.dlShiftTo(_,C),r.subTo(C,r);r.data[E]<--B;)r.subTo(C,r)}t!=null&&(r.drShiftTo(f,t),s!=u&&he.ZERO.subTo(t,t)),r.t=f,r.clamp(),c>0&&r.rShiftTo(c,r),s<0&&he.ZERO.subTo(r,r)}}}function m6(e){var t=Rt();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(he.ZERO)>0&&e.subTo(t,t),t}function as(e){this.m=e}function y6(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function v6(e){return e}function _6(e){e.divRemTo(this.m,null,e)}function E6(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function C6(e,t){e.squareTo(t),this.reduce(t)}as.prototype.convert=y6;as.prototype.revert=v6;as.prototype.reduce=_6;as.prototype.mulTo=E6;as.prototype.sqrTo=C6;function A6(){if(this.t<1)return 0;var e=this.data[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function ss(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function w6(e){var t=Rt();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(he.ZERO)>0&&this.m.subTo(t,t),t}function b6(e){var t=Rt();return e.copyTo(t),this.reduce(t),t}function S6(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function T6(e,t){e.squareTo(t),this.reduce(t)}function x6(e,t,r){e.multiplyTo(t,r),this.reduce(r)}ss.prototype.convert=w6;ss.prototype.revert=b6;ss.prototype.reduce=S6;ss.prototype.mulTo=x6;ss.prototype.sqrTo=T6;function I6(){return(this.t>0?this.data[0]&1:this.s)==0}function k6(e,t){if(e>4294967295||e<1)return he.ONE;var r=Rt(),n=Rt(),i=t.convert(this),a=nf(e)-1;for(i.copyTo(r);--a>=0;)if(t.sqrTo(r,n),(e&1<<a)>0)t.mulTo(n,i,r);else{var s=r;r=n,n=s}return t.revert(r)}function B6(e,t){var r;return e<256||t.isEven()?r=new as(t):r=new ss(t),this.exp(e,r)}he.prototype.copyTo=$L;he.prototype.fromInt=e6;he.prototype.fromString=t6;he.prototype.clamp=r6;he.prototype.dlShiftTo=u6;he.prototype.drShiftTo=l6;he.prototype.lShiftTo=c6;he.prototype.rShiftTo=f6;he.prototype.subTo=d6;he.prototype.multiplyTo=h6;he.prototype.squareTo=p6;he.prototype.divRemTo=g6;he.prototype.invDigit=A6;he.prototype.isEven=I6;he.prototype.exp=k6;he.prototype.toString=n6;he.prototype.negate=i6;he.prototype.abs=a6;he.prototype.compareTo=s6;he.prototype.bitLength=o6;he.prototype.mod=m6;he.prototype.modPowInt=B6;he.ZERO=xa(0);he.ONE=xa(1);function R6(){var e=Rt();return this.copyTo(e),e}function N6(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function D6(){return this.t==0?this.s:this.data[0]<<24>>24}function L6(){return this.t==0?this.s:this.data[0]<<16>>16}function P6(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function O6(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function M6(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=xa(r),i=Rt(),a=Rt(),s="";for(this.divRemTo(n,i,a);i.signum()>0;)s=(r+a.intValue()).toString(e).substr(1)+s,i.divRemTo(n,i,a);return a.intValue().toString(e)+s}function U6(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,a=0,s=0,u=0;u<e.length;++u){var c=mE(e,u);if(c<0){e.charAt(u)=="-"&&this.signum()==0&&(i=!0);continue}s=t*s+c,++a>=r&&(this.dMultiply(n),this.dAddOffset(s,0),a=0,s=0)}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(s,0)),i&&he.ZERO.subTo(this,this)}function F6(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(he.ONE.shiftLeft(e-1),F0,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(he.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function q6(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function G6(e){return this.compareTo(e)==0}function K6(e){return this.compareTo(e)<0?this:e}function V6(e){return this.compareTo(e)>0?this:e}function H6(e,t,r){var n,i,a=Math.min(e.t,this.t);for(n=0;n<a;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=a;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=a;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function Y6(e,t){return e&t}function j6(e){var t=Rt();return this.bitwiseTo(e,Y6,t),t}function F0(e,t){return e|t}function W6(e){var t=Rt();return this.bitwiseTo(e,F0,t),t}function yE(e,t){return e^t}function z6(e){var t=Rt();return this.bitwiseTo(e,yE,t),t}function vE(e,t){return e&~t}function J6(e){var t=Rt();return this.bitwiseTo(e,vE,t),t}function Q6(){for(var e=Rt(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}function X6(e){var t=Rt();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function Z6(e){var t=Rt();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function $6(e){if(e==0)return-1;var t=0;return(e&65535)==0&&(e>>=16,t+=16),(e&255)==0&&(e>>=8,t+=8),(e&15)==0&&(e>>=4,t+=4),(e&3)==0&&(e>>=2,t+=2),(e&1)==0&&++t,t}function eP(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+$6(this.data[e]);return this.s<0?this.t*this.DB:-1}function tP(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function rP(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=tP(this.data[r]^t);return e}function nP(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}function iP(e,t){var r=he.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function aP(e){return this.changeBit(e,F0)}function sP(e){return this.changeBit(e,vE)}function oP(e){return this.changeBit(e,yE)}function uP(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}function lP(e){var t=Rt();return this.addTo(e,t),t}function cP(e){var t=Rt();return this.subTo(e,t),t}function fP(e){var t=Rt();return this.multiplyTo(e,t),t}function dP(e){var t=Rt();return this.divRemTo(e,t,null),t}function hP(e){var t=Rt();return this.divRemTo(e,null,t),t}function pP(e){var t=Rt(),r=Rt();return this.divRemTo(e,t,r),new Array(t,r)}function gP(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function mP(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function Su(){}function _E(e){return e}function yP(e,t,r){e.multiplyTo(t,r)}function vP(e,t){e.squareTo(t)}Su.prototype.convert=_E;Su.prototype.revert=_E;Su.prototype.mulTo=yP;Su.prototype.sqrTo=vP;function _P(e){return this.exp(e,new Su)}function EP(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}function CP(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}function fo(e){this.r2=Rt(),this.q3=Rt(),he.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function AP(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Rt();return e.copyTo(t),this.reduce(t),t}function wP(e){return e}function bP(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function SP(e,t){e.squareTo(t),this.reduce(t)}function TP(e,t,r){e.multiplyTo(t,r),this.reduce(r)}fo.prototype.convert=AP;fo.prototype.revert=wP;fo.prototype.reduce=bP;fo.prototype.mulTo=TP;fo.prototype.sqrTo=SP;function xP(e,t){var r=e.bitLength(),n,i=xa(1),a;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?a=new as(t):t.isEven()?a=new fo(t):a=new ss(t);var s=new Array,u=3,c=n-1,f=(1<<n)-1;if(s[1]=a.convert(this),n>1){var d=Rt();for(a.sqrTo(s[1],d);u<=f;)s[u]=Rt(),a.mulTo(d,s[u-2],s[u]),u+=2}var p=e.t-1,g,v=!0,m=Rt(),E;for(r=nf(e.data[p])-1;p>=0;){for(r>=c?g=e.data[p]>>r-c&f:(g=(e.data[p]&(1<<r+1)-1)<<c-r,p>0&&(g|=e.data[p-1]>>this.DB+r-c)),u=n;(g&1)==0;)g>>=1,--u;if((r-=u)<0&&(r+=this.DB,--p),v)s[g].copyTo(i),v=!1;else{for(;u>1;)a.sqrTo(i,m),a.sqrTo(m,i),u-=2;u>0?a.sqrTo(i,m):(E=i,i=m,m=E),a.mulTo(m,s[g],i)}for(;p>=0&&(e.data[p]&1<<r)==0;)a.sqrTo(i,m),E=i,i=m,m=E,--r<0&&(r=this.DB-1,--p)}return a.revert(i)}function IP(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return t;for(i<a&&(a=i),a>0&&(t.rShiftTo(a,t),r.rShiftTo(a,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}function kP(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}function BP(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return he.ZERO;for(var r=e.clone(),n=this.clone(),i=xa(1),a=xa(0),s=xa(0),u=xa(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!a.isEven())&&(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),t?((!s.isEven()||!u.isEven())&&(s.addTo(this,s),u.subTo(e,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(s,i),a.subTo(u,a)):(n.subTo(r,n),t&&s.subTo(i,s),u.subTo(a,u))}if(n.compareTo(he.ONE)!=0)return he.ZERO;if(u.compareTo(e)>=0)return u.subtract(e);if(u.signum()<0)u.addTo(e,u);else return u;return u.signum()<0?u.add(e):u}var oi=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],RP=(1<<26)/oi[oi.length-1];function NP(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=oi[oi.length-1]){for(t=0;t<oi.length;++t)if(r.data[0]==oi[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<oi.length;){for(var n=oi[t],i=t+1;i<oi.length&&n<RP;)n*=oi[i++];for(n=r.modInt(n);t<i;)if(n%oi[t++]==0)return!1}return r.millerRabin(e)}function DP(e){var t=this.subtract(he.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=LP(),a,s=0;s<e;++s){do a=new he(this.bitLength(),i);while(a.compareTo(he.ONE)<=0||a.compareTo(t)>=0);var u=a.modPow(n,this);if(u.compareTo(he.ONE)!=0&&u.compareTo(t)!=0){for(var c=1;c++<r&&u.compareTo(t)!=0;)if(u=u.modPowInt(2,this),u.compareTo(he.ONE)==0)return!1;if(u.compareTo(t)!=0)return!1}}return!0}function LP(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}he.prototype.chunkSize=P6;he.prototype.toRadix=M6;he.prototype.fromRadix=U6;he.prototype.fromNumber=F6;he.prototype.bitwiseTo=H6;he.prototype.changeBit=iP;he.prototype.addTo=uP;he.prototype.dMultiply=gP;he.prototype.dAddOffset=mP;he.prototype.multiplyLowerTo=EP;he.prototype.multiplyUpperTo=CP;he.prototype.modInt=kP;he.prototype.millerRabin=DP;he.prototype.clone=R6;he.prototype.intValue=N6;he.prototype.byteValue=D6;he.prototype.shortValue=L6;he.prototype.signum=O6;he.prototype.toByteArray=q6;he.prototype.equals=G6;he.prototype.min=K6;he.prototype.max=V6;he.prototype.and=j6;he.prototype.or=W6;he.prototype.xor=z6;he.prototype.andNot=J6;he.prototype.not=Q6;he.prototype.shiftLeft=X6;he.prototype.shiftRight=Z6;he.prototype.getLowestSetBit=eP;he.prototype.bitCount=rP;he.prototype.testBit=nP;he.prototype.setBit=aP;he.prototype.clearBit=sP;he.prototype.flipBit=oP;he.prototype.add=lP;he.prototype.subtract=cP;he.prototype.multiply=fP;he.prototype.divide=dP;he.prototype.remainder=hP;he.prototype.divideAndRemainder=pP;he.prototype.modPow=xP;he.prototype.modInverse=BP;he.prototype.pow=_P;he.prototype.gcd=IP;he.prototype.isProbablePrime=NP});var ho=ue((Xq,bE)=>{var Ti=ft();Ci();Bt();var CE=bE.exports=Ti.sha1=Ti.sha1||{};Ti.md.sha1=Ti.md.algorithms.sha1=CE;CE.create=function(){AE||PP();var e=null,t=Ti.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return t=Ti.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=Ti.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var u=n.fullMessageLength.length-1;u>=0;--u)n.fullMessageLength[u]+=s[1],s[1]=s[0]+(n.fullMessageLength[u]/4294967296>>>0),n.fullMessageLength[u]=n.fullMessageLength[u]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),wE(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Ti.util.createBuffer();i.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(q0.substr(0,n.blockLength-s));for(var u,c,f=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)u=n.fullMessageLength[d+1]*8,c=u/4294967296>>>0,f+=c,i.putInt32(f>>>0),f=u>>>0;i.putInt32(f);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};wE(p,r,i);var g=Ti.util.createBuffer();return g.putInt32(p.h0),g.putInt32(p.h1),g.putInt32(p.h2),g.putInt32(p.h3),g.putInt32(p.h4),g},n};var q0=null,AE=!1;function PP(){q0=String.fromCharCode(128),q0+=Ti.util.fillString(String.fromCharCode(0),64),AE=!0}function wE(e,t,r){for(var n,i,a,s,u,c,f,d,p=r.length();p>=64;){for(i=e.h0,a=e.h1,s=e.h2,u=e.h3,c=e.h4,d=0;d<16;++d)n=r.getInt32(),t[d]=n,f=u^a&(s^u),n=(i<<5|i>>>27)+f+c+1518500249+n,c=u,u=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;d<20;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,f=u^a&(s^u),n=(i<<5|i>>>27)+f+c+1518500249+n,c=u,u=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;d<32;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,f=a^s^u,n=(i<<5|i>>>27)+f+c+1859775393+n,c=u,u=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;d<40;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,f=a^s^u,n=(i<<5|i>>>27)+f+c+1859775393+n,c=u,u=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;d<60;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,f=a&s|u&(a^s),n=(i<<5|i>>>27)+f+c+2400959708+n,c=u,u=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;d<80;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,f=a^s^u,n=(i<<5|i>>>27)+f+c+3395469782+n,c=u,u=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+a|0,e.h2=e.h2+s|0,e.h3=e.h3+u|0,e.h4=e.h4+c|0,p-=64}}});var G0=ue((Zq,TE)=>{var xi=ft();Bt();Un();ho();var SE=TE.exports=xi.pkcs1=xi.pkcs1||{};SE.encode_rsa_oaep=function(e,t,r){var n,i,a,s;typeof r=="string"?(n=r,i=arguments[3]||void 0,a=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md)),a?a.start():a=xi.md.sha1.create(),s||(s=a);var u=Math.ceil(e.n.bitLength()/8),c=u-2*a.digestLength-2;if(t.length>c){var f=new Error("RSAES-OAEP input message length is too long.");throw f.length=t.length,f.maxLength=c,f}n||(n=""),a.update(n,"raw");for(var d=a.digest(),p="",g=c-t.length,v=0;v<g;v++)p+="\0";var m=d.getBytes()+p+""+t;if(!i)i=xi.random.getBytes(a.digestLength);else if(i.length!==a.digestLength){var f=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw f.seedLength=i.length,f.digestLength=a.digestLength,f}var E=af(i,u-a.digestLength-1,s),_=xi.util.xorBytes(m,E,m.length),C=af(_,a.digestLength,s),B=xi.util.xorBytes(i,C,i.length);return"\0"+B+_};SE.decode_rsa_oaep=function(e,t,r){var n,i,a;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var s=Math.ceil(e.n.bitLength()/8);if(t.length!==s){var _=new Error("RSAES-OAEP encoded message length is invalid.");throw _.length=t.length,_.expectedLength=s,_}if(i===void 0?i=xi.md.sha1.create():i.start(),a||(a=i),s<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var u=i.digest().getBytes(),c=t.charAt(0),f=t.substring(1,i.digestLength+1),d=t.substring(1+i.digestLength),p=af(d,i.digestLength,a),g=xi.util.xorBytes(f,p,f.length),v=af(g,s-i.digestLength-1,a),m=xi.util.xorBytes(d,v,d.length),E=m.substring(0,i.digestLength),_=c!=="\0",C=0;C<i.digestLength;++C)_|=u.charAt(C)!==E.charAt(C);for(var B=1,R=i.digestLength,D=i.digestLength;D<m.length;D++){var L=m.charCodeAt(D),O=L&1^1,ae=B?65534:0;_|=L&ae,B=B&O,R+=B}if(_||m.charCodeAt(R)!==1)throw new Error("Invalid RSAES-OAEP padding.");return m.substring(R+1)};function af(e,t,r){r||(r=xi.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),a=0;a<i;++a){var s=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255);r.start(),r.update(e+s),n+=r.digest().getBytes()}return n.substring(0,t)}});var V0=ue(($q,K0)=>{var Ia=ft();Bt();Tu();Un();(function(){if(Ia.prime){K0.exports=Ia.prime;return}var e=K0.exports=Ia.prime=Ia.prime||{},t=Ia.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=function(p,g){return p|g};e.generateProbablePrime=function(p,g,v){typeof g=="function"&&(v=g,g={}),g=g||{};var m=g.algorithm||"PRIMEINC";typeof m=="string"&&(m={name:m}),m.options=m.options||{};var E=g.prng||Ia.random,_={nextBytes:function(C){for(var B=E.getBytesSync(C.length),R=0;R<C.length;++R)C[R]=B.charCodeAt(R)}};if(m.name==="PRIMEINC")return a(p,_,m.options,v);throw new Error("Invalid prime generation algorithm: "+m.name)};function a(p,g,v,m){return"workers"in v?c(p,g,v,m):s(p,g,v,m)}function s(p,g,v,m){var E=f(p,g),_=0,C=d(E.bitLength());"millerRabinTests"in v&&(C=v.millerRabinTests);var B=10;"maxBlockTime"in v&&(B=v.maxBlockTime),u(E,p,g,_,C,B,m)}function u(p,g,v,m,E,_,C){var B=+new Date;do{if(p.bitLength()>g&&(p=f(g,v)),p.isProbablePrime(E))return C(null,p);p.dAddOffset(r[m++%8],0)}while(_<0||+new Date-B<_);Ia.util.setImmediate(function(){u(p,g,v,m,E,_,C)})}function c(p,g,v,m){if(typeof Worker=="undefined")return s(p,g,v,m);var E=f(p,g),_=v.workers,C=v.workLoad||100,B=C*30/8,R=v.workerScript||"forge/prime.worker.js";if(_===-1)return Ia.util.estimateCores(function(L,O){L&&(O=2),_=O-1,D()});D();function D(){_=Math.max(1,_);for(var L=[],O=0;O<_;++O)L[O]=new Worker(R);for(var ae=_,O=0;O<_;++O)L[O].addEventListener("message",Y);var j=!1;function Y(ye){if(!j){--ae;var me=ye.data;if(me.found){for(var we=0;we<L.length;++we)L[we].terminate();return j=!0,m(null,new t(me.prime,16))}E.bitLength()>p&&(E=f(p,g));var Ke=E.toString(16);ye.target.postMessage({hex:Ke,workLoad:C}),E.dAddOffset(B,0)}}}}function f(p,g){var v=new t(p,g),m=p-1;return v.testBit(m)||v.bitwiseTo(t.ONE.shiftLeft(m),i,v),v.dAddOffset(31-v.mod(n).byteValue(),0),v}function d(p){return p<=100?27:p<=150?18:p<=200?15:p<=250?12:p<=300?9:p<=350?8:p<=400?7:p<=500?6:p<=600?5:p<=800?4:p<=1250?3:2}})()});var xu=ue((eG,DE)=>{var qe=ft();si();Tu();Ta();G0();V0();Un();Bt();typeof xt=="undefined"&&(xt=qe.jsbn.BigInteger);var xt,H0=qe.util.isNodejs?require("crypto"):null,$=qe.asn1,qn=qe.util;qe.pki=qe.pki||{};DE.exports=qe.pki.rsa=qe.rsa=qe.rsa||{};var rt=qe.pki,OP=[6,4,2,4,2,4,6,2],MP={name:"PrivateKeyInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},UP={name:"RSAPrivateKey",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},FP={name:"RSAPublicKey",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},qP=qe.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},GP={name:"DigestInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:$.Class.UNIVERSAL,type:$.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:$.Class.UNIVERSAL,type:$.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},KP=function(e){var t;if(e.algorithm in rt.oids)t=rt.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=$.oidToDer(t).getBytes(),i=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),a=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);a.value.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,n)),a.value.push($.create($.Class.UNIVERSAL,$.Type.NULL,!1,""));var s=$.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(a),i.value.push(s),$.toDer(i).getBytes()},xE=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(xt.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(xt.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new xt(qe.util.bytesToHex(qe.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(xt.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),a=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(a)<0;)i=i.add(t.p);var s=i.subtract(a).multiply(t.qInv).mod(t.p).multiply(t.q).add(a);return s=s.multiply(n.modInverse(t.n)).mod(t.n),s};rt.rsa.encrypt=function(e,t,r){var n=r,i,a=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=IE(e,t,r)):(i=qe.util.createBuffer(),i.putBytes(e));for(var s=new xt(i.toHex(),16),u=xE(s,t,n),c=u.toString(16),f=qe.util.createBuffer(),d=a-Math.ceil(c.length/2);d>0;)f.putByte(0),--d;return f.putBytes(qe.util.hexToBytes(c)),f.getBytes()};rt.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var a=new Error("Encrypted message length is invalid.");throw a.length=e.length,a.expected=i,a}var s=new xt(qe.util.createBuffer(e).toHex(),16);if(s.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var u=xE(s,t,r),c=u.toString(16),f=qe.util.createBuffer(),d=i-Math.ceil(c.length/2);d>0;)f.putByte(0),--d;return f.putBytes(qe.util.hexToBytes(c)),n!==!1?sf(f.getBytes(),t,r):f.getBytes()};rt.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||qe.random,i={nextBytes:function(u){for(var c=n.getBytesSync(u.length),f=0;f<u.length;++f)u[f]=c.charCodeAt(f)}},a=r.algorithm||"PRIMEINC",s;if(a==="PRIMEINC")s={algorithm:a,state:0,bits:e,rng:i,eInt:t||65537,e:new xt(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},s.e.fromInt(s.eInt);else throw new Error("Invalid key generation algorithm: "+a);return s};rt.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new xt(null);r.fromInt(30);for(var n=0,i=function(p,g){return p|g},a=+new Date,s,u=0;e.keys===null&&(t<=0||u<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,f=c-1;e.pqState===0?(e.num=new xt(c,e.rng),e.num.testBit(f)||e.num.bitwiseTo(xt.ONE.shiftLeft(f),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(HP(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(OP[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(xt.ONE).gcd(e.e).compareTo(xt.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(xt.ONE),e.q1=e.q.subtract(xt.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(xt.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var d=e.e.modInverse(e.phi);e.keys={privateKey:rt.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:rt.rsa.setPublicKey(e.n,e.e)}}s=+new Date,u+=s-a,a=s}return e.keys!==null};rt.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!qe.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(kE("generateKeyPair"))return H0.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(u,c,f){if(u)return n(u);n(null,{privateKey:rt.privateKeyFromPem(f),publicKey:rt.publicKeyFromPem(c)})});if(BE("generateKey")&&BE("exportKey"))return qn.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:NE(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(u){return qn.globalScope.crypto.subtle.exportKey("pkcs8",u.privateKey)}).then(void 0,function(u){n(u)}).then(function(u){if(u){var c=rt.privateKeyFromAsn1($.fromDer(qe.util.createBuffer(u)));n(null,{privateKey:c,publicKey:rt.setRsaPublicKey(c.n,c.e)})}});if(RE("generateKey")&&RE("exportKey")){var i=qn.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:NE(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(u){var c=u.target.result,f=qn.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);f.oncomplete=function(d){var p=d.target.result,g=rt.privateKeyFromAsn1($.fromDer(qe.util.createBuffer(p)));n(null,{privateKey:g,publicKey:rt.setRsaPublicKey(g.n,g.e)})},f.onerror=function(d){n(d)}},i.onerror=function(u){n(u)};return}}else if(kE("generateKeyPairSync")){var a=H0.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:rt.privateKeyFromPem(a.privateKey),publicKey:rt.publicKeyFromPem(a.publicKey)}}}var s=rt.rsa.createKeyPairGenerationState(e,t,r);if(!n)return rt.rsa.stepKeyPairGenerationState(s,0),s.keys;VP(s,r,n)};rt.setRsaPublicKey=rt.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,a){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(u,c,f){return IE(u,c,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(u,c){return qe.pkcs1.encode_rsa_oaep(c,u,a)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(u){return u}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var s=i.encode(n,r,!0);return rt.rsa.encrypt(s,r,!0)},r.verify=function(n,i,a,s){typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSASSA-PKCS1-V1_5"),s===void 0&&(s={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in s||(s._parseAllDigestBytes=!0),a==="RSASSA-PKCS1-V1_5"?a={verify:function(c,f){f=sf(f,r,!0);var d=$.fromDer(f,{parseAllBytes:s._parseAllDigestBytes}),p={},g=[];if(!$.validate(d,GP,p,g)){var v=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw v.errors=g,v}var m=$.derToOid(p.algorithmIdentifier);if(!(m===qe.oids.md2||m===qe.oids.md5||m===qe.oids.sha1||m===qe.oids.sha224||m===qe.oids.sha256||m===qe.oids.sha384||m===qe.oids.sha512||m===qe.oids["sha512-224"]||m===qe.oids["sha512-256"])){var v=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw v.oid=m,v}if((m===qe.oids.md2||m===qe.oids.md5)&&!("parameters"in p))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===p.digest}}:(a==="NONE"||a==="NULL"||a===null)&&(a={verify:function(c,f){return f=sf(f,r,!0),c===f}});var u=rt.rsa.decrypt(i,r,!0,!1);return a.verify(n,u,r.n.bitLength())},r};rt.setRsaPrivateKey=rt.rsa.setPrivateKey=function(e,t,r,n,i,a,s,u){var c={n:e,e:t,d:r,p:n,q:i,dP:a,dQ:s,qInv:u};return c.decrypt=function(f,d,p){typeof d=="string"?d=d.toUpperCase():d===void 0&&(d="RSAES-PKCS1-V1_5");var g=rt.rsa.decrypt(f,c,!1,!1);if(d==="RSAES-PKCS1-V1_5")d={decode:sf};else if(d==="RSA-OAEP"||d==="RSAES-OAEP")d={decode:function(v,m){return qe.pkcs1.decode_rsa_oaep(m,v,p)}};else if(["RAW","NONE","NULL",null].indexOf(d)!==-1)d={decode:function(v){return v}};else throw new Error('Unsupported encryption scheme: "'+d+'".');return d.decode(g,c,!1)},c.sign=function(f,d){var p=!1;typeof d=="string"&&(d=d.toUpperCase()),d===void 0||d==="RSASSA-PKCS1-V1_5"?(d={encode:KP},p=1):(d==="NONE"||d==="NULL"||d===null)&&(d={encode:function(){return f}},p=1);var g=d.encode(f,c.n.bitLength());return rt.rsa.encrypt(g,c,p)},c};rt.wrapRsaPrivateKey=function(e){return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(0).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(rt.oids.rsaEncryption).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")]),$.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,$.toDer(e).getBytes())])};rt.privateKeyFromAsn1=function(e){var t={},r=[];if($.validate(e,MP,t,r)&&(e=$.fromDer(qe.util.createBuffer(t.privateKey))),t={},r=[],!$.validate(e,UP,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,a,s,u,c,f,d,p;return i=qe.util.createBuffer(t.privateKeyModulus).toHex(),a=qe.util.createBuffer(t.privateKeyPublicExponent).toHex(),s=qe.util.createBuffer(t.privateKeyPrivateExponent).toHex(),u=qe.util.createBuffer(t.privateKeyPrime1).toHex(),c=qe.util.createBuffer(t.privateKeyPrime2).toHex(),f=qe.util.createBuffer(t.privateKeyExponent1).toHex(),d=qe.util.createBuffer(t.privateKeyExponent2).toHex(),p=qe.util.createBuffer(t.privateKeyCoefficient).toHex(),rt.setRsaPrivateKey(new xt(i,16),new xt(a,16),new xt(s,16),new xt(u,16),new xt(c,16),new xt(f,16),new xt(d,16),new xt(p,16))};rt.privateKeyToAsn1=rt.privateKeyToRSAPrivateKey=function(e){return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(0).getBytes()),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.n)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.e)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.d)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.p)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.q)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.dP)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.dQ)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.qInv))])};rt.publicKeyFromAsn1=function(e){var t={},r=[];if($.validate(e,qP,t,r)){var n=$.derToOid(t.publicKeyOid);if(n!==rt.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!$.validate(e,FP,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var a=qe.util.createBuffer(t.publicKeyModulus).toHex(),s=qe.util.createBuffer(t.publicKeyExponent).toHex();return rt.setRsaPublicKey(new xt(a,16),new xt(s,16))};rt.publicKeyToAsn1=rt.publicKeyToSubjectPublicKeyInfo=function(e){return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(rt.oids.rsaEncryption).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,[rt.publicKeyToRSAPublicKey(e)])])};rt.publicKeyToRSAPublicKey=function(e){return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.n)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.e))])};function IE(e,t,r){var n=qe.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=e.length,a.max=i-11,a}n.putByte(0),n.putByte(r);var s=i-3-e.length,u;if(r===0||r===1){u=r===0?0:255;for(var c=0;c<s;++c)n.putByte(u)}else for(;s>0;){for(var f=0,d=qe.random.getBytes(s),c=0;c<s;++c)u=d.charCodeAt(c),u===0?++f:n.putByte(u);s=f}return n.putByte(0),n.putBytes(e),n}function sf(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),a=qe.util.createBuffer(e),s=a.getByte(),u=a.getByte();if(s!==0||r&&u!==0&&u!==1||!r&&u!=2||r&&u===0&&typeof n=="undefined")throw new Error("Encryption block is invalid.");var c=0;if(u===0){c=i-3-n;for(var f=0;f<c;++f)if(a.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(u===1)for(c=0;a.length()>1;){if(a.getByte()!==255){--a.read;break}++c}else if(u===2)for(c=0;a.length()>1;){if(a.getByte()===0){--a.read;break}++c}var d=a.getByte();if(d!==0||c!==i-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function VP(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){a(e.pBits,function(u,c){if(u)return r(u);if(e.p=c,e.q!==null)return s(u,e.q);a(e.qBits,s)})}function a(u,c){qe.prime.generateProbablePrime(u,n,c)}function s(u,c){if(u)return r(u);if(e.q=c,e.p.compareTo(e.q)<0){var f=e.p;e.p=e.q,e.q=f}if(e.p.subtract(xt.ONE).gcd(e.e).compareTo(xt.ONE)!==0){e.p=null,i();return}if(e.q.subtract(xt.ONE).gcd(e.e).compareTo(xt.ONE)!==0){e.q=null,a(e.qBits,s);return}if(e.p1=e.p.subtract(xt.ONE),e.q1=e.q.subtract(xt.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(xt.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,a(e.qBits,s);return}var d=e.e.modInverse(e.phi);e.keys={privateKey:rt.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:rt.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}}function Ii(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=qe.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)==0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)==128)?r.substr(1):r}function HP(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function kE(e){return qe.util.isNodejs&&typeof H0[e]=="function"}function BE(e){return typeof qn.globalScope!="undefined"&&typeof qn.globalScope.crypto=="object"&&typeof qn.globalScope.crypto.subtle=="object"&&typeof qn.globalScope.crypto.subtle[e]=="function"}function RE(e){return typeof qn.globalScope!="undefined"&&typeof qn.globalScope.msCrypto=="object"&&typeof qn.globalScope.msCrypto.subtle=="object"&&typeof qn.globalScope.msCrypto.subtle[e]=="function"}function NE(e){for(var t=qe.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}});var Y0=ue((tG,UE)=>{var ke=ft();Sa();si();bu();Ci();Ta();ef();is();Un();O0();xu();Bt();typeof LE=="undefined"&&(LE=ke.jsbn.BigInteger);var LE,se=ke.asn1,ut=ke.pki=ke.pki||{};UE.exports=ut.pbe=ke.pbe=ke.pbe||{};var os=ut.oids,YP={name:"EncryptedPrivateKeyInfo",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:se.Class.UNIVERSAL,type:se.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},jP={name:"PBES2Algorithms",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:se.Class.UNIVERSAL,type:se.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:se.Class.UNIVERSAL,type:se.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:se.Class.UNIVERSAL,type:se.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:se.Class.UNIVERSAL,type:se.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},WP={name:"pkcs-12PbeParams",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:se.Class.UNIVERSAL,type:se.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:se.Class.UNIVERSAL,type:se.Type.INTEGER,constructed:!1,capture:"iterations"}]};ut.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=ke.random.getBytesSync(r.saltSize),i=r.count,a=se.integerToDer(i),s,u,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var f,d,p;switch(r.algorithm){case"aes128":s=16,f=16,d=os["aes128-CBC"],p=ke.aes.createEncryptionCipher;break;case"aes192":s=24,f=16,d=os["aes192-CBC"],p=ke.aes.createEncryptionCipher;break;case"aes256":s=32,f=16,d=os["aes256-CBC"],p=ke.aes.createEncryptionCipher;break;case"des":s=8,f=8,d=os.desCBC,p=ke.des.createEncryptionCipher;break;default:var g=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw g.algorithm=r.algorithm,g}var v="hmacWith"+r.prfAlgorithm.toUpperCase(),m=ME(v),E=ke.pkcs5.pbkdf2(t,n,i,s,m),_=ke.random.getBytesSync(f),C=p(E);C.start(_),C.update(se.toDer(e)),C.finish(),c=C.output.getBytes();var B=zP(n,a,s,v);u=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(os.pkcs5PBES2).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(os.pkcs5PBKDF2).getBytes()),B]),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(d).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,_)])])])}else if(r.algorithm==="3des"){s=24;var R=new ke.util.ByteBuffer(n),E=ut.pbe.generatePkcs12Key(t,R,1,i,s),_=ut.pbe.generatePkcs12Key(t,R,2,i,s),C=ke.des.createEncryptionCipher(E);C.start(_),C.update(se.toDer(e)),C.finish(),c=C.output.getBytes(),u=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(os["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,n),se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,a.getBytes())])])}else{var g=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw g.algorithm=r.algorithm,g}var D=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[u,se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,c)]);return D};ut.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!se.validate(e,YP,n,i)){var a=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var s=se.derToOid(n.encryptionOid),u=ut.pbe.getCipher(s,n.encryptionParams,t),c=ke.util.createBuffer(n.encryptedData);return u.update(c),u.finish()&&(r=se.fromDer(u.output)),r};ut.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:se.toDer(e).getBytes()};return ke.pem.encode(r,{maxline:t})};ut.encryptedPrivateKeyFromPem=function(e){var t=ke.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return se.fromDer(t.body)};ut.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=ut.wrapRsaPrivateKey(ut.privateKeyToAsn1(e));return n=ut.encryptPrivateKeyInfo(n,t,r),ut.encryptedPrivateKeyToPem(n)}var i,a,s,u;switch(r.algorithm){case"aes128":i="AES-128-CBC",s=16,a=ke.random.getBytesSync(16),u=ke.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",s=24,a=ke.random.getBytesSync(16),u=ke.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",s=32,a=ke.random.getBytesSync(16),u=ke.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",s=24,a=ke.random.getBytesSync(8),u=ke.des.createEncryptionCipher;break;case"des":i="DES-CBC",s=8,a=ke.random.getBytesSync(8),u=ke.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var f=ke.pbe.opensslDeriveBytes(t,a.substr(0,8),s),d=u(f);d.start(a),d.update(se.toDer(ut.privateKeyToAsn1(e))),d.finish();var p={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:ke.util.bytesToHex(a).toUpperCase()},body:d.output.getBytes()};return ke.pem.encode(p)};ut.decryptRsaPrivateKey=function(e,t){var r=null,n=ke.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var a,s;switch(n.dekInfo.algorithm){case"DES-CBC":a=8,s=ke.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,s=ke.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,s=ke.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,s=ke.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,s=ke.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,s=function(p){return ke.rc2.createDecryptionCipher(p,40)};break;case"RC2-64-CBC":a=8,s=function(p){return ke.rc2.createDecryptionCipher(p,64)};break;case"RC2-128-CBC":a=16,s=function(p){return ke.rc2.createDecryptionCipher(p,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var u=ke.util.hexToBytes(n.dekInfo.parameters),c=ke.pbe.opensslDeriveBytes(t,u.substr(0,8),a),f=s(c);if(f.start(u),f.update(ke.util.createBuffer(n.body)),f.finish())r=f.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=ut.decryptPrivateKeyInfo(se.fromDer(r),t):r=se.fromDer(r),r!==null&&(r=ut.privateKeyFromAsn1(r)),r};ut.pbe.generatePkcs12Key=function(e,t,r,n,i,a){var s,u;if(typeof a=="undefined"||a===null){if(!("sha1"in ke.md))throw new Error('"sha1" hash algorithm unavailable.');a=ke.md.sha1.create()}var c=a.digestLength,f=a.blockLength,d=new ke.util.ByteBuffer,p=new ke.util.ByteBuffer;if(e!=null){for(u=0;u<e.length;u++)p.putInt16(e.charCodeAt(u));p.putInt16(0)}var g=p.length(),v=t.length(),m=new ke.util.ByteBuffer;m.fillWithByte(r,f);var E=f*Math.ceil(v/f),_=new ke.util.ByteBuffer;for(u=0;u<E;u++)_.putByte(t.at(u%v));var C=f*Math.ceil(g/f),B=new ke.util.ByteBuffer;for(u=0;u<C;u++)B.putByte(p.at(u%g));var R=_;R.putBuffer(B);for(var D=Math.ceil(i/c),L=1;L<=D;L++){var O=new ke.util.ByteBuffer;O.putBytes(m.bytes()),O.putBytes(R.bytes());for(var ae=0;ae<n;ae++)a.start(),a.update(O.getBytes()),O=a.digest();var j=new ke.util.ByteBuffer;for(u=0;u<f;u++)j.putByte(O.at(u%c));var Y=Math.ceil(v/f)+Math.ceil(g/f),ye=new ke.util.ByteBuffer;for(s=0;s<Y;s++){var me=new ke.util.ByteBuffer(R.getBytes(f)),we=511;for(u=j.length()-1;u>=0;u--)we=we>>8,we+=j.at(u)+me.at(u),me.setAt(u,we&255);ye.putBuffer(me)}R=ye,d.putBuffer(O)}return d.truncate(d.length()-i),d};ut.pbe.getCipher=function(e,t,r){switch(e){case ut.oids.pkcs5PBES2:return ut.pbe.getCipherForPBES2(e,t,r);case ut.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case ut.oids["pbewithSHAAnd40BitRC2-CBC"]:return ut.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};ut.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!se.validate(t,jP,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}if(e=se.derToOid(n.kdfOid),e!==ut.oids.pkcs5PBKDF2){var a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw a.oid=e,a.supportedOids=["pkcs5PBKDF2"],a}if(e=se.derToOid(n.encOid),e!==ut.oids["aes128-CBC"]&&e!==ut.oids["aes192-CBC"]&&e!==ut.oids["aes256-CBC"]&&e!==ut.oids["des-EDE3-CBC"]&&e!==ut.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=e,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var s=n.kdfSalt,u=ke.util.createBuffer(n.kdfIterationCount);u=u.getInt(u.length()<<3);var c,f;switch(ut.oids[e]){case"aes128-CBC":c=16,f=ke.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,f=ke.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,f=ke.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,f=ke.des.createDecryptionCipher;break;case"desCBC":c=8,f=ke.des.createDecryptionCipher;break}var d=OE(n.prfOid),p=ke.pkcs5.pbkdf2(r,s,u,c,d),g=n.encIv,v=f(p);return v.start(g),v};ut.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!se.validate(t,WP,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var s=ke.util.createBuffer(n.salt),u=ke.util.createBuffer(n.iterations);u=u.getInt(u.length()<<3);var c,f,d;switch(e){case ut.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,f=8,d=ke.des.startDecrypting;break;case ut.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,f=8,d=function(E,_){var C=ke.rc2.createDecryptionCipher(E,40);return C.start(_,null),C};break;default:var a=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw a.oid=e,a}var p=OE(n.prfOid),g=ut.pbe.generatePkcs12Key(r,s,1,u,c,p);p.start();var v=ut.pbe.generatePkcs12Key(r,s,2,u,f,p);return d(g,v)};ut.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n=="undefined"||n===null){if(!("md5"in ke.md))throw new Error('"md5" hash algorithm unavailable.');n=ke.md.md5.create()}t===null&&(t="");for(var i=[PE(n,e+t)],a=16,s=1;a<r;++s,a+=16)i.push(PE(n,i[s-1]+e+t));return i.join("").substr(0,r)};function PE(e,t){return e.start().update(t).digest().getBytes()}function OE(e){var t;if(!e)t="hmacWithSHA1";else if(t=ut.oids[se.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return ME(t)}function ME(e){var t=ke.md;switch(e){case"hmacWithSHA224":t=ke.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}function zP(e,t,r,n){var i=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,e),se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,ke.util.hexToBytes(r.toString(16))),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(ut.oids[n]).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.NULL,!1,"")])),i}});var j0=ue((rG,GE)=>{var po=ft();si();Bt();var xe=po.asn1,go=GE.exports=po.pkcs7asn1=po.pkcs7asn1||{};po.pkcs7=po.pkcs7||{};po.pkcs7.asn1=go;var FE={name:"ContentInfo",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:xe.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};go.contentInfoValidator=FE;var qE={name:"EncryptedContentInfo",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:xe.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:xe.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};go.envelopedDataValidator={name:"EnvelopedData",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(qE)};go.encryptedDataValidator={name:"EncryptedData",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"version"}].concat(qE)};var JP={name:"SignerInfo",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:xe.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:xe.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:xe.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};go.signedDataValidator={name:"SignedData",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},FE,{name:"SignedData.Certificates",tagClass:xe.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:xe.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SET,capture:"signerInfos",optional:!0,value:[JP]}]};go.recipientInfoValidator={name:"RecipientInfo",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:xe.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var W0=ue((nG,KE)=>{var us=ft();Bt();us.mgf=us.mgf||{};var QP=KE.exports=us.mgf.mgf1=us.mgf1=us.mgf1||{};QP.create=function(e){var t={generate:function(r,n){for(var i=new us.util.ByteBuffer,a=Math.ceil(n/e.digestLength),s=0;s<a;s++){var u=new us.util.ByteBuffer;u.putInt32(s),e.start(),e.update(r+u.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()}};return t}});var HE=ue((iG,VE)=>{var of=ft();W0();VE.exports=of.mgf=of.mgf||{};of.mgf.mgf1=of.mgf1});var uf=ue((aG,YE)=>{var ls=ft();Un();Bt();var XP=YE.exports=ls.pss=ls.pss||{};XP.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=ls.util.createBuffer(i));var a;if("saltLength"in e)a=e.saltLength;else if(i!==null)a=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==a)throw new Error("Given salt length does not match length of given salt.");var s=e.prng||ls.random,u={};return u.encode=function(c,f){var d,p=f-1,g=Math.ceil(p/8),v=c.digest().getBytes();if(g<n+a+2)throw new Error("Message is too long to encrypt.");var m;i===null?m=s.getBytesSync(a):m=i.bytes();var E=new ls.util.ByteBuffer;E.fillWithByte(0,8),E.putBytes(v),E.putBytes(m),t.start(),t.update(E.getBytes());var _=t.digest().getBytes(),C=new ls.util.ByteBuffer;C.fillWithByte(0,g-a-n-2),C.putByte(1),C.putBytes(m);var B=C.getBytes(),R=g-n-1,D=r.generate(_,R),L="";for(d=0;d<R;d++)L+=String.fromCharCode(B.charCodeAt(d)^D.charCodeAt(d));var O=65280>>8*g-p&255;return L=String.fromCharCode(L.charCodeAt(0)&~O)+L.substr(1),L+_+String.fromCharCode(188)},u.verify=function(c,f,d){var p,g=d-1,v=Math.ceil(g/8);if(f=f.substr(-v),v<n+a+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(f.charCodeAt(v-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var m=v-n-1,E=f.substr(0,m),_=f.substr(m,n),C=65280>>8*v-g&255;if((E.charCodeAt(0)&C)!=0)throw new Error("Bits beyond keysize not zero as expected.");var B=r.generate(_,m),R="";for(p=0;p<m;p++)R+=String.fromCharCode(E.charCodeAt(p)^B.charCodeAt(p));R=String.fromCharCode(R.charCodeAt(0)&~C)+R.substr(1);var D=v-n-a-2;for(p=0;p<D;p++)if(R.charCodeAt(p)!==0)throw new Error("Leftmost octets not zero as expected");if(R.charCodeAt(D)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var L=R.substr(-a),O=new ls.util.ByteBuffer;O.fillWithByte(0,8),O.putBytes(c),O.putBytes(L),t.start(),t.update(O.getBytes());var ae=t.digest().getBytes();return _===ae},u}});var ff=ue((sG,QE)=>{var Ge=ft();Sa();si();bu();Ci();HE();Ta();is();uf();xu();Bt();var w=Ge.asn1,Ce=QE.exports=Ge.pki=Ge.pki||{},It=Ce.oids,lr={};lr.CN=It.commonName;lr.commonName="CN";lr.C=It.countryName;lr.countryName="C";lr.L=It.localityName;lr.localityName="L";lr.ST=It.stateOrProvinceName;lr.stateOrProvinceName="ST";lr.O=It.organizationName;lr.organizationName="O";lr.OU=It.organizationalUnitName;lr.organizationalUnitName="OU";lr.E=It.emailAddress;lr.emailAddress="E";var jE=Ge.pki.rsa.publicKeyValidator,ZP={name:"Certificate",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:w.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:w.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:w.Class.UNIVERSAL,type:w.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:w.Class.UNIVERSAL,type:w.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:w.Class.UNIVERSAL,type:w.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:w.Class.UNIVERSAL,type:w.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},jE,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:w.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:w.Class.UNIVERSAL,type:w.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:w.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:w.Class.UNIVERSAL,type:w.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:w.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:w.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:w.Class.UNIVERSAL,type:w.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},$P={name:"rsapss",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:w.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:w.Class.UNIVERSAL,type:w.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:w.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:w.Class.UNIVERSAL,type:w.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:w.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:w.Class.UNIVERSAL,type:w.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:w.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:w.Class.UNIVERSAL,type:w.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},eO={name:"CertificationRequestInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},jE,{name:"CertificationRequestInfo.attributes",tagClass:w.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:w.Class.UNIVERSAL,type:w.Type.SET,constructed:!0}]}]}]},tO={name:"CertificationRequest",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[eO,{name:"CertificationRequest.signatureAlgorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:w.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:w.Class.UNIVERSAL,type:w.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};Ce.RDNAttributesAsArray=function(e,t){for(var r=[],n,i,a,s=0;s<e.value.length;++s){n=e.value[s];for(var u=0;u<n.value.length;++u)a={},i=n.value[u],a.type=w.derToOid(i.value[0].value),a.value=i.value[1].value,a.valueTagClass=i.value[1].type,a.type in It&&(a.name=It[a.type],a.name in lr&&(a.shortName=lr[a.name])),t&&(t.update(a.type),t.update(a.value)),r.push(a)}return r};Ce.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=w.derToOid(n.value[0].value),a=n.value[1].value,s=0;s<a.length;++s){var u={};if(u.type=i,u.value=a[s].value,u.valueTagClass=a[s].type,u.type in It&&(u.name=It[u.type],u.name in lr&&(u.shortName=lr[u.name])),u.type===It.extensionRequest){u.extensions=[];for(var c=0;c<u.value.length;++c)u.extensions.push(Ce.certificateExtensionFromAsn1(u.value[c]))}t.push(u)}return t};function ka(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,i=0;r===null&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}var lf=function(e,t,r){var n={};if(e!==It["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:It.sha1},mgf:{algorithmOid:It.mgf1,hash:{algorithmOid:It.sha1}},saltLength:20});var i={},a=[];if(!w.validate(t,$P,i,a)){var s=new Error("Cannot read RSASSA-PSS parameter block.");throw s.errors=a,s}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=w.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=w.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=w.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},cf=function(e){switch(It[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return Ge.md.sha1.create();case"md5WithRSAEncryption":return Ge.md.md5.create();case"sha256WithRSAEncryption":return Ge.md.sha256.create();case"sha384WithRSAEncryption":return Ge.md.sha384.create();case"sha512WithRSAEncryption":return Ge.md.sha512.create();case"RSASSA-PSS":return Ge.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},WE=function(e){var t=e.certificate,r;switch(t.signatureOid){case It.sha1WithRSAEncryption:case It.sha1WithRSASignature:break;case It["RSASSA-PSS"]:var n,i;if(n=It[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||Ge.md[n]===void 0){var a=new Error("Unsupported MGF hash function.");throw a.oid=t.signatureParameters.mgf.hash.algorithmOid,a.name=n,a}if(i=It[t.signatureParameters.mgf.algorithmOid],i===void 0||Ge.mgf[i]===void 0){var a=new Error("Unsupported MGF function.");throw a.oid=t.signatureParameters.mgf.algorithmOid,a.name=i,a}if(i=Ge.mgf[i].create(Ge.md[n].create()),n=It[t.signatureParameters.hash.algorithmOid],n===void 0||Ge.md[n]===void 0){var a=new Error("Unsupported RSASSA-PSS hash function.");throw a.oid=t.signatureParameters.hash.algorithmOid,a.name=n,a}r=Ge.pss.create(Ge.md[n].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)};Ce.certificateFromPem=function(e,t,r){var n=Ge.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var a=w.fromDer(n.body,r);return Ce.certificateFromAsn1(a,t)};Ce.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:w.toDer(Ce.certificateToAsn1(e)).getBytes()};return Ge.pem.encode(r,{maxline:t})};Ce.publicKeyFromPem=function(e){var t=Ge.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=w.fromDer(t.body);return Ce.publicKeyFromAsn1(n)};Ce.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:w.toDer(Ce.publicKeyToAsn1(e)).getBytes()};return Ge.pem.encode(r,{maxline:t})};Ce.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:w.toDer(Ce.publicKeyToRSAPublicKey(e)).getBytes()};return Ge.pem.encode(r,{maxline:t})};Ce.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Ge.md.sha1.create(),n=t.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=w.toDer(Ce.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=w.toDer(Ce.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(i);var a=r.digest();if(t.encoding==="hex"){var s=a.toHex();return t.delimiter?s.match(/.{2}/g).join(t.delimiter):s}else{if(t.encoding==="binary")return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return a};Ce.certificationRequestFromPem=function(e,t,r){var n=Ge.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var a=w.fromDer(n.body,r);return Ce.certificationRequestFromAsn1(a,t)};Ce.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:w.toDer(Ce.certificationRequestToAsn1(e)).getBytes()};return Ge.pem.encode(r,{maxline:t})};Ce.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return ka(e.issuer,t)},e.issuer.addField=function(t){Gn([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return ka(e.subject,t)},e.subject.addField=function(t){Gn([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){Gn(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){Gn(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)zE(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,i=0;r===null&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||Ge.md.sha1.create();var n=It[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=Ce.getTBSCertificate(e);var a=w.toDer(e.tbsCertificate);e.md.update(a.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,i=e.subject,a=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw a.expectedIssuer=i.attributes,a.actualIssuer=n.attributes,a}var s=t.md;if(s===null){s=cf({signatureOid:t.signatureOid,type:"certificate"});var u=t.tbsCertificate||Ce.getTBSCertificate(t),c=w.toDer(u);s.update(c.getBytes())}return s!==null&&(r=WE({certificate:e,md:s,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var a,s,u=0;r&&u<n.attributes.length;++u)a=n.attributes[u],s=i.attributes[u],(a.type!==s.type||a.value!==s.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return Ce.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=It.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return Ge.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},e};Ce.certificateFromAsn1=function(e,t){var r={},n=[];if(!w.validate(e,ZP,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var a=w.derToOid(r.publicKeyOid);if(a!==Ce.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var s=Ce.createCertificate();s.version=r.certVersion?r.certVersion.charCodeAt(0):0;var u=Ge.util.createBuffer(r.certSerialNumber);s.serialNumber=u.toHex(),s.signatureOid=Ge.asn1.derToOid(r.certSignatureOid),s.signatureParameters=lf(s.signatureOid,r.certSignatureParams,!0),s.siginfo.algorithmOid=Ge.asn1.derToOid(r.certinfoSignatureOid),s.siginfo.parameters=lf(s.siginfo.algorithmOid,r.certinfoSignatureParams,!1),s.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push(w.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push(w.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push(w.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push(w.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(s.validity.notBefore=c[0],s.validity.notAfter=c[1],s.tbsCertificate=r.tbsCertificate,t){s.md=cf({signatureOid:s.signatureOid,type:"certificate"});var f=w.toDer(s.tbsCertificate);s.md.update(f.getBytes())}var d=Ge.md.sha1.create(),p=w.toDer(r.certIssuer);d.update(p.getBytes()),s.issuer.getField=function(m){return ka(s.issuer,m)},s.issuer.addField=function(m){Gn([m]),s.issuer.attributes.push(m)},s.issuer.attributes=Ce.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(s.issuer.uniqueId=r.certIssuerUniqueId),s.issuer.hash=d.digest().toHex();var g=Ge.md.sha1.create(),v=w.toDer(r.certSubject);return g.update(v.getBytes()),s.subject.getField=function(m){return ka(s.subject,m)},s.subject.addField=function(m){Gn([m]),s.subject.attributes.push(m)},s.subject.attributes=Ce.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(s.subject.uniqueId=r.certSubjectUniqueId),s.subject.hash=g.digest().toHex(),r.certExtensions?s.extensions=Ce.certificateExtensionsFromAsn1(r.certExtensions):s.extensions=[],s.publicKey=Ce.publicKeyFromAsn1(r.subjectPublicKeyInfo),s};Ce.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(Ce.certificateExtensionFromAsn1(n.value[i]));return t};Ce.certificateExtensionFromAsn1=function(e){var t={};if(t.id=w.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===w.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in It){if(t.name=It[t.id],t.name==="keyUsage"){var r=w.fromDer(t.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)==128,t.nonRepudiation=(n&64)==64,t.keyEncipherment=(n&32)==32,t.dataEncipherment=(n&16)==16,t.keyAgreement=(n&8)==8,t.keyCertSign=(n&4)==4,t.cRLSign=(n&2)==2,t.encipherOnly=(n&1)==1,t.decipherOnly=(i&128)==128}else if(t.name==="basicConstraints"){var r=w.fromDer(t.value);r.value.length>0&&r.value[0].type===w.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var a=null;r.value.length>0&&r.value[0].type===w.Type.INTEGER?a=r.value[0].value:r.value.length>1&&(a=r.value[1].value),a!==null&&(t.pathLenConstraint=w.derToInteger(a))}else if(t.name==="extKeyUsage")for(var r=w.fromDer(t.value),s=0;s<r.value.length;++s){var u=w.derToOid(r.value[s].value);u in It?t[It[u]]=!0:t[u]=!0}else if(t.name==="nsCertType"){var r=w.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)==128,t.server=(n&64)==64,t.email=(n&32)==32,t.objsign=(n&16)==16,t.reserved=(n&8)==8,t.sslCA=(n&4)==4,t.emailCA=(n&2)==2,t.objCA=(n&1)==1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=w.fromDer(t.value),f=0;f<r.value.length;++f){c=r.value[f];var d={type:c.type,value:c.value};switch(t.altNames.push(d),c.type){case 1:case 2:case 6:break;case 7:d.ip=Ge.util.bytesToIP(c.value);break;case 8:d.oid=w.derToOid(c.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=w.fromDer(t.value);t.subjectKeyIdentifier=Ge.util.bytesToHex(r.value)}}return t};Ce.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!w.validate(e,tO,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var a=w.derToOid(r.publicKeyOid);if(a!==Ce.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var s=Ce.createCertificationRequest();if(s.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,s.signatureOid=Ge.asn1.derToOid(r.csrSignatureOid),s.signatureParameters=lf(s.signatureOid,r.csrSignatureParams,!0),s.siginfo.algorithmOid=Ge.asn1.derToOid(r.csrSignatureOid),s.siginfo.parameters=lf(s.siginfo.algorithmOid,r.csrSignatureParams,!1),s.signature=r.csrSignature,s.certificationRequestInfo=r.certificationRequestInfo,t){s.md=cf({signatureOid:s.signatureOid,type:"certification request"});var u=w.toDer(s.certificationRequestInfo);s.md.update(u.getBytes())}var c=Ge.md.sha1.create();return s.subject.getField=function(f){return ka(s.subject,f)},s.subject.addField=function(f){Gn([f]),s.subject.attributes.push(f)},s.subject.attributes=Ce.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),s.subject.hash=c.digest().toHex(),s.publicKey=Ce.publicKeyFromAsn1(r.subjectPublicKeyInfo),s.getAttribute=function(f){return ka(s,f)},s.addAttribute=function(f){Gn([f]),s.attributes.push(f)},s.attributes=Ce.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),s};Ce.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return ka(e.subject,t)},e.subject.addField=function(t){Gn([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return ka(e,t)},e.addAttribute=function(t){Gn([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){Gn(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){Gn(t),e.attributes=t},e.sign=function(t,r){e.md=r||Ge.md.sha1.create();var n=It[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=Ce.getCertificationRequestInfo(e);var a=w.toDer(e.certificationRequestInfo);e.md.update(a.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=cf({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||Ce.getCertificationRequestInfo(e),i=w.toDer(n);r.update(i.getBytes())}return r!==null&&(t=WE({certificate:e,md:r,signature:e.signature})),t},e};function mo(e){for(var t=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]),r,n,i=e.attributes,a=0;a<i.length;++a){r=i[a];var s=r.value,u=w.Type.PRINTABLESTRING;"valueTagClass"in r&&(u=r.valueTagClass,u===w.Type.UTF8&&(s=Ge.util.encodeUtf8(s))),n=w.create(w.Class.UNIVERSAL,w.Type.SET,!0,[w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(r.type).getBytes()),w.create(w.Class.UNIVERSAL,u,!1,s)])]),t.value.push(n)}return t}function Gn(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name=="undefined"&&(t.type&&t.type in Ce.oids?t.name=Ce.oids[t.type]:t.shortName&&t.shortName in lr&&(t.name=Ce.oids[lr[t.shortName]])),typeof t.type=="undefined")if(t.name&&t.name in Ce.oids)t.type=Ce.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName=="undefined"&&t.name&&t.name in lr&&(t.shortName=lr[t.name]),t.type===It.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=w.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(Ce.certificateExtensionToAsn1(zE(t.extensions[i])))}if(typeof t.value=="undefined"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}function zE(e,t){if(t=t||{},typeof e.name=="undefined"&&e.id&&e.id in Ce.oids&&(e.name=Ce.oids[e.id]),typeof e.id=="undefined")if(e.name&&e.name in Ce.oids)e.id=Ce.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value!="undefined")return e;if(e.name==="keyUsage"){var n=0,i=0,a=0;e.digitalSignature&&(i|=128,n=7),e.nonRepudiation&&(i|=64,n=6),e.keyEncipherment&&(i|=32,n=5),e.dataEncipherment&&(i|=16,n=4),e.keyAgreement&&(i|=8,n=3),e.keyCertSign&&(i|=4,n=2),e.cRLSign&&(i|=2,n=1),e.encipherOnly&&(i|=1,n=0),e.decipherOnly&&(a|=128,n=7);var s=String.fromCharCode(n);a!==0?s+=String.fromCharCode(i)+String.fromCharCode(a):i!==0&&(s+=String.fromCharCode(i)),e.value=w.create(w.Class.UNIVERSAL,w.Type.BITSTRING,!1,s)}else if(e.name==="basicConstraints")e.value=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(w.create(w.Class.UNIVERSAL,w.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,w.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]);var u=e.value.value;for(var c in e)e[c]===!0&&(c in It?u.push(w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(It[c]).getBytes())):c.indexOf(".")!==-1&&u.push(w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,i=0;e.client&&(i|=128,n=7),e.server&&(i|=64,n=6),e.email&&(i|=32,n=5),e.objsign&&(i|=16,n=4),e.reserved&&(i|=8,n=3),e.sslCA&&(i|=4,n=2),e.emailCA&&(i|=2,n=1),e.objCA&&(i|=1,n=0);var s=String.fromCharCode(n);i!==0&&(s+=String.fromCharCode(i)),e.value=w.create(w.Class.UNIVERSAL,w.Type.BITSTRING,!1,s)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]);for(var f,d=0;d<e.altNames.length;++d){f=e.altNames[d];var s=f.value;if(f.type===7&&f.ip){if(s=Ge.util.bytesFromIP(f.ip),s===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else f.type===8&&(f.oid?s=w.oidToDer(w.oidToDer(f.oid)):s=w.oidToDer(s));e.value.value.push(w.create(w.Class.CONTEXT_SPECIFIC,f.type,!1,s))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=w.create(w.Class.UNIVERSAL,w.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var p=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=p.toHex(),e.value=w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,p.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]);var u=e.value.value;if(e.keyIdentifier){var g=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;u.push(w.create(w.Class.CONTEXT_SPECIFIC,0,!1,g))}if(e.authorityCertIssuer){var v=[w.create(w.Class.CONTEXT_SPECIFIC,4,!0,[mo(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];u.push(w.create(w.Class.CONTEXT_SPECIFIC,1,!0,v))}if(e.serialNumber){var m=Ge.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);u.push(w.create(w.Class.CONTEXT_SPECIFIC,2,!1,m))}}else if(e.name==="cRLDistributionPoints"){e.value=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]);for(var u=e.value.value,E=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]),_=w.create(w.Class.CONTEXT_SPECIFIC,0,!0,[]),f,d=0;d<e.altNames.length;++d){f=e.altNames[d];var s=f.value;if(f.type===7&&f.ip){if(s=Ge.util.bytesFromIP(f.ip),s===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else f.type===8&&(f.oid?s=w.oidToDer(w.oidToDer(f.oid)):s=w.oidToDer(s));_.value.push(w.create(w.Class.CONTEXT_SPECIFIC,f.type,!1,s))}E.value.push(w.create(w.Class.CONTEXT_SPECIFIC,0,!0,[_])),u.push(E)}if(typeof e.value=="undefined"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}function z0(e,t){switch(e){case It["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push(w.create(w.Class.CONTEXT_SPECIFIC,0,!0,[w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(t.hash.algorithmOid).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push(w.create(w.Class.CONTEXT_SPECIFIC,1,!0,[w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(t.mgf.algorithmOid).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(t.mgf.hash.algorithmOid).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push(w.create(w.Class.CONTEXT_SPECIFIC,2,!0,[w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,w.integerToDer(t.saltLength).getBytes())])),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,r);default:return w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,"")}}function rO(e){var t=w.create(w.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],a=i.value,s=w.Type.UTF8;"valueTagClass"in i&&(s=i.valueTagClass),s===w.Type.UTF8&&(a=Ge.util.encodeUtf8(a));var u=!1;"valueConstructed"in i&&(u=i.valueConstructed);var c=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(i.type).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.SET,!0,[w.create(w.Class.UNIVERSAL,s,u,a)])]);t.value.push(c)}return t}var nO=new Date("1950-01-01T00:00:00Z"),iO=new Date("2050-01-01T00:00:00Z");function JE(e){return e>=nO&&e<iO?w.create(w.Class.UNIVERSAL,w.Type.UTCTIME,!1,w.dateToUtcTime(e)):w.create(w.Class.UNIVERSAL,w.Type.GENERALIZEDTIME,!1,w.dateToGeneralizedTime(e))}Ce.getTBSCertificate=function(e){var t=JE(e.validity.notBefore),r=JE(e.validity.notAfter),n=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.CONTEXT_SPECIFIC,0,!0,[w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,w.integerToDer(e.version).getBytes())]),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,Ge.util.hexToBytes(e.serialNumber)),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(e.siginfo.algorithmOid).getBytes()),z0(e.siginfo.algorithmOid,e.siginfo.parameters)]),mo(e.issuer),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[t,r]),mo(e.subject),Ce.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push(w.create(w.Class.CONTEXT_SPECIFIC,1,!0,[w.create(w.Class.UNIVERSAL,w.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push(w.create(w.Class.CONTEXT_SPECIFIC,2,!0,[w.create(w.Class.UNIVERSAL,w.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(Ce.certificateExtensionsToAsn1(e.extensions)),n};Ce.getCertificationRequestInfo=function(e){var t=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,w.integerToDer(e.version).getBytes()),mo(e.subject),Ce.publicKeyToAsn1(e.publicKey),rO(e)]);return t};Ce.distinguishedNameToAsn1=function(e){return mo(e)};Ce.certificateToAsn1=function(e){var t=e.tbsCertificate||Ce.getTBSCertificate(e);return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[t,w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(e.signatureOid).getBytes()),z0(e.signatureOid,e.signatureParameters)]),w.create(w.Class.UNIVERSAL,w.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])};Ce.certificateExtensionsToAsn1=function(e){var t=w.create(w.Class.CONTEXT_SPECIFIC,3,!0,[]),r=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(Ce.certificateExtensionToAsn1(e[n]));return t};Ce.certificateExtensionToAsn1=function(e){var t=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]);t.value.push(w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(e.id).getBytes())),e.critical&&t.value.push(w.create(w.Class.UNIVERSAL,w.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return typeof e.value!="string"&&(r=w.toDer(r).getBytes()),t.value.push(w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,r)),t};Ce.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||Ce.getCertificationRequestInfo(e);return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[t,w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(e.signatureOid).getBytes()),z0(e.signatureOid,e.signatureParameters)]),w.create(w.Class.UNIVERSAL,w.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])};Ce.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(s){var u=r(s.issuer);return u},t.addCertificate=function(s){if(typeof s=="string"&&(s=Ge.pki.certificateFromPem(s)),n(s.subject),!t.hasCertificate(s))if(s.subject.hash in t.certs){var u=t.certs[s.subject.hash];Ge.util.isArray(u)||(u=[u]),u.push(s),t.certs[s.subject.hash]=u}else t.certs[s.subject.hash]=s},t.hasCertificate=function(s){typeof s=="string"&&(s=Ge.pki.certificateFromPem(s));var u=r(s.subject);if(!u)return!1;Ge.util.isArray(u)||(u=[u]);for(var c=w.toDer(Ce.certificateToAsn1(s)).getBytes(),f=0;f<u.length;++f){var d=w.toDer(Ce.certificateToAsn1(u[f])).getBytes();if(c===d)return!0}return!1},t.listAllCertificates=function(){var s=[];for(var u in t.certs)if(t.certs.hasOwnProperty(u)){var c=t.certs[u];if(!Ge.util.isArray(c))s.push(c);else for(var f=0;f<c.length;++f)s.push(c[f])}return s},t.removeCertificate=function(s){var u;if(typeof s=="string"&&(s=Ge.pki.certificateFromPem(s)),n(s.subject),!t.hasCertificate(s))return null;var c=r(s.subject);if(!Ge.util.isArray(c))return u=t.certs[s.subject.hash],delete t.certs[s.subject.hash],u;for(var f=w.toDer(Ce.certificateToAsn1(s)).getBytes(),d=0;d<c.length;++d){var p=w.toDer(Ce.certificateToAsn1(c[d])).getBytes();f===p&&(u=c[d],c.splice(d,1))}return c.length===0&&delete t.certs[s.subject.hash],u};function r(s){return n(s),t.certs[s.hash]||null}function n(s){if(!s.hash){var u=Ge.md.sha1.create();s.attributes=Ce.RDNAttributesAsArray(mo(s),u),s.hash=u.digest().toHex()}}if(e)for(var i=0;i<e.length;++i){var a=e[i];t.addCertificate(a)}return t};Ce.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};Ce.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),i=r.validityCheckDate;typeof i=="undefined"&&(i=new Date);var a=!0,s=null,u=0;do{var c=t.shift(),f=null,d=!1;if(i&&(i<c.validity.notBefore||i>c.validity.notAfter)&&(s={message:"Certificate is not valid yet or has expired.",error:Ce.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:i}),s===null){if(f=t[0]||e.getIssuer(c),f===null&&c.isIssuer(c)&&(d=!0,f=c),f){var p=f;Ge.util.isArray(p)||(p=[p]);for(var g=!1;!g&&p.length>0;){f=p.shift();try{g=f.verify(c)}catch(L){}}g||(s={message:"Certificate signature is invalid.",error:Ce.certificateError.bad_certificate})}s===null&&(!f||d)&&!e.hasCertificate(c)&&(s={message:"Certificate is not trusted.",error:Ce.certificateError.unknown_ca})}if(s===null&&f&&!c.isIssuer(f)&&(s={message:"Certificate issuer is invalid.",error:Ce.certificateError.bad_certificate}),s===null)for(var v={keyUsage:!0,basicConstraints:!0},m=0;s===null&&m<c.extensions.length;++m){var E=c.extensions[m];E.critical&&!(E.name in v)&&(s={message:"Certificate has an unsupported critical extension.",error:Ce.certificateError.unsupported_certificate})}if(s===null&&(!a||t.length===0&&(!f||d))){var _=c.getExtension("basicConstraints"),C=c.getExtension("keyUsage");if(C!==null&&(!C.keyCertSign||_===null)&&(s={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:Ce.certificateError.bad_certificate}),s===null&&_!==null&&!_.cA&&(s={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:Ce.certificateError.bad_certificate}),s===null&&C!==null&&"pathLenConstraint"in _){var B=u-1;B>_.pathLenConstraint&&(s={message:"Certificate basicConstraints pathLenConstraint violated.",error:Ce.certificateError.bad_certificate})}}var R=s===null?!0:s.error,D=r.verify?r.verify(R,u,n):R;if(D===!0)s=null;else throw R===!0&&(s={message:"The application rejected the certificate.",error:Ce.certificateError.bad_certificate}),(D||D===0)&&(typeof D=="object"&&!Ge.util.isArray(D)?(D.message&&(s.message=D.message),D.error&&(s.error=D.error)):typeof D=="string"&&(s.error=D)),s;a=!1,++u}while(t.length>0);return!0}});var Q0=ue((oG,ZE)=>{var zt=ft();si();uo();Ta();j0();Y0();Un();xu();ho();Bt();ff();var M=zt.asn1,yt=zt.pki,Iu=ZE.exports=zt.pkcs12=zt.pkcs12||{},XE={name:"ContentInfo",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:M.Class.UNIVERSAL,type:M.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:M.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},aO={name:"PFX",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:M.Class.UNIVERSAL,type:M.Type.INTEGER,constructed:!1,capture:"version"},XE,{name:"PFX.macData",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:M.Class.UNIVERSAL,type:M.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:M.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:M.Class.UNIVERSAL,type:M.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:M.Class.UNIVERSAL,type:M.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:M.Class.UNIVERSAL,type:M.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},sO={name:"SafeBag",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:M.Class.UNIVERSAL,type:M.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:M.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:M.Class.UNIVERSAL,type:M.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},oO={name:"Attribute",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:M.Class.UNIVERSAL,type:M.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:M.Class.UNIVERSAL,type:M.Type.SET,constructed:!0,capture:"values"}]},uO={name:"CertBag",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:M.Class.UNIVERSAL,type:M.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:M.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:M.Class.UNIVERSAL,type:M.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function ku(e,t,r,n){for(var i=[],a=0;a<e.length;a++)for(var s=0;s<e[a].safeBags.length;s++){var u=e[a].safeBags[s];if(!(n!==void 0&&u.type!==n)){if(t===null){i.push(u);continue}u.attributes[t]!==void 0&&u.attributes[t].indexOf(r)>=0&&i.push(u)}}return i}Iu.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},i=[];if(!M.validate(e,aO,n,i)){var a=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw a.errors=a,a}var s={version:n.version.charCodeAt(0),safeContents:[],getBags:function(_){var C={},B;return"localKeyId"in _?B=_.localKeyId:"localKeyIdHex"in _&&(B=zt.util.hexToBytes(_.localKeyIdHex)),B===void 0&&!("friendlyName"in _)&&"bagType"in _&&(C[_.bagType]=ku(s.safeContents,null,null,_.bagType)),B!==void 0&&(C.localKeyId=ku(s.safeContents,"localKeyId",B,_.bagType)),"friendlyName"in _&&(C.friendlyName=ku(s.safeContents,"friendlyName",_.friendlyName,_.bagType)),C},getBagsByFriendlyName:function(_,C){return ku(s.safeContents,"friendlyName",_,C)},getBagsByLocalKeyId:function(_,C){return ku(s.safeContents,"localKeyId",_,C)}};if(n.version.charCodeAt(0)!==3){var a=new Error("PKCS#12 PFX of version other than 3 not supported.");throw a.version=n.version.charCodeAt(0),a}if(M.derToOid(n.contentType)!==yt.oids.data){var a=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw a.oid=M.derToOid(n.contentType),a}var u=n.content.value[0];if(u.tagClass!==M.Class.UNIVERSAL||u.type!==M.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(u=J0(u),n.mac){var c=null,f=0,d=M.derToOid(n.macAlgorithm);switch(d){case yt.oids.sha1:c=zt.md.sha1.create(),f=20;break;case yt.oids.sha256:c=zt.md.sha256.create(),f=32;break;case yt.oids.sha384:c=zt.md.sha384.create(),f=48;break;case yt.oids.sha512:c=zt.md.sha512.create(),f=64;break;case yt.oids.md5:c=zt.md.md5.create(),f=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+d);var p=new zt.util.ByteBuffer(n.macSalt),g="macIterations"in n?parseInt(zt.util.bytesToHex(n.macIterations),16):1,v=Iu.generateKey(r,p,3,g,f,c),m=zt.hmac.create();m.start(c,v),m.update(u.value);var E=m.getMac();if(E.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return lO(s,u.value,t,r),s};function J0(e){if(e.composed||e.constructed){for(var t=zt.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function lO(e,t,r,n){if(t=M.fromDer(t,r),t.tagClass!==M.Class.UNIVERSAL||t.type!==M.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var a=t.value[i],s={},u=[];if(!M.validate(a,XE,s,u)){var c=new Error("Cannot read ContentInfo.");throw c.errors=u,c}var f={encrypted:!1},d=null,p=s.content.value[0];switch(M.derToOid(s.contentType)){case yt.oids.data:if(p.tagClass!==M.Class.UNIVERSAL||p.type!==M.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");d=J0(p).value;break;case yt.oids.encryptedData:d=cO(p,n),f.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=M.derToOid(s.contentType),c}f.safeBags=fO(d,r,n),e.safeContents.push(f)}}function cO(e,t){var r={},n=[];if(!M.validate(e,zt.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var a=M.derToOid(r.contentType);if(a!==yt.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=a,i}a=M.derToOid(r.encAlgorithm);var s=yt.pbe.getCipher(a,r.encParameter,t),u=J0(r.encryptedContentAsn1),c=zt.util.createBuffer(u.value);if(s.update(c),!s.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return s.output.getBytes()}function fO(e,t,r){if(!t&&e.length===0)return[];if(e=M.fromDer(e,t),e.tagClass!==M.Class.UNIVERSAL||e.type!==M.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var a=e.value[i],s={},u=[];if(!M.validate(a,sO,s,u)){var c=new Error("Cannot read SafeBag.");throw c.errors=u,c}var f={type:M.derToOid(s.bagId),attributes:dO(s.bagAttributes)};n.push(f);var d,p,g=s.bagValue.value[0];switch(f.type){case yt.oids.pkcs8ShroudedKeyBag:if(g=yt.decryptPrivateKeyInfo(g,r),g===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case yt.oids.keyBag:try{f.key=yt.privateKeyFromAsn1(g)}catch(m){f.key=null,f.asn1=g}continue;case yt.oids.certBag:d=uO,p=function(){if(M.derToOid(s.certId)!==yt.oids.x509Certificate){var m=new Error("Unsupported certificate type, only X.509 supported.");throw m.oid=M.derToOid(s.certId),m}var E=M.fromDer(s.cert,t);try{f.cert=yt.certificateFromAsn1(E,!0)}catch(_){f.cert=null,f.asn1=E}};break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=f.type,c}if(d!==void 0&&!M.validate(g,d,s,u)){var c=new Error("Cannot read PKCS#12 "+d.name);throw c.errors=u,c}p()}return n}function dO(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},i=[];if(!M.validate(e[r],oO,n,i)){var a=new Error("Cannot read PKCS#12 BagAttribute.");throw a.errors=i,a}var s=M.derToOid(n.oid);if(yt.oids[s]!==void 0){t[yt.oids[s]]=[];for(var u=0;u<n.values.length;++u)t[yt.oids[s]].push(n.values[u].value)}}return t}Iu.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,a;if(i!==null)i=zt.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var s=zt.util.isArray(t)?t[0]:t;typeof s=="string"&&(s=yt.certificateFromPem(s));var u=zt.md.sha1.create();u.update(M.toDer(yt.certificateToAsn1(s)).getBytes()),i=u.digest().getBytes()}else i=zt.random.getBytes(20);var c=[];i!==null&&c.push(M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.localKeyId).getBytes()),M.create(M.Class.UNIVERSAL,M.Type.SET,!0,[M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&c.push(M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.friendlyName).getBytes()),M.create(M.Class.UNIVERSAL,M.Type.SET,!0,[M.create(M.Class.UNIVERSAL,M.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(a=M.create(M.Class.UNIVERSAL,M.Type.SET,!0,c));var f=[],d=[];t!==null&&(zt.util.isArray(t)?d=t:d=[t]);for(var p=[],g=0;g<d.length;++g){t=d[g],typeof t=="string"&&(t=yt.certificateFromPem(t));var v=g===0?a:void 0,m=yt.certificateToAsn1(t),E=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.certBag).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.x509Certificate).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,M.toDer(m).getBytes())])])]),v]);p.push(E)}if(p.length>0){var _=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,p),C=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.data).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,M.toDer(_).getBytes())])]);f.push(C)}var B=null;if(e!==null){var R=yt.wrapRsaPrivateKey(yt.privateKeyToAsn1(e));r===null?B=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.keyBag).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[R]),a]):B=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.pkcs8ShroudedKeyBag).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[yt.encryptPrivateKeyInfo(R,r,n)]),a]);var D=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[B]),L=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.data).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,M.toDer(D).getBytes())])]);f.push(L)}var O=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,f),ae;if(n.useMac){var u=zt.md.sha1.create(),j=new zt.util.ByteBuffer(zt.random.getBytes(n.saltSize)),Y=n.count,e=Iu.generateKey(r,j,3,Y,20),ye=zt.hmac.create();ye.start(u,e),ye.update(M.toDer(O).getBytes());var me=ye.getMac();ae=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.sha1).getBytes()),M.create(M.Class.UNIVERSAL,M.Type.NULL,!1,"")]),M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,me.getBytes())]),M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,j.getBytes()),M.create(M.Class.UNIVERSAL,M.Type.INTEGER,!1,M.integerToDer(Y).getBytes())])}return M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.INTEGER,!1,M.integerToDer(3).getBytes()),M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.data).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,M.toDer(O).getBytes())])]),ae])};Iu.generateKey=zt.pbe.generatePkcs12Key});var Z0=ue((uG,$E)=>{var Ba=ft();si();Ta();Y0();is();ef();Q0();uf();xu();Bt();ff();var X0=Ba.asn1,yo=$E.exports=Ba.pki=Ba.pki||{};yo.pemToDer=function(e){var t=Ba.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return Ba.util.createBuffer(t.body)};yo.privateKeyFromPem=function(e){var t=Ba.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=X0.fromDer(t.body);return yo.privateKeyFromAsn1(n)};yo.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:X0.toDer(yo.privateKeyToAsn1(e)).getBytes()};return Ba.pem.encode(r,{maxline:t})};yo.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:X0.toDer(e).getBytes()};return Ba.pem.encode(r,{maxline:t})}});var ip=ue((lG,oC)=>{var pe=ft();si();uo();Qc();is();Z0();Un();ho();Bt();var df=function(e,t,r,n){var i=pe.util.createBuffer(),a=e.length>>1,s=a+(e.length&1),u=e.substr(0,s),c=e.substr(a,s),f=pe.util.createBuffer(),d=pe.hmac.create();r=t+r;var p=Math.ceil(n/16),g=Math.ceil(n/20);d.start("MD5",u);var v=pe.util.createBuffer();f.putBytes(r);for(var m=0;m<p;++m)d.start(null,null),d.update(f.getBytes()),f.putBuffer(d.digest()),d.start(null,null),d.update(f.bytes()+r),v.putBuffer(d.digest());d.start("SHA1",c);var E=pe.util.createBuffer();f.clear(),f.putBytes(r);for(var m=0;m<g;++m)d.start(null,null),d.update(f.getBytes()),f.putBuffer(d.digest()),d.start(null,null),d.update(f.bytes()+r),E.putBuffer(d.digest());return i.putBytes(pe.util.xorBytes(v.getBytes(),E.getBytes(),n)),i},hO=function(e,t,r){var n=pe.hmac.create();n.start("SHA1",e);var i=pe.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},pO=function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=pe.util.createBuffer(i),t.length=i.length,n=!0}catch(a){}return n},gO=function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=pe.util.createBuffer(i),t.length=i.length,n=!0}catch(a){}return n},wn=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return pe.util.createBuffer(e.getBytes(r))},Kn=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},S={};S.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};S.SupportedVersions=[S.Versions.TLS_1_1,S.Versions.TLS_1_0];S.Version=S.SupportedVersions[0];S.MaxFragment=16384-1024;S.ConnectionEnd={server:0,client:1};S.PRFAlgorithm={tls_prf_sha256:0};S.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};S.CipherType={stream:0,block:1,aead:2};S.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};S.CompressionMethod={none:0,deflate:1};S.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};S.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};S.Alert={};S.Alert.Level={warning:1,fatal:2};S.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};S.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};S.CipherSuites={};S.getCipherSuite=function(e){var t=null;for(var r in S.CipherSuites){var n=S.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};S.handleUnexpected=function(e,t){var r=!e.open&&e.entity===S.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unexpected_message}})};S.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(S.queue(e,S.createAlert(e,{level:S.Alert.Level.warning,description:S.Alert.Description.no_renegotiation})),S.flush(e)),e.process()};S.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===S.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});else{var a=t.fragment,s=a.length();if(n={version:{major:a.getByte(),minor:a.getByte()},random:pe.util.createBuffer(a.getBytes(32)),session_id:wn(a,1),extensions:[]},i?(n.cipher_suite=a.getBytes(2),n.compression_method=a.getByte()):(n.cipher_suites=wn(a,2),n.compression_methods=wn(a,1)),s=r-(s-a.length()),s>0){for(var u=wn(a,2);u.length()>0;)n.extensions.push({type:[u.getByte(),u.getByte()],data:wn(u,2)});if(!i)for(var c=0;c<n.extensions.length;++c){var f=n.extensions[c];if(f.type[0]===0&&f.type[1]===0)for(var d=wn(f.data,2);d.length()>0;){var p=d.getByte();if(p!==0)break;e.session.extensions.server_name.serverNameList.push(wn(d,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=S.getCipherSuite(n.cipher_suite);else for(var g=pe.util.createBuffer(n.cipher_suites.bytes());g.length()>0&&(e.session.cipherSuite=S.getCipherSuite(g.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.handshake_failure},cipherSuite:pe.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=S.CompressionMethod.none}return n};S.createSecurityParameters=function(e,t){var r=e.entity===S.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,a=r?n:S.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:S.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:a}};S.handleServerHello=function(e,t,r){var n=S.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.protocol_version}});e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=tC,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=yO,e.session.resuming=!1,S.createSecurityParameters(e,n)),e.session.id=i,e.process()}};S.handleClientHello=function(e,t,r){var n=S.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),a=null;if(e.sessionCache&&(a=e.sessionCache.getSession(i),a===null?i="":(a.version.major!==n.version.major||a.version.minor>n.version.minor)&&(a=null,i="")),i.length===0&&(i=pe.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},a)e.version=e.session.version=a.version,e.session.sp=a.sp;else{for(var s,u=1;u<S.SupportedVersions.length&&(s=S.SupportedVersions[u],!(s.minor<=n.version.minor));++u);e.version={major:s.major,minor:s.minor},e.session.version=e.version}a!==null?(e.expect=ep,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?bO:$0,e.session.resuming=!1,S.createSecurityParameters(e,n)),e.open=!0,S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createServerHello(e)})),e.session.resuming?(S.queue(e,S.createRecord(e,{type:S.ContentType.change_cipher_spec,data:S.createChangeCipherSpec()})),e.state.pending=S.createConnectionState(e),e.state.current.write=e.state.pending.write,S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createFinished(e)}))):(S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createCertificate(e)})),e.fail||(S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createServerKeyExchange(e)})),e.verifyClient!==!1&&S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createCertificateRequest(e)})),S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createServerHelloDone(e)})))),S.flush(e),e.process()}};S.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_list:wn(n,3)},a,s,u=[];try{for(;i.certificate_list.length()>0;)a=wn(i.certificate_list,3),s=pe.asn1.fromDer(a),a=pe.pki.certificateFromAsn1(s,!0),u.push(a)}catch(f){return e.error(e,{message:"Could not parse certificate list.",cause:f,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.bad_certificate}})}var c=e.entity===S.ConnectionEnd.client;(c||e.verifyClient===!0)&&u.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}}):u.length===0?e.expect=c?eC:$0:(c?e.session.serverCertificate=u[0]:e.session.clientCertificate=u[0],S.verifyCertificateChain(e,u)&&(e.expect=c?eC:$0)),e.process()};S.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unsupported_certificate}});e.expect=vO,e.process()};S.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:wn(n,2).getBytes()},a=null;if(e.getPrivateKey)try{a=e.getPrivateKey(e,e.session.serverCertificate),a=pe.pki.privateKeyFromPem(a)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}})}if(a===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}});try{var s=e.session.sp;s.pre_master_secret=a.decrypt(i.enc_pre_master_secret);var u=e.session.clientHelloVersion;if(u.major!==s.pre_master_secret.charCodeAt(0)||u.minor!==s.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(c){s.pre_master_secret=pe.random.getBytes(48)}e.expect=ep,e.session.clientCertificate!==null&&(e.expect=SO),e.process()};S.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:wn(n,1),certificate_authorities:wn(n,2)};e.session.certificateRequest=i,e.expect=_O,e.process()};S.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var a={signature:wn(n,2).getBytes()},s=pe.util.createBuffer();s.putBuffer(e.session.md5.digest()),s.putBuffer(e.session.sha1.digest()),s=s.getBytes();try{var u=e.session.clientCertificate;if(!u.publicKey.verify(s,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch(c){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.handshake_failure}})}e.expect=ep,e.process()};S.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.insufficient_security}},i=0,a=e.verify(e,n.alert.description,i,[]);if(a!==!0)return(a||a===0)&&(typeof a=="object"&&!pe.util.isArray(a)?(a.message&&(n.message=a.message),a.alert&&(n.alert.description=a.alert)):typeof a=="number"&&(n.alert.description=a)),e.error(e,n)}e.session.certificateRequest!==null&&(t=S.createRecord(e,{type:S.ContentType.handshake,data:S.createCertificate(e)}),S.queue(e,t)),t=S.createRecord(e,{type:S.ContentType.handshake,data:S.createClientKeyExchange(e)}),S.queue(e,t),e.expect=AO;var s=function(u,c){u.session.certificateRequest!==null&&u.session.clientCertificate!==null&&S.queue(u,S.createRecord(u,{type:S.ContentType.handshake,data:S.createCertificateVerify(u,c)})),S.queue(u,S.createRecord(u,{type:S.ContentType.change_cipher_spec,data:S.createChangeCipherSpec()})),u.state.pending=S.createConnectionState(u),u.state.current.write=u.state.pending.write,S.queue(u,S.createRecord(u,{type:S.ContentType.handshake,data:S.createFinished(u)})),u.expect=tC,S.flush(u),u.process()};if(e.session.certificateRequest===null||e.session.clientCertificate===null)return s(e,null);S.getClientSignature(e,s)};S.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var r=e.entity===S.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=S.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?EO:TO,e.process()};S.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var a=t.fragment.getBytes();n=pe.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var s=e.entity===S.ConnectionEnd.client,u=s?"server finished":"client finished",c=e.session.sp,f=12,d=df;if(n=d(c.master_secret,u,n.getBytes(),f),n.getBytes()!==a)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&s||!e.session.resuming&&!s)&&(S.queue(e,S.createRecord(e,{type:S.ContentType.change_cipher_spec,data:S.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createFinished(e)}))),e.expect=s?CO:xO,e.handshaking=!1,++e.handshakes,e.peerCertificate=s?e.session.serverCertificate:e.session.clientCertificate,S.flush(e),e.isConnected=!0,e.connected(e),e.process()};S.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case S.Alert.Description.close_notify:i="Connection closed.";break;case S.Alert.Description.unexpected_message:i="Unexpected message.";break;case S.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case S.Alert.Description.decryption_failed:i="Decryption failed.";break;case S.Alert.Description.record_overflow:i="Record overflow.";break;case S.Alert.Description.decompression_failure:i="Decompression failed.";break;case S.Alert.Description.handshake_failure:i="Handshake failure.";break;case S.Alert.Description.bad_certificate:i="Bad certificate.";break;case S.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case S.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case S.Alert.Description.certificate_expired:i="Certificate expired.";break;case S.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case S.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case S.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case S.Alert.Description.access_denied:i="Access denied.";break;case S.Alert.Description.decode_error:i="Decode error.";break;case S.Alert.Description.decrypt_error:i="Decrypt error.";break;case S.Alert.Description.export_restriction:i="Export restriction.";break;case S.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case S.Alert.Description.insufficient_security:i="Insufficient security.";break;case S.Alert.Description.internal_error:i="Internal error.";break;case S.Alert.Description.user_canceled:i="User canceled.";break;case S.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===S.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===S.ConnectionEnd.client?"server":"client",alert:n}),e.process()};S.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=pe.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var a=r.bytes(i+4);r.read+=4,n in pf[e.entity][e.expect]?(e.entity===S.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:pe.md.md5.create(),sha1:pe.md.sha1.create()}),n!==S.HandshakeType.hello_request&&n!==S.HandshakeType.certificate_verify&&n!==S.HandshakeType.finished&&(e.session.md5.update(a),e.session.sha1.update(a)),pf[e.entity][e.expect][n](e,t,i)):S.handleUnexpected(e,t)};S.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};S.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),a=r.getBytes(i);if(n===S.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>a.length)return e.process();S.queue(e,S.createRecord(e,{type:S.ContentType.heartbeat,data:S.createHeartbeat(S.HeartbeatMessageType.heartbeat_response,a)})),S.flush(e)}else if(n===S.HeartbeatMessageType.heartbeat_response){if(a!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,pe.util.createBuffer(a))}e.process()};var mO=0,yO=1,eC=2,vO=3,_O=4,tC=5,EO=6,CO=7,AO=8,wO=0,bO=1,$0=2,SO=3,ep=4,TO=5,xO=6,b=S.handleUnexpected,rC=S.handleChangeCipherSpec,Lr=S.handleAlert,$r=S.handleHandshake,nC=S.handleApplicationData,Pr=S.handleHeartbeat,tp=[];tp[S.ConnectionEnd.client]=[[b,Lr,$r,b,Pr],[b,Lr,$r,b,Pr],[b,Lr,$r,b,Pr],[b,Lr,$r,b,Pr],[b,Lr,$r,b,Pr],[rC,Lr,b,b,Pr],[b,Lr,$r,b,Pr],[b,Lr,$r,nC,Pr],[b,Lr,$r,b,Pr]];tp[S.ConnectionEnd.server]=[[b,Lr,$r,b,Pr],[b,Lr,$r,b,Pr],[b,Lr,$r,b,Pr],[b,Lr,$r,b,Pr],[rC,Lr,b,b,Pr],[b,Lr,$r,b,Pr],[b,Lr,$r,nC,Pr],[b,Lr,$r,b,Pr]];var Ra=S.handleHelloRequest,IO=S.handleServerHello,iC=S.handleCertificate,aC=S.handleServerKeyExchange,rp=S.handleCertificateRequest,hf=S.handleServerHelloDone,sC=S.handleFinished,pf=[];pf[S.ConnectionEnd.client]=[[b,b,IO,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[Ra,b,b,b,b,b,b,b,b,b,b,iC,aC,rp,hf,b,b,b,b,b,b],[Ra,b,b,b,b,b,b,b,b,b,b,b,aC,rp,hf,b,b,b,b,b,b],[Ra,b,b,b,b,b,b,b,b,b,b,b,b,rp,hf,b,b,b,b,b,b],[Ra,b,b,b,b,b,b,b,b,b,b,b,b,b,hf,b,b,b,b,b,b],[Ra,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[Ra,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,sC],[Ra,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[Ra,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b]];var kO=S.handleClientHello,BO=S.handleClientKeyExchange,RO=S.handleCertificateVerify;pf[S.ConnectionEnd.server]=[[b,kO,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,iC,b,b,b,b,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,BO,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,RO,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,sC],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b]];S.generateKeys=function(e,t){var r=df,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,a=e.version.major===S.Versions.TLS_1_0.major&&e.version.minor===S.Versions.TLS_1_0.minor;a&&(i+=2*t.fixed_iv_length);var s=r(t.master_secret,"key expansion",n,i),u={client_write_MAC_key:s.getBytes(t.mac_key_length),server_write_MAC_key:s.getBytes(t.mac_key_length),client_write_key:s.getBytes(t.enc_key_length),server_write_key:s.getBytes(t.enc_key_length)};return a&&(u.client_write_IV=s.getBytes(t.fixed_iv_length),u.server_write_IV=s.getBytes(t.fixed_iv_length)),u};S.createConnectionState=function(e){var t=e.entity===S.ConnectionEnd.client,r=function(){var a={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(s){return!0},compressionState:null,compressFunction:function(s){return!0},updateSequenceNumber:function(){a.sequenceNumber[1]===4294967295?(a.sequenceNumber[1]=0,++a.sequenceNumber[0]):++a.sequenceNumber[1]}};return a},n={read:r(),write:r()};if(n.read.update=function(a,s){return n.read.cipherFunction(s,n.read)?n.read.compressFunction(a,s,n.read)||a.error(a,{message:"Could not decompress record.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.decompression_failure}}):a.error(a,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.bad_record_mac}}),!a.fail},n.write.update=function(a,s){return n.write.compressFunction(a,s,n.write)?n.write.cipherFunction(s,n.write)||a.error(a,{message:"Could not encrypt record.",send:!1,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}}):a.error(a,{message:"Could not compress record.",send:!1,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}}),!a.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=S.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case S.CompressionMethod.none:break;case S.CompressionMethod.deflate:n.read.compressFunction=gO,n.write.compressFunction=pO;break;default:throw new Error("Unsupported compression algorithm.")}}return n};S.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=pe.util.createBuffer();return r.putInt32(t),r.putBytes(pe.random.getBytes(28)),r};S.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};S.createAlert=function(e,t){var r=pe.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),S.createRecord(e,{type:S.ContentType.alert,data:r})};S.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=pe.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),a=pe.util.createBuffer();a.putByte(S.CompressionMethod.none);var s=a.length(),u=pe.util.createBuffer();if(e.virtualHost){var c=pe.util.createBuffer();c.putByte(0),c.putByte(0);var f=pe.util.createBuffer();f.putByte(0),Kn(f,2,pe.util.createBuffer(e.virtualHost));var d=pe.util.createBuffer();Kn(d,2,f),Kn(c,2,d),u.putBuffer(c)}var p=u.length();p>0&&(p+=2);var g=e.session.id,v=g.length+1+2+4+28+2+i+1+s+p,m=pe.util.createBuffer();return m.putByte(S.HandshakeType.client_hello),m.putInt24(v),m.putByte(e.version.major),m.putByte(e.version.minor),m.putBytes(e.session.sp.client_random),Kn(m,1,pe.util.createBuffer(g)),Kn(m,2,t),Kn(m,1,a),p>0&&Kn(m,2,u),m};S.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=pe.util.createBuffer();return n.putByte(S.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),Kn(n,1,pe.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};S.createCertificate=function(e){var t=e.entity===S.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=pe.util.createBuffer();if(r!==null)try{pe.util.isArray(r)||(r=[r]);for(var a=null,s=0;s<r.length;++s){var u=pe.pem.decode(r[s])[0];if(u.type!=="CERTIFICATE"&&u.type!=="X509 CERTIFICATE"&&u.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=u.type,c}if(u.procType&&u.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var f=pe.util.createBuffer(u.body);a===null&&(a=pe.asn1.fromDer(f.bytes(),!1));var d=pe.util.createBuffer();Kn(d,3,f),i.putBuffer(d)}r=pe.pki.certificateFromAsn1(a),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(v){return e.error(e,{message:"Could not send certificate list.",cause:v,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.bad_certificate}})}var p=3+i.length(),g=pe.util.createBuffer();return g.putByte(S.HandshakeType.certificate),g.putInt24(p),Kn(g,3,i),g};S.createClientKeyExchange=function(e){var t=pe.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(pe.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,a=pe.util.createBuffer();return a.putByte(S.HandshakeType.client_key_exchange),a.putInt24(i),a.putInt16(t.length),a.putBytes(t),a};S.createServerKeyExchange=function(e){var t=0,r=pe.util.createBuffer();return t>0&&(r.putByte(S.HandshakeType.server_key_exchange),r.putInt24(t)),r};S.getClientSignature=function(e,t){var r=pe.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,i,a){var s=null;if(n.getPrivateKey)try{s=n.getPrivateKey(n,n.session.clientCertificate),s=pe.pki.privateKeyFromPem(s)}catch(u){n.error(n,{message:"Could not get private key.",cause:u,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}})}s===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}}):i=s.sign(i,null),a(n,i)},e.getSignature(e,r,t)};S.createCertificateVerify=function(e,t){var r=t.length+2,n=pe.util.createBuffer();return n.putByte(S.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};S.createCertificateRequest=function(e){var t=pe.util.createBuffer();t.putByte(1);var r=pe.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],a=pe.pki.distinguishedNameToAsn1(i.subject),s=pe.asn1.toDer(a);r.putInt16(s.length()),r.putBuffer(s)}var u=1+t.length()+2+r.length(),c=pe.util.createBuffer();return c.putByte(S.HandshakeType.certificate_request),c.putInt24(u),Kn(c,1,t),Kn(c,2,r),c};S.createServerHelloDone=function(e){var t=pe.util.createBuffer();return t.putByte(S.HandshakeType.server_hello_done),t.putInt24(0),t};S.createChangeCipherSpec=function(){var e=pe.util.createBuffer();return e.putByte(1),e};S.createFinished=function(e){var t=pe.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===S.ConnectionEnd.client,n=e.session.sp,i=12,a=df,s=r?"client finished":"server finished";t=a(n.master_secret,s,t.getBytes(),i);var u=pe.util.createBuffer();return u.putByte(S.HandshakeType.finished),u.putInt24(t.length()),u.putBuffer(t),u};S.createHeartbeat=function(e,t,r){typeof r=="undefined"&&(r=t.length);var n=pe.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),a=Math.max(16,i-r-3);return n.putBytes(pe.random.getBytes(a)),n};S.queue=function(e,t){if(!!t&&!(t.fragment.length()===0&&(t.type===S.ContentType.handshake||t.type===S.ContentType.alert||t.type===S.ContentType.change_cipher_spec))){if(t.type===S.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=S.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>S.MaxFragment;)n.push(S.createRecord(e,{type:t.type,data:pe.util.createBuffer(i.slice(0,S.MaxFragment))})),i=i.slice(S.MaxFragment);i.length>0&&n.push(S.createRecord(e,{type:t.type,data:pe.util.createBuffer(i)}))}for(var a=0;a<n.length&&!e.fail;++a){var s=n[a],u=e.state.current.write;u.update(e,s)&&e.records.push(s)}}};S.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var np=function(e){switch(e){case!0:return!0;case pe.pki.certificateError.bad_certificate:return S.Alert.Description.bad_certificate;case pe.pki.certificateError.unsupported_certificate:return S.Alert.Description.unsupported_certificate;case pe.pki.certificateError.certificate_revoked:return S.Alert.Description.certificate_revoked;case pe.pki.certificateError.certificate_expired:return S.Alert.Description.certificate_expired;case pe.pki.certificateError.certificate_unknown:return S.Alert.Description.certificate_unknown;case pe.pki.certificateError.unknown_ca:return S.Alert.Description.unknown_ca;default:return S.Alert.Description.bad_certificate}},NO=function(e){switch(e){case!0:return!0;case S.Alert.Description.bad_certificate:return pe.pki.certificateError.bad_certificate;case S.Alert.Description.unsupported_certificate:return pe.pki.certificateError.unsupported_certificate;case S.Alert.Description.certificate_revoked:return pe.pki.certificateError.certificate_revoked;case S.Alert.Description.certificate_expired:return pe.pki.certificateError.certificate_expired;case S.Alert.Description.certificate_unknown:return pe.pki.certificateError.certificate_unknown;case S.Alert.Description.unknown_ca:return pe.pki.certificateError.unknown_ca;default:return pe.pki.certificateError.bad_certificate}};S.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(a,s,u){var c=np(a),f=e.verify(e,a,s,u);if(f!==!0){if(typeof f=="object"&&!pe.util.isArray(f)){var d=new Error("The application rejected the certificate.");throw d.send=!0,d.alert={level:S.Alert.Level.fatal,description:S.Alert.Description.bad_certificate},f.message&&(d.message=f.message),f.alert&&(d.alert.description=f.alert),d}f!==a&&(f=NO(f))}return f},pe.pki.verifyCertificateChain(e.caStore,t,r)}catch(a){var i=a;(typeof i!="object"||pe.util.isArray(i))&&(i={send:!0,alert:{level:S.Alert.Level.fatal,description:np(a)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:S.Alert.Level.fatal,description:np(i.error)}),e.error(e,i)}return!e.fail};S.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(i){var a=null,s=null;if(i?s=pe.util.bytesToHex(i):r.order.length>0&&(s=r.order[0]),s!==null&&s in r.cache){a=r.cache[s],delete r.cache[s];for(var u in r.order)if(r.order[u]===s){r.order.splice(u,1);break}}return a},r.setSession=function(i,a){if(r.order.length===r.capacity){var s=r.order.shift();delete r.cache[s]}var s=pe.util.bytesToHex(i);r.order.push(s),r.cache[s]=a}}return r};S.createConnection=function(e){var t=null;e.caStore?pe.util.isArray(e.caStore)?t=pe.pki.createCaStore(e.caStore):t=e.caStore:t=pe.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in S.CipherSuites)r.push(S.CipherSuites[n])}var i=e.server?S.ConnectionEnd.server:S.ConnectionEnd.client,a=e.sessionCache?S.createSessionCache(e.sessionCache):null,s={version:{major:S.Version.major,minor:S.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:a,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(d,p,g,v){return p},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:pe.util.createBuffer(),tlsData:pe.util.createBuffer(),data:pe.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(d,p){p.origin=p.origin||(d.entity===S.ConnectionEnd.client?"client":"server"),p.send&&(S.queue(d,S.createAlert(d,p.alert)),S.flush(d));var g=p.fatal!==!1;g&&(d.fail=!0),e.error(d,p),g&&d.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};s.reset=function(d){s.version={major:S.Version.major,minor:S.Version.minor},s.record=null,s.session=null,s.peerCertificate=null,s.state={pending:null,current:null},s.expect=s.entity===S.ConnectionEnd.client?mO:wO,s.fragmented=null,s.records=[],s.open=!1,s.handshakes=0,s.handshaking=!1,s.isConnected=!1,s.fail=!(d||typeof d=="undefined"),s.input.clear(),s.tlsData.clear(),s.data.clear(),s.state.current=S.createConnectionState(s)},s.reset();var u=function(d,p){var g=p.type-S.ContentType.change_cipher_spec,v=tp[d.entity][d.expect];g in v?v[g](d,p):S.handleUnexpected(d,p)},c=function(d){var p=0,g=d.input,v=g.length();if(v<5)p=5-v;else{d.record={type:g.getByte(),version:{major:g.getByte(),minor:g.getByte()},length:g.getInt16(),fragment:pe.util.createBuffer(),ready:!1};var m=d.record.version.major===d.version.major;m&&d.session&&d.session.version&&(m=d.record.version.minor===d.version.minor),m||d.error(d,{message:"Incompatible TLS version.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.protocol_version}})}return p},f=function(d){var p=0,g=d.input,v=g.length();if(v<d.record.length)p=d.record.length-v;else{d.record.fragment.putBytes(g.getBytes(d.record.length)),g.compact();var m=d.state.current.read;m.update(d,d.record)&&(d.fragmented!==null&&(d.fragmented.type===d.record.type?(d.fragmented.fragment.putBuffer(d.record.fragment),d.record=d.fragmented):d.error(d,{message:"Invalid fragmented record.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unexpected_message}})),d.record.ready=!0)}return p};return s.handshake=function(d){if(s.entity!==S.ConnectionEnd.client)s.error(s,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(s.handshaking)s.error(s,{message:"Handshake already in progress.",fatal:!1});else{s.fail&&!s.open&&s.handshakes===0&&(s.fail=!1),s.handshaking=!0,d=d||"";var p=null;d.length>0&&(s.sessionCache&&(p=s.sessionCache.getSession(d)),p===null&&(d="")),d.length===0&&s.sessionCache&&(p=s.sessionCache.getSession(),p!==null&&(d=p.id)),s.session={id:d,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:pe.md.md5.create(),sha1:pe.md.sha1.create()},p&&(s.version=p.version,s.session.sp=p.sp),s.session.sp.client_random=S.createRandom().getBytes(),s.open=!0,S.queue(s,S.createRecord(s,{type:S.ContentType.handshake,data:S.createClientHello(s)})),S.flush(s)}},s.process=function(d){var p=0;return d&&s.input.putBytes(d),s.fail||(s.record!==null&&s.record.ready&&s.record.fragment.isEmpty()&&(s.record=null),s.record===null&&(p=c(s)),!s.fail&&s.record!==null&&!s.record.ready&&(p=f(s)),!s.fail&&s.record!==null&&s.record.ready&&u(s,s.record)),p},s.prepare=function(d){return S.queue(s,S.createRecord(s,{type:S.ContentType.application_data,data:pe.util.createBuffer(d)})),S.flush(s)},s.prepareHeartbeatRequest=function(d,p){return d instanceof pe.util.ByteBuffer&&(d=d.bytes()),typeof p=="undefined"&&(p=d.length),s.expectedHeartbeatPayload=d,S.queue(s,S.createRecord(s,{type:S.ContentType.heartbeat,data:S.createHeartbeat(S.HeartbeatMessageType.heartbeat_request,d,p)})),S.flush(s)},s.close=function(d){if(!s.fail&&s.sessionCache&&s.session){var p={id:s.session.id,version:s.session.version,sp:s.session.sp};p.sp.keys=null,s.sessionCache.setSession(p.id,p)}s.open&&(s.open=!1,s.input.clear(),(s.isConnected||s.handshaking)&&(s.isConnected=s.handshaking=!1,S.queue(s,S.createAlert(s,{level:S.Alert.Level.warning,description:S.Alert.Description.close_notify})),S.flush(s)),s.closed(s)),s.reset(d)},s};oC.exports=pe.tls=pe.tls||{};for(gf in S)typeof S[gf]!="function"&&(pe.tls[gf]=S[gf]);var gf;pe.tls.prf_tls1=df;pe.tls.hmac_sha1=hO;pe.tls.createSessionCache=S.createSessionCache;pe.tls.createConnection=S.createConnection});var cC=ue((cG,lC)=>{var Na=ft();Sa();ip();var Vn=lC.exports=Na.tls;Vn.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Vn.BulkCipherAlgorithm.aes,e.cipher_type=Vn.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Vn.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:uC};Vn.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Vn.BulkCipherAlgorithm.aes,e.cipher_type=Vn.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Vn.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:uC};function uC(e,t,r){var n=t.entity===Na.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:Na.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:Na.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=OO,e.write.cipherFunction=DO,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=Vn.hmac_sha1}function DO(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var i;e.version.minor===Vn.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=Na.random.getBytesSync(16),t.cipherState.init=!0;var a=t.cipherState.cipher;return a.start({iv:i}),e.version.minor>=Vn.Versions.TLS_1_1.minor&&a.output.putBytes(i),a.update(e.fragment),a.finish(LO)&&(e.fragment=a.output,e.length=e.fragment.length(),r=!0),r}function LO(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}function PO(e,t,r){var n=!0;if(r){for(var i=t.length(),a=t.last(),s=i-1-a;s<i-1;++s)n=n&&t.at(s)==a;n&&t.truncate(a+1)}return n}function OO(e,t){var r=!1,n;e.version.minor===Vn.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),r=i.finish(PO);var a=t.macLength,s=Na.random.getBytesSync(a),u=i.output.length();u>=a?(e.fragment=i.output.getBytes(u-a),s=i.output.getBytes(a)):e.fragment=i.output.getBytes(),e.fragment=Na.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=MO(t.macKey,s,c)&&r,r}function MO(e,t,r){var n=Na.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}});var op=ue((fG,pC)=>{var er=ft();Ci();Bt();var Bu=pC.exports=er.sha512=er.sha512||{};er.md.sha512=er.md.algorithms.sha512=Bu;var fC=er.sha384=er.sha512.sha384=er.sha512.sha384||{};fC.create=function(){return Bu.create("SHA-384")};er.md.sha384=er.md.algorithms.sha384=fC;er.sha512.sha256=er.sha512.sha256||{create:function(){return Bu.create("SHA-512/256")}};er.md["sha512/256"]=er.md.algorithms["sha512/256"]=er.sha512.sha256;er.sha512.sha224=er.sha512.sha224||{create:function(){return Bu.create("SHA-512/224")}};er.md["sha512/224"]=er.md.algorithms["sha512/224"]=er.sha512.sha224;Bu.create=function(e){if(dC||UO(),typeof e=="undefined"&&(e="SHA-512"),!(e in cs))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=cs[e],r=null,n=er.util.createBuffer(),i=new Array(80),a=0;a<80;++a)i[a]=new Array(2);var s=64;switch(e){case"SHA-384":s=48;break;case"SHA-512/256":s=32;break;case"SHA-512/224":s=28;break}var u={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:s,messageLength:0,fullMessageLength:null,messageLengthSize:16};return u.start=function(){u.messageLength=0,u.fullMessageLength=u.messageLength128=[];for(var c=u.messageLengthSize/4,f=0;f<c;++f)u.fullMessageLength.push(0);n=er.util.createBuffer(),r=new Array(t.length);for(var f=0;f<t.length;++f)r[f]=t[f].slice(0);return u},u.start(),u.update=function(c,f){f==="utf8"&&(c=er.util.encodeUtf8(c));var d=c.length;u.messageLength+=d,d=[d/4294967296>>>0,d>>>0];for(var p=u.fullMessageLength.length-1;p>=0;--p)u.fullMessageLength[p]+=d[1],d[1]=d[0]+(u.fullMessageLength[p]/4294967296>>>0),u.fullMessageLength[p]=u.fullMessageLength[p]>>>0,d[0]=d[1]/4294967296>>>0;return n.putBytes(c),hC(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),u},u.digest=function(){var c=er.util.createBuffer();c.putBytes(n.bytes());var f=u.fullMessageLength[u.fullMessageLength.length-1]+u.messageLengthSize,d=f&u.blockLength-1;c.putBytes(ap.substr(0,u.blockLength-d));for(var p,g,v=u.fullMessageLength[0]*8,m=0;m<u.fullMessageLength.length-1;++m)p=u.fullMessageLength[m+1]*8,g=p/4294967296>>>0,v+=g,c.putInt32(v>>>0),v=p>>>0;c.putInt32(v);for(var E=new Array(r.length),m=0;m<r.length;++m)E[m]=r[m].slice(0);hC(E,i,c);var _=er.util.createBuffer(),C;e==="SHA-512"?C=E.length:e==="SHA-384"?C=E.length-2:C=E.length-4;for(var m=0;m<C;++m)_.putInt32(E[m][0]),(m!==C-1||e!=="SHA-512/224")&&_.putInt32(E[m][1]);return _},u};var ap=null,dC=!1,sp=null,cs=null;function UO(){ap=String.fromCharCode(128),ap+=er.util.fillString(String.fromCharCode(0),128),sp=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],cs={},cs["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],cs["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],cs["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],cs["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],dC=!0}function hC(e,t,r){for(var n,i,a,s,u,c,f,d,p,g,v,m,E,_,C,B,R,D,L,O,ae,j,Y,ye,me,we,Ke,Oe,Ie,Pe,_e,nt,Xe,Nt,At,it=r.length();it>=128;){for(Ie=0;Ie<16;++Ie)t[Ie][0]=r.getInt32()>>>0,t[Ie][1]=r.getInt32()>>>0;for(;Ie<80;++Ie)nt=t[Ie-2],Pe=nt[0],_e=nt[1],n=((Pe>>>19|_e<<13)^(_e>>>29|Pe<<3)^Pe>>>6)>>>0,i=((Pe<<13|_e>>>19)^(_e<<3|Pe>>>29)^(Pe<<26|_e>>>6))>>>0,Nt=t[Ie-15],Pe=Nt[0],_e=Nt[1],a=((Pe>>>1|_e<<31)^(Pe>>>8|_e<<24)^Pe>>>7)>>>0,s=((Pe<<31|_e>>>1)^(Pe<<24|_e>>>8)^(Pe<<25|_e>>>7))>>>0,Xe=t[Ie-7],At=t[Ie-16],_e=i+Xe[1]+s+At[1],t[Ie][0]=n+Xe[0]+a+At[0]+(_e/4294967296>>>0)>>>0,t[Ie][1]=_e>>>0;for(E=e[0][0],_=e[0][1],C=e[1][0],B=e[1][1],R=e[2][0],D=e[2][1],L=e[3][0],O=e[3][1],ae=e[4][0],j=e[4][1],Y=e[5][0],ye=e[5][1],me=e[6][0],we=e[6][1],Ke=e[7][0],Oe=e[7][1],Ie=0;Ie<80;++Ie)f=((ae>>>14|j<<18)^(ae>>>18|j<<14)^(j>>>9|ae<<23))>>>0,d=((ae<<18|j>>>14)^(ae<<14|j>>>18)^(j<<23|ae>>>9))>>>0,p=(me^ae&(Y^me))>>>0,g=(we^j&(ye^we))>>>0,u=((E>>>28|_<<4)^(_>>>2|E<<30)^(_>>>7|E<<25))>>>0,c=((E<<4|_>>>28)^(_<<30|E>>>2)^(_<<25|E>>>7))>>>0,v=(E&C|R&(E^C))>>>0,m=(_&B|D&(_^B))>>>0,_e=Oe+d+g+sp[Ie][1]+t[Ie][1],n=Ke+f+p+sp[Ie][0]+t[Ie][0]+(_e/4294967296>>>0)>>>0,i=_e>>>0,_e=c+m,a=u+v+(_e/4294967296>>>0)>>>0,s=_e>>>0,Ke=me,Oe=we,me=Y,we=ye,Y=ae,ye=j,_e=O+i,ae=L+n+(_e/4294967296>>>0)>>>0,j=_e>>>0,L=R,O=D,R=C,D=B,C=E,B=_,_e=i+s,E=n+a+(_e/4294967296>>>0)>>>0,_=_e>>>0;_e=e[0][1]+_,e[0][0]=e[0][0]+E+(_e/4294967296>>>0)>>>0,e[0][1]=_e>>>0,_e=e[1][1]+B,e[1][0]=e[1][0]+C+(_e/4294967296>>>0)>>>0,e[1][1]=_e>>>0,_e=e[2][1]+D,e[2][0]=e[2][0]+R+(_e/4294967296>>>0)>>>0,e[2][1]=_e>>>0,_e=e[3][1]+O,e[3][0]=e[3][0]+L+(_e/4294967296>>>0)>>>0,e[3][1]=_e>>>0,_e=e[4][1]+j,e[4][0]=e[4][0]+ae+(_e/4294967296>>>0)>>>0,e[4][1]=_e>>>0,_e=e[5][1]+ye,e[5][0]=e[5][0]+Y+(_e/4294967296>>>0)>>>0,e[5][1]=_e>>>0,_e=e[6][1]+we,e[6][0]=e[6][0]+me+(_e/4294967296>>>0)>>>0,e[6][1]=_e>>>0,_e=e[7][1]+Oe,e[7][0]=e[7][0]+Ke+(_e/4294967296>>>0)>>>0,e[7][1]=_e>>>0,it-=128}}});var gC=ue(up=>{var FO=ft();si();var kr=FO.asn1;up.privateKeyValidator={name:"PrivateKeyInfo",tagClass:kr.Class.UNIVERSAL,type:kr.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:kr.Class.UNIVERSAL,type:kr.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:kr.Class.UNIVERSAL,type:kr.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:kr.Class.UNIVERSAL,type:kr.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:kr.Class.UNIVERSAL,type:kr.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};up.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:kr.Class.UNIVERSAL,type:kr.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:kr.Class.UNIVERSAL,type:kr.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:kr.Class.UNIVERSAL,type:kr.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:kr.Class.UNIVERSAL,type:kr.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var IC=ue((hG,xC)=>{var Or=ft();Tu();Un();op();Bt();var mC=gC(),qO=mC.publicKeyValidator,GO=mC.privateKeyValidator;typeof yC=="undefined"&&(yC=Or.jsbn.BigInteger);var yC,lp=Or.util.ByteBuffer,dn=typeof Buffer=="undefined"?Uint8Array:Buffer;Or.pki=Or.pki||{};xC.exports=Or.pki.ed25519=Or.ed25519=Or.ed25519||{};var vt=Or.ed25519;vt.constants={};vt.constants.PUBLIC_KEY_BYTE_LENGTH=32;vt.constants.PRIVATE_KEY_BYTE_LENGTH=64;vt.constants.SEED_BYTE_LENGTH=32;vt.constants.SIGN_BYTE_LENGTH=64;vt.constants.HASH_BYTE_LENGTH=64;vt.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=Or.random.getBytesSync(vt.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==vt.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+vt.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=Zi({message:t,encoding:"binary"});for(var r=new dn(vt.constants.PUBLIC_KEY_BYTE_LENGTH),n=new dn(vt.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return YO(r,n),{publicKey:r,privateKey:n}};vt.privateKeyFromAsn1=function(e){var t={},r=[],n=Or.asn1.validate(e,GO,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var a=Or.asn1.derToOid(t.privateKeyOid),s=Or.oids.EdDSA25519;if(a!==s)throw new Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var u=t.privateKey,c=Zi({message:Or.asn1.fromDer(u).value,encoding:"binary"});return{privateKeyBytes:c}};vt.publicKeyFromAsn1=function(e){var t={},r=[],n=Or.asn1.validate(e,qO,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var a=Or.asn1.derToOid(t.publicKeyOid),s=Or.oids.EdDSA25519;if(a!==s)throw new Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var u=t.ed25519PublicKey;if(u.length!==vt.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return Zi({message:u,encoding:"binary"})};vt.publicKeyFromPrivateKey=function(e){e=e||{};var t=Zi({message:e.privateKey,encoding:"binary"});if(t.length!==vt.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+vt.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new dn(vt.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};vt.sign=function(e){e=e||{};var t=Zi(e),r=Zi({message:e.privateKey,encoding:"binary"});if(r.length===vt.constants.SEED_BYTE_LENGTH){var n=vt.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==vt.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+vt.constants.SEED_BYTE_LENGTH+" or "+vt.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new dn(vt.constants.SIGN_BYTE_LENGTH+t.length);jO(i,t,t.length,r);for(var a=new dn(vt.constants.SIGN_BYTE_LENGTH),s=0;s<a.length;++s)a[s]=i[s];return a};vt.verify=function(e){e=e||{};var t=Zi(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=Zi({message:e.signature,encoding:"binary"});if(r.length!==vt.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+vt.constants.SIGN_BYTE_LENGTH);var n=Zi({message:e.publicKey,encoding:"binary"});if(n.length!==vt.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+vt.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new dn(vt.constants.SIGN_BYTE_LENGTH+t.length),a=new dn(vt.constants.SIGN_BYTE_LENGTH+t.length),s;for(s=0;s<vt.constants.SIGN_BYTE_LENGTH;++s)i[s]=r[s];for(s=0;s<t.length;++s)i[s+vt.constants.SIGN_BYTE_LENGTH]=t[s];return WO(a,i,i.length,n)>=0};function Zi(e){var t=e.message;if(t instanceof Uint8Array||t instanceof dn)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer!="undefined")return Buffer.from(t,r);t=new lp(t,r)}else if(!(t instanceof lp))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new dn(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}var cp=We(),mf=We([1]),KO=We([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),VO=We([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),vC=We([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),_C=We([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),fp=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),HO=We([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Ru(e,t){var r=Or.md.sha512.create(),n=new lp(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if(typeof Buffer!="undefined")return Buffer.from(i,"binary");for(var a=new dn(vt.constants.HASH_BYTE_LENGTH),s=0;s<64;++s)a[s]=i.charCodeAt(s);return a}function YO(e,t){var r=[We(),We(),We(),We()],n,i=Ru(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,gp(r,i),pp(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}function jO(e,t,r,n){var i,a,s=new Float64Array(64),u=[We(),We(),We(),We()],c=Ru(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var f=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=c[32+i];var d=Ru(e.subarray(32),r+32);for(dp(d),gp(u,d),pp(e,u),i=32;i<64;++i)e[i]=n[i];var p=Ru(e,r+64);for(dp(p),i=32;i<64;++i)s[i]=0;for(i=0;i<32;++i)s[i]=d[i];for(i=0;i<32;++i)for(a=0;a<32;a++)s[i+a]+=p[i]*c[a];return EC(e.subarray(32),s),f}function WO(e,t,r,n){var i,a,s=new dn(32),u=[We(),We(),We(),We()],c=[We(),We(),We(),We()];if(a=-1,r<64||zO(c,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var f=Ru(e,r);if(dp(f),SC(u,c,f),gp(c,t.subarray(32)),hp(u,c),pp(s,u),r-=64,wC(t,0,s,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return a=r,a}function EC(e,t){var r,n,i,a;for(n=63;n>=32;--n){for(r=0,i=n-32,a=n-12;i<a;++i)t[i]+=r-16*t[n]*fp[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*fp[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*fp[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}function dp(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;EC(e,t)}function hp(e,t){var r=We(),n=We(),i=We(),a=We(),s=We(),u=We(),c=We(),f=We(),d=We();_o(r,e[1],e[0]),_o(d,t[1],t[0]),Ht(r,r,d),vo(n,e[0],e[1]),vo(d,t[0],t[1]),Ht(n,n,d),Ht(i,e[3],t[3]),Ht(i,i,VO),Ht(a,e[2],t[2]),vo(a,a,a),_o(s,n,r),_o(u,a,i),vo(c,a,i),vo(f,n,r),Ht(e[0],s,u),Ht(e[1],f,c),Ht(e[2],c,u),Ht(e[3],s,f)}function CC(e,t,r){for(var n=0;n<4;++n)TC(e[n],t[n],r)}function pp(e,t){var r=We(),n=We(),i=We();ZO(i,t[2]),Ht(r,t[0],i),Ht(n,t[1],i),yf(e,n),e[31]^=bC(r)<<7}function yf(e,t){var r,n,i,a=We(),s=We();for(r=0;r<16;++r)s[r]=t[r];for(mp(s),mp(s),mp(s),n=0;n<2;++n){for(a[0]=s[0]-65517,r=1;r<15;++r)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),i=a[15]>>16&1,a[14]&=65535,TC(s,a,1-i)}for(r=0;r<16;r++)e[2*r]=s[r]&255,e[2*r+1]=s[r]>>8}function zO(e,t){var r=We(),n=We(),i=We(),a=We(),s=We(),u=We(),c=We();return Da(e[2],mf),JO(e[1],t),fs(i,e[1]),Ht(a,i,KO),_o(i,i,e[2]),vo(a,e[2],a),fs(s,a),fs(u,s),Ht(c,u,s),Ht(r,c,i),Ht(r,r,a),QO(r,r),Ht(r,r,i),Ht(r,r,a),Ht(r,r,a),Ht(e[0],r,a),fs(n,e[0]),Ht(n,n,a),AC(n,i)&&Ht(e[0],e[0],HO),fs(n,e[0]),Ht(n,n,a),AC(n,i)?-1:(bC(e[0])===t[31]>>7&&_o(e[0],cp,e[0]),Ht(e[3],e[0],e[1]),0)}function JO(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function QO(e,t){var r=We(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)fs(r,r),n!==1&&Ht(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}function AC(e,t){var r=new dn(32),n=new dn(32);return yf(r,e),yf(n,t),wC(r,0,n,0)}function wC(e,t,r,n){return XO(e,t,r,n,32)}function XO(e,t,r,n,i){var a,s=0;for(a=0;a<i;++a)s|=e[t+a]^r[n+a];return(1&s-1>>>8)-1}function bC(e){var t=new dn(32);return yf(t,e),t[0]&1}function SC(e,t,r){var n,i;for(Da(e[0],cp),Da(e[1],mf),Da(e[2],mf),Da(e[3],cp),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,CC(e,t,n),hp(t,e),hp(e,e),CC(e,t,n)}function gp(e,t){var r=[We(),We(),We(),We()];Da(r[0],vC),Da(r[1],_C),Da(r[2],mf),Ht(r[3],vC,_C),SC(e,r,t)}function Da(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}function ZO(e,t){var r=We(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)fs(r,r),n!==2&&n!==4&&Ht(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}function mp(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}function TC(e,t,r){for(var n,i=~(r-1),a=0;a<16;++a)n=i&(e[a]^t[a]),e[a]^=n,t[a]^=n}function We(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function vo(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}function _o(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}function fs(e,t){Ht(e,t,t)}function Ht(e,t,r){var n,i,a=0,s=0,u=0,c=0,f=0,d=0,p=0,g=0,v=0,m=0,E=0,_=0,C=0,B=0,R=0,D=0,L=0,O=0,ae=0,j=0,Y=0,ye=0,me=0,we=0,Ke=0,Oe=0,Ie=0,Pe=0,_e=0,nt=0,Xe=0,Nt=r[0],At=r[1],it=r[2],fe=r[3],Dt=r[4],Tt=r[5],Re=r[6],Le=r[7],He=r[8],x=r[9],k=r[10],N=r[11],W=r[12],G=r[13],J=r[14],X=r[15];n=t[0],a+=n*Nt,s+=n*At,u+=n*it,c+=n*fe,f+=n*Dt,d+=n*Tt,p+=n*Re,g+=n*Le,v+=n*He,m+=n*x,E+=n*k,_+=n*N,C+=n*W,B+=n*G,R+=n*J,D+=n*X,n=t[1],s+=n*Nt,u+=n*At,c+=n*it,f+=n*fe,d+=n*Dt,p+=n*Tt,g+=n*Re,v+=n*Le,m+=n*He,E+=n*x,_+=n*k,C+=n*N,B+=n*W,R+=n*G,D+=n*J,L+=n*X,n=t[2],u+=n*Nt,c+=n*At,f+=n*it,d+=n*fe,p+=n*Dt,g+=n*Tt,v+=n*Re,m+=n*Le,E+=n*He,_+=n*x,C+=n*k,B+=n*N,R+=n*W,D+=n*G,L+=n*J,O+=n*X,n=t[3],c+=n*Nt,f+=n*At,d+=n*it,p+=n*fe,g+=n*Dt,v+=n*Tt,m+=n*Re,E+=n*Le,_+=n*He,C+=n*x,B+=n*k,R+=n*N,D+=n*W,L+=n*G,O+=n*J,ae+=n*X,n=t[4],f+=n*Nt,d+=n*At,p+=n*it,g+=n*fe,v+=n*Dt,m+=n*Tt,E+=n*Re,_+=n*Le,C+=n*He,B+=n*x,R+=n*k,D+=n*N,L+=n*W,O+=n*G,ae+=n*J,j+=n*X,n=t[5],d+=n*Nt,p+=n*At,g+=n*it,v+=n*fe,m+=n*Dt,E+=n*Tt,_+=n*Re,C+=n*Le,B+=n*He,R+=n*x,D+=n*k,L+=n*N,O+=n*W,ae+=n*G,j+=n*J,Y+=n*X,n=t[6],p+=n*Nt,g+=n*At,v+=n*it,m+=n*fe,E+=n*Dt,_+=n*Tt,C+=n*Re,B+=n*Le,R+=n*He,D+=n*x,L+=n*k,O+=n*N,ae+=n*W,j+=n*G,Y+=n*J,ye+=n*X,n=t[7],g+=n*Nt,v+=n*At,m+=n*it,E+=n*fe,_+=n*Dt,C+=n*Tt,B+=n*Re,R+=n*Le,D+=n*He,L+=n*x,O+=n*k,ae+=n*N,j+=n*W,Y+=n*G,ye+=n*J,me+=n*X,n=t[8],v+=n*Nt,m+=n*At,E+=n*it,_+=n*fe,C+=n*Dt,B+=n*Tt,R+=n*Re,D+=n*Le,L+=n*He,O+=n*x,ae+=n*k,j+=n*N,Y+=n*W,ye+=n*G,me+=n*J,we+=n*X,n=t[9],m+=n*Nt,E+=n*At,_+=n*it,C+=n*fe,B+=n*Dt,R+=n*Tt,D+=n*Re,L+=n*Le,O+=n*He,ae+=n*x,j+=n*k,Y+=n*N,ye+=n*W,me+=n*G,we+=n*J,Ke+=n*X,n=t[10],E+=n*Nt,_+=n*At,C+=n*it,B+=n*fe,R+=n*Dt,D+=n*Tt,L+=n*Re,O+=n*Le,ae+=n*He,j+=n*x,Y+=n*k,ye+=n*N,me+=n*W,we+=n*G,Ke+=n*J,Oe+=n*X,n=t[11],_+=n*Nt,C+=n*At,B+=n*it,R+=n*fe,D+=n*Dt,L+=n*Tt,O+=n*Re,ae+=n*Le,j+=n*He,Y+=n*x,ye+=n*k,me+=n*N,we+=n*W,Ke+=n*G,Oe+=n*J,Ie+=n*X,n=t[12],C+=n*Nt,B+=n*At,R+=n*it,D+=n*fe,L+=n*Dt,O+=n*Tt,ae+=n*Re,j+=n*Le,Y+=n*He,ye+=n*x,me+=n*k,we+=n*N,Ke+=n*W,Oe+=n*G,Ie+=n*J,Pe+=n*X,n=t[13],B+=n*Nt,R+=n*At,D+=n*it,L+=n*fe,O+=n*Dt,ae+=n*Tt,j+=n*Re,Y+=n*Le,ye+=n*He,me+=n*x,we+=n*k,Ke+=n*N,Oe+=n*W,Ie+=n*G,Pe+=n*J,_e+=n*X,n=t[14],R+=n*Nt,D+=n*At,L+=n*it,O+=n*fe,ae+=n*Dt,j+=n*Tt,Y+=n*Re,ye+=n*Le,me+=n*He,we+=n*x,Ke+=n*k,Oe+=n*N,Ie+=n*W,Pe+=n*G,_e+=n*J,nt+=n*X,n=t[15],D+=n*Nt,L+=n*At,O+=n*it,ae+=n*fe,j+=n*Dt,Y+=n*Tt,ye+=n*Re,me+=n*Le,we+=n*He,Ke+=n*x,Oe+=n*k,Ie+=n*N,Pe+=n*W,_e+=n*G,nt+=n*J,Xe+=n*X,a+=38*L,s+=38*O,u+=38*ae,c+=38*j,f+=38*Y,d+=38*ye,p+=38*me,g+=38*we,v+=38*Ke,m+=38*Oe,E+=38*Ie,_+=38*Pe,C+=38*_e,B+=38*nt,R+=38*Xe,i=1,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=C+i+65535,i=Math.floor(n/65536),C=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=R+i+65535,i=Math.floor(n/65536),R=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,a+=i-1+37*(i-1),i=1,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=C+i+65535,i=Math.floor(n/65536),C=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=R+i+65535,i=Math.floor(n/65536),R=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,a+=i-1+37*(i-1),e[0]=a,e[1]=s,e[2]=u,e[3]=c,e[4]=f,e[5]=d,e[6]=p,e[7]=g,e[8]=v,e[9]=m,e[10]=E,e[11]=_,e[12]=C,e[13]=B,e[14]=R,e[15]=D}});var NC=ue((pG,RC)=>{var bn=ft();Bt();Un();Tu();RC.exports=bn.kem=bn.kem||{};var kC=bn.jsbn.BigInteger;bn.kem.rsa={};bn.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||bn.random,n={};return n.encrypt=function(i,a){var s=Math.ceil(i.n.bitLength()/8),u;do u=new kC(bn.util.bytesToHex(r.getBytesSync(s)),16).mod(i.n);while(u.compareTo(kC.ONE)<=0);u=bn.util.hexToBytes(u.toString(16));var c=s-u.length;c>0&&(u=bn.util.fillString(String.fromCharCode(0),c)+u);var f=i.encrypt(u,"NONE"),d=e.generate(u,a);return{encapsulation:f,key:d}},n.decrypt=function(i,a,s){var u=i.decrypt(a,"NONE");return e.generate(u,s)},n};bn.kem.kdf1=function(e,t){BC(this,e,0,t||e.digestLength)};bn.kem.kdf2=function(e,t){BC(this,e,1,t||e.digestLength)};function BC(e,t,r,n){e.generate=function(i,a){for(var s=new bn.util.ByteBuffer,u=Math.ceil(a/n)+r,c=new bn.util.ByteBuffer,f=r;f<u;++f){c.putInt32(f),t.start(),t.update(i+c.getBytes());var d=t.digest();s.putBytes(d.getBytes(n))}return s.truncate(s.length()-a),s.getBytes()}}});var OC=ue((gG,PC)=>{var Et=ft();Bt();PC.exports=Et.log=Et.log||{};Et.log.levels=["none","error","warning","info","debug","verbose","max"];var vf={},yp=[],Nu=null;Et.log.LEVEL_LOCKED=1<<1;Et.log.NO_LEVEL_CHECK=1<<2;Et.log.INTERPOLATE=1<<3;for(ki=0;ki<Et.log.levels.length;++ki)vp=Et.log.levels[ki],vf[vp]={index:ki,name:vp.toUpperCase()};var vp,ki;Et.log.logMessage=function(e){for(var t=vf[e.level].index,r=0;r<yp.length;++r){var n=yp[r];if(n.flags&Et.log.NO_LEVEL_CHECK)n.f(e);else{var i=vf[n.level].index;t<=i&&n.f(n,e)}}};Et.log.prepareStandard=function(e){"standard"in e||(e.standard=vf[e.level].name+" ["+e.category+"] "+e.message)};Et.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=Et.util.format.apply(this,t)}};Et.log.prepareStandardFull=function(e){"standardFull"in e||(Et.log.prepareStandard(e),e.standardFull=e.standard)};for(_p=["error","warning","info","debug","verbose"],ki=0;ki<_p.length;++ki)(function(t){Et.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),a={timestamp:new Date,level:t,category:r,message:n,arguments:i};Et.log.logMessage(a)}})(_p[ki]);var _p,ki;Et.log.makeLogger=function(e){var t={flags:0,f:e};return Et.log.setLevel(t,"none"),t};Et.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&Et.log.LEVEL_LOCKED))for(var n=0;n<Et.log.levels.length;++n){var i=Et.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r};Et.log.lock=function(e,t){typeof t=="undefined"||t?e.flags|=Et.log.LEVEL_LOCKED:e.flags&=~Et.log.LEVEL_LOCKED};Et.log.addLogger=function(e){yp.push(e)};typeof console!="undefined"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(DC={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},Du=function(e,t){Et.log.prepareStandard(t);var r=DC[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},Eo=Et.log.makeLogger(Du)):(Du=function(t,r){Et.log.prepareStandardFull(r),console.log(r.standardFull)},Eo=Et.log.makeLogger(Du)),Et.log.setLevel(Eo,"debug"),Et.log.addLogger(Eo),Nu=Eo):console={log:function(){}};var Eo,DC,Du;Nu!==null&&typeof window!="undefined"&&window.location&&(Lu=new URL(window.location.href).searchParams,Lu.has("console.level")&&Et.log.setLevel(Nu,Lu.get("console.level").slice(-1)[0]),Lu.has("console.lock")&&(LC=Lu.get("console.lock").slice(-1)[0],LC=="true"&&Et.log.lock(Nu)));var Lu,LC;Et.log.consoleLogger=Nu});var UC=ue((mG,MC)=>{MC.exports=Ci();Qc();ho();N0();op()});var GC=ue((yG,qC)=>{var be=ft();Sa();si();bu();Ta();is();j0();Un();Bt();ff();var q=be.asn1,en=qC.exports=be.pkcs7=be.pkcs7||{};en.messageFromPem=function(e){var t=be.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=q.fromDer(t.body);return en.messageFromAsn1(n)};en.messageToPem=function(e,t){var r={type:"PKCS7",body:q.toDer(e.toAsn1()).getBytes()};return be.pem.encode(r,{maxline:t})};en.messageFromAsn1=function(e){var t={},r=[];if(!q.validate(e,en.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=q.derToOid(t.contentType),a;switch(i){case be.pki.oids.envelopedData:a=en.createEnvelopedData();break;case be.pki.oids.encryptedData:a=en.createEncryptedData();break;case be.pki.oids.signedData:a=en.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return a.fromAsn1(t.content.value[0]),a};en.createSignedData=function(){var e=null;return e={type:be.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(Cp(e,n,en.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,a=0;a<i.length;++a)e.certificates.push(be.pki.certificateFromAsn1(i[a]))},toAsn1:function(){e.contentInfo||e.sign();for(var n=[],i=0;i<e.certificates.length;++i)n.push(be.pki.certificateToAsn1(e.certificates[i]));var a=[],s=q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.version).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&s.value[0].value.push(q.create(q.Class.CONTEXT_SPECIFIC,0,!0,n)),a.length>0&&s.value[0].value.push(q.create(q.Class.CONTEXT_SPECIFIC,1,!0,a)),s.value[0].value.push(q.create(q.Class.UNIVERSAL,q.Type.SET,!0,e.signerInfos)),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.type).getBytes()),s])},addSigner:function(n){var i=n.issuer,a=n.serialNumber;if(n.certificate){var s=n.certificate;typeof s=="string"&&(s=be.pki.certificateFromPem(s)),i=s.issuer.attributes,a=s.serialNumber}var u=n.key;if(!u)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof u=="string"&&(u=be.pki.privateKeyFromPem(u));var c=n.digestAlgorithm||be.pki.oids.sha1;switch(c){case be.pki.oids.sha1:case be.pki.oids.sha256:case be.pki.oids.sha384:case be.pki.oids.sha512:case be.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var f=n.authenticatedAttributes||[];if(f.length>0){for(var d=!1,p=!1,g=0;g<f.length;++g){var v=f[g];if(!d&&v.type===be.pki.oids.contentType){if(d=!0,p)break;continue}if(!p&&v.type===be.pki.oids.messageDigest){if(p=!0,d)break;continue}}if(!d||!p)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:u,version:1,issuer:i,serialNumber:a,digestAlgorithm:c,signatureAlgorithm:be.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:f,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(be.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof be.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=be.util.encodeUtf8(e.content)),n.detached?e.detachedContent=q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var a=t();r(a)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=be.pki.certificateFromPem(n)),e.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function t(){for(var n={},i=0;i<e.signers.length;++i){var a=e.signers[i],s=a.digestAlgorithm;s in n||(n[s]=be.md[be.pki.oids[s]].create()),a.authenticatedAttributes.length===0?a.md=n[s]:a.md=be.md[be.pki.oids[s]].create()}e.digestAlgorithmIdentifiers=[];for(var s in n)e.digestAlgorithmIdentifiers.push(q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(s).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")]));return n}function r(n){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var a=q.derToOid(e.contentInfo.value[0].value),s=q.toDer(i);s.getByte(),q.getBerValueLength(s),s=s.getBytes();for(var u in n)n[u].start().update(s);for(var c=new Date,f=0;f<e.signers.length;++f){var d=e.signers[f];if(d.authenticatedAttributes.length===0){if(a!==be.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{d.authenticatedAttributesAsn1=q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var p=q.create(q.Class.UNIVERSAL,q.Type.SET,!0,[]),g=0;g<d.authenticatedAttributes.length;++g){var v=d.authenticatedAttributes[g];v.type===be.pki.oids.messageDigest?v.value=n[d.digestAlgorithm].digest():v.type===be.pki.oids.signingTime&&(v.value||(v.value=c)),p.value.push(Ep(v)),d.authenticatedAttributesAsn1.value.push(Ep(v))}s=q.toDer(p).getBytes(),d.md.start().update(s)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=iM(e.signers)}};en.createEncryptedData=function(){var e=null;return e={type:be.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:be.pki.oids["aes256-CBC"]},fromAsn1:function(t){Cp(e,t,en.asn1.encryptedDataValidator)},decrypt:function(t){t!==void 0&&(e.encryptedContent.key=t),FC(e)}},e};en.createEnvelopedData=function(){var e=null;return e={type:be.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:be.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=Cp(e,t,en.asn1.envelopedDataValidator);e.recipients=tM(r.recipientInfos.value)},toAsn1:function(){return q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.type).getBytes()),q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.version).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SET,!0,rM(e.recipients)),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,aM(e.encryptedContent))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],a=i.issuer;if(i.serialNumber===t.serialNumber&&a.length===r.length){for(var s=!0,u=0;u<r.length;++u)if(a[u].type!==r[u].type||a[u].value!==r[u].value){s=!1;break}if(s)return i}}return null},decrypt:function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case be.pki.oids.rsaEncryption:case be.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=be.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}FC(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:be.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,i,a;switch(r){case be.pki.oids["aes128-CBC"]:n=16,i=16,a=be.aes.createEncryptionCipher;break;case be.pki.oids["aes192-CBC"]:n=24,i=16,a=be.aes.createEncryptionCipher;break;case be.pki.oids["aes256-CBC"]:n=32,i=16,a=be.aes.createEncryptionCipher;break;case be.pki.oids["des-EDE3-CBC"]:n=24,i=8,a=be.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=be.util.createBuffer(be.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=be.util.createBuffer(be.random.getBytes(i));var s=a(t);if(s.start(e.encryptedContent.parameter.copy()),s.update(e.content),!s.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=s.output}for(var u=0;u<e.recipients.length;++u){var c=e.recipients[u];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case be.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}},e};function $O(e){var t={},r=[];if(!q.validate(e,en.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:be.pki.RDNAttributesAsArray(t.issuer),serialNumber:be.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:q.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}function eM(e){return q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.version).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[be.pki.distinguishedNameToAsn1({attributes:e.issuer}),q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,be.util.hexToBytes(e.serialNumber))]),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.encryptedContent.algorithm).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")]),q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,e.encryptedContent.content)])}function tM(e){for(var t=[],r=0;r<e.length;++r)t.push($O(e[r]));return t}function rM(e){for(var t=[],r=0;r<e.length;++r)t.push(eM(e[r]));return t}function nM(e){var t=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.version).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[be.pki.distinguishedNameToAsn1({attributes:e.issuer}),q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,be.util.hexToBytes(e.serialNumber))]),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.digestAlgorithm).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.signatureAlgorithm).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")])),t.value.push(q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=q.create(q.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push(Ep(i))}t.value.push(r)}return t}function iM(e){for(var t=[],r=0;r<e.length;++r)t.push(nM(e[r]));return t}function Ep(e){var t;if(e.type===be.pki.oids.contentType)t=q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.value).getBytes());else if(e.type===be.pki.oids.messageDigest)t=q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===be.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var a=Date.parse(i);isNaN(a)?i.length===13?i=q.utcTimeToDate(i):i=q.generalizedTimeToDate(i):i=new Date(a)}i>=r&&i<n?t=q.create(q.Class.UNIVERSAL,q.Type.UTCTIME,!1,q.dateToUtcTime(i)):t=q.create(q.Class.UNIVERSAL,q.Type.GENERALIZEDTIME,!1,q.dateToGeneralizedTime(i))}return q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.type).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SET,!0,[t])])}function aM(e){return[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(be.pki.oids.data).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.algorithm).getBytes()),e.parameter?q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,e.content.getBytes())])]}function Cp(e,t,r){var n={},i=[];if(!q.validate(t,r,n,i)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}var s=q.derToOid(n.contentType);if(s!==be.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var u="";if(be.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==q.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");u+=n.encryptedContent[c].value}else u=n.encryptedContent;e.encryptedContent={algorithm:q.derToOid(n.encAlgorithm),parameter:be.util.createBuffer(n.encParameter.value),content:be.util.createBuffer(u)}}if(n.content){var u="";if(be.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==q.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");u+=n.content[c].value}else u=n.content;e.content=be.util.createBuffer(u)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}function FC(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case be.pki.oids["aes128-CBC"]:case be.pki.oids["aes192-CBC"]:case be.pki.oids["aes256-CBC"]:t=be.aes.createDecryptionCipher(e.encryptedContent.key);break;case be.pki.oids.desCBC:case be.pki.oids["des-EDE3-CBC"]:t=be.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}});var VC=ue((vG,KC)=>{var mr=ft();Sa();uo();Qc();ho();Bt();var _f=KC.exports=mr.ssh=mr.ssh||{};_f.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",i=t===""?"none":"aes256-cbc",a="PuTTY-User-Key-File-2: "+n+`\r
`;a+="Encryption: "+i+`\r
`,a+="Comment: "+r+`\r
`;var s=mr.util.createBuffer();Co(s,n),Bi(s,e.e),Bi(s,e.n);var u=mr.util.encode64(s.bytes(),64),c=Math.floor(u.length/66)+1;a+="Public-Lines: "+c+`\r
`,a+=u;var f=mr.util.createBuffer();Bi(f,e.d),Bi(f,e.p),Bi(f,e.q),Bi(f,e.qInv);var d;if(!t)d=mr.util.encode64(f.bytes(),64);else{var p=f.length()+16-1;p-=p%16;var g=Ef(f.bytes());g.truncate(g.length()-p+f.length()),f.putBuffer(g);var v=mr.util.createBuffer();v.putBuffer(Ef("\0\0\0\0",t)),v.putBuffer(Ef("\0\0\0",t));var m=mr.aes.createEncryptionCipher(v.truncate(8),"CBC");m.start(mr.util.createBuffer().fillWithByte(0,16)),m.update(f.copy()),m.finish();var E=m.output;E.truncate(16),d=mr.util.encode64(E.bytes(),64)}c=Math.floor(d.length/66)+1,a+=`\r
Private-Lines: `+c+`\r
`,a+=d;var _=Ef("putty-private-key-file-mac-key",t),C=mr.util.createBuffer();Co(C,n),Co(C,i),Co(C,r),C.putInt32(s.length()),C.putBuffer(s),C.putInt32(f.length()),C.putBuffer(f);var B=mr.hmac.create();return B.start("sha1",_),B.update(C.bytes()),a+=`\r
Private-MAC: `+B.digest().toHex()+`\r
`,a};_f.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=mr.util.createBuffer();return Co(n,r),Bi(n,e.e),Bi(n,e.n),r+" "+mr.util.encode64(n.bytes())+" "+t};_f.privateKeyToOpenSSH=function(e,t){return t?mr.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):mr.pki.privateKeyToPem(e)};_f.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||mr.md.md5.create(),n="ssh-rsa",i=mr.util.createBuffer();Co(i,n),Bi(i,e.e),Bi(i,e.n),r.start(),r.update(i.getBytes());var a=r.digest();if(t.encoding==="hex"){var s=a.toHex();return t.delimiter?s.match(/.{2}/g).join(t.delimiter):s}else{if(t.encoding==="binary")return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return a};function Bi(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=mr.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}function Co(e,t){e.putInt32(t.length),e.putString(t)}function Ef(){for(var e=mr.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}});var YC=ue((_G,HC)=>{HC.exports=ft();Sa();cC();si();Vc();bu();IC();uo();NC();OC();UC();W0();ef();is();G0();Q0();GC();Z0();V0();D0();uf();Un();O0();VC();ip();Bt()});var WC=ue(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.getPem=void 0;var sM=require("fs"),Cf=YC(),oM=require("util"),uM=oM.promisify(sM.readFile);function lM(e,t){if(t)jC(e).then(r=>t(null,r)).catch(r=>t(r,null));else return jC(e)}Af.getPem=lM;function jC(e){return uM(e,{encoding:"base64"}).then(t=>cM(t))}function cM(e){let t=Cf.util.decode64(e),r=Cf.asn1.fromDer(t),i=Cf.pkcs12.pkcs12FromAsn1(r,"notasecret").getBags({friendlyName:"privatekey"});if(i.friendlyName){let a=i.friendlyName[0].key;return Cf.pki.privateKeyToPem(a).replace(/\r\n/g,`
`)}else throw new Error("Unable to get friendly name.")}});var $C=ue(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.GoogleToken=void 0;var zC=require("fs"),JC=$1(),fM=v0(),dM=require("path"),hM=require("util"),QC=zC.readFile?hM.promisify(zC.readFile):()=>U(Ou,null,function*(){throw new Pu("use key rather than keyFile.","MISSING_CREDENTIALS")}),XC="https://www.googleapis.com/oauth2/v4/token",pM="https://accounts.google.com/o/oauth2/revoke?token=",Pu=class extends Error{constructor(t,r){super(t);this.code=r}},Ap,ZC=class{constructor(t){this.configure(t)}get accessToken(){return this.rawToken?this.rawToken.access_token:void 0}get idToken(){return this.rawToken?this.rawToken.id_token:void 0}get tokenType(){return this.rawToken?this.rawToken.token_type:void 0}get refreshToken(){return this.rawToken?this.rawToken.refresh_token:void 0}hasExpired(){let t=new Date().getTime();return this.rawToken&&this.expiresAt?t>=this.expiresAt:!0}isTokenExpiring(){var t;let r=new Date().getTime(),n=(t=this.eagerRefreshThresholdMillis)!==null&&t!==void 0?t:0;return this.rawToken&&this.expiresAt?this.expiresAt<=r+n:!0}getToken(t,r={}){if(typeof t=="object"&&(r=t,t=void 0),r=Object.assign({forceRefresh:!1},r),t){let n=t;this.getTokenAsync(r).then(i=>n(null,i),t);return}return this.getTokenAsync(r)}getCredentials(t){return U(this,null,function*(){switch(dM.extname(t)){case".json":{let n=yield QC(t,"utf8"),i=JSON.parse(n),a=i.private_key,s=i.client_email;if(!a||!s)throw new Pu("private_key and client_email are required.","MISSING_CREDENTIALS");return{privateKey:a,clientEmail:s}}case".der":case".crt":case".pem":return{privateKey:yield QC(t,"utf8")};case".p12":case".pfx":return Ap||(Ap=(yield Promise.resolve().then(()=>WC())).getPem),{privateKey:yield Ap(t)};default:throw new Pu("Unknown certificate type. Type is determined based on file extension. Current supported extensions are *.json, *.pem, and *.p12.","UNKNOWN_CERTIFICATE_TYPE")}})}getTokenAsync(t){return U(this,null,function*(){if(this.inFlightRequest&&!t.forceRefresh)return this.inFlightRequest;try{return yield this.inFlightRequest=this.getTokenAsyncInner(t)}finally{this.inFlightRequest=void 0}})}getTokenAsyncInner(t){return U(this,null,function*(){if(this.isTokenExpiring()===!1&&t.forceRefresh===!1)return Promise.resolve(this.rawToken);if(!this.key&&!this.keyFile)throw new Error("No key or keyFile set.");if(!this.key&&this.keyFile){let r=yield this.getCredentials(this.keyFile);this.key=r.privateKey,this.iss=r.clientEmail||this.iss,r.clientEmail||this.ensureEmail()}return this.requestToken()})}ensureEmail(){if(!this.iss)throw new Pu("email is required.","MISSING_CREDENTIALS")}revokeToken(t){if(t){this.revokeTokenAsync().then(()=>t(),t);return}return this.revokeTokenAsync()}revokeTokenAsync(){return U(this,null,function*(){if(!this.accessToken)throw new Error("No token to revoke.");let t=pM+this.accessToken;yield JC.request({url:t}),this.configure({email:this.iss,sub:this.sub,key:this.key,keyFile:this.keyFile,scope:this.scope,additionalClaims:this.additionalClaims})})}configure(t={}){this.keyFile=t.keyFile,this.key=t.key,this.rawToken=void 0,this.iss=t.email||t.iss,this.sub=t.sub,this.additionalClaims=t.additionalClaims,typeof t.scope=="object"?this.scope=t.scope.join(" "):this.scope=t.scope,this.eagerRefreshThresholdMillis=t.eagerRefreshThresholdMillis}requestToken(){return U(this,null,function*(){let t=Math.floor(new Date().getTime()/1e3),r=this.additionalClaims||{},n=Object.assign({iss:this.iss,scope:this.scope,aud:XC,exp:t+3600,iat:t,sub:this.sub},r),i=fM.sign({header:{alg:"RS256"},payload:n,secret:this.key});try{let a=yield JC.request({method:"POST",url:XC,data:{grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:i},headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json"});return this.rawToken=a.data,this.expiresAt=a.data.expires_in===null||a.data.expires_in===void 0?void 0:(t+a.data.expires_in)*1e3,this.rawToken}catch(a){this.rawToken=void 0,this.tokenExpires=void 0;let s=a.response&&a.response.data?a.response.data:{};if(s.error){let u=s.error_description?`: ${s.error_description}`:"";a.message=`${s.error}${u}`}throw a}})}};Ou.GoogleToken=ZC});var tA=ue((AG,eA)=>{"use strict";eA.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var nA=ue((wG,rA)=>{"use strict";rA.exports=Ot;Ot.Node=ds;Ot.create=Ot;function Ot(e){var t=this;if(t instanceof Ot||(t=new Ot),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}Ot.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Ot.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Ot.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Ot.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)mM(this,arguments[e]);return this.length};Ot.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)yM(this,arguments[e]);return this.length};Ot.prototype.pop=function(){if(!!this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Ot.prototype.shift=function(){if(!!this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Ot.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};Ot.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};Ot.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};Ot.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};Ot.prototype.map=function(e,t){t=t||this;for(var r=new Ot,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};Ot.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Ot,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};Ot.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};Ot.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};Ot.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};Ot.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};Ot.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Ot;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};Ot.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Ot;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};Ot.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var a=[],n=0;i&&n<t;n++)a.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=gM(this,i,r[n]);return a};Ot.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function gM(e,t,r){var n=t===e.head?new ds(r,null,t,e):new ds(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function mM(e,t){e.tail=new ds(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function yM(e,t){e.head=new ds(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function ds(e,t,r,n){if(!(this instanceof ds))return new ds(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{tA()(Ot)}catch(e){}});var cA=ue((bG,lA)=>{"use strict";var vM=nA(),hs=Symbol("max"),$i=Symbol("length"),Ao=Symbol("lengthCalculator"),Mu=Symbol("allowStale"),ps=Symbol("maxAge"),ea=Symbol("dispose"),iA=Symbol("noDisposeOnSet"),Br=Symbol("lruList"),ui=Symbol("cache"),aA=Symbol("updateAgeOnGet"),wp=()=>1,sA=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let r=this[hs]=t.max||1/0,n=t.length||wp;if(this[Ao]=typeof n!="function"?wp:n,this[Mu]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[ps]=t.maxAge||0,this[ea]=t.dispose,this[iA]=t.noDisposeOnSet||!1,this[aA]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[hs]=t||1/0,Uu(this)}get max(){return this[hs]}set allowStale(t){this[Mu]=!!t}get allowStale(){return this[Mu]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[ps]=t,Uu(this)}get maxAge(){return this[ps]}set lengthCalculator(t){typeof t!="function"&&(t=wp),t!==this[Ao]&&(this[Ao]=t,this[$i]=0,this[Br].forEach(r=>{r.length=this[Ao](r.value,r.key),this[$i]+=r.length})),Uu(this)}get lengthCalculator(){return this[Ao]}get length(){return this[$i]}get itemCount(){return this[Br].length}rforEach(t,r){r=r||this;for(let n=this[Br].tail;n!==null;){let i=n.prev;uA(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[Br].head;n!==null;){let i=n.next;uA(this,t,n,r),n=i}}keys(){return this[Br].toArray().map(t=>t.key)}values(){return this[Br].toArray().map(t=>t.value)}reset(){this[ea]&&this[Br]&&this[Br].length&&this[Br].forEach(t=>this[ea](t.key,t.value)),this[ui]=new Map,this[Br]=new vM,this[$i]=0}dump(){return this[Br].map(t=>wf(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Br]}set(t,r,n){if(n=n||this[ps],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,a=this[Ao](r,t);if(this[ui].has(t)){if(a>this[hs])return wo(this,this[ui].get(t)),!1;let c=this[ui].get(t).value;return this[ea]&&(this[iA]||this[ea](t,c.value)),c.now=i,c.maxAge=n,c.value=r,this[$i]+=a-c.length,c.length=a,this.get(t),Uu(this),!0}let s=new oA(t,r,a,i,n);return s.length>this[hs]?(this[ea]&&this[ea](t,r),!1):(this[$i]+=s.length,this[Br].unshift(s),this[ui].set(t,this[Br].head),Uu(this),!0)}has(t){if(!this[ui].has(t))return!1;let r=this[ui].get(t).value;return!wf(this,r)}get(t){return bp(this,t,!0)}peek(t){return bp(this,t,!1)}pop(){let t=this[Br].tail;return t?(wo(this,t),t.value):null}del(t){wo(this,this[ui].get(t))}load(t){this.reset();let r=Date.now();for(let n=t.length-1;n>=0;n--){let i=t[n],a=i.e||0;if(a===0)this.set(i.k,i.v);else{let s=a-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[ui].forEach((t,r)=>bp(this,r,!1))}},bp=(e,t,r)=>{let n=e[ui].get(t);if(n){let i=n.value;if(wf(e,i)){if(wo(e,n),!e[Mu])return}else r&&(e[aA]&&(n.value.now=Date.now()),e[Br].unshiftNode(n));return i.value}},wf=(e,t)=>{if(!t||!t.maxAge&&!e[ps])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[ps]&&r>e[ps]},Uu=e=>{if(e[$i]>e[hs])for(let t=e[Br].tail;e[$i]>e[hs]&&t!==null;){let r=t.prev;wo(e,t),t=r}},wo=(e,t)=>{if(t){let r=t.value;e[ea]&&e[ea](r.key,r.value),e[$i]-=r.length,e[ui].delete(r.key),e[Br].removeNode(t)}},oA=class{constructor(t,r,n,i,a){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=a||0}},uA=(e,t,r,n)=>{let i=r.value;wf(e,i)&&(wo(e,r),e[Mu]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};lA.exports=sA});var Sp=ue(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.JWTAccess=void 0;var _M=v0(),EM=cA(),fA={alg:"RS256",typ:"JWT"},bf=class{constructor(t,r,n,i){this.cache=new EM({max:500,maxAge:60*60*1e3}),this.email=t,this.key=r,this.keyId=n,this.eagerRefreshThresholdMillis=i!=null?i:5*60*1e3}getCachedKey(t,r){let n=t;if(r&&Array.isArray(r)&&r.length?n=t?`${t}_${r.join("_")}`:`${r.join("_")}`:typeof r=="string"&&(n=t?`${t}_${r}`:r),!n)throw Error("Scopes or url must be provided");return n}getRequestHeaders(t,r,n){let i=this.getCachedKey(t,n),a=this.cache.get(i),s=Date.now();if(a&&a.expiration-s>this.eagerRefreshThresholdMillis)return a.headers;let u=Math.floor(Date.now()/1e3),c=bf.getExpirationTime(u),f;if(Array.isArray(n)&&(n=n.join(" ")),n?f={iss:this.email,sub:this.email,scope:n,exp:c,iat:u}:f={iss:this.email,sub:this.email,aud:t,exp:c,iat:u},r){for(let m in f)if(r[m])throw new Error(`The '${m}' property is not allowed when passing additionalClaims. This claim is included in the JWT by default.`)}let d=this.keyId?Qr(Kr({},fA),{kid:this.keyId}):fA,p=Object.assign(f,r),v={Authorization:`Bearer ${_M.sign({header:d,payload:p,secret:this.key})}`};return this.cache.set(i,{expiration:c*1e3,headers:v}),v}static getExpirationTime(t){return t+3600}fromJSON(t){if(!t)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!t.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!t.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=t.client_email,this.key=t.private_key,this.keyId=t.private_key_id,this.projectId=t.project_id}fromStream(t,r){if(r)this.fromStreamAsync(t).then(()=>r(),r);else return this.fromStreamAsync(t)}fromStreamAsync(t){return new Promise((r,n)=>{t||n(new Error("Must pass in a stream containing the service account auth settings."));let i="";t.setEncoding("utf8").on("data",a=>i+=a).on("error",n).on("end",()=>{try{let a=JSON.parse(i);this.fromJSON(a),r()}catch(a){n(a)}})})}};Sf.JWTAccess=bf});var Tp=ue(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.JWT=void 0;var dA=$C(),CM=Sp(),AM=rs(),Tf=class extends AM.OAuth2Client{constructor(t,r,n,i,a,s){let u=t&&typeof t=="object"?t:{email:t,keyFile:r,key:n,keyId:s,scopes:i,subject:a};super({eagerRefreshThresholdMillis:u.eagerRefreshThresholdMillis,forceRefreshOnFailure:u.forceRefreshOnFailure});this.email=u.email,this.keyFile=u.keyFile,this.key=u.key,this.keyId=u.keyId,this.scopes=u.scopes,this.subject=u.subject,this.additionalClaims=u.additionalClaims,this.credentials={refresh_token:"jwt-placeholder",expiry_date:1}}createScoped(t){return new Tf({email:this.email,keyFile:this.keyFile,key:this.key,keyId:this.keyId,scopes:t,subject:this.subject,additionalClaims:this.additionalClaims})}getRequestMetadataAsync(t){var r=n=>super[n];return U(this,null,function*(){t=this.defaultServicePath?`https://${this.defaultServicePath}/`:t;let i=!this.hasUserScopes()&&t||this.useJWTAccessWithScope&&this.hasAnyScopes();if(!this.apiKey&&i)if(this.additionalClaims&&this.additionalClaims.target_audience){let{tokens:a}=yield this.refreshToken();return{headers:this.addSharedMetadataHeaders({Authorization:`Bearer ${a.id_token}`})}}else{this.access||(this.access=new CM.JWTAccess(this.email,this.key,this.keyId,this.eagerRefreshThresholdMillis));let a;this.hasUserScopes()?a=this.scopes:t||(a=this.defaultScopes);let s=yield this.access.getRequestHeaders(t!=null?t:void 0,this.additionalClaims,this.useJWTAccessWithScope?a:void 0);return{headers:this.addSharedMetadataHeaders(s)}}else return this.hasAnyScopes()||this.apiKey?r("getRequestMetadataAsync").call(this,t):{headers:{}}})}fetchIdToken(t){return U(this,null,function*(){let r=new dA.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:{target_audience:t}});if(yield r.getToken({forceRefresh:!0}),!r.idToken)throw new Error("Unknown error: Failed to fetch ID token");return r.idToken})}hasUserScopes(){return this.scopes?this.scopes.length>0:!1}hasAnyScopes(){return!!(this.scopes&&this.scopes.length>0||this.defaultScopes&&this.defaultScopes.length>0)}authorize(t){if(t)this.authorizeAsync().then(r=>t(null,r),t);else return this.authorizeAsync()}authorizeAsync(){return U(this,null,function*(){let t=yield this.refreshToken();if(!t)throw new Error("No result returned");return this.credentials=t.tokens,this.credentials.refresh_token="jwt-placeholder",this.key=this.gtoken.key,this.email=this.gtoken.iss,t.tokens})}refreshTokenNoCache(t){return U(this,null,function*(){let r=this.createGToken(),i={access_token:(yield r.getToken({forceRefresh:this.isTokenExpiring()})).access_token,token_type:"Bearer",expiry_date:r.expiresAt,id_token:r.idToken};return this.emit("tokens",i),{res:null,tokens:i}})}createGToken(){return this.gtoken||(this.gtoken=new dA.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:this.additionalClaims})),this.gtoken}fromJSON(t){if(!t)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!t.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!t.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=t.client_email,this.key=t.private_key,this.keyId=t.private_key_id,this.projectId=t.project_id,this.quotaProjectId=t.quota_project_id}fromStream(t,r){if(r)this.fromStreamAsync(t).then(()=>r(),r);else return this.fromStreamAsync(t)}fromStreamAsync(t){return new Promise((r,n)=>{if(!t)throw new Error("Must pass in a stream containing the service account auth settings.");let i="";t.setEncoding("utf8").on("error",n).on("data",a=>i+=a).on("end",()=>{try{let a=JSON.parse(i);this.fromJSON(a),r()}catch(a){n(a)}})})}fromAPIKey(t){if(typeof t!="string")throw new Error("Must provide an API Key string.");this.apiKey=t}getCredentials(){return U(this,null,function*(){if(this.key)return{private_key:this.key,client_email:this.email};if(this.keyFile){let r=yield this.createGToken().getCredentials(this.keyFile);return{private_key:r.privateKey,client_email:r.clientEmail}}throw new Error("A key or a keyFile must be provided to getCredentials.")})}};xf.JWT=Tf});var xp=ue(If=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});If.UserRefreshClient=void 0;var wM=rs(),hA=class extends wM.OAuth2Client{constructor(t,r,n,i,a){let s=t&&typeof t=="object"?t:{clientId:t,clientSecret:r,refreshToken:n,eagerRefreshThresholdMillis:i,forceRefreshOnFailure:a};super({clientId:s.clientId,clientSecret:s.clientSecret,eagerRefreshThresholdMillis:s.eagerRefreshThresholdMillis,forceRefreshOnFailure:s.forceRefreshOnFailure});this._refreshToken=s.refreshToken,this.credentials.refresh_token=s.refreshToken}refreshTokenNoCache(t){var r=n=>super[n];return U(this,null,function*(){return r("refreshTokenNoCache").call(this,this._refreshToken)})}fromJSON(t){if(!t)throw new Error("Must pass in a JSON object containing the user refresh token");if(t.type!=="authorized_user")throw new Error('The incoming JSON object does not have the "authorized_user" type');if(!t.client_id)throw new Error("The incoming JSON object does not contain a client_id field");if(!t.client_secret)throw new Error("The incoming JSON object does not contain a client_secret field");if(!t.refresh_token)throw new Error("The incoming JSON object does not contain a refresh_token field");this._clientId=t.client_id,this._clientSecret=t.client_secret,this._refreshToken=t.refresh_token,this.credentials.refresh_token=t.refresh_token,this.quotaProjectId=t.quota_project_id}fromStream(t,r){if(r)this.fromStreamAsync(t).then(()=>r(),r);else return this.fromStreamAsync(t)}fromStreamAsync(t){return U(this,null,function*(){return new Promise((r,n)=>{if(!t)return n(new Error("Must pass in a stream containing the user refresh token."));let i="";t.setEncoding("utf8").on("error",n).on("data",a=>i+=a).on("end",()=>{try{let a=JSON.parse(i);return this.fromJSON(a),r()}catch(a){return n(a)}})})})}};If.UserRefreshClient=hA});var mA=ue(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.getErrorFromOAuthErrorResponse=bo.OAuthClientAuthHandler=void 0;var pA=require("querystring"),bM=Zs(),SM=["PUT","POST","PATCH"],gA=class{constructor(t){this.clientAuthentication=t,this.crypto=(0,bM.createCrypto)()}applyClientAuthenticationOptions(t,r){this.injectAuthenticatedHeaders(t,r),r||this.injectAuthenticatedRequestBody(t)}injectAuthenticatedHeaders(t,r){var n;if(r)t.headers=t.headers||{},Object.assign(t.headers,{Authorization:`Bearer ${r}}`});else if(((n=this.clientAuthentication)===null||n===void 0?void 0:n.confidentialClientType)==="basic"){t.headers=t.headers||{};let i=this.clientAuthentication.clientId,a=this.clientAuthentication.clientSecret||"",s=this.crypto.encodeBase64StringUtf8(`${i}:${a}`);Object.assign(t.headers,{Authorization:`Basic ${s}`})}}injectAuthenticatedRequestBody(t){var r;if(((r=this.clientAuthentication)===null||r===void 0?void 0:r.confidentialClientType)==="request-body"){let n=(t.method||"GET").toUpperCase();if(SM.indexOf(n)!==-1){let i,a=t.headers||{};for(let s in a)if(s.toLowerCase()==="content-type"&&a[s]){i=a[s].toLowerCase();break}if(i==="application/x-www-form-urlencoded"){t.data=t.data||"";let s=pA.parse(t.data);Object.assign(s,{client_id:this.clientAuthentication.clientId,client_secret:this.clientAuthentication.clientSecret||""}),t.data=pA.stringify(s)}else if(i==="application/json")t.data=t.data||{},Object.assign(t.data,{client_id:this.clientAuthentication.clientId,client_secret:this.clientAuthentication.clientSecret||""});else throw new Error(`${i} content-types are not supported with ${this.clientAuthentication.confidentialClientType} client authentication`)}else throw new Error(`${n} HTTP method does not support ${this.clientAuthentication.confidentialClientType} client authentication`)}}};bo.OAuthClientAuthHandler=gA;function TM(e,t){let r=e.error,n=e.error_description,i=e.error_uri,a=`Error code ${r}`;typeof n!="undefined"&&(a+=`: ${n}`),typeof i!="undefined"&&(a+=` - ${i}`);let s=new Error(a);if(t){let u=Object.keys(t);t.stack&&u.push("stack"),u.forEach(c=>{c!=="message"&&Object.defineProperty(s,c,{value:t[c],writable:!1,enumerable:!0})})}return s}bo.getErrorFromOAuthErrorResponse=TM});var Ip=ue(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.StsCredentials=void 0;var xM=Qs(),IM=require("querystring"),kM=pu(),yA=mA(),vA=class extends yA.OAuthClientAuthHandler{constructor(t,r){super(r);this.tokenExchangeEndpoint=t,this.transporter=new kM.DefaultTransporter}exchangeToken(t,r,n){return U(this,null,function*(){var i,a,s;let u={grant_type:t.grantType,resource:t.resource,audience:t.audience,scope:(i=t.scope)===null||i===void 0?void 0:i.join(" "),requested_token_type:t.requestedTokenType,subject_token:t.subjectToken,subject_token_type:t.subjectTokenType,actor_token:(a=t.actingParty)===null||a===void 0?void 0:a.actorToken,actor_token_type:(s=t.actingParty)===null||s===void 0?void 0:s.actorTokenType,options:n&&JSON.stringify(n)};Object.keys(u).forEach(d=>{typeof u[d]=="undefined"&&delete u[d]});let c={"Content-Type":"application/x-www-form-urlencoded"};Object.assign(c,r||{});let f={url:this.tokenExchangeEndpoint,method:"POST",headers:c,data:IM.stringify(u),responseType:"json"};this.applyClientAuthenticationOptions(f);try{let d=yield this.transporter.request(f),p=d.data;return p.res=d,p}catch(d){throw d instanceof xM.GaxiosError&&d.response?(0,yA.getErrorFromOAuthErrorResponse)(d.response.data,d):d}})}};kf.StsCredentials=vA});var So=ue(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.BaseExternalAccountClient=hn.CLOUD_RESOURCE_MANAGER=hn.EXTERNAL_ACCOUNT_TYPE=hn.EXPIRATION_TIME_OFFSET=void 0;var BM=require("stream"),RM=gu(),NM=Ip(),DM="urn:ietf:params:oauth:grant-type:token-exchange",LM="urn:ietf:params:oauth:token-type:access_token",kp="https://www.googleapis.com/auth/cloud-platform",Bf="\\.googleapis\\.com$",Bp="[^\\.\\s\\/\\\\]+";hn.EXPIRATION_TIME_OFFSET=5*60*1e3;hn.EXTERNAL_ACCOUNT_TYPE="external_account";hn.CLOUD_RESOURCE_MANAGER="https://cloudresourcemanager.googleapis.com/v1/projects/";var PM="//iam.googleapis.com/locations/[^/]+/workforcePools/[^/]+/providers/.+",_A=class extends RM.AuthClient{constructor(t,r){super();if(t.type!==hn.EXTERNAL_ACCOUNT_TYPE)throw new Error(`Expected "${hn.EXTERNAL_ACCOUNT_TYPE}" type but received "${t.type}"`);if(this.clientAuth=t.client_id?{confidentialClientType:"basic",clientId:t.client_id,clientSecret:t.client_secret}:void 0,!this.validateGoogleAPIsUrl("sts",t.token_url))throw new Error(`"${t.token_url}" is not a valid token url.`);this.stsCredential=new NM.StsCredentials(t.token_url,this.clientAuth),this.scopes=[kp],this.cachedAccessToken=null,this.audience=t.audience,this.subjectTokenType=t.subject_token_type,this.quotaProjectId=t.quota_project_id,this.workforcePoolUserProject=t.workforce_pool_user_project;let n=new RegExp(PM);if(this.workforcePoolUserProject&&!this.audience.match(n))throw new Error("workforcePoolUserProject should not be set for non-workforce pool credentials.");if(typeof t.service_account_impersonation_url!="undefined"&&!this.validateGoogleAPIsUrl("iamcredentials",t.service_account_impersonation_url))throw new Error(`"${t.service_account_impersonation_url}" is not a valid service account impersonation url.`);this.serviceAccountImpersonationUrl=t.service_account_impersonation_url,typeof(r==null?void 0:r.eagerRefreshThresholdMillis)!="number"?this.eagerRefreshThresholdMillis=hn.EXPIRATION_TIME_OFFSET:this.eagerRefreshThresholdMillis=r.eagerRefreshThresholdMillis,this.forceRefreshOnFailure=!!(r==null?void 0:r.forceRefreshOnFailure),this.projectId=null,this.projectNumber=this.getProjectNumber(this.audience)}getServiceAccountEmail(){var t;if(this.serviceAccountImpersonationUrl){let n=/serviceAccounts\/(?<email>[^:]+):generateAccessToken$/.exec(this.serviceAccountImpersonationUrl);return((t=n==null?void 0:n.groups)===null||t===void 0?void 0:t.email)||null}return null}setCredentials(t){super.setCredentials(t),this.cachedAccessToken=t}getAccessToken(){return U(this,null,function*(){return(!this.cachedAccessToken||this.isExpired(this.cachedAccessToken))&&(yield this.refreshAccessTokenAsync()),{token:this.cachedAccessToken.access_token,res:this.cachedAccessToken.res}})}getRequestHeaders(){return U(this,null,function*(){let r={Authorization:`Bearer ${(yield this.getAccessToken()).token}`};return this.addSharedMetadataHeaders(r)})}request(t,r){if(r)this.requestAsync(t).then(n=>r(null,n),n=>r(n,n.response));else return this.requestAsync(t)}getProjectId(){return U(this,null,function*(){let t=this.projectNumber||this.workforcePoolUserProject;if(this.projectId)return this.projectId;if(t){let r=yield this.getRequestHeaders(),n=yield this.transporter.request({headers:r,url:`${hn.CLOUD_RESOURCE_MANAGER}${t}`,responseType:"json"});return this.projectId=n.data.projectId,this.projectId}return null})}requestAsync(t,r=!1){return U(this,null,function*(){let n;try{let i=yield this.getRequestHeaders();t.headers=t.headers||{},i&&i["x-goog-user-project"]&&(t.headers["x-goog-user-project"]=i["x-goog-user-project"]),i&&i.Authorization&&(t.headers.Authorization=i.Authorization),n=yield this.transporter.request(t)}catch(i){let a=i.response;if(a){let s=a.status,u=a.config.data instanceof BM.Readable;if(!r&&(s===401||s===403)&&!u&&this.forceRefreshOnFailure)return yield this.refreshAccessTokenAsync(),yield this.requestAsync(t,!0)}throw i}return n})}refreshAccessTokenAsync(){return U(this,null,function*(){let t=yield this.retrieveSubjectToken(),r={grantType:DM,audience:this.audience,requestedTokenType:LM,subjectToken:t,subjectTokenType:this.subjectTokenType,scope:this.serviceAccountImpersonationUrl?[kp]:this.getScopesArray()},n=!this.clientAuth&&this.workforcePoolUserProject?{userProject:this.workforcePoolUserProject}:void 0,i=yield this.stsCredential.exchangeToken(r,void 0,n);return this.serviceAccountImpersonationUrl?this.cachedAccessToken=yield this.getImpersonatedAccessToken(i.access_token):i.expires_in?this.cachedAccessToken={access_token:i.access_token,expiry_date:new Date().getTime()+i.expires_in*1e3,res:i.res}:this.cachedAccessToken={access_token:i.access_token,res:i.res},this.credentials={},Object.assign(this.credentials,this.cachedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedAccessToken.expiry_date,access_token:this.cachedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedAccessToken})}getProjectNumber(t){let r=t.match(/\/projects\/([^/]+)/);return r?r[1]:null}getImpersonatedAccessToken(t){return U(this,null,function*(){let r={url:this.serviceAccountImpersonationUrl,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},data:{scope:this.getScopesArray()},responseType:"json"},n=yield this.transporter.request(r),i=n.data;return{access_token:i.accessToken,expiry_date:new Date(i.expireTime).getTime(),res:n}})}isExpired(t){let r=new Date().getTime();return t.expiry_date?r>=t.expiry_date-this.eagerRefreshThresholdMillis:!1}getScopesArray(){return typeof this.scopes=="string"?[this.scopes]:typeof this.scopes=="undefined"?[kp]:this.scopes}validateGoogleAPIsUrl(t,r){let n;try{n=new URL(r)}catch(s){return!1}let i=n.hostname;if(n.protocol!=="https:")return!1;let a=[new RegExp("^"+Bp+"\\."+t+Bf),new RegExp("^"+t+Bf),new RegExp("^"+t+"\\."+Bp+Bf),new RegExp("^"+Bp+"\\-"+t+Bf)];for(let s of a)if(i.match(s))return!0;return!1}};hn.BaseExternalAccountClient=_A});var Op=ue(Rf=>{"use strict";var Rp,Np,Dp;Object.defineProperty(Rf,"__esModule",{value:!0});Rf.IdentityPoolClient=void 0;var Lp=require("fs"),Pp=require("util"),OM=So(),MM=(0,Pp.promisify)((Rp=Lp.readFile)!==null&&Rp!==void 0?Rp:()=>{}),UM=(0,Pp.promisify)((Np=Lp.realpath)!==null&&Np!==void 0?Np:()=>{}),FM=(0,Pp.promisify)((Dp=Lp.lstat)!==null&&Dp!==void 0?Dp:()=>{}),EA=class extends OM.BaseExternalAccountClient{constructor(t,r){var n,i;super(t,r);if(this.file=t.credential_source.file,this.url=t.credential_source.url,this.headers=t.credential_source.headers,!this.file&&!this.url)throw new Error('No valid Identity Pool "credential_source" provided');if(this.formatType=((n=t.credential_source.format)===null||n===void 0?void 0:n.type)||"text",this.formatSubjectTokenFieldName=(i=t.credential_source.format)===null||i===void 0?void 0:i.subject_token_field_name,this.formatType!=="json"&&this.formatType!=="text")throw new Error(`Invalid credential_source format "${this.formatType}"`);if(this.formatType==="json"&&!this.formatSubjectTokenFieldName)throw new Error("Missing subject_token_field_name for JSON credential_source format")}retrieveSubjectToken(){return U(this,null,function*(){return this.file?yield this.getTokenFromFile(this.file,this.formatType,this.formatSubjectTokenFieldName):yield this.getTokenFromUrl(this.url,this.formatType,this.formatSubjectTokenFieldName,this.headers)})}getTokenFromFile(t,r,n){return U(this,null,function*(){try{if(t=yield UM(t),!(yield FM(t)).isFile())throw new Error}catch(s){throw s instanceof Error&&(s.message=`The file at ${t} does not exist, or it is not a file. ${s.message}`),s}let i,a=yield MM(t,{encoding:"utf8"});if(r==="text"?i=a:r==="json"&&n&&(i=JSON.parse(a)[n]),!i)throw new Error("Unable to parse the subject_token from the credential_source file");return i})}getTokenFromUrl(t,r,n,i){return U(this,null,function*(){let a={url:t,method:"GET",headers:i,responseType:r},s;if(r==="text"?s=(yield this.transporter.request(a)).data:r==="json"&&n&&(s=(yield this.transporter.request(a)).data[n]),!s)throw new Error("Unable to parse the subject_token from the credential_source URL");return s})}};Rf.IdentityPoolClient=EA});var bA=ue(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.AwsRequestSigner=void 0;var CA=Zs(),AA="AWS4-HMAC-SHA256",qM="aws4_request",wA=class{constructor(t,r){this.getCredentials=t,this.region=r,this.crypto=(0,CA.createCrypto)()}getRequestOptions(t){return U(this,null,function*(){if(!t.url)throw new Error('"url" is required in "amzOptions"');let r=typeof t.data=="object"?JSON.stringify(t.data):t.data,n=t.url,i=t.method||"GET",a=t.body||r,s=t.headers,u=yield this.getCredentials(),c=new URL(n),f=yield KM({crypto:this.crypto,host:c.host,canonicalUri:c.pathname,canonicalQuerystring:c.search.substr(1),method:i,region:this.region,securityCredentials:u,requestPayload:a,additionalAmzHeaders:s}),d=Object.assign(f.amzDate?{"x-amz-date":f.amzDate}:{},{Authorization:f.authorizationHeader,host:c.host},s||{});u.token&&Object.assign(d,{"x-amz-security-token":u.token});let p={url:n,method:i,headers:d};return typeof a!="undefined"&&(p.body=a),p})}};Nf.AwsRequestSigner=wA;function Fu(e,t,r){return U(this,null,function*(){return yield e.signWithHmacSha256(t,r)})}function GM(e,t,r,n,i){return U(this,null,function*(){let a=yield Fu(e,`AWS4${t}`,r),s=yield Fu(e,a,n),u=yield Fu(e,s,i);return yield Fu(e,u,"aws4_request")})}function KM(e){return U(this,null,function*(){let t=e.additionalAmzHeaders||{},r=e.requestPayload||"",n=e.host.split(".")[0],i=new Date,a=i.toISOString().replace(/[-:]/g,"").replace(/\.[0-9]+/,""),s=i.toISOString().replace(/[-]/g,"").replace(/T.*/,""),u={};Object.keys(t).forEach(R=>{u[R.toLowerCase()]=t[R]}),e.securityCredentials.token&&(u["x-amz-security-token"]=e.securityCredentials.token);let c=Object.assign({host:e.host},u.date?{}:{"x-amz-date":a},u),f="",d=Object.keys(c).sort();d.forEach(R=>{f+=`${R}:${c[R]}
`});let p=d.join(";"),g=yield e.crypto.sha256DigestHex(r),v=`${e.method}
${e.canonicalUri}
${e.canonicalQuerystring}
${f}
${p}
${g}`,m=`${s}/${e.region}/${n}/${qM}`,E=`${AA}
${a}
${m}
`+(yield e.crypto.sha256DigestHex(v)),_=yield GM(e.crypto,e.securityCredentials.secretAccessKey,s,e.region,n),C=yield Fu(e.crypto,_,E),B=`${AA} Credential=${e.securityCredentials.accessKeyId}/${m}, SignedHeaders=${p}, Signature=${(0,CA.fromArrayBufferToHex)(C)}`;return{amzDate:u.date?void 0:a,authorizationHeader:B,canonicalQuerystring:e.canonicalQuerystring}})}});var Mp=ue(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.AwsClient=void 0;var VM=bA(),HM=So(),SA=class extends HM.BaseExternalAccountClient{constructor(t,r){var n;super(t,r);this.environmentId=t.credential_source.environment_id,this.regionUrl=t.credential_source.region_url,this.securityCredentialsUrl=t.credential_source.url,this.regionalCredVerificationUrl=t.credential_source.regional_cred_verification_url,this.imdsV2SessionTokenUrl=t.credential_source.imdsv2_session_token_url;let i=(n=this.environmentId)===null||n===void 0?void 0:n.match(/^(aws)(\d+)$/);if(!i||!this.regionalCredVerificationUrl)throw new Error('No valid AWS "credential_source" provided');if(parseInt(i[2],10)!==1)throw new Error(`aws version "${i[2]}" is not supported in the current build.`);this.awsRequestSigner=null,this.region=""}retrieveSubjectToken(){return U(this,null,function*(){if(!this.awsRequestSigner){let i={};this.imdsV2SessionTokenUrl&&(i["x-aws-ec2-metadata-token"]=yield this.getImdsV2SessionToken()),this.region=yield this.getAwsRegion(i),this.awsRequestSigner=new VM.AwsRequestSigner(()=>U(this,null,function*(){if(process.env.AWS_ACCESS_KEY_ID&&process.env.AWS_SECRET_ACCESS_KEY)return{accessKeyId:process.env.AWS_ACCESS_KEY_ID,secretAccessKey:process.env.AWS_SECRET_ACCESS_KEY,token:process.env.AWS_SESSION_TOKEN};let a=yield this.getAwsRoleName(i),s=yield this.getAwsSecurityCredentials(a,i);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,token:s.Token}}),this.region)}let t=yield this.awsRequestSigner.getRequestOptions({url:this.regionalCredVerificationUrl.replace("{region}",this.region),method:"POST"}),r=[],n=Object.assign({"x-goog-cloud-target-resource":this.audience},t.headers);for(let i in n)r.push({key:i,value:n[i]});return encodeURIComponent(JSON.stringify({url:t.url,method:t.method,headers:r}))})}getImdsV2SessionToken(){return U(this,null,function*(){let t={url:this.imdsV2SessionTokenUrl,method:"PUT",responseType:"text",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"300"}};return(yield this.transporter.request(t)).data})}getAwsRegion(t){return U(this,null,function*(){if(process.env.AWS_REGION||process.env.AWS_DEFAULT_REGION)return process.env.AWS_REGION||process.env.AWS_DEFAULT_REGION;if(!this.regionUrl)throw new Error('Unable to determine AWS region due to missing "options.credential_source.region_url"');let r={url:this.regionUrl,method:"GET",responseType:"text",headers:t},n=yield this.transporter.request(r);return n.data.substr(0,n.data.length-1)})}getAwsRoleName(t){return U(this,null,function*(){if(!this.securityCredentialsUrl)throw new Error('Unable to determine AWS role name due to missing "options.credential_source.url"');let r={url:this.securityCredentialsUrl,method:"GET",responseType:"text",headers:t};return(yield this.transporter.request(r)).data})}getAwsSecurityCredentials(t,r){return U(this,null,function*(){return(yield this.transporter.request({url:`${this.securityCredentialsUrl}/${t}`,responseType:"json",headers:r})).data})}};Df.AwsClient=SA});var Up=ue(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.ExternalAccountClient=void 0;var YM=So(),jM=Op(),WM=Mp(),TA=class{constructor(){throw new Error("ExternalAccountClients should be initialized via: ExternalAccountClient.fromJSON(), directly via explicit constructors, eg. new AwsClient(options), new IdentityPoolClient(options) or via new GoogleAuth(options).getClient()")}static fromJSON(t,r){var n;return t&&t.type===YM.EXTERNAL_ACCOUNT_TYPE?((n=t.credential_source)===null||n===void 0?void 0:n.environment_id)?new WM.AwsClient(t,r):new jM.IdentityPoolClient(t,r):null}};Lf.ExternalAccountClient=TA});var kA=ue(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.GoogleAuth=xo.CLOUD_SDK_CLIENT_ID=void 0;var zM=require("child_process"),qu=require("fs"),Fp=_c(),JM=require("os"),qp=require("path"),QM=Zs(),XM=pu(),ZM=s0(),$M=o0(),e5=u0(),gs=Tp(),xA=xp(),IA=Up(),To=So();xo.CLOUD_SDK_CLIENT_ID="764086051850-6qr4p6gpi6hn506pt8ejuq83di341hur.apps.googleusercontent.com";var Gp=class{constructor(t){this.checkIsGCE=void 0,this.jsonContent=null,this.cachedCredential=null,t=t||{},this._cachedProjectId=t.projectId||null,this.cachedCredential=t.authClient||null,this.keyFilename=t.keyFilename||t.keyFile,this.scopes=t.scopes,this.jsonContent=t.credentials||null,this.clientOptions=t.clientOptions}get isGCE(){return this.checkIsGCE}setGapicJWTValues(t){t.defaultServicePath=this.defaultServicePath,t.useJWTAccessWithScope=this.useJWTAccessWithScope,t.defaultScopes=this.defaultScopes}getProjectId(t){if(t)this.getProjectIdAsync().then(r=>t(null,r),t);else return this.getProjectIdAsync()}getProjectIdAsync(){return this._cachedProjectId?Promise.resolve(this._cachedProjectId):(this._getDefaultProjectIdPromise||(this._getDefaultProjectIdPromise=new Promise((t,r)=>U(this,null,function*(){try{let n=this.getProductionProjectId()||(yield this.getFileProjectId())||(yield this.getDefaultServiceProjectId())||(yield this.getGCEProjectId())||(yield this.getExternalAccountClientProjectId());if(this._cachedProjectId=n,!n)throw new Error(`Unable to detect a Project Id in the current environment. 
To learn more about authentication and Google APIs, visit: 
https://cloud.google.com/docs/authentication/getting-started`);t(n)}catch(n){r(n)}}))),this._getDefaultProjectIdPromise)}getAnyScopes(){return this.scopes||this.defaultScopes}getApplicationDefault(t={},r){let n;if(typeof t=="function"?r=t:n=t,r)this.getApplicationDefaultAsync(n).then(i=>r(null,i.credential,i.projectId),r);else return this.getApplicationDefaultAsync(n)}getApplicationDefaultAsync(){return U(this,arguments,function*(t={}){if(this.cachedCredential)return{credential:this.cachedCredential,projectId:yield this.getProjectIdAsync()};let r,n;if(r=yield this._tryGetApplicationCredentialsFromEnvironmentVariable(t),r)return r instanceof gs.JWT?r.scopes=this.scopes:r instanceof To.BaseExternalAccountClient&&(r.scopes=this.getAnyScopes()),this.cachedCredential=r,n=yield this.getProjectId(),{credential:r,projectId:n};if(r=yield this._tryGetApplicationCredentialsFromWellKnownFile(t),r)return r instanceof gs.JWT?r.scopes=this.scopes:r instanceof To.BaseExternalAccountClient&&(r.scopes=this.getAnyScopes()),this.cachedCredential=r,n=yield this.getProjectId(),{credential:r,projectId:n};let i;try{i=yield this._checkIsGCE()}catch(a){throw a instanceof Error&&(a.message=`Unexpected error determining execution environment: ${a.message}`),a}if(!i)throw new Error("Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.");return t.scopes=this.getAnyScopes(),this.cachedCredential=new ZM.Compute(t),n=yield this.getProjectId(),{projectId:n,credential:this.cachedCredential}})}_checkIsGCE(){return U(this,null,function*(){return this.checkIsGCE===void 0&&(this.checkIsGCE=yield Fp.isAvailable()),this.checkIsGCE})}_tryGetApplicationCredentialsFromEnvironmentVariable(t){return U(this,null,function*(){let r=process.env.GOOGLE_APPLICATION_CREDENTIALS||process.env.google_application_credentials;if(!r||r.length===0)return null;try{return this._getApplicationCredentialsFromFilePath(r,t)}catch(n){throw n instanceof Error&&(n.message=`Unable to read the credential file specified by the GOOGLE_APPLICATION_CREDENTIALS environment variable: ${n.message}`),n}})}_tryGetApplicationCredentialsFromWellKnownFile(t){return U(this,null,function*(){let r=null;if(this._isWindows())r=process.env.APPDATA;else{let i=process.env.HOME;i&&(r=qp.join(i,".config"))}return r&&(r=qp.join(r,"gcloud","application_default_credentials.json"),qu.existsSync(r)||(r=null)),r?yield this._getApplicationCredentialsFromFilePath(r,t):null})}_getApplicationCredentialsFromFilePath(n){return U(this,arguments,function*(t,r={}){if(!t||t.length===0)throw new Error("The file path is invalid.");try{if(t=qu.realpathSync(t),!qu.lstatSync(t).isFile())throw new Error}catch(a){throw a instanceof Error&&(a.message=`The file at ${t} does not exist, or it is not a file. ${a.message}`),a}let i=qu.createReadStream(t);return this.fromStream(i,r)})}fromJSON(t,r){let n;if(!t)throw new Error("Must pass in a JSON object containing the Google auth settings.");return r=r||{},t.type==="authorized_user"?(n=new xA.UserRefreshClient(r),n.fromJSON(t)):t.type===To.EXTERNAL_ACCOUNT_TYPE?(n=IA.ExternalAccountClient.fromJSON(t,r),n.scopes=this.getAnyScopes()):(r.scopes=this.scopes,n=new gs.JWT(r),this.setGapicJWTValues(n),n.fromJSON(t)),n}_cacheClientFromJSON(t,r){let n;return r=r||{},t.type==="authorized_user"?(n=new xA.UserRefreshClient(r),n.fromJSON(t)):t.type===To.EXTERNAL_ACCOUNT_TYPE?(n=IA.ExternalAccountClient.fromJSON(t,r),n.scopes=this.getAnyScopes()):(r.scopes=this.scopes,n=new gs.JWT(r),this.setGapicJWTValues(n),n.fromJSON(t)),this.jsonContent=t,this.cachedCredential=n,n}fromStream(t,r={},n){let i={};if(typeof r=="function"?n=r:i=r,n)this.fromStreamAsync(t,i).then(a=>n(null,a),n);else return this.fromStreamAsync(t,i)}fromStreamAsync(t,r){return new Promise((n,i)=>{if(!t)throw new Error("Must pass in a stream containing the Google auth settings.");let a="";t.setEncoding("utf8").on("error",i).on("data",s=>a+=s).on("end",()=>{try{try{let s=JSON.parse(a),u=this._cacheClientFromJSON(s,r);return n(u)}catch(s){if(!this.keyFilename)throw s;let u=new gs.JWT(Qr(Kr({},this.clientOptions),{keyFile:this.keyFilename}));return this.cachedCredential=u,this.setGapicJWTValues(u),n(u)}}catch(s){return i(s)}})})}fromAPIKey(t,r){r=r||{};let n=new gs.JWT(r);return n.fromAPIKey(t),n}_isWindows(){let t=JM.platform();return!!(t&&t.length>=3&&t.substring(0,3).toLowerCase()==="win")}getDefaultServiceProjectId(){return U(this,null,function*(){return new Promise(t=>{(0,zM.exec)("gcloud config config-helper --format json",(r,n)=>{if(!r&&n)try{let i=JSON.parse(n).configuration.properties.core.project;t(i);return}catch(i){}t(null)})})})}getProductionProjectId(){return process.env.GCLOUD_PROJECT||process.env.GOOGLE_CLOUD_PROJECT||process.env.gcloud_project||process.env.google_cloud_project}getFileProjectId(){return U(this,null,function*(){if(this.cachedCredential)return this.cachedCredential.projectId;if(this.keyFilename){let r=yield this.getClient();if(r&&r.projectId)return r.projectId}let t=yield this._tryGetApplicationCredentialsFromEnvironmentVariable();return t?t.projectId:null})}getExternalAccountClientProjectId(){return U(this,null,function*(){return!this.jsonContent||this.jsonContent.type!==To.EXTERNAL_ACCOUNT_TYPE?null:yield(yield this.getClient()).getProjectId()})}getGCEProjectId(){return U(this,null,function*(){try{return yield Fp.project("project-id")}catch(t){return null}})}getCredentials(t){if(t)this.getCredentialsAsync().then(r=>t(null,r),t);else return this.getCredentialsAsync()}getCredentialsAsync(){return U(this,null,function*(){let t=yield this.getClient();if(t instanceof To.BaseExternalAccountClient){let i=t.getServiceAccountEmail();if(i)return{client_email:i}}if(this.jsonContent)return{client_email:this.jsonContent.client_email,private_key:this.jsonContent.private_key};if(!(yield this._checkIsGCE()))throw new Error("Unknown error.");let n=yield Fp.instance({property:"service-accounts/",params:{recursive:"true"}});if(!n||!n.default||!n.default.email)throw new Error("Failure from metadata server.");return{client_email:n.default.email}})}getClient(){return U(this,null,function*(){if(!this.cachedCredential)if(this.jsonContent)this._cacheClientFromJSON(this.jsonContent,this.clientOptions);else if(this.keyFilename){let t=qp.resolve(this.keyFilename),r=qu.createReadStream(t);yield this.fromStreamAsync(r,this.clientOptions)}else yield this.getApplicationDefaultAsync(this.clientOptions);return this.cachedCredential})}getIdTokenClient(t){return U(this,null,function*(){let r=yield this.getClient();if(!("fetchIdToken"in r))throw new Error("Cannot fetch ID token in this environment, use GCE or set the GOOGLE_APPLICATION_CREDENTIALS environment variable to a service account credentials JSON file.");return new $M.IdTokenClient({targetAudience:t,idTokenProvider:r})})}getAccessToken(){return U(this,null,function*(){return(yield(yield this.getClient()).getAccessToken()).token})}getRequestHeaders(t){return U(this,null,function*(){return(yield this.getClient()).getRequestHeaders(t)})}authorizeRequest(t){return U(this,null,function*(){t=t||{};let r=t.url||t.uri,i=yield(yield this.getClient()).getRequestHeaders(r);return t.headers=Object.assign(t.headers||{},i),t})}request(t){return U(this,null,function*(){return(yield this.getClient()).request(t)})}getEnv(){return(0,e5.getEnv)()}sign(t){return U(this,null,function*(){let r=yield this.getClient(),n=(0,QM.createCrypto)();if(r instanceof gs.JWT&&r.key)return yield n.sign(r.key,t);if(!(yield this.getProjectId()))throw new Error("Cannot sign data without a project ID.");let a=yield this.getCredentials();if(!a.client_email)throw new Error("Cannot sign data without `client_email`.");return this.signBlob(n,a.client_email,t)})}signBlob(t,r,n){return U(this,null,function*(){let i=`https://iamcredentials.googleapis.com/v1/projects/-/serviceAccounts/${r}:signBlob`;return(yield this.request({method:"POST",url:i,data:{payload:t.encodeBase64StringUtf8(n)}})).data.signedBlob})}};xo.GoogleAuth=Gp;Gp.DefaultTransporter=XM.DefaultTransporter});var RA=ue(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.IAMAuth=void 0;var BA=class{constructor(t,r){this.selector=t,this.token=r,this.selector=t,this.token=r}getRequestHeaders(){return{"x-goog-iam-authority-selector":this.selector,"x-goog-iam-authorization-token":this.token}}};Pf.IAMAuth=BA});var LA=ue(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.Impersonated=void 0;var NA=rs(),t5=Qs(),DA=class extends NA.OAuth2Client{constructor(t={}){var r,n,i,a,s,u;super(t);this.credentials={expiry_date:1,refresh_token:"impersonated-placeholder"},this.sourceClient=(r=t.sourceClient)!==null&&r!==void 0?r:new NA.OAuth2Client,this.targetPrincipal=(n=t.targetPrincipal)!==null&&n!==void 0?n:"",this.delegates=(i=t.delegates)!==null&&i!==void 0?i:[],this.targetScopes=(a=t.targetScopes)!==null&&a!==void 0?a:[],this.lifetime=(s=t.lifetime)!==null&&s!==void 0?s:3600,this.endpoint=(u=t.endpoint)!==null&&u!==void 0?u:"https://iamcredentials.googleapis.com"}refreshToken(t){return U(this,null,function*(){var r,n,i,a,s,u;try{yield this.sourceClient.getAccessToken();let c="projects/-/serviceAccounts/"+this.targetPrincipal,f=`${this.endpoint}/v1/${c}:generateAccessToken`,d={delegates:this.delegates,scope:this.targetScopes,lifetime:this.lifetime+"s"},p=yield this.sourceClient.request({url:f,data:d,method:"POST"}),g=p.data;return this.credentials.access_token=g.accessToken,this.credentials.expiry_date=Date.parse(g.expireTime),{tokens:this.credentials,res:p}}catch(c){if(!(c instanceof Error))throw c;let f=0,d="";throw c instanceof t5.GaxiosError&&(f=(i=(n=(r=c==null?void 0:c.response)===null||r===void 0?void 0:r.data)===null||n===void 0?void 0:n.error)===null||i===void 0?void 0:i.status,d=(u=(s=(a=c==null?void 0:c.response)===null||a===void 0?void 0:a.data)===null||s===void 0?void 0:s.error)===null||u===void 0?void 0:u.message),f&&d?(c.message=`${f}: unable to impersonate: ${d}`,c):(c.message=`unable to impersonate: ${c}`,c)}})}};Of.Impersonated=DA});var OA=ue(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.DownscopedClient=li.EXPIRATION_TIME_OFFSET=li.MAX_ACCESS_BOUNDARY_RULES_COUNT=void 0;var r5=require("stream"),n5=gu(),i5=Ip(),a5="urn:ietf:params:oauth:grant-type:token-exchange",s5="urn:ietf:params:oauth:token-type:access_token",o5="urn:ietf:params:oauth:token-type:access_token",u5="https://sts.googleapis.com/v1/token";li.MAX_ACCESS_BOUNDARY_RULES_COUNT=10;li.EXPIRATION_TIME_OFFSET=5*60*1e3;var PA=class extends n5.AuthClient{constructor(t,r,n,i){super();if(this.authClient=t,this.credentialAccessBoundary=r,r.accessBoundary.accessBoundaryRules.length===0)throw new Error("At least one access boundary rule needs to be defined.");if(r.accessBoundary.accessBoundaryRules.length>li.MAX_ACCESS_BOUNDARY_RULES_COUNT)throw new Error(`The provided access boundary has more than ${li.MAX_ACCESS_BOUNDARY_RULES_COUNT} access boundary rules.`);for(let a of r.accessBoundary.accessBoundaryRules)if(a.availablePermissions.length===0)throw new Error("At least one permission should be defined in access boundary rules.");this.stsCredential=new i5.StsCredentials(u5),this.cachedDownscopedAccessToken=null,typeof(n==null?void 0:n.eagerRefreshThresholdMillis)!="number"?this.eagerRefreshThresholdMillis=li.EXPIRATION_TIME_OFFSET:this.eagerRefreshThresholdMillis=n.eagerRefreshThresholdMillis,this.forceRefreshOnFailure=!!(n==null?void 0:n.forceRefreshOnFailure),this.quotaProjectId=i}setCredentials(t){if(!t.expiry_date)throw new Error("The access token expiry_date field is missing in the provided credentials.");super.setCredentials(t),this.cachedDownscopedAccessToken=t}getAccessToken(){return U(this,null,function*(){return(!this.cachedDownscopedAccessToken||this.isExpired(this.cachedDownscopedAccessToken))&&(yield this.refreshAccessTokenAsync()),{token:this.cachedDownscopedAccessToken.access_token,expirationTime:this.cachedDownscopedAccessToken.expiry_date,res:this.cachedDownscopedAccessToken.res}})}getRequestHeaders(){return U(this,null,function*(){let r={Authorization:`Bearer ${(yield this.getAccessToken()).token}`};return this.addSharedMetadataHeaders(r)})}request(t,r){if(r)this.requestAsync(t).then(n=>r(null,n),n=>r(n,n.response));else return this.requestAsync(t)}requestAsync(t,r=!1){return U(this,null,function*(){let n;try{let i=yield this.getRequestHeaders();t.headers=t.headers||{},i&&i["x-goog-user-project"]&&(t.headers["x-goog-user-project"]=i["x-goog-user-project"]),i&&i.Authorization&&(t.headers.Authorization=i.Authorization),n=yield this.transporter.request(t)}catch(i){let a=i.response;if(a){let s=a.status,u=a.config.data instanceof r5.Readable;if(!r&&(s===401||s===403)&&!u&&this.forceRefreshOnFailure)return yield this.refreshAccessTokenAsync(),yield this.requestAsync(t,!0)}throw i}return n})}refreshAccessTokenAsync(){return U(this,null,function*(){var t;let r=(yield this.authClient.getAccessToken()).token,n={grantType:a5,requestedTokenType:s5,subjectToken:r,subjectTokenType:o5},i=yield this.stsCredential.exchangeToken(n,void 0,this.credentialAccessBoundary),a=((t=this.authClient.credentials)===null||t===void 0?void 0:t.expiry_date)||null,s=i.expires_in?new Date().getTime()+i.expires_in*1e3:a;return this.cachedDownscopedAccessToken={access_token:i.access_token,expiry_date:s,res:i.res},this.credentials={},Object.assign(this.credentials,this.cachedDownscopedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedDownscopedAccessToken.expiry_date,access_token:this.cachedDownscopedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedDownscopedAccessToken})}isExpired(t){let r=new Date().getTime();return t.expiry_date?r>=t.expiry_date-this.eagerRefreshThresholdMillis:!1}};li.DownscopedClient=PA});var FA=ue(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.GoogleAuth=at.auth=at.DefaultTransporter=at.DownscopedClient=at.BaseExternalAccountClient=at.ExternalAccountClient=at.IdentityPoolClient=at.AwsClient=at.UserRefreshClient=at.LoginTicket=at.OAuth2Client=at.CodeChallengeMethod=at.Impersonated=at.JWT=at.JWTAccess=at.IdTokenClient=at.IAMAuth=at.GCPEnv=at.Compute=at.AuthClient=void 0;var MA=kA();Object.defineProperty(at,"GoogleAuth",{enumerable:!0,get:function(){return MA.GoogleAuth}});var l5=gu();Object.defineProperty(at,"AuthClient",{enumerable:!0,get:function(){return l5.AuthClient}});var c5=s0();Object.defineProperty(at,"Compute",{enumerable:!0,get:function(){return c5.Compute}});var f5=u0();Object.defineProperty(at,"GCPEnv",{enumerable:!0,get:function(){return f5.GCPEnv}});var d5=RA();Object.defineProperty(at,"IAMAuth",{enumerable:!0,get:function(){return d5.IAMAuth}});var h5=o0();Object.defineProperty(at,"IdTokenClient",{enumerable:!0,get:function(){return h5.IdTokenClient}});var p5=Sp();Object.defineProperty(at,"JWTAccess",{enumerable:!0,get:function(){return p5.JWTAccess}});var g5=Tp();Object.defineProperty(at,"JWT",{enumerable:!0,get:function(){return g5.JWT}});var m5=LA();Object.defineProperty(at,"Impersonated",{enumerable:!0,get:function(){return m5.Impersonated}});var UA=rs();Object.defineProperty(at,"CodeChallengeMethod",{enumerable:!0,get:function(){return UA.CodeChallengeMethod}});Object.defineProperty(at,"OAuth2Client",{enumerable:!0,get:function(){return UA.OAuth2Client}});var y5=i0();Object.defineProperty(at,"LoginTicket",{enumerable:!0,get:function(){return y5.LoginTicket}});var v5=xp();Object.defineProperty(at,"UserRefreshClient",{enumerable:!0,get:function(){return v5.UserRefreshClient}});var _5=Mp();Object.defineProperty(at,"AwsClient",{enumerable:!0,get:function(){return _5.AwsClient}});var E5=Op();Object.defineProperty(at,"IdentityPoolClient",{enumerable:!0,get:function(){return E5.IdentityPoolClient}});var C5=Up();Object.defineProperty(at,"ExternalAccountClient",{enumerable:!0,get:function(){return C5.ExternalAccountClient}});var A5=So();Object.defineProperty(at,"BaseExternalAccountClient",{enumerable:!0,get:function(){return A5.BaseExternalAccountClient}});var w5=OA();Object.defineProperty(at,"DownscopedClient",{enumerable:!0,get:function(){return w5.DownscopedClient}});var b5=pu();Object.defineProperty(at,"DefaultTransporter",{enumerable:!0,get:function(){return b5.DefaultTransporter}});var S5=new MA.GoogleAuth;at.auth=S5});var Vp=ue((qG,GA)=>{"use strict";var qA=require("fs"),Kp;function T5(){try{return qA.statSync("/.dockerenv"),!0}catch(e){return!1}}function x5(){try{return qA.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch(e){return!1}}GA.exports=()=>(Kp===void 0&&(Kp=T5()||x5()),Kp)});var HA=ue((GG,Hp)=>{"use strict";var I5=require("os"),k5=require("fs"),KA=Vp(),VA=()=>{if(process.platform!=="linux")return!1;if(I5.release().toLowerCase().includes("microsoft"))return!KA();try{return k5.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!KA():!1}catch(e){return!1}};process.env.__IS_WSL_TEST__?Hp.exports=VA:Hp.exports=VA()});var jA=ue((KG,YA)=>{"use strict";YA.exports=(e,t,r)=>{let n=i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0});return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let i=r();return n(i),i},set(i){n(i)}}),e}});var $A=ue((Jp,ZA)=>{var B5=require("path"),R5=require("child_process"),{promises:Yp,constants:WA}=require("fs"),Mf=HA(),N5=Vp(),jp=jA(),zA=B5.join(__dirname,"xdg-open"),{platform:Io,arch:JA}=process,D5=(()=>{let e="/mnt/",t;return function(){return U(this,null,function*(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{yield Yp.access(r,WA.F_OK),n=!0}catch(s){}if(!n)return e;let i=yield Yp.readFile(r,{encoding:"utf8"}),a=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return a?(t=a.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e})}})(),QA=(e,t)=>U(Jp,null,function*(){let r;for(let n of e)try{return yield t(n)}catch(i){r=i}throw r}),Uf=e=>U(Jp,null,function*(){if(e=Kr({wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1},e),Array.isArray(e.app))return QA(e.app,u=>Uf(Qr(Kr({},e),{app:u})));let{name:t,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(t))return QA(t,u=>Uf(Qr(Kr({},e),{app:{name:u,arguments:r}})));let n,i=[],a={};if(Io==="darwin")n="open",e.wait&&i.push("--wait-apps"),e.background&&i.push("--background"),e.newInstance&&i.push("--new"),t&&i.push("-a",t);else if(Io==="win32"||Mf&&!N5()){let u=yield D5();n=Mf?`${u}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,i.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),Mf||(a.windowsVerbatimArguments=!0);let c=["Start"];e.wait&&c.push("-Wait"),t?(c.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&c.push(`"${e.target}"`),r.length>0&&(r=r.map(f=>`"\`"${f}\`""`),c.push(r.join(","))),e.target=Buffer.from(c.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let u=!__dirname||__dirname==="/",c=!1;try{yield Yp.access(zA,WA.X_OK),c=!0}catch(d){}n=process.versions.electron||Io==="android"||u||!c?"xdg-open":zA}r.length>0&&i.push(...r),e.wait||(a.stdio="ignore",a.detached=!0)}e.target&&i.push(e.target),Io==="darwin"&&r.length>0&&i.push("--args",...r);let s=R5.spawn(n,i,a);return e.wait?new Promise((u,c)=>{s.once("error",c),s.once("close",f=>{if(e.allowNonzeroExitCode&&f>0){c(new Error(`Exited with code ${f}`));return}u(s)})}):(s.unref(),s)}),Wp=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return Uf(Qr(Kr({},t),{target:e}))},L5=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return Uf(Qr(Kr({},t),{app:{name:e,arguments:r}}))};function XA(e){if(typeof e=="string"||Array.isArray(e))return e;let{[JA]:t}=e;if(!t)throw new Error(`${JA} is not supported`);return t}function zp({[Io]:e},{wsl:t}){if(t&&Mf)return XA(t);if(!e)throw new Error(`${Io} is not supported`);return XA(e)}var Ff={};jp(Ff,"chrome",()=>zp({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));jp(Ff,"firefox",()=>zp({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));jp(Ff,"edge",()=>zp({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));Wp.apps=Ff;Wp.openApp=L5;ZA.exports=Wp});var tw=ue((VG,ew)=>{ew.exports=P5;function P5(e){var t={};e.on("connection",function(r){var n=r.remoteAddress+":"+r.remotePort;t[n]=r,r.on("close",function(){delete t[n]})}),e.destroy=function(r){e.close(r);for(var n in t)t[n].destroy()}}});var fg=ue((bK,$f)=>{var Aw,ww,bw,Sw,Tw,xw,Iw,kw,Bw,Xf,cg,Rw,Nw,Dw,Do,Lw,Pw,Ow,Mw,Uw,Fw,qw,Gw,Zf;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof $f=="object"&&typeof $f.exports=="object"?e(r(t,r($f.exports))):e(r(t));function r(n,i){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,s){return n[a]=i?i(a,s):s}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])};Aw=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)},ww=Object.assign||function(n){for(var i,a=1,s=arguments.length;a<s;a++){i=arguments[a];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])}return n},bw=function(n,i){var a={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&i.indexOf(s)<0&&(a[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(n);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(n,s[u])&&(a[s[u]]=n[s[u]]);return a},Sw=function(n,i,a,s){var u=arguments.length,c=u<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,a):s,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,i,a,s);else for(var d=n.length-1;d>=0;d--)(f=n[d])&&(c=(u<3?f(c):u>3?f(i,a,c):f(i,a))||c);return u>3&&c&&Object.defineProperty(i,a,c),c},Tw=function(n,i){return function(a,s){i(a,s,n)}},xw=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},Iw=function(n,i,a,s){function u(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function d(v){try{g(s.next(v))}catch(m){f(m)}}function p(v){try{g(s.throw(v))}catch(m){f(m)}}function g(v){v.done?c(v.value):u(v.value).then(d,p)}g((s=s.apply(n,i||[])).next())})},kw=function(n,i){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,u,c,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(g){return function(v){return p([g,v])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;a;)try{if(s=1,u&&(c=g[0]&2?u.return:g[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,g[1])).done)return c;switch(u=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return a.label++,{value:g[1],done:!1};case 5:a.label++,u=g[1],g=[0];continue;case 7:g=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){a=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){a.label=g[1];break}if(g[0]===6&&a.label<c[1]){a.label=c[1],c=g;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(g);break}c[2]&&a.ops.pop(),a.trys.pop();continue}g=i.call(n,a)}catch(v){g=[6,v],u=0}finally{s=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Bw=function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&Zf(i,n,a)},Zf=Object.create?function(n,i,a,s){s===void 0&&(s=a),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[a]}})}:function(n,i,a,s){s===void 0&&(s=a),n[s]=i[a]},Xf=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&n[i],s=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},cg=function(n,i){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var s=a.call(n),u,c=[],f;try{for(;(i===void 0||i-- >0)&&!(u=s.next()).done;)c.push(u.value)}catch(d){f={error:d}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(f)throw f.error}}return c},Rw=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(cg(arguments[i]));return n},Nw=function(){for(var n=0,i=0,a=arguments.length;i<a;i++)n+=arguments[i].length;for(var s=Array(n),u=0,i=0;i<a;i++)for(var c=arguments[i],f=0,d=c.length;f<d;f++,u++)s[u]=c[f];return s},Dw=function(n,i){for(var a=0,s=i.length,u=n.length;a<s;a++,u++)n[u]=i[a];return n},Do=function(n){return this instanceof Do?(this.v=n,this):new Do(n)},Lw=function(n,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(n,i||[]),u,c=[];return u={},f("next"),f("throw"),f("return"),u[Symbol.asyncIterator]=function(){return this},u;function f(E){s[E]&&(u[E]=function(_){return new Promise(function(C,B){c.push([E,_,C,B])>1||d(E,_)})})}function d(E,_){try{p(s[E](_))}catch(C){m(c[0][3],C)}}function p(E){E.value instanceof Do?Promise.resolve(E.value.v).then(g,v):m(c[0][2],E)}function g(E){d("next",E)}function v(E){d("throw",E)}function m(E,_){E(_),c.shift(),c.length&&d(c[0][0],c[0][1])}},Pw=function(n){var i,a;return i={},s("next"),s("throw",function(u){throw u}),s("return"),i[Symbol.iterator]=function(){return this},i;function s(u,c){i[u]=n[u]?function(f){return(a=!a)?{value:Do(n[u](f)),done:u==="return"}:c?c(f):f}:c}},Ow=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],a;return i?i.call(n):(n=typeof Xf=="function"?Xf(n):n[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(c){a[c]=n[c]&&function(f){return new Promise(function(d,p){f=n[c](f),u(d,p,f.done,f.value)})}}function u(c,f,d,p){Promise.resolve(p).then(function(g){c({value:g,done:d})},f)}},Mw=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};Uw=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&Zf(i,n,a);return r(i,n),i},Fw=function(n){return n&&n.__esModule?n:{default:n}},qw=function(n,i,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(n):s?s.value:i.get(n)},Gw=function(n,i,a,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!u:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(n,a):u?u.value=a:i.set(n,a),a},e("__extends",Aw),e("__assign",ww),e("__rest",bw),e("__decorate",Sw),e("__param",Tw),e("__metadata",xw),e("__awaiter",Iw),e("__generator",kw),e("__exportStar",Bw),e("__createBinding",Zf),e("__values",Xf),e("__read",cg),e("__spread",Rw),e("__spreadArrays",Nw),e("__spreadArray",Dw),e("__await",Do),e("__asyncGenerator",Lw),e("__asyncDelegator",Pw),e("__asyncValues",Ow),e("__makeTemplateObject",Mw),e("__importStar",Uw),e("__importDefault",Fw),e("__classPrivateFieldGet",qw),e("__classPrivateFieldSet",Gw)})});var rd=ue((Lo,$u)=>{(function(){var e,t="4.17.21",r=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",a="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",f=1,d=2,p=4,g=1,v=2,m=1,E=2,_=4,C=8,B=16,R=32,D=64,L=128,O=256,ae=512,j=30,Y="...",ye=800,me=16,we=1,Ke=2,Oe=3,Ie=1/0,Pe=9007199254740991,_e=17976931348623157e292,nt=0/0,Xe=4294967295,Nt=Xe-1,At=Xe>>>1,it=[["ary",L],["bind",m],["bindKey",E],["curry",C],["curryRight",B],["flip",ae],["partial",R],["partialRight",D],["rearg",O]],fe="[object Arguments]",Dt="[object Array]",Tt="[object AsyncFunction]",Re="[object Boolean]",Le="[object Date]",He="[object DOMException]",x="[object Error]",k="[object Function]",N="[object GeneratorFunction]",W="[object Map]",G="[object Number]",J="[object Null]",X="[object Object]",V="[object Promise]",Q="[object Proxy]",re="[object RegExp]",Z="[object Set]",de="[object String]",Me="[object Symbol]",Fe="[object Undefined]",pt="[object WeakMap]",tr="[object WeakSet]",Xt="[object ArrayBuffer]",lt="[object DataView]",Lt="[object Float32Array]",gr="[object Float64Array]",ua="[object Int8Array]",Ga="[object Int16Array]",Ka="[object Int32Array]",sn="[object Uint8Array]",Oi="[object Uint8ClampedArray]",Fr="[object Uint16Array]",_r="[object Uint32Array]",rr=/\b__p \+= '';/g,WT=/\b(__p \+=) '' \+/g,zT=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Fg=/&(?:amp|lt|gt|quot|#39);/g,qg=/[&<>"']/g,JT=RegExp(Fg.source),QT=RegExp(qg.source),XT=/<%-([\s\S]+?)%>/g,ZT=/<%([\s\S]+?)%>/g,Gg=/<%=([\s\S]+?)%>/g,$T=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ex=/^\w*$/,tx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Td=/[\\^$.*+?()[\]{}|]/g,rx=RegExp(Td.source),xd=/^\s+/,nx=/\s/,ix=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ax=/\{\n\/\* \[wrapped with (.+)\] \*/,sx=/,? & /,ox=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ux=/[()=,{}\[\]\/\s]/,lx=/\\(\\)?/g,cx=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kg=/\w*$/,fx=/^[-+]0x[0-9a-f]+$/i,dx=/^0b[01]+$/i,hx=/^\[object .+?Constructor\]$/,px=/^0o[0-7]+$/i,gx=/^(?:0|[1-9]\d*)$/,mx=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vl=/($^)/,yx=/['\n\r\u2028\u2029\\]/g,_l="\\ud800-\\udfff",vx="\\u0300-\\u036f",_x="\\ufe20-\\ufe2f",Ex="\\u20d0-\\u20ff",Vg=vx+_x+Ex,Hg="\\u2700-\\u27bf",Yg="a-z\\xdf-\\xf6\\xf8-\\xff",Cx="\\xac\\xb1\\xd7\\xf7",Ax="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wx="\\u2000-\\u206f",bx=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",jg="A-Z\\xc0-\\xd6\\xd8-\\xde",Wg="\\ufe0e\\ufe0f",zg=Cx+Ax+wx+bx,Id="['\u2019]",Sx="["+_l+"]",Jg="["+zg+"]",El="["+Vg+"]",Qg="\\d+",Tx="["+Hg+"]",Xg="["+Yg+"]",Zg="[^"+_l+zg+Qg+Hg+Yg+jg+"]",kd="\\ud83c[\\udffb-\\udfff]",xx="(?:"+El+"|"+kd+")",$g="[^"+_l+"]",Bd="(?:\\ud83c[\\udde6-\\uddff]){2}",Rd="[\\ud800-\\udbff][\\udc00-\\udfff]",Rs="["+jg+"]",em="\\u200d",tm="(?:"+Xg+"|"+Zg+")",Ix="(?:"+Rs+"|"+Zg+")",rm="(?:"+Id+"(?:d|ll|m|re|s|t|ve))?",nm="(?:"+Id+"(?:D|LL|M|RE|S|T|VE))?",im=xx+"?",am="["+Wg+"]?",kx="(?:"+em+"(?:"+[$g,Bd,Rd].join("|")+")"+am+im+")*",Bx="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rx="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",sm=am+im+kx,Nx="(?:"+[Tx,Bd,Rd].join("|")+")"+sm,Dx="(?:"+[$g+El+"?",El,Bd,Rd,Sx].join("|")+")",Lx=RegExp(Id,"g"),Px=RegExp(El,"g"),Nd=RegExp(kd+"(?="+kd+")|"+Dx+sm,"g"),Ox=RegExp([Rs+"?"+Xg+"+"+rm+"(?="+[Jg,Rs,"$"].join("|")+")",Ix+"+"+nm+"(?="+[Jg,Rs+tm,"$"].join("|")+")",Rs+"?"+tm+"+"+rm,Rs+"+"+nm,Rx,Bx,Qg,Nx].join("|"),"g"),Mx=RegExp("["+em+_l+Vg+Wg+"]"),Ux=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Fx=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qx=-1,Zt={};Zt[Lt]=Zt[gr]=Zt[ua]=Zt[Ga]=Zt[Ka]=Zt[sn]=Zt[Oi]=Zt[Fr]=Zt[_r]=!0,Zt[fe]=Zt[Dt]=Zt[Xt]=Zt[Re]=Zt[lt]=Zt[Le]=Zt[x]=Zt[k]=Zt[W]=Zt[G]=Zt[X]=Zt[re]=Zt[Z]=Zt[de]=Zt[pt]=!1;var Yt={};Yt[fe]=Yt[Dt]=Yt[Xt]=Yt[lt]=Yt[Re]=Yt[Le]=Yt[Lt]=Yt[gr]=Yt[ua]=Yt[Ga]=Yt[Ka]=Yt[W]=Yt[G]=Yt[X]=Yt[re]=Yt[Z]=Yt[de]=Yt[Me]=Yt[sn]=Yt[Oi]=Yt[Fr]=Yt[_r]=!0,Yt[x]=Yt[k]=Yt[pt]=!1;var Gx={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Kx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vx={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Hx={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yx=parseFloat,jx=parseInt,om=typeof global=="object"&&global&&global.Object===Object&&global,Wx=typeof self=="object"&&self&&self.Object===Object&&self,br=om||Wx||Function("return this")(),Dd=typeof Lo=="object"&&Lo&&!Lo.nodeType&&Lo,Va=Dd&&typeof $u=="object"&&$u&&!$u.nodeType&&$u,um=Va&&Va.exports===Dd,Ld=um&&om.process,kn=function(){try{var H=Va&&Va.require&&Va.require("util").types;return H||Ld&&Ld.binding&&Ld.binding("util")}catch(oe){}}(),lm=kn&&kn.isArrayBuffer,cm=kn&&kn.isDate,fm=kn&&kn.isMap,dm=kn&&kn.isRegExp,hm=kn&&kn.isSet,pm=kn&&kn.isTypedArray;function mn(H,oe,ne){switch(ne.length){case 0:return H.call(oe);case 1:return H.call(oe,ne[0]);case 2:return H.call(oe,ne[0],ne[1]);case 3:return H.call(oe,ne[0],ne[1],ne[2])}return H.apply(oe,ne)}function zx(H,oe,ne,Ne){for(var Ze=-1,Mt=H==null?0:H.length;++Ze<Mt;){var Er=H[Ze];oe(Ne,Er,ne(Er),H)}return Ne}function Bn(H,oe){for(var ne=-1,Ne=H==null?0:H.length;++ne<Ne&&oe(H[ne],ne,H)!==!1;);return H}function Jx(H,oe){for(var ne=H==null?0:H.length;ne--&&oe(H[ne],ne,H)!==!1;);return H}function gm(H,oe){for(var ne=-1,Ne=H==null?0:H.length;++ne<Ne;)if(!oe(H[ne],ne,H))return!1;return!0}function la(H,oe){for(var ne=-1,Ne=H==null?0:H.length,Ze=0,Mt=[];++ne<Ne;){var Er=H[ne];oe(Er,ne,H)&&(Mt[Ze++]=Er)}return Mt}function Cl(H,oe){var ne=H==null?0:H.length;return!!ne&&Ns(H,oe,0)>-1}function Pd(H,oe,ne){for(var Ne=-1,Ze=H==null?0:H.length;++Ne<Ze;)if(ne(oe,H[Ne]))return!0;return!1}function nr(H,oe){for(var ne=-1,Ne=H==null?0:H.length,Ze=Array(Ne);++ne<Ne;)Ze[ne]=oe(H[ne],ne,H);return Ze}function ca(H,oe){for(var ne=-1,Ne=oe.length,Ze=H.length;++ne<Ne;)H[Ze+ne]=oe[ne];return H}function Od(H,oe,ne,Ne){var Ze=-1,Mt=H==null?0:H.length;for(Ne&&Mt&&(ne=H[++Ze]);++Ze<Mt;)ne=oe(ne,H[Ze],Ze,H);return ne}function Qx(H,oe,ne,Ne){var Ze=H==null?0:H.length;for(Ne&&Ze&&(ne=H[--Ze]);Ze--;)ne=oe(ne,H[Ze],Ze,H);return ne}function Md(H,oe){for(var ne=-1,Ne=H==null?0:H.length;++ne<Ne;)if(oe(H[ne],ne,H))return!0;return!1}var Xx=Ud("length");function Zx(H){return H.split("")}function $x(H){return H.match(ox)||[]}function mm(H,oe,ne){var Ne;return ne(H,function(Ze,Mt,Er){if(oe(Ze,Mt,Er))return Ne=Mt,!1}),Ne}function Al(H,oe,ne,Ne){for(var Ze=H.length,Mt=ne+(Ne?1:-1);Ne?Mt--:++Mt<Ze;)if(oe(H[Mt],Mt,H))return Mt;return-1}function Ns(H,oe,ne){return oe===oe?f2(H,oe,ne):Al(H,ym,ne)}function e2(H,oe,ne,Ne){for(var Ze=ne-1,Mt=H.length;++Ze<Mt;)if(Ne(H[Ze],oe))return Ze;return-1}function ym(H){return H!==H}function vm(H,oe){var ne=H==null?0:H.length;return ne?qd(H,oe)/ne:nt}function Ud(H){return function(oe){return oe==null?e:oe[H]}}function Fd(H){return function(oe){return H==null?e:H[oe]}}function _m(H,oe,ne,Ne,Ze){return Ze(H,function(Mt,Er,Vt){ne=Ne?(Ne=!1,Mt):oe(ne,Mt,Er,Vt)}),ne}function t2(H,oe){var ne=H.length;for(H.sort(oe);ne--;)H[ne]=H[ne].value;return H}function qd(H,oe){for(var ne,Ne=-1,Ze=H.length;++Ne<Ze;){var Mt=oe(H[Ne]);Mt!==e&&(ne=ne===e?Mt:ne+Mt)}return ne}function Gd(H,oe){for(var ne=-1,Ne=Array(H);++ne<H;)Ne[ne]=oe(ne);return Ne}function r2(H,oe){return nr(oe,function(ne){return[ne,H[ne]]})}function Em(H){return H&&H.slice(0,bm(H)+1).replace(xd,"")}function yn(H){return function(oe){return H(oe)}}function Kd(H,oe){return nr(oe,function(ne){return H[ne]})}function Ho(H,oe){return H.has(oe)}function Cm(H,oe){for(var ne=-1,Ne=H.length;++ne<Ne&&Ns(oe,H[ne],0)>-1;);return ne}function Am(H,oe){for(var ne=H.length;ne--&&Ns(oe,H[ne],0)>-1;);return ne}function n2(H,oe){for(var ne=H.length,Ne=0;ne--;)H[ne]===oe&&++Ne;return Ne}var i2=Fd(Gx),a2=Fd(Kx);function s2(H){return"\\"+Hx[H]}function o2(H,oe){return H==null?e:H[oe]}function Ds(H){return Mx.test(H)}function u2(H){return Ux.test(H)}function l2(H){for(var oe,ne=[];!(oe=H.next()).done;)ne.push(oe.value);return ne}function Vd(H){var oe=-1,ne=Array(H.size);return H.forEach(function(Ne,Ze){ne[++oe]=[Ze,Ne]}),ne}function wm(H,oe){return function(ne){return H(oe(ne))}}function fa(H,oe){for(var ne=-1,Ne=H.length,Ze=0,Mt=[];++ne<Ne;){var Er=H[ne];(Er===oe||Er===c)&&(H[ne]=c,Mt[Ze++]=ne)}return Mt}function wl(H){var oe=-1,ne=Array(H.size);return H.forEach(function(Ne){ne[++oe]=Ne}),ne}function c2(H){var oe=-1,ne=Array(H.size);return H.forEach(function(Ne){ne[++oe]=[Ne,Ne]}),ne}function f2(H,oe,ne){for(var Ne=ne-1,Ze=H.length;++Ne<Ze;)if(H[Ne]===oe)return Ne;return-1}function d2(H,oe,ne){for(var Ne=ne+1;Ne--;)if(H[Ne]===oe)return Ne;return Ne}function Ls(H){return Ds(H)?p2(H):Xx(H)}function $n(H){return Ds(H)?g2(H):Zx(H)}function bm(H){for(var oe=H.length;oe--&&nx.test(H.charAt(oe)););return oe}var h2=Fd(Vx);function p2(H){for(var oe=Nd.lastIndex=0;Nd.test(H);)++oe;return oe}function g2(H){return H.match(Nd)||[]}function m2(H){return H.match(Ox)||[]}var y2=function H(oe){oe=oe==null?br:da.defaults(br.Object(),oe,da.pick(br,Fx));var ne=oe.Array,Ne=oe.Date,Ze=oe.Error,Mt=oe.Function,Er=oe.Math,Vt=oe.Object,Hd=oe.RegExp,v2=oe.String,Rn=oe.TypeError,bl=ne.prototype,_2=Mt.prototype,Ps=Vt.prototype,Sl=oe["__core-js_shared__"],Tl=_2.toString,Gt=Ps.hasOwnProperty,E2=0,Sm=function(){var o=/[^.]+$/.exec(Sl&&Sl.keys&&Sl.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),xl=Ps.toString,C2=Tl.call(Vt),A2=br._,w2=Hd("^"+Tl.call(Gt).replace(Td,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Il=um?oe.Buffer:e,ha=oe.Symbol,kl=oe.Uint8Array,Tm=Il?Il.allocUnsafe:e,Bl=wm(Vt.getPrototypeOf,Vt),xm=Vt.create,Im=Ps.propertyIsEnumerable,Rl=bl.splice,km=ha?ha.isConcatSpreadable:e,Yo=ha?ha.iterator:e,Ha=ha?ha.toStringTag:e,Nl=function(){try{var o=Ja(Vt,"defineProperty");return o({},"",{}),o}catch(l){}}(),b2=oe.clearTimeout!==br.clearTimeout&&oe.clearTimeout,S2=Ne&&Ne.now!==br.Date.now&&Ne.now,T2=oe.setTimeout!==br.setTimeout&&oe.setTimeout,Dl=Er.ceil,Ll=Er.floor,Yd=Vt.getOwnPropertySymbols,x2=Il?Il.isBuffer:e,Bm=oe.isFinite,I2=bl.join,k2=wm(Vt.keys,Vt),Cr=Er.max,qr=Er.min,B2=Ne.now,R2=oe.parseInt,Rm=Er.random,N2=bl.reverse,jd=Ja(oe,"DataView"),jo=Ja(oe,"Map"),Wd=Ja(oe,"Promise"),Os=Ja(oe,"Set"),Wo=Ja(oe,"WeakMap"),zo=Ja(Vt,"create"),Pl=Wo&&new Wo,Ms={},D2=Qa(jd),L2=Qa(jo),P2=Qa(Wd),O2=Qa(Os),M2=Qa(Wo),Ol=ha?ha.prototype:e,Jo=Ol?Ol.valueOf:e,Nm=Ol?Ol.toString:e;function T(o){if(ur(o)&&!tt(o)&&!(o instanceof _t)){if(o instanceof Nn)return o;if(Gt.call(o,"__wrapped__"))return Dy(o)}return new Nn(o)}var Us=function(){function o(){}return function(l){if(!sr(l))return{};if(xm)return xm(l);o.prototype=l;var h=new o;return o.prototype=e,h}}();function Ml(){}function Nn(o,l){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=e}T.templateSettings={escape:XT,evaluate:ZT,interpolate:Gg,variable:"",imports:{_:T}},T.prototype=Ml.prototype,T.prototype.constructor=T,Nn.prototype=Us(Ml.prototype),Nn.prototype.constructor=Nn;function _t(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Xe,this.__views__=[]}function U2(){var o=new _t(this.__wrapped__);return o.__actions__=on(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=on(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=on(this.__views__),o}function F2(){if(this.__filtered__){var o=new _t(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function q2(){var o=this.__wrapped__.value(),l=this.__dir__,h=tt(o),y=l<0,A=h?o.length:0,I=ZI(0,A,this.__views__),P=I.start,F=I.end,z=F-P,le=y?F:P-1,ce=this.__iteratees__,ge=ce.length,Se=0,Ue=qr(z,this.__takeCount__);if(!h||!y&&A==z&&Ue==z)return ry(o,this.__actions__);var Ye=[];e:for(;z--&&Se<Ue;){le+=l;for(var ct=-1,je=o[le];++ct<ge;){var gt=ce[ct],wt=gt.iteratee,En=gt.type,Jr=wt(je);if(En==Ke)je=Jr;else if(!Jr){if(En==we)continue e;break e}}Ye[Se++]=je}return Ye}_t.prototype=Us(Ml.prototype),_t.prototype.constructor=_t;function Ya(o){var l=-1,h=o==null?0:o.length;for(this.clear();++l<h;){var y=o[l];this.set(y[0],y[1])}}function G2(){this.__data__=zo?zo(null):{},this.size=0}function K2(o){var l=this.has(o)&&delete this.__data__[o];return this.size-=l?1:0,l}function V2(o){var l=this.__data__;if(zo){var h=l[o];return h===s?e:h}return Gt.call(l,o)?l[o]:e}function H2(o){var l=this.__data__;return zo?l[o]!==e:Gt.call(l,o)}function Y2(o,l){var h=this.__data__;return this.size+=this.has(o)?0:1,h[o]=zo&&l===e?s:l,this}Ya.prototype.clear=G2,Ya.prototype.delete=K2,Ya.prototype.get=V2,Ya.prototype.has=H2,Ya.prototype.set=Y2;function Mi(o){var l=-1,h=o==null?0:o.length;for(this.clear();++l<h;){var y=o[l];this.set(y[0],y[1])}}function j2(){this.__data__=[],this.size=0}function W2(o){var l=this.__data__,h=Ul(l,o);if(h<0)return!1;var y=l.length-1;return h==y?l.pop():Rl.call(l,h,1),--this.size,!0}function z2(o){var l=this.__data__,h=Ul(l,o);return h<0?e:l[h][1]}function J2(o){return Ul(this.__data__,o)>-1}function Q2(o,l){var h=this.__data__,y=Ul(h,o);return y<0?(++this.size,h.push([o,l])):h[y][1]=l,this}Mi.prototype.clear=j2,Mi.prototype.delete=W2,Mi.prototype.get=z2,Mi.prototype.has=J2,Mi.prototype.set=Q2;function Ui(o){var l=-1,h=o==null?0:o.length;for(this.clear();++l<h;){var y=o[l];this.set(y[0],y[1])}}function X2(){this.size=0,this.__data__={hash:new Ya,map:new(jo||Mi),string:new Ya}}function Z2(o){var l=Ql(this,o).delete(o);return this.size-=l?1:0,l}function $2(o){return Ql(this,o).get(o)}function eI(o){return Ql(this,o).has(o)}function tI(o,l){var h=Ql(this,o),y=h.size;return h.set(o,l),this.size+=h.size==y?0:1,this}Ui.prototype.clear=X2,Ui.prototype.delete=Z2,Ui.prototype.get=$2,Ui.prototype.has=eI,Ui.prototype.set=tI;function ja(o){var l=-1,h=o==null?0:o.length;for(this.__data__=new Ui;++l<h;)this.add(o[l])}function rI(o){return this.__data__.set(o,s),this}function nI(o){return this.__data__.has(o)}ja.prototype.add=ja.prototype.push=rI,ja.prototype.has=nI;function ei(o){var l=this.__data__=new Mi(o);this.size=l.size}function iI(){this.__data__=new Mi,this.size=0}function aI(o){var l=this.__data__,h=l.delete(o);return this.size=l.size,h}function sI(o){return this.__data__.get(o)}function oI(o){return this.__data__.has(o)}function uI(o,l){var h=this.__data__;if(h instanceof Mi){var y=h.__data__;if(!jo||y.length<r-1)return y.push([o,l]),this.size=++h.size,this;h=this.__data__=new Ui(y)}return h.set(o,l),this.size=h.size,this}ei.prototype.clear=iI,ei.prototype.delete=aI,ei.prototype.get=sI,ei.prototype.has=oI,ei.prototype.set=uI;function Dm(o,l){var h=tt(o),y=!h&&Xa(o),A=!h&&!y&&va(o),I=!h&&!y&&!A&&Ks(o),P=h||y||A||I,F=P?Gd(o.length,v2):[],z=F.length;for(var le in o)(l||Gt.call(o,le))&&!(P&&(le=="length"||A&&(le=="offset"||le=="parent")||I&&(le=="buffer"||le=="byteLength"||le=="byteOffset")||Ki(le,z)))&&F.push(le);return F}function Lm(o){var l=o.length;return l?o[ih(0,l-1)]:e}function lI(o,l){return Xl(on(o),Wa(l,0,o.length))}function cI(o){return Xl(on(o))}function zd(o,l,h){(h!==e&&!ti(o[l],h)||h===e&&!(l in o))&&Fi(o,l,h)}function Qo(o,l,h){var y=o[l];(!(Gt.call(o,l)&&ti(y,h))||h===e&&!(l in o))&&Fi(o,l,h)}function Ul(o,l){for(var h=o.length;h--;)if(ti(o[h][0],l))return h;return-1}function fI(o,l,h,y){return pa(o,function(A,I,P){l(y,A,h(A),P)}),y}function Pm(o,l){return o&&hi(l,Sr(l),o)}function dI(o,l){return o&&hi(l,ln(l),o)}function Fi(o,l,h){l=="__proto__"&&Nl?Nl(o,l,{configurable:!0,enumerable:!0,value:h,writable:!0}):o[l]=h}function Jd(o,l){for(var h=-1,y=l.length,A=ne(y),I=o==null;++h<y;)A[h]=I?e:kh(o,l[h]);return A}function Wa(o,l,h){return o===o&&(h!==e&&(o=o<=h?o:h),l!==e&&(o=o>=l?o:l)),o}function Dn(o,l,h,y,A,I){var P,F=l&f,z=l&d,le=l&p;if(h&&(P=A?h(o,y,A,I):h(o)),P!==e)return P;if(!sr(o))return o;var ce=tt(o);if(ce){if(P=ek(o),!F)return on(o,P)}else{var ge=Gr(o),Se=ge==k||ge==N;if(va(o))return ay(o,F);if(ge==X||ge==fe||Se&&!A){if(P=z||Se?{}:by(o),!F)return z?VI(o,dI(P,o)):KI(o,Pm(P,o))}else{if(!Yt[ge])return A?o:{};P=tk(o,ge,F)}}I||(I=new ei);var Ue=I.get(o);if(Ue)return Ue;I.set(o,P),$y(o)?o.forEach(function(je){P.add(Dn(je,l,h,je,o,I))}):Xy(o)&&o.forEach(function(je,gt){P.set(gt,Dn(je,l,h,gt,o,I))});var Ye=le?z?gh:ph:z?ln:Sr,ct=ce?e:Ye(o);return Bn(ct||o,function(je,gt){ct&&(gt=je,je=o[gt]),Qo(P,gt,Dn(je,l,h,gt,o,I))}),P}function hI(o){var l=Sr(o);return function(h){return Om(h,o,l)}}function Om(o,l,h){var y=h.length;if(o==null)return!y;for(o=Vt(o);y--;){var A=h[y],I=l[A],P=o[A];if(P===e&&!(A in o)||!I(P))return!1}return!0}function Mm(o,l,h){if(typeof o!="function")throw new Rn(i);return nu(function(){o.apply(e,h)},l)}function Xo(o,l,h,y){var A=-1,I=Cl,P=!0,F=o.length,z=[],le=l.length;if(!F)return z;h&&(l=nr(l,yn(h))),y?(I=Pd,P=!1):l.length>=r&&(I=Ho,P=!1,l=new ja(l));e:for(;++A<F;){var ce=o[A],ge=h==null?ce:h(ce);if(ce=y||ce!==0?ce:0,P&&ge===ge){for(var Se=le;Se--;)if(l[Se]===ge)continue e;z.push(ce)}else I(l,ge,y)||z.push(ce)}return z}var pa=cy(di),Um=cy(Xd,!0);function pI(o,l){var h=!0;return pa(o,function(y,A,I){return h=!!l(y,A,I),h}),h}function Fl(o,l,h){for(var y=-1,A=o.length;++y<A;){var I=o[y],P=l(I);if(P!=null&&(F===e?P===P&&!_n(P):h(P,F)))var F=P,z=I}return z}function gI(o,l,h,y){var A=o.length;for(h=ot(h),h<0&&(h=-h>A?0:A+h),y=y===e||y>A?A:ot(y),y<0&&(y+=A),y=h>y?0:tv(y);h<y;)o[h++]=l;return o}function Fm(o,l){var h=[];return pa(o,function(y,A,I){l(y,A,I)&&h.push(y)}),h}function Dr(o,l,h,y,A){var I=-1,P=o.length;for(h||(h=nk),A||(A=[]);++I<P;){var F=o[I];l>0&&h(F)?l>1?Dr(F,l-1,h,y,A):ca(A,F):y||(A[A.length]=F)}return A}var Qd=fy(),qm=fy(!0);function di(o,l){return o&&Qd(o,l,Sr)}function Xd(o,l){return o&&qm(o,l,Sr)}function ql(o,l){return la(l,function(h){return Vi(o[h])})}function za(o,l){l=ma(l,o);for(var h=0,y=l.length;o!=null&&h<y;)o=o[pi(l[h++])];return h&&h==y?o:e}function Gm(o,l,h){var y=l(o);return tt(o)?y:ca(y,h(o))}function Wr(o){return o==null?o===e?Fe:J:Ha&&Ha in Vt(o)?XI(o):ck(o)}function Zd(o,l){return o>l}function mI(o,l){return o!=null&&Gt.call(o,l)}function yI(o,l){return o!=null&&l in Vt(o)}function vI(o,l,h){return o>=qr(l,h)&&o<Cr(l,h)}function $d(o,l,h){for(var y=h?Pd:Cl,A=o[0].length,I=o.length,P=I,F=ne(I),z=1/0,le=[];P--;){var ce=o[P];P&&l&&(ce=nr(ce,yn(l))),z=qr(ce.length,z),F[P]=!h&&(l||A>=120&&ce.length>=120)?new ja(P&&ce):e}ce=o[0];var ge=-1,Se=F[0];e:for(;++ge<A&&le.length<z;){var Ue=ce[ge],Ye=l?l(Ue):Ue;if(Ue=h||Ue!==0?Ue:0,!(Se?Ho(Se,Ye):y(le,Ye,h))){for(P=I;--P;){var ct=F[P];if(!(ct?Ho(ct,Ye):y(o[P],Ye,h)))continue e}Se&&Se.push(Ye),le.push(Ue)}}return le}function _I(o,l,h,y){return di(o,function(A,I,P){l(y,h(A),I,P)}),y}function Zo(o,l,h){l=ma(l,o),o=Iy(o,l);var y=o==null?o:o[pi(Pn(l))];return y==null?e:mn(y,o,h)}function Km(o){return ur(o)&&Wr(o)==fe}function EI(o){return ur(o)&&Wr(o)==Xt}function CI(o){return ur(o)&&Wr(o)==Le}function $o(o,l,h,y,A){return o===l?!0:o==null||l==null||!ur(o)&&!ur(l)?o!==o&&l!==l:AI(o,l,h,y,$o,A)}function AI(o,l,h,y,A,I){var P=tt(o),F=tt(l),z=P?Dt:Gr(o),le=F?Dt:Gr(l);z=z==fe?X:z,le=le==fe?X:le;var ce=z==X,ge=le==X,Se=z==le;if(Se&&va(o)){if(!va(l))return!1;P=!0,ce=!1}if(Se&&!ce)return I||(I=new ei),P||Ks(o)?Cy(o,l,h,y,A,I):JI(o,l,z,h,y,A,I);if(!(h&g)){var Ue=ce&&Gt.call(o,"__wrapped__"),Ye=ge&&Gt.call(l,"__wrapped__");if(Ue||Ye){var ct=Ue?o.value():o,je=Ye?l.value():l;return I||(I=new ei),A(ct,je,h,y,I)}}return Se?(I||(I=new ei),QI(o,l,h,y,A,I)):!1}function wI(o){return ur(o)&&Gr(o)==W}function eh(o,l,h,y){var A=h.length,I=A,P=!y;if(o==null)return!I;for(o=Vt(o);A--;){var F=h[A];if(P&&F[2]?F[1]!==o[F[0]]:!(F[0]in o))return!1}for(;++A<I;){F=h[A];var z=F[0],le=o[z],ce=F[1];if(P&&F[2]){if(le===e&&!(z in o))return!1}else{var ge=new ei;if(y)var Se=y(le,ce,z,o,l,ge);if(!(Se===e?$o(ce,le,g|v,y,ge):Se))return!1}}return!0}function Vm(o){if(!sr(o)||ak(o))return!1;var l=Vi(o)?w2:hx;return l.test(Qa(o))}function bI(o){return ur(o)&&Wr(o)==re}function SI(o){return ur(o)&&Gr(o)==Z}function TI(o){return ur(o)&&nc(o.length)&&!!Zt[Wr(o)]}function Hm(o){return typeof o=="function"?o:o==null?cn:typeof o=="object"?tt(o)?Wm(o[0],o[1]):jm(o):dv(o)}function th(o){if(!ru(o))return k2(o);var l=[];for(var h in Vt(o))Gt.call(o,h)&&h!="constructor"&&l.push(h);return l}function xI(o){if(!sr(o))return lk(o);var l=ru(o),h=[];for(var y in o)y=="constructor"&&(l||!Gt.call(o,y))||h.push(y);return h}function rh(o,l){return o<l}function Ym(o,l){var h=-1,y=un(o)?ne(o.length):[];return pa(o,function(A,I,P){y[++h]=l(A,I,P)}),y}function jm(o){var l=yh(o);return l.length==1&&l[0][2]?Ty(l[0][0],l[0][1]):function(h){return h===o||eh(h,o,l)}}function Wm(o,l){return _h(o)&&Sy(l)?Ty(pi(o),l):function(h){var y=kh(h,o);return y===e&&y===l?Bh(h,o):$o(l,y,g|v)}}function Gl(o,l,h,y,A){o!==l&&Qd(l,function(I,P){if(A||(A=new ei),sr(I))II(o,l,P,h,Gl,y,A);else{var F=y?y(Ch(o,P),I,P+"",o,l,A):e;F===e&&(F=I),zd(o,P,F)}},ln)}function II(o,l,h,y,A,I,P){var F=Ch(o,h),z=Ch(l,h),le=P.get(z);if(le){zd(o,h,le);return}var ce=I?I(F,z,h+"",o,l,P):e,ge=ce===e;if(ge){var Se=tt(z),Ue=!Se&&va(z),Ye=!Se&&!Ue&&Ks(z);ce=z,Se||Ue||Ye?tt(F)?ce=F:cr(F)?ce=on(F):Ue?(ge=!1,ce=ay(z,!0)):Ye?(ge=!1,ce=sy(z,!0)):ce=[]:iu(z)||Xa(z)?(ce=F,Xa(F)?ce=rv(F):(!sr(F)||Vi(F))&&(ce=by(z))):ge=!1}ge&&(P.set(z,ce),A(ce,z,y,I,P),P.delete(z)),zd(o,h,ce)}function zm(o,l){var h=o.length;if(!!h)return l+=l<0?h:0,Ki(l,h)?o[l]:e}function Jm(o,l,h){l.length?l=nr(l,function(I){return tt(I)?function(P){return za(P,I.length===1?I[0]:I)}:I}):l=[cn];var y=-1;l=nr(l,yn(Ve()));var A=Ym(o,function(I,P,F){var z=nr(l,function(le){return le(I)});return{criteria:z,index:++y,value:I}});return t2(A,function(I,P){return GI(I,P,h)})}function kI(o,l){return Qm(o,l,function(h,y){return Bh(o,y)})}function Qm(o,l,h){for(var y=-1,A=l.length,I={};++y<A;){var P=l[y],F=za(o,P);h(F,P)&&eu(I,ma(P,o),F)}return I}function BI(o){return function(l){return za(l,o)}}function nh(o,l,h,y){var A=y?e2:Ns,I=-1,P=l.length,F=o;for(o===l&&(l=on(l)),h&&(F=nr(o,yn(h)));++I<P;)for(var z=0,le=l[I],ce=h?h(le):le;(z=A(F,ce,z,y))>-1;)F!==o&&Rl.call(F,z,1),Rl.call(o,z,1);return o}function Xm(o,l){for(var h=o?l.length:0,y=h-1;h--;){var A=l[h];if(h==y||A!==I){var I=A;Ki(A)?Rl.call(o,A,1):oh(o,A)}}return o}function ih(o,l){return o+Ll(Rm()*(l-o+1))}function RI(o,l,h,y){for(var A=-1,I=Cr(Dl((l-o)/(h||1)),0),P=ne(I);I--;)P[y?I:++A]=o,o+=h;return P}function ah(o,l){var h="";if(!o||l<1||l>Pe)return h;do l%2&&(h+=o),l=Ll(l/2),l&&(o+=o);while(l);return h}function ht(o,l){return Ah(xy(o,l,cn),o+"")}function NI(o){return Lm(Vs(o))}function DI(o,l){var h=Vs(o);return Xl(h,Wa(l,0,h.length))}function eu(o,l,h,y){if(!sr(o))return o;l=ma(l,o);for(var A=-1,I=l.length,P=I-1,F=o;F!=null&&++A<I;){var z=pi(l[A]),le=h;if(z==="__proto__"||z==="constructor"||z==="prototype")return o;if(A!=P){var ce=F[z];le=y?y(ce,z,F):e,le===e&&(le=sr(ce)?ce:Ki(l[A+1])?[]:{})}Qo(F,z,le),F=F[z]}return o}var Zm=Pl?function(o,l){return Pl.set(o,l),o}:cn,LI=Nl?function(o,l){return Nl(o,"toString",{configurable:!0,enumerable:!1,value:Nh(l),writable:!0})}:cn;function PI(o){return Xl(Vs(o))}function Ln(o,l,h){var y=-1,A=o.length;l<0&&(l=-l>A?0:A+l),h=h>A?A:h,h<0&&(h+=A),A=l>h?0:h-l>>>0,l>>>=0;for(var I=ne(A);++y<A;)I[y]=o[y+l];return I}function OI(o,l){var h;return pa(o,function(y,A,I){return h=l(y,A,I),!h}),!!h}function Kl(o,l,h){var y=0,A=o==null?y:o.length;if(typeof l=="number"&&l===l&&A<=At){for(;y<A;){var I=y+A>>>1,P=o[I];P!==null&&!_n(P)&&(h?P<=l:P<l)?y=I+1:A=I}return A}return sh(o,l,cn,h)}function sh(o,l,h,y){var A=0,I=o==null?0:o.length;if(I===0)return 0;l=h(l);for(var P=l!==l,F=l===null,z=_n(l),le=l===e;A<I;){var ce=Ll((A+I)/2),ge=h(o[ce]),Se=ge!==e,Ue=ge===null,Ye=ge===ge,ct=_n(ge);if(P)var je=y||Ye;else le?je=Ye&&(y||Se):F?je=Ye&&Se&&(y||!Ue):z?je=Ye&&Se&&!Ue&&(y||!ct):Ue||ct?je=!1:je=y?ge<=l:ge<l;je?A=ce+1:I=ce}return qr(I,Nt)}function $m(o,l){for(var h=-1,y=o.length,A=0,I=[];++h<y;){var P=o[h],F=l?l(P):P;if(!h||!ti(F,z)){var z=F;I[A++]=P===0?0:P}}return I}function ey(o){return typeof o=="number"?o:_n(o)?nt:+o}function vn(o){if(typeof o=="string")return o;if(tt(o))return nr(o,vn)+"";if(_n(o))return Nm?Nm.call(o):"";var l=o+"";return l=="0"&&1/o==-Ie?"-0":l}function ga(o,l,h){var y=-1,A=Cl,I=o.length,P=!0,F=[],z=F;if(h)P=!1,A=Pd;else if(I>=r){var le=l?null:WI(o);if(le)return wl(le);P=!1,A=Ho,z=new ja}else z=l?[]:F;e:for(;++y<I;){var ce=o[y],ge=l?l(ce):ce;if(ce=h||ce!==0?ce:0,P&&ge===ge){for(var Se=z.length;Se--;)if(z[Se]===ge)continue e;l&&z.push(ge),F.push(ce)}else A(z,ge,h)||(z!==F&&z.push(ge),F.push(ce))}return F}function oh(o,l){return l=ma(l,o),o=Iy(o,l),o==null||delete o[pi(Pn(l))]}function ty(o,l,h,y){return eu(o,l,h(za(o,l)),y)}function Vl(o,l,h,y){for(var A=o.length,I=y?A:-1;(y?I--:++I<A)&&l(o[I],I,o););return h?Ln(o,y?0:I,y?I+1:A):Ln(o,y?I+1:0,y?A:I)}function ry(o,l){var h=o;return h instanceof _t&&(h=h.value()),Od(l,function(y,A){return A.func.apply(A.thisArg,ca([y],A.args))},h)}function uh(o,l,h){var y=o.length;if(y<2)return y?ga(o[0]):[];for(var A=-1,I=ne(y);++A<y;)for(var P=o[A],F=-1;++F<y;)F!=A&&(I[A]=Xo(I[A]||P,o[F],l,h));return ga(Dr(I,1),l,h)}function ny(o,l,h){for(var y=-1,A=o.length,I=l.length,P={};++y<A;){var F=y<I?l[y]:e;h(P,o[y],F)}return P}function lh(o){return cr(o)?o:[]}function ch(o){return typeof o=="function"?o:cn}function ma(o,l){return tt(o)?o:_h(o,l)?[o]:Ny(Ut(o))}var MI=ht;function ya(o,l,h){var y=o.length;return h=h===e?y:h,!l&&h>=y?o:Ln(o,l,h)}var iy=b2||function(o){return br.clearTimeout(o)};function ay(o,l){if(l)return o.slice();var h=o.length,y=Tm?Tm(h):new o.constructor(h);return o.copy(y),y}function fh(o){var l=new o.constructor(o.byteLength);return new kl(l).set(new kl(o)),l}function UI(o,l){var h=l?fh(o.buffer):o.buffer;return new o.constructor(h,o.byteOffset,o.byteLength)}function FI(o){var l=new o.constructor(o.source,Kg.exec(o));return l.lastIndex=o.lastIndex,l}function qI(o){return Jo?Vt(Jo.call(o)):{}}function sy(o,l){var h=l?fh(o.buffer):o.buffer;return new o.constructor(h,o.byteOffset,o.length)}function oy(o,l){if(o!==l){var h=o!==e,y=o===null,A=o===o,I=_n(o),P=l!==e,F=l===null,z=l===l,le=_n(l);if(!F&&!le&&!I&&o>l||I&&P&&z&&!F&&!le||y&&P&&z||!h&&z||!A)return 1;if(!y&&!I&&!le&&o<l||le&&h&&A&&!y&&!I||F&&h&&A||!P&&A||!z)return-1}return 0}function GI(o,l,h){for(var y=-1,A=o.criteria,I=l.criteria,P=A.length,F=h.length;++y<P;){var z=oy(A[y],I[y]);if(z){if(y>=F)return z;var le=h[y];return z*(le=="desc"?-1:1)}}return o.index-l.index}function uy(o,l,h,y){for(var A=-1,I=o.length,P=h.length,F=-1,z=l.length,le=Cr(I-P,0),ce=ne(z+le),ge=!y;++F<z;)ce[F]=l[F];for(;++A<P;)(ge||A<I)&&(ce[h[A]]=o[A]);for(;le--;)ce[F++]=o[A++];return ce}function ly(o,l,h,y){for(var A=-1,I=o.length,P=-1,F=h.length,z=-1,le=l.length,ce=Cr(I-F,0),ge=ne(ce+le),Se=!y;++A<ce;)ge[A]=o[A];for(var Ue=A;++z<le;)ge[Ue+z]=l[z];for(;++P<F;)(Se||A<I)&&(ge[Ue+h[P]]=o[A++]);return ge}function on(o,l){var h=-1,y=o.length;for(l||(l=ne(y));++h<y;)l[h]=o[h];return l}function hi(o,l,h,y){var A=!h;h||(h={});for(var I=-1,P=l.length;++I<P;){var F=l[I],z=y?y(h[F],o[F],F,h,o):e;z===e&&(z=o[F]),A?Fi(h,F,z):Qo(h,F,z)}return h}function KI(o,l){return hi(o,vh(o),l)}function VI(o,l){return hi(o,Ay(o),l)}function Hl(o,l){return function(h,y){var A=tt(h)?zx:fI,I=l?l():{};return A(h,o,Ve(y,2),I)}}function Fs(o){return ht(function(l,h){var y=-1,A=h.length,I=A>1?h[A-1]:e,P=A>2?h[2]:e;for(I=o.length>3&&typeof I=="function"?(A--,I):e,P&&zr(h[0],h[1],P)&&(I=A<3?e:I,A=1),l=Vt(l);++y<A;){var F=h[y];F&&o(l,F,y,I)}return l})}function cy(o,l){return function(h,y){if(h==null)return h;if(!un(h))return o(h,y);for(var A=h.length,I=l?A:-1,P=Vt(h);(l?I--:++I<A)&&y(P[I],I,P)!==!1;);return h}}function fy(o){return function(l,h,y){for(var A=-1,I=Vt(l),P=y(l),F=P.length;F--;){var z=P[o?F:++A];if(h(I[z],z,I)===!1)break}return l}}function HI(o,l,h){var y=l&m,A=tu(o);function I(){var P=this&&this!==br&&this instanceof I?A:o;return P.apply(y?h:this,arguments)}return I}function dy(o){return function(l){l=Ut(l);var h=Ds(l)?$n(l):e,y=h?h[0]:l.charAt(0),A=h?ya(h,1).join(""):l.slice(1);return y[o]()+A}}function qs(o){return function(l){return Od(cv(lv(l).replace(Lx,"")),o,"")}}function tu(o){return function(){var l=arguments;switch(l.length){case 0:return new o;case 1:return new o(l[0]);case 2:return new o(l[0],l[1]);case 3:return new o(l[0],l[1],l[2]);case 4:return new o(l[0],l[1],l[2],l[3]);case 5:return new o(l[0],l[1],l[2],l[3],l[4]);case 6:return new o(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new o(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var h=Us(o.prototype),y=o.apply(h,l);return sr(y)?y:h}}function YI(o,l,h){var y=tu(o);function A(){for(var I=arguments.length,P=ne(I),F=I,z=Gs(A);F--;)P[F]=arguments[F];var le=I<3&&P[0]!==z&&P[I-1]!==z?[]:fa(P,z);if(I-=le.length,I<h)return yy(o,l,Yl,A.placeholder,e,P,le,e,e,h-I);var ce=this&&this!==br&&this instanceof A?y:o;return mn(ce,this,P)}return A}function hy(o){return function(l,h,y){var A=Vt(l);if(!un(l)){var I=Ve(h,3);l=Sr(l),h=function(F){return I(A[F],F,A)}}var P=o(l,h,y);return P>-1?A[I?l[P]:P]:e}}function py(o){return Gi(function(l){var h=l.length,y=h,A=Nn.prototype.thru;for(o&&l.reverse();y--;){var I=l[y];if(typeof I!="function")throw new Rn(i);if(A&&!P&&Jl(I)=="wrapper")var P=new Nn([],!0)}for(y=P?y:h;++y<h;){I=l[y];var F=Jl(I),z=F=="wrapper"?mh(I):e;z&&Eh(z[0])&&z[1]==(L|C|R|O)&&!z[4].length&&z[9]==1?P=P[Jl(z[0])].apply(P,z[3]):P=I.length==1&&Eh(I)?P[F]():P.thru(I)}return function(){var le=arguments,ce=le[0];if(P&&le.length==1&&tt(ce))return P.plant(ce).value();for(var ge=0,Se=h?l[ge].apply(this,le):ce;++ge<h;)Se=l[ge].call(this,Se);return Se}})}function Yl(o,l,h,y,A,I,P,F,z,le){var ce=l&L,ge=l&m,Se=l&E,Ue=l&(C|B),Ye=l&ae,ct=Se?e:tu(o);function je(){for(var gt=arguments.length,wt=ne(gt),En=gt;En--;)wt[En]=arguments[En];if(Ue)var Jr=Gs(je),Cn=n2(wt,Jr);if(y&&(wt=uy(wt,y,A,Ue)),I&&(wt=ly(wt,I,P,Ue)),gt-=Cn,Ue&&gt<le){var fr=fa(wt,Jr);return yy(o,l,Yl,je.placeholder,h,wt,fr,F,z,le-gt)}var ri=ge?h:this,Yi=Se?ri[o]:o;return gt=wt.length,F?wt=fk(wt,F):Ye&&gt>1&&wt.reverse(),ce&&z<gt&&(wt.length=z),this&&this!==br&&this instanceof je&&(Yi=ct||tu(Yi)),Yi.apply(ri,wt)}return je}function gy(o,l){return function(h,y){return _I(h,o,l(y),{})}}function jl(o,l){return function(h,y){var A;if(h===e&&y===e)return l;if(h!==e&&(A=h),y!==e){if(A===e)return y;typeof h=="string"||typeof y=="string"?(h=vn(h),y=vn(y)):(h=ey(h),y=ey(y)),A=o(h,y)}return A}}function dh(o){return Gi(function(l){return l=nr(l,yn(Ve())),ht(function(h){var y=this;return o(l,function(A){return mn(A,y,h)})})})}function Wl(o,l){l=l===e?" ":vn(l);var h=l.length;if(h<2)return h?ah(l,o):l;var y=ah(l,Dl(o/Ls(l)));return Ds(l)?ya($n(y),0,o).join(""):y.slice(0,o)}function jI(o,l,h,y){var A=l&m,I=tu(o);function P(){for(var F=-1,z=arguments.length,le=-1,ce=y.length,ge=ne(ce+z),Se=this&&this!==br&&this instanceof P?I:o;++le<ce;)ge[le]=y[le];for(;z--;)ge[le++]=arguments[++F];return mn(Se,A?h:this,ge)}return P}function my(o){return function(l,h,y){return y&&typeof y!="number"&&zr(l,h,y)&&(h=y=e),l=Hi(l),h===e?(h=l,l=0):h=Hi(h),y=y===e?l<h?1:-1:Hi(y),RI(l,h,y,o)}}function zl(o){return function(l,h){return typeof l=="string"&&typeof h=="string"||(l=On(l),h=On(h)),o(l,h)}}function yy(o,l,h,y,A,I,P,F,z,le){var ce=l&C,ge=ce?P:e,Se=ce?e:P,Ue=ce?I:e,Ye=ce?e:I;l|=ce?R:D,l&=~(ce?D:R),l&_||(l&=~(m|E));var ct=[o,l,A,Ue,ge,Ye,Se,F,z,le],je=h.apply(e,ct);return Eh(o)&&ky(je,ct),je.placeholder=y,By(je,o,l)}function hh(o){var l=Er[o];return function(h,y){if(h=On(h),y=y==null?0:qr(ot(y),292),y&&Bm(h)){var A=(Ut(h)+"e").split("e"),I=l(A[0]+"e"+(+A[1]+y));return A=(Ut(I)+"e").split("e"),+(A[0]+"e"+(+A[1]-y))}return l(h)}}var WI=Os&&1/wl(new Os([,-0]))[1]==Ie?function(o){return new Os(o)}:Ph;function vy(o){return function(l){var h=Gr(l);return h==W?Vd(l):h==Z?c2(l):r2(l,o(l))}}function qi(o,l,h,y,A,I,P,F){var z=l&E;if(!z&&typeof o!="function")throw new Rn(i);var le=y?y.length:0;if(le||(l&=~(R|D),y=A=e),P=P===e?P:Cr(ot(P),0),F=F===e?F:ot(F),le-=A?A.length:0,l&D){var ce=y,ge=A;y=A=e}var Se=z?e:mh(o),Ue=[o,l,h,y,A,ce,ge,I,P,F];if(Se&&uk(Ue,Se),o=Ue[0],l=Ue[1],h=Ue[2],y=Ue[3],A=Ue[4],F=Ue[9]=Ue[9]===e?z?0:o.length:Cr(Ue[9]-le,0),!F&&l&(C|B)&&(l&=~(C|B)),!l||l==m)var Ye=HI(o,l,h);else l==C||l==B?Ye=YI(o,l,F):(l==R||l==(m|R))&&!A.length?Ye=jI(o,l,h,y):Ye=Yl.apply(e,Ue);var ct=Se?Zm:ky;return By(ct(Ye,Ue),o,l)}function _y(o,l,h,y){return o===e||ti(o,Ps[h])&&!Gt.call(y,h)?l:o}function Ey(o,l,h,y,A,I){return sr(o)&&sr(l)&&(I.set(l,o),Gl(o,l,e,Ey,I),I.delete(l)),o}function zI(o){return iu(o)?e:o}function Cy(o,l,h,y,A,I){var P=h&g,F=o.length,z=l.length;if(F!=z&&!(P&&z>F))return!1;var le=I.get(o),ce=I.get(l);if(le&&ce)return le==l&&ce==o;var ge=-1,Se=!0,Ue=h&v?new ja:e;for(I.set(o,l),I.set(l,o);++ge<F;){var Ye=o[ge],ct=l[ge];if(y)var je=P?y(ct,Ye,ge,l,o,I):y(Ye,ct,ge,o,l,I);if(je!==e){if(je)continue;Se=!1;break}if(Ue){if(!Md(l,function(gt,wt){if(!Ho(Ue,wt)&&(Ye===gt||A(Ye,gt,h,y,I)))return Ue.push(wt)})){Se=!1;break}}else if(!(Ye===ct||A(Ye,ct,h,y,I))){Se=!1;break}}return I.delete(o),I.delete(l),Se}function JI(o,l,h,y,A,I,P){switch(h){case lt:if(o.byteLength!=l.byteLength||o.byteOffset!=l.byteOffset)return!1;o=o.buffer,l=l.buffer;case Xt:return!(o.byteLength!=l.byteLength||!I(new kl(o),new kl(l)));case Re:case Le:case G:return ti(+o,+l);case x:return o.name==l.name&&o.message==l.message;case re:case de:return o==l+"";case W:var F=Vd;case Z:var z=y&g;if(F||(F=wl),o.size!=l.size&&!z)return!1;var le=P.get(o);if(le)return le==l;y|=v,P.set(o,l);var ce=Cy(F(o),F(l),y,A,I,P);return P.delete(o),ce;case Me:if(Jo)return Jo.call(o)==Jo.call(l)}return!1}function QI(o,l,h,y,A,I){var P=h&g,F=ph(o),z=F.length,le=ph(l),ce=le.length;if(z!=ce&&!P)return!1;for(var ge=z;ge--;){var Se=F[ge];if(!(P?Se in l:Gt.call(l,Se)))return!1}var Ue=I.get(o),Ye=I.get(l);if(Ue&&Ye)return Ue==l&&Ye==o;var ct=!0;I.set(o,l),I.set(l,o);for(var je=P;++ge<z;){Se=F[ge];var gt=o[Se],wt=l[Se];if(y)var En=P?y(wt,gt,Se,l,o,I):y(gt,wt,Se,o,l,I);if(!(En===e?gt===wt||A(gt,wt,h,y,I):En)){ct=!1;break}je||(je=Se=="constructor")}if(ct&&!je){var Jr=o.constructor,Cn=l.constructor;Jr!=Cn&&"constructor"in o&&"constructor"in l&&!(typeof Jr=="function"&&Jr instanceof Jr&&typeof Cn=="function"&&Cn instanceof Cn)&&(ct=!1)}return I.delete(o),I.delete(l),ct}function Gi(o){return Ah(xy(o,e,Oy),o+"")}function ph(o){return Gm(o,Sr,vh)}function gh(o){return Gm(o,ln,Ay)}var mh=Pl?function(o){return Pl.get(o)}:Ph;function Jl(o){for(var l=o.name+"",h=Ms[l],y=Gt.call(Ms,l)?h.length:0;y--;){var A=h[y],I=A.func;if(I==null||I==o)return A.name}return l}function Gs(o){var l=Gt.call(T,"placeholder")?T:o;return l.placeholder}function Ve(){var o=T.iteratee||Dh;return o=o===Dh?Hm:o,arguments.length?o(arguments[0],arguments[1]):o}function Ql(o,l){var h=o.__data__;return ik(l)?h[typeof l=="string"?"string":"hash"]:h.map}function yh(o){for(var l=Sr(o),h=l.length;h--;){var y=l[h],A=o[y];l[h]=[y,A,Sy(A)]}return l}function Ja(o,l){var h=o2(o,l);return Vm(h)?h:e}function XI(o){var l=Gt.call(o,Ha),h=o[Ha];try{o[Ha]=e;var y=!0}catch(I){}var A=xl.call(o);return y&&(l?o[Ha]=h:delete o[Ha]),A}var vh=Yd?function(o){return o==null?[]:(o=Vt(o),la(Yd(o),function(l){return Im.call(o,l)}))}:Oh,Ay=Yd?function(o){for(var l=[];o;)ca(l,vh(o)),o=Bl(o);return l}:Oh,Gr=Wr;(jd&&Gr(new jd(new ArrayBuffer(1)))!=lt||jo&&Gr(new jo)!=W||Wd&&Gr(Wd.resolve())!=V||Os&&Gr(new Os)!=Z||Wo&&Gr(new Wo)!=pt)&&(Gr=function(o){var l=Wr(o),h=l==X?o.constructor:e,y=h?Qa(h):"";if(y)switch(y){case D2:return lt;case L2:return W;case P2:return V;case O2:return Z;case M2:return pt}return l});function ZI(o,l,h){for(var y=-1,A=h.length;++y<A;){var I=h[y],P=I.size;switch(I.type){case"drop":o+=P;break;case"dropRight":l-=P;break;case"take":l=qr(l,o+P);break;case"takeRight":o=Cr(o,l-P);break}}return{start:o,end:l}}function $I(o){var l=o.match(ax);return l?l[1].split(sx):[]}function wy(o,l,h){l=ma(l,o);for(var y=-1,A=l.length,I=!1;++y<A;){var P=pi(l[y]);if(!(I=o!=null&&h(o,P)))break;o=o[P]}return I||++y!=A?I:(A=o==null?0:o.length,!!A&&nc(A)&&Ki(P,A)&&(tt(o)||Xa(o)))}function ek(o){var l=o.length,h=new o.constructor(l);return l&&typeof o[0]=="string"&&Gt.call(o,"index")&&(h.index=o.index,h.input=o.input),h}function by(o){return typeof o.constructor=="function"&&!ru(o)?Us(Bl(o)):{}}function tk(o,l,h){var y=o.constructor;switch(l){case Xt:return fh(o);case Re:case Le:return new y(+o);case lt:return UI(o,h);case Lt:case gr:case ua:case Ga:case Ka:case sn:case Oi:case Fr:case _r:return sy(o,h);case W:return new y;case G:case de:return new y(o);case re:return FI(o);case Z:return new y;case Me:return qI(o)}}function rk(o,l){var h=l.length;if(!h)return o;var y=h-1;return l[y]=(h>1?"& ":"")+l[y],l=l.join(h>2?", ":" "),o.replace(ix,`{
/* [wrapped with `+l+`] */
`)}function nk(o){return tt(o)||Xa(o)||!!(km&&o&&o[km])}function Ki(o,l){var h=typeof o;return l=l==null?Pe:l,!!l&&(h=="number"||h!="symbol"&&gx.test(o))&&o>-1&&o%1==0&&o<l}function zr(o,l,h){if(!sr(h))return!1;var y=typeof l;return(y=="number"?un(h)&&Ki(l,h.length):y=="string"&&l in h)?ti(h[l],o):!1}function _h(o,l){if(tt(o))return!1;var h=typeof o;return h=="number"||h=="symbol"||h=="boolean"||o==null||_n(o)?!0:ex.test(o)||!$T.test(o)||l!=null&&o in Vt(l)}function ik(o){var l=typeof o;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?o!=="__proto__":o===null}function Eh(o){var l=Jl(o),h=T[l];if(typeof h!="function"||!(l in _t.prototype))return!1;if(o===h)return!0;var y=mh(h);return!!y&&o===y[0]}function ak(o){return!!Sm&&Sm in o}var sk=Sl?Vi:Mh;function ru(o){var l=o&&o.constructor,h=typeof l=="function"&&l.prototype||Ps;return o===h}function Sy(o){return o===o&&!sr(o)}function Ty(o,l){return function(h){return h==null?!1:h[o]===l&&(l!==e||o in Vt(h))}}function ok(o){var l=tc(o,function(y){return h.size===u&&h.clear(),y}),h=l.cache;return l}function uk(o,l){var h=o[1],y=l[1],A=h|y,I=A<(m|E|L),P=y==L&&h==C||y==L&&h==O&&o[7].length<=l[8]||y==(L|O)&&l[7].length<=l[8]&&h==C;if(!(I||P))return o;y&m&&(o[2]=l[2],A|=h&m?0:_);var F=l[3];if(F){var z=o[3];o[3]=z?uy(z,F,l[4]):F,o[4]=z?fa(o[3],c):l[4]}return F=l[5],F&&(z=o[5],o[5]=z?ly(z,F,l[6]):F,o[6]=z?fa(o[5],c):l[6]),F=l[7],F&&(o[7]=F),y&L&&(o[8]=o[8]==null?l[8]:qr(o[8],l[8])),o[9]==null&&(o[9]=l[9]),o[0]=l[0],o[1]=A,o}function lk(o){var l=[];if(o!=null)for(var h in Vt(o))l.push(h);return l}function ck(o){return xl.call(o)}function xy(o,l,h){return l=Cr(l===e?o.length-1:l,0),function(){for(var y=arguments,A=-1,I=Cr(y.length-l,0),P=ne(I);++A<I;)P[A]=y[l+A];A=-1;for(var F=ne(l+1);++A<l;)F[A]=y[A];return F[l]=h(P),mn(o,this,F)}}function Iy(o,l){return l.length<2?o:za(o,Ln(l,0,-1))}function fk(o,l){for(var h=o.length,y=qr(l.length,h),A=on(o);y--;){var I=l[y];o[y]=Ki(I,h)?A[I]:e}return o}function Ch(o,l){if(!(l==="constructor"&&typeof o[l]=="function")&&l!="__proto__")return o[l]}var ky=Ry(Zm),nu=T2||function(o,l){return br.setTimeout(o,l)},Ah=Ry(LI);function By(o,l,h){var y=l+"";return Ah(o,rk(y,dk($I(y),h)))}function Ry(o){var l=0,h=0;return function(){var y=B2(),A=me-(y-h);if(h=y,A>0){if(++l>=ye)return arguments[0]}else l=0;return o.apply(e,arguments)}}function Xl(o,l){var h=-1,y=o.length,A=y-1;for(l=l===e?y:l;++h<l;){var I=ih(h,A),P=o[I];o[I]=o[h],o[h]=P}return o.length=l,o}var Ny=ok(function(o){var l=[];return o.charCodeAt(0)===46&&l.push(""),o.replace(tx,function(h,y,A,I){l.push(A?I.replace(lx,"$1"):y||h)}),l});function pi(o){if(typeof o=="string"||_n(o))return o;var l=o+"";return l=="0"&&1/o==-Ie?"-0":l}function Qa(o){if(o!=null){try{return Tl.call(o)}catch(l){}try{return o+""}catch(l){}}return""}function dk(o,l){return Bn(it,function(h){var y="_."+h[0];l&h[1]&&!Cl(o,y)&&o.push(y)}),o.sort()}function Dy(o){if(o instanceof _t)return o.clone();var l=new Nn(o.__wrapped__,o.__chain__);return l.__actions__=on(o.__actions__),l.__index__=o.__index__,l.__values__=o.__values__,l}function hk(o,l,h){(h?zr(o,l,h):l===e)?l=1:l=Cr(ot(l),0);var y=o==null?0:o.length;if(!y||l<1)return[];for(var A=0,I=0,P=ne(Dl(y/l));A<y;)P[I++]=Ln(o,A,A+=l);return P}function pk(o){for(var l=-1,h=o==null?0:o.length,y=0,A=[];++l<h;){var I=o[l];I&&(A[y++]=I)}return A}function gk(){var o=arguments.length;if(!o)return[];for(var l=ne(o-1),h=arguments[0],y=o;y--;)l[y-1]=arguments[y];return ca(tt(h)?on(h):[h],Dr(l,1))}var mk=ht(function(o,l){return cr(o)?Xo(o,Dr(l,1,cr,!0)):[]}),yk=ht(function(o,l){var h=Pn(l);return cr(h)&&(h=e),cr(o)?Xo(o,Dr(l,1,cr,!0),Ve(h,2)):[]}),vk=ht(function(o,l){var h=Pn(l);return cr(h)&&(h=e),cr(o)?Xo(o,Dr(l,1,cr,!0),e,h):[]});function _k(o,l,h){var y=o==null?0:o.length;return y?(l=h||l===e?1:ot(l),Ln(o,l<0?0:l,y)):[]}function Ek(o,l,h){var y=o==null?0:o.length;return y?(l=h||l===e?1:ot(l),l=y-l,Ln(o,0,l<0?0:l)):[]}function Ck(o,l){return o&&o.length?Vl(o,Ve(l,3),!0,!0):[]}function Ak(o,l){return o&&o.length?Vl(o,Ve(l,3),!0):[]}function wk(o,l,h,y){var A=o==null?0:o.length;return A?(h&&typeof h!="number"&&zr(o,l,h)&&(h=0,y=A),gI(o,l,h,y)):[]}function Ly(o,l,h){var y=o==null?0:o.length;if(!y)return-1;var A=h==null?0:ot(h);return A<0&&(A=Cr(y+A,0)),Al(o,Ve(l,3),A)}function Py(o,l,h){var y=o==null?0:o.length;if(!y)return-1;var A=y-1;return h!==e&&(A=ot(h),A=h<0?Cr(y+A,0):qr(A,y-1)),Al(o,Ve(l,3),A,!0)}function Oy(o){var l=o==null?0:o.length;return l?Dr(o,1):[]}function bk(o){var l=o==null?0:o.length;return l?Dr(o,Ie):[]}function Sk(o,l){var h=o==null?0:o.length;return h?(l=l===e?1:ot(l),Dr(o,l)):[]}function Tk(o){for(var l=-1,h=o==null?0:o.length,y={};++l<h;){var A=o[l];y[A[0]]=A[1]}return y}function My(o){return o&&o.length?o[0]:e}function xk(o,l,h){var y=o==null?0:o.length;if(!y)return-1;var A=h==null?0:ot(h);return A<0&&(A=Cr(y+A,0)),Ns(o,l,A)}function Ik(o){var l=o==null?0:o.length;return l?Ln(o,0,-1):[]}var kk=ht(function(o){var l=nr(o,lh);return l.length&&l[0]===o[0]?$d(l):[]}),Bk=ht(function(o){var l=Pn(o),h=nr(o,lh);return l===Pn(h)?l=e:h.pop(),h.length&&h[0]===o[0]?$d(h,Ve(l,2)):[]}),Rk=ht(function(o){var l=Pn(o),h=nr(o,lh);return l=typeof l=="function"?l:e,l&&h.pop(),h.length&&h[0]===o[0]?$d(h,e,l):[]});function Nk(o,l){return o==null?"":I2.call(o,l)}function Pn(o){var l=o==null?0:o.length;return l?o[l-1]:e}function Dk(o,l,h){var y=o==null?0:o.length;if(!y)return-1;var A=y;return h!==e&&(A=ot(h),A=A<0?Cr(y+A,0):qr(A,y-1)),l===l?d2(o,l,A):Al(o,ym,A,!0)}function Lk(o,l){return o&&o.length?zm(o,ot(l)):e}var Pk=ht(Uy);function Uy(o,l){return o&&o.length&&l&&l.length?nh(o,l):o}function Ok(o,l,h){return o&&o.length&&l&&l.length?nh(o,l,Ve(h,2)):o}function Mk(o,l,h){return o&&o.length&&l&&l.length?nh(o,l,e,h):o}var Uk=Gi(function(o,l){var h=o==null?0:o.length,y=Jd(o,l);return Xm(o,nr(l,function(A){return Ki(A,h)?+A:A}).sort(oy)),y});function Fk(o,l){var h=[];if(!(o&&o.length))return h;var y=-1,A=[],I=o.length;for(l=Ve(l,3);++y<I;){var P=o[y];l(P,y,o)&&(h.push(P),A.push(y))}return Xm(o,A),h}function wh(o){return o==null?o:N2.call(o)}function qk(o,l,h){var y=o==null?0:o.length;return y?(h&&typeof h!="number"&&zr(o,l,h)?(l=0,h=y):(l=l==null?0:ot(l),h=h===e?y:ot(h)),Ln(o,l,h)):[]}function Gk(o,l){return Kl(o,l)}function Kk(o,l,h){return sh(o,l,Ve(h,2))}function Vk(o,l){var h=o==null?0:o.length;if(h){var y=Kl(o,l);if(y<h&&ti(o[y],l))return y}return-1}function Hk(o,l){return Kl(o,l,!0)}function Yk(o,l,h){return sh(o,l,Ve(h,2),!0)}function jk(o,l){var h=o==null?0:o.length;if(h){var y=Kl(o,l,!0)-1;if(ti(o[y],l))return y}return-1}function Wk(o){return o&&o.length?$m(o):[]}function zk(o,l){return o&&o.length?$m(o,Ve(l,2)):[]}function Jk(o){var l=o==null?0:o.length;return l?Ln(o,1,l):[]}function Qk(o,l,h){return o&&o.length?(l=h||l===e?1:ot(l),Ln(o,0,l<0?0:l)):[]}function Xk(o,l,h){var y=o==null?0:o.length;return y?(l=h||l===e?1:ot(l),l=y-l,Ln(o,l<0?0:l,y)):[]}function Zk(o,l){return o&&o.length?Vl(o,Ve(l,3),!1,!0):[]}function $k(o,l){return o&&o.length?Vl(o,Ve(l,3)):[]}var eB=ht(function(o){return ga(Dr(o,1,cr,!0))}),tB=ht(function(o){var l=Pn(o);return cr(l)&&(l=e),ga(Dr(o,1,cr,!0),Ve(l,2))}),rB=ht(function(o){var l=Pn(o);return l=typeof l=="function"?l:e,ga(Dr(o,1,cr,!0),e,l)});function nB(o){return o&&o.length?ga(o):[]}function iB(o,l){return o&&o.length?ga(o,Ve(l,2)):[]}function aB(o,l){return l=typeof l=="function"?l:e,o&&o.length?ga(o,e,l):[]}function bh(o){if(!(o&&o.length))return[];var l=0;return o=la(o,function(h){if(cr(h))return l=Cr(h.length,l),!0}),Gd(l,function(h){return nr(o,Ud(h))})}function Fy(o,l){if(!(o&&o.length))return[];var h=bh(o);return l==null?h:nr(h,function(y){return mn(l,e,y)})}var sB=ht(function(o,l){return cr(o)?Xo(o,l):[]}),oB=ht(function(o){return uh(la(o,cr))}),uB=ht(function(o){var l=Pn(o);return cr(l)&&(l=e),uh(la(o,cr),Ve(l,2))}),lB=ht(function(o){var l=Pn(o);return l=typeof l=="function"?l:e,uh(la(o,cr),e,l)}),cB=ht(bh);function fB(o,l){return ny(o||[],l||[],Qo)}function dB(o,l){return ny(o||[],l||[],eu)}var hB=ht(function(o){var l=o.length,h=l>1?o[l-1]:e;return h=typeof h=="function"?(o.pop(),h):e,Fy(o,h)});function qy(o){var l=T(o);return l.__chain__=!0,l}function pB(o,l){return l(o),o}function Zl(o,l){return l(o)}var gB=Gi(function(o){var l=o.length,h=l?o[0]:0,y=this.__wrapped__,A=function(I){return Jd(I,o)};return l>1||this.__actions__.length||!(y instanceof _t)||!Ki(h)?this.thru(A):(y=y.slice(h,+h+(l?1:0)),y.__actions__.push({func:Zl,args:[A],thisArg:e}),new Nn(y,this.__chain__).thru(function(I){return l&&!I.length&&I.push(e),I}))});function mB(){return qy(this)}function yB(){return new Nn(this.value(),this.__chain__)}function vB(){this.__values__===e&&(this.__values__=ev(this.value()));var o=this.__index__>=this.__values__.length,l=o?e:this.__values__[this.__index__++];return{done:o,value:l}}function _B(){return this}function EB(o){for(var l,h=this;h instanceof Ml;){var y=Dy(h);y.__index__=0,y.__values__=e,l?A.__wrapped__=y:l=y;var A=y;h=h.__wrapped__}return A.__wrapped__=o,l}function CB(){var o=this.__wrapped__;if(o instanceof _t){var l=o;return this.__actions__.length&&(l=new _t(this)),l=l.reverse(),l.__actions__.push({func:Zl,args:[wh],thisArg:e}),new Nn(l,this.__chain__)}return this.thru(wh)}function AB(){return ry(this.__wrapped__,this.__actions__)}var wB=Hl(function(o,l,h){Gt.call(o,h)?++o[h]:Fi(o,h,1)});function bB(o,l,h){var y=tt(o)?gm:pI;return h&&zr(o,l,h)&&(l=e),y(o,Ve(l,3))}function SB(o,l){var h=tt(o)?la:Fm;return h(o,Ve(l,3))}var TB=hy(Ly),xB=hy(Py);function IB(o,l){return Dr($l(o,l),1)}function kB(o,l){return Dr($l(o,l),Ie)}function BB(o,l,h){return h=h===e?1:ot(h),Dr($l(o,l),h)}function Gy(o,l){var h=tt(o)?Bn:pa;return h(o,Ve(l,3))}function Ky(o,l){var h=tt(o)?Jx:Um;return h(o,Ve(l,3))}var RB=Hl(function(o,l,h){Gt.call(o,h)?o[h].push(l):Fi(o,h,[l])});function NB(o,l,h,y){o=un(o)?o:Vs(o),h=h&&!y?ot(h):0;var A=o.length;return h<0&&(h=Cr(A+h,0)),ic(o)?h<=A&&o.indexOf(l,h)>-1:!!A&&Ns(o,l,h)>-1}var DB=ht(function(o,l,h){var y=-1,A=typeof l=="function",I=un(o)?ne(o.length):[];return pa(o,function(P){I[++y]=A?mn(l,P,h):Zo(P,l,h)}),I}),LB=Hl(function(o,l,h){Fi(o,h,l)});function $l(o,l){var h=tt(o)?nr:Ym;return h(o,Ve(l,3))}function PB(o,l,h,y){return o==null?[]:(tt(l)||(l=l==null?[]:[l]),h=y?e:h,tt(h)||(h=h==null?[]:[h]),Jm(o,l,h))}var OB=Hl(function(o,l,h){o[h?0:1].push(l)},function(){return[[],[]]});function MB(o,l,h){var y=tt(o)?Od:_m,A=arguments.length<3;return y(o,Ve(l,4),h,A,pa)}function UB(o,l,h){var y=tt(o)?Qx:_m,A=arguments.length<3;return y(o,Ve(l,4),h,A,Um)}function FB(o,l){var h=tt(o)?la:Fm;return h(o,rc(Ve(l,3)))}function qB(o){var l=tt(o)?Lm:NI;return l(o)}function GB(o,l,h){(h?zr(o,l,h):l===e)?l=1:l=ot(l);var y=tt(o)?lI:DI;return y(o,l)}function KB(o){var l=tt(o)?cI:PI;return l(o)}function VB(o){if(o==null)return 0;if(un(o))return ic(o)?Ls(o):o.length;var l=Gr(o);return l==W||l==Z?o.size:th(o).length}function HB(o,l,h){var y=tt(o)?Md:OI;return h&&zr(o,l,h)&&(l=e),y(o,Ve(l,3))}var YB=ht(function(o,l){if(o==null)return[];var h=l.length;return h>1&&zr(o,l[0],l[1])?l=[]:h>2&&zr(l[0],l[1],l[2])&&(l=[l[0]]),Jm(o,Dr(l,1),[])}),ec=S2||function(){return br.Date.now()};function jB(o,l){if(typeof l!="function")throw new Rn(i);return o=ot(o),function(){if(--o<1)return l.apply(this,arguments)}}function Vy(o,l,h){return l=h?e:l,l=o&&l==null?o.length:l,qi(o,L,e,e,e,e,l)}function Hy(o,l){var h;if(typeof l!="function")throw new Rn(i);return o=ot(o),function(){return--o>0&&(h=l.apply(this,arguments)),o<=1&&(l=e),h}}var Sh=ht(function(o,l,h){var y=m;if(h.length){var A=fa(h,Gs(Sh));y|=R}return qi(o,y,l,h,A)}),Yy=ht(function(o,l,h){var y=m|E;if(h.length){var A=fa(h,Gs(Yy));y|=R}return qi(l,y,o,h,A)});function jy(o,l,h){l=h?e:l;var y=qi(o,C,e,e,e,e,e,l);return y.placeholder=jy.placeholder,y}function Wy(o,l,h){l=h?e:l;var y=qi(o,B,e,e,e,e,e,l);return y.placeholder=Wy.placeholder,y}function zy(o,l,h){var y,A,I,P,F,z,le=0,ce=!1,ge=!1,Se=!0;if(typeof o!="function")throw new Rn(i);l=On(l)||0,sr(h)&&(ce=!!h.leading,ge="maxWait"in h,I=ge?Cr(On(h.maxWait)||0,l):I,Se="trailing"in h?!!h.trailing:Se);function Ue(fr){var ri=y,Yi=A;return y=A=e,le=fr,P=o.apply(Yi,ri),P}function Ye(fr){return le=fr,F=nu(gt,l),ce?Ue(fr):P}function ct(fr){var ri=fr-z,Yi=fr-le,hv=l-ri;return ge?qr(hv,I-Yi):hv}function je(fr){var ri=fr-z,Yi=fr-le;return z===e||ri>=l||ri<0||ge&&Yi>=I}function gt(){var fr=ec();if(je(fr))return wt(fr);F=nu(gt,ct(fr))}function wt(fr){return F=e,Se&&y?Ue(fr):(y=A=e,P)}function En(){F!==e&&iy(F),le=0,y=z=A=F=e}function Jr(){return F===e?P:wt(ec())}function Cn(){var fr=ec(),ri=je(fr);if(y=arguments,A=this,z=fr,ri){if(F===e)return Ye(z);if(ge)return iy(F),F=nu(gt,l),Ue(z)}return F===e&&(F=nu(gt,l)),P}return Cn.cancel=En,Cn.flush=Jr,Cn}var WB=ht(function(o,l){return Mm(o,1,l)}),zB=ht(function(o,l,h){return Mm(o,On(l)||0,h)});function JB(o){return qi(o,ae)}function tc(o,l){if(typeof o!="function"||l!=null&&typeof l!="function")throw new Rn(i);var h=function(){var y=arguments,A=l?l.apply(this,y):y[0],I=h.cache;if(I.has(A))return I.get(A);var P=o.apply(this,y);return h.cache=I.set(A,P)||I,P};return h.cache=new(tc.Cache||Ui),h}tc.Cache=Ui;function rc(o){if(typeof o!="function")throw new Rn(i);return function(){var l=arguments;switch(l.length){case 0:return!o.call(this);case 1:return!o.call(this,l[0]);case 2:return!o.call(this,l[0],l[1]);case 3:return!o.call(this,l[0],l[1],l[2])}return!o.apply(this,l)}}function QB(o){return Hy(2,o)}var XB=MI(function(o,l){l=l.length==1&&tt(l[0])?nr(l[0],yn(Ve())):nr(Dr(l,1),yn(Ve()));var h=l.length;return ht(function(y){for(var A=-1,I=qr(y.length,h);++A<I;)y[A]=l[A].call(this,y[A]);return mn(o,this,y)})}),Th=ht(function(o,l){var h=fa(l,Gs(Th));return qi(o,R,e,l,h)}),Jy=ht(function(o,l){var h=fa(l,Gs(Jy));return qi(o,D,e,l,h)}),ZB=Gi(function(o,l){return qi(o,O,e,e,e,l)});function $B(o,l){if(typeof o!="function")throw new Rn(i);return l=l===e?l:ot(l),ht(o,l)}function eR(o,l){if(typeof o!="function")throw new Rn(i);return l=l==null?0:Cr(ot(l),0),ht(function(h){var y=h[l],A=ya(h,0,l);return y&&ca(A,y),mn(o,this,A)})}function tR(o,l,h){var y=!0,A=!0;if(typeof o!="function")throw new Rn(i);return sr(h)&&(y="leading"in h?!!h.leading:y,A="trailing"in h?!!h.trailing:A),zy(o,l,{leading:y,maxWait:l,trailing:A})}function rR(o){return Vy(o,1)}function nR(o,l){return Th(ch(l),o)}function iR(){if(!arguments.length)return[];var o=arguments[0];return tt(o)?o:[o]}function aR(o){return Dn(o,p)}function sR(o,l){return l=typeof l=="function"?l:e,Dn(o,p,l)}function oR(o){return Dn(o,f|p)}function uR(o,l){return l=typeof l=="function"?l:e,Dn(o,f|p,l)}function lR(o,l){return l==null||Om(o,l,Sr(l))}function ti(o,l){return o===l||o!==o&&l!==l}var cR=zl(Zd),fR=zl(function(o,l){return o>=l}),Xa=Km(function(){return arguments}())?Km:function(o){return ur(o)&&Gt.call(o,"callee")&&!Im.call(o,"callee")},tt=ne.isArray,dR=lm?yn(lm):EI;function un(o){return o!=null&&nc(o.length)&&!Vi(o)}function cr(o){return ur(o)&&un(o)}function hR(o){return o===!0||o===!1||ur(o)&&Wr(o)==Re}var va=x2||Mh,pR=cm?yn(cm):CI;function gR(o){return ur(o)&&o.nodeType===1&&!iu(o)}function mR(o){if(o==null)return!0;if(un(o)&&(tt(o)||typeof o=="string"||typeof o.splice=="function"||va(o)||Ks(o)||Xa(o)))return!o.length;var l=Gr(o);if(l==W||l==Z)return!o.size;if(ru(o))return!th(o).length;for(var h in o)if(Gt.call(o,h))return!1;return!0}function yR(o,l){return $o(o,l)}function vR(o,l,h){h=typeof h=="function"?h:e;var y=h?h(o,l):e;return y===e?$o(o,l,e,h):!!y}function xh(o){if(!ur(o))return!1;var l=Wr(o);return l==x||l==He||typeof o.message=="string"&&typeof o.name=="string"&&!iu(o)}function _R(o){return typeof o=="number"&&Bm(o)}function Vi(o){if(!sr(o))return!1;var l=Wr(o);return l==k||l==N||l==Tt||l==Q}function Qy(o){return typeof o=="number"&&o==ot(o)}function nc(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=Pe}function sr(o){var l=typeof o;return o!=null&&(l=="object"||l=="function")}function ur(o){return o!=null&&typeof o=="object"}var Xy=fm?yn(fm):wI;function ER(o,l){return o===l||eh(o,l,yh(l))}function CR(o,l,h){return h=typeof h=="function"?h:e,eh(o,l,yh(l),h)}function AR(o){return Zy(o)&&o!=+o}function wR(o){if(sk(o))throw new Ze(n);return Vm(o)}function bR(o){return o===null}function SR(o){return o==null}function Zy(o){return typeof o=="number"||ur(o)&&Wr(o)==G}function iu(o){if(!ur(o)||Wr(o)!=X)return!1;var l=Bl(o);if(l===null)return!0;var h=Gt.call(l,"constructor")&&l.constructor;return typeof h=="function"&&h instanceof h&&Tl.call(h)==C2}var Ih=dm?yn(dm):bI;function TR(o){return Qy(o)&&o>=-Pe&&o<=Pe}var $y=hm?yn(hm):SI;function ic(o){return typeof o=="string"||!tt(o)&&ur(o)&&Wr(o)==de}function _n(o){return typeof o=="symbol"||ur(o)&&Wr(o)==Me}var Ks=pm?yn(pm):TI;function xR(o){return o===e}function IR(o){return ur(o)&&Gr(o)==pt}function kR(o){return ur(o)&&Wr(o)==tr}var BR=zl(rh),RR=zl(function(o,l){return o<=l});function ev(o){if(!o)return[];if(un(o))return ic(o)?$n(o):on(o);if(Yo&&o[Yo])return l2(o[Yo]());var l=Gr(o),h=l==W?Vd:l==Z?wl:Vs;return h(o)}function Hi(o){if(!o)return o===0?o:0;if(o=On(o),o===Ie||o===-Ie){var l=o<0?-1:1;return l*_e}return o===o?o:0}function ot(o){var l=Hi(o),h=l%1;return l===l?h?l-h:l:0}function tv(o){return o?Wa(ot(o),0,Xe):0}function On(o){if(typeof o=="number")return o;if(_n(o))return nt;if(sr(o)){var l=typeof o.valueOf=="function"?o.valueOf():o;o=sr(l)?l+"":l}if(typeof o!="string")return o===0?o:+o;o=Em(o);var h=dx.test(o);return h||px.test(o)?jx(o.slice(2),h?2:8):fx.test(o)?nt:+o}function rv(o){return hi(o,ln(o))}function NR(o){return o?Wa(ot(o),-Pe,Pe):o===0?o:0}function Ut(o){return o==null?"":vn(o)}var DR=Fs(function(o,l){if(ru(l)||un(l)){hi(l,Sr(l),o);return}for(var h in l)Gt.call(l,h)&&Qo(o,h,l[h])}),nv=Fs(function(o,l){hi(l,ln(l),o)}),ac=Fs(function(o,l,h,y){hi(l,ln(l),o,y)}),LR=Fs(function(o,l,h,y){hi(l,Sr(l),o,y)}),PR=Gi(Jd);function OR(o,l){var h=Us(o);return l==null?h:Pm(h,l)}var MR=ht(function(o,l){o=Vt(o);var h=-1,y=l.length,A=y>2?l[2]:e;for(A&&zr(l[0],l[1],A)&&(y=1);++h<y;)for(var I=l[h],P=ln(I),F=-1,z=P.length;++F<z;){var le=P[F],ce=o[le];(ce===e||ti(ce,Ps[le])&&!Gt.call(o,le))&&(o[le]=I[le])}return o}),UR=ht(function(o){return o.push(e,Ey),mn(iv,e,o)});function FR(o,l){return mm(o,Ve(l,3),di)}function qR(o,l){return mm(o,Ve(l,3),Xd)}function GR(o,l){return o==null?o:Qd(o,Ve(l,3),ln)}function KR(o,l){return o==null?o:qm(o,Ve(l,3),ln)}function VR(o,l){return o&&di(o,Ve(l,3))}function HR(o,l){return o&&Xd(o,Ve(l,3))}function YR(o){return o==null?[]:ql(o,Sr(o))}function jR(o){return o==null?[]:ql(o,ln(o))}function kh(o,l,h){var y=o==null?e:za(o,l);return y===e?h:y}function WR(o,l){return o!=null&&wy(o,l,mI)}function Bh(o,l){return o!=null&&wy(o,l,yI)}var zR=gy(function(o,l,h){l!=null&&typeof l.toString!="function"&&(l=xl.call(l)),o[l]=h},Nh(cn)),JR=gy(function(o,l,h){l!=null&&typeof l.toString!="function"&&(l=xl.call(l)),Gt.call(o,l)?o[l].push(h):o[l]=[h]},Ve),QR=ht(Zo);function Sr(o){return un(o)?Dm(o):th(o)}function ln(o){return un(o)?Dm(o,!0):xI(o)}function XR(o,l){var h={};return l=Ve(l,3),di(o,function(y,A,I){Fi(h,l(y,A,I),y)}),h}function ZR(o,l){var h={};return l=Ve(l,3),di(o,function(y,A,I){Fi(h,A,l(y,A,I))}),h}var $R=Fs(function(o,l,h){Gl(o,l,h)}),iv=Fs(function(o,l,h,y){Gl(o,l,h,y)}),e3=Gi(function(o,l){var h={};if(o==null)return h;var y=!1;l=nr(l,function(I){return I=ma(I,o),y||(y=I.length>1),I}),hi(o,gh(o),h),y&&(h=Dn(h,f|d|p,zI));for(var A=l.length;A--;)oh(h,l[A]);return h});function t3(o,l){return av(o,rc(Ve(l)))}var r3=Gi(function(o,l){return o==null?{}:kI(o,l)});function av(o,l){if(o==null)return{};var h=nr(gh(o),function(y){return[y]});return l=Ve(l),Qm(o,h,function(y,A){return l(y,A[0])})}function n3(o,l,h){l=ma(l,o);var y=-1,A=l.length;for(A||(A=1,o=e);++y<A;){var I=o==null?e:o[pi(l[y])];I===e&&(y=A,I=h),o=Vi(I)?I.call(o):I}return o}function i3(o,l,h){return o==null?o:eu(o,l,h)}function a3(o,l,h,y){return y=typeof y=="function"?y:e,o==null?o:eu(o,l,h,y)}var sv=vy(Sr),ov=vy(ln);function s3(o,l,h){var y=tt(o),A=y||va(o)||Ks(o);if(l=Ve(l,4),h==null){var I=o&&o.constructor;A?h=y?new I:[]:sr(o)?h=Vi(I)?Us(Bl(o)):{}:h={}}return(A?Bn:di)(o,function(P,F,z){return l(h,P,F,z)}),h}function o3(o,l){return o==null?!0:oh(o,l)}function u3(o,l,h){return o==null?o:ty(o,l,ch(h))}function l3(o,l,h,y){return y=typeof y=="function"?y:e,o==null?o:ty(o,l,ch(h),y)}function Vs(o){return o==null?[]:Kd(o,Sr(o))}function c3(o){return o==null?[]:Kd(o,ln(o))}function f3(o,l,h){return h===e&&(h=l,l=e),h!==e&&(h=On(h),h=h===h?h:0),l!==e&&(l=On(l),l=l===l?l:0),Wa(On(o),l,h)}function d3(o,l,h){return l=Hi(l),h===e?(h=l,l=0):h=Hi(h),o=On(o),vI(o,l,h)}function h3(o,l,h){if(h&&typeof h!="boolean"&&zr(o,l,h)&&(l=h=e),h===e&&(typeof l=="boolean"?(h=l,l=e):typeof o=="boolean"&&(h=o,o=e)),o===e&&l===e?(o=0,l=1):(o=Hi(o),l===e?(l=o,o=0):l=Hi(l)),o>l){var y=o;o=l,l=y}if(h||o%1||l%1){var A=Rm();return qr(o+A*(l-o+Yx("1e-"+((A+"").length-1))),l)}return ih(o,l)}var p3=qs(function(o,l,h){return l=l.toLowerCase(),o+(h?uv(l):l)});function uv(o){return Rh(Ut(o).toLowerCase())}function lv(o){return o=Ut(o),o&&o.replace(mx,i2).replace(Px,"")}function g3(o,l,h){o=Ut(o),l=vn(l);var y=o.length;h=h===e?y:Wa(ot(h),0,y);var A=h;return h-=l.length,h>=0&&o.slice(h,A)==l}function m3(o){return o=Ut(o),o&&QT.test(o)?o.replace(qg,a2):o}function y3(o){return o=Ut(o),o&&rx.test(o)?o.replace(Td,"\\$&"):o}var v3=qs(function(o,l,h){return o+(h?"-":"")+l.toLowerCase()}),_3=qs(function(o,l,h){return o+(h?" ":"")+l.toLowerCase()}),E3=dy("toLowerCase");function C3(o,l,h){o=Ut(o),l=ot(l);var y=l?Ls(o):0;if(!l||y>=l)return o;var A=(l-y)/2;return Wl(Ll(A),h)+o+Wl(Dl(A),h)}function A3(o,l,h){o=Ut(o),l=ot(l);var y=l?Ls(o):0;return l&&y<l?o+Wl(l-y,h):o}function w3(o,l,h){o=Ut(o),l=ot(l);var y=l?Ls(o):0;return l&&y<l?Wl(l-y,h)+o:o}function b3(o,l,h){return h||l==null?l=0:l&&(l=+l),R2(Ut(o).replace(xd,""),l||0)}function S3(o,l,h){return(h?zr(o,l,h):l===e)?l=1:l=ot(l),ah(Ut(o),l)}function T3(){var o=arguments,l=Ut(o[0]);return o.length<3?l:l.replace(o[1],o[2])}var x3=qs(function(o,l,h){return o+(h?"_":"")+l.toLowerCase()});function I3(o,l,h){return h&&typeof h!="number"&&zr(o,l,h)&&(l=h=e),h=h===e?Xe:h>>>0,h?(o=Ut(o),o&&(typeof l=="string"||l!=null&&!Ih(l))&&(l=vn(l),!l&&Ds(o))?ya($n(o),0,h):o.split(l,h)):[]}var k3=qs(function(o,l,h){return o+(h?" ":"")+Rh(l)});function B3(o,l,h){return o=Ut(o),h=h==null?0:Wa(ot(h),0,o.length),l=vn(l),o.slice(h,h+l.length)==l}function R3(o,l,h){var y=T.templateSettings;h&&zr(o,l,h)&&(l=e),o=Ut(o),l=ac({},l,y,_y);var A=ac({},l.imports,y.imports,_y),I=Sr(A),P=Kd(A,I),F,z,le=0,ce=l.interpolate||vl,ge="__p += '",Se=Hd((l.escape||vl).source+"|"+ce.source+"|"+(ce===Gg?cx:vl).source+"|"+(l.evaluate||vl).source+"|$","g"),Ue="//# sourceURL="+(Gt.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qx+"]")+`
`;o.replace(Se,function(je,gt,wt,En,Jr,Cn){return wt||(wt=En),ge+=o.slice(le,Cn).replace(yx,s2),gt&&(F=!0,ge+=`' +
__e(`+gt+`) +
'`),Jr&&(z=!0,ge+=`';
`+Jr+`;
__p += '`),wt&&(ge+=`' +
((__t = (`+wt+`)) == null ? '' : __t) +
'`),le=Cn+je.length,je}),ge+=`';
`;var Ye=Gt.call(l,"variable")&&l.variable;if(!Ye)ge=`with (obj) {
`+ge+`
}
`;else if(ux.test(Ye))throw new Ze(a);ge=(z?ge.replace(rr,""):ge).replace(WT,"$1").replace(zT,"$1;"),ge="function("+(Ye||"obj")+`) {
`+(Ye?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(F?", __e = _.escape":"")+(z?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ge+`return __p
}`;var ct=fv(function(){return Mt(I,Ue+"return "+ge).apply(e,P)});if(ct.source=ge,xh(ct))throw ct;return ct}function N3(o){return Ut(o).toLowerCase()}function D3(o){return Ut(o).toUpperCase()}function L3(o,l,h){if(o=Ut(o),o&&(h||l===e))return Em(o);if(!o||!(l=vn(l)))return o;var y=$n(o),A=$n(l),I=Cm(y,A),P=Am(y,A)+1;return ya(y,I,P).join("")}function P3(o,l,h){if(o=Ut(o),o&&(h||l===e))return o.slice(0,bm(o)+1);if(!o||!(l=vn(l)))return o;var y=$n(o),A=Am(y,$n(l))+1;return ya(y,0,A).join("")}function O3(o,l,h){if(o=Ut(o),o&&(h||l===e))return o.replace(xd,"");if(!o||!(l=vn(l)))return o;var y=$n(o),A=Cm(y,$n(l));return ya(y,A).join("")}function M3(o,l){var h=j,y=Y;if(sr(l)){var A="separator"in l?l.separator:A;h="length"in l?ot(l.length):h,y="omission"in l?vn(l.omission):y}o=Ut(o);var I=o.length;if(Ds(o)){var P=$n(o);I=P.length}if(h>=I)return o;var F=h-Ls(y);if(F<1)return y;var z=P?ya(P,0,F).join(""):o.slice(0,F);if(A===e)return z+y;if(P&&(F+=z.length-F),Ih(A)){if(o.slice(F).search(A)){var le,ce=z;for(A.global||(A=Hd(A.source,Ut(Kg.exec(A))+"g")),A.lastIndex=0;le=A.exec(ce);)var ge=le.index;z=z.slice(0,ge===e?F:ge)}}else if(o.indexOf(vn(A),F)!=F){var Se=z.lastIndexOf(A);Se>-1&&(z=z.slice(0,Se))}return z+y}function U3(o){return o=Ut(o),o&&JT.test(o)?o.replace(Fg,h2):o}var F3=qs(function(o,l,h){return o+(h?" ":"")+l.toUpperCase()}),Rh=dy("toUpperCase");function cv(o,l,h){return o=Ut(o),l=h?e:l,l===e?u2(o)?m2(o):$x(o):o.match(l)||[]}var fv=ht(function(o,l){try{return mn(o,e,l)}catch(h){return xh(h)?h:new Ze(h)}}),q3=Gi(function(o,l){return Bn(l,function(h){h=pi(h),Fi(o,h,Sh(o[h],o))}),o});function G3(o){var l=o==null?0:o.length,h=Ve();return o=l?nr(o,function(y){if(typeof y[1]!="function")throw new Rn(i);return[h(y[0]),y[1]]}):[],ht(function(y){for(var A=-1;++A<l;){var I=o[A];if(mn(I[0],this,y))return mn(I[1],this,y)}})}function K3(o){return hI(Dn(o,f))}function Nh(o){return function(){return o}}function V3(o,l){return o==null||o!==o?l:o}var H3=py(),Y3=py(!0);function cn(o){return o}function Dh(o){return Hm(typeof o=="function"?o:Dn(o,f))}function j3(o){return jm(Dn(o,f))}function W3(o,l){return Wm(o,Dn(l,f))}var z3=ht(function(o,l){return function(h){return Zo(h,o,l)}}),J3=ht(function(o,l){return function(h){return Zo(o,h,l)}});function Lh(o,l,h){var y=Sr(l),A=ql(l,y);h==null&&!(sr(l)&&(A.length||!y.length))&&(h=l,l=o,o=this,A=ql(l,Sr(l)));var I=!(sr(h)&&"chain"in h)||!!h.chain,P=Vi(o);return Bn(A,function(F){var z=l[F];o[F]=z,P&&(o.prototype[F]=function(){var le=this.__chain__;if(I||le){var ce=o(this.__wrapped__),ge=ce.__actions__=on(this.__actions__);return ge.push({func:z,args:arguments,thisArg:o}),ce.__chain__=le,ce}return z.apply(o,ca([this.value()],arguments))})}),o}function Q3(){return br._===this&&(br._=A2),this}function Ph(){}function X3(o){return o=ot(o),ht(function(l){return zm(l,o)})}var Z3=dh(nr),$3=dh(gm),eN=dh(Md);function dv(o){return _h(o)?Ud(pi(o)):BI(o)}function tN(o){return function(l){return o==null?e:za(o,l)}}var rN=my(),nN=my(!0);function Oh(){return[]}function Mh(){return!1}function iN(){return{}}function aN(){return""}function sN(){return!0}function oN(o,l){if(o=ot(o),o<1||o>Pe)return[];var h=Xe,y=qr(o,Xe);l=Ve(l),o-=Xe;for(var A=Gd(y,l);++h<o;)l(h);return A}function uN(o){return tt(o)?nr(o,pi):_n(o)?[o]:on(Ny(Ut(o)))}function lN(o){var l=++E2;return Ut(o)+l}var cN=jl(function(o,l){return o+l},0),fN=hh("ceil"),dN=jl(function(o,l){return o/l},1),hN=hh("floor");function pN(o){return o&&o.length?Fl(o,cn,Zd):e}function gN(o,l){return o&&o.length?Fl(o,Ve(l,2),Zd):e}function mN(o){return vm(o,cn)}function yN(o,l){return vm(o,Ve(l,2))}function vN(o){return o&&o.length?Fl(o,cn,rh):e}function _N(o,l){return o&&o.length?Fl(o,Ve(l,2),rh):e}var EN=jl(function(o,l){return o*l},1),CN=hh("round"),AN=jl(function(o,l){return o-l},0);function wN(o){return o&&o.length?qd(o,cn):0}function bN(o,l){return o&&o.length?qd(o,Ve(l,2)):0}return T.after=jB,T.ary=Vy,T.assign=DR,T.assignIn=nv,T.assignInWith=ac,T.assignWith=LR,T.at=PR,T.before=Hy,T.bind=Sh,T.bindAll=q3,T.bindKey=Yy,T.castArray=iR,T.chain=qy,T.chunk=hk,T.compact=pk,T.concat=gk,T.cond=G3,T.conforms=K3,T.constant=Nh,T.countBy=wB,T.create=OR,T.curry=jy,T.curryRight=Wy,T.debounce=zy,T.defaults=MR,T.defaultsDeep=UR,T.defer=WB,T.delay=zB,T.difference=mk,T.differenceBy=yk,T.differenceWith=vk,T.drop=_k,T.dropRight=Ek,T.dropRightWhile=Ck,T.dropWhile=Ak,T.fill=wk,T.filter=SB,T.flatMap=IB,T.flatMapDeep=kB,T.flatMapDepth=BB,T.flatten=Oy,T.flattenDeep=bk,T.flattenDepth=Sk,T.flip=JB,T.flow=H3,T.flowRight=Y3,T.fromPairs=Tk,T.functions=YR,T.functionsIn=jR,T.groupBy=RB,T.initial=Ik,T.intersection=kk,T.intersectionBy=Bk,T.intersectionWith=Rk,T.invert=zR,T.invertBy=JR,T.invokeMap=DB,T.iteratee=Dh,T.keyBy=LB,T.keys=Sr,T.keysIn=ln,T.map=$l,T.mapKeys=XR,T.mapValues=ZR,T.matches=j3,T.matchesProperty=W3,T.memoize=tc,T.merge=$R,T.mergeWith=iv,T.method=z3,T.methodOf=J3,T.mixin=Lh,T.negate=rc,T.nthArg=X3,T.omit=e3,T.omitBy=t3,T.once=QB,T.orderBy=PB,T.over=Z3,T.overArgs=XB,T.overEvery=$3,T.overSome=eN,T.partial=Th,T.partialRight=Jy,T.partition=OB,T.pick=r3,T.pickBy=av,T.property=dv,T.propertyOf=tN,T.pull=Pk,T.pullAll=Uy,T.pullAllBy=Ok,T.pullAllWith=Mk,T.pullAt=Uk,T.range=rN,T.rangeRight=nN,T.rearg=ZB,T.reject=FB,T.remove=Fk,T.rest=$B,T.reverse=wh,T.sampleSize=GB,T.set=i3,T.setWith=a3,T.shuffle=KB,T.slice=qk,T.sortBy=YB,T.sortedUniq=Wk,T.sortedUniqBy=zk,T.split=I3,T.spread=eR,T.tail=Jk,T.take=Qk,T.takeRight=Xk,T.takeRightWhile=Zk,T.takeWhile=$k,T.tap=pB,T.throttle=tR,T.thru=Zl,T.toArray=ev,T.toPairs=sv,T.toPairsIn=ov,T.toPath=uN,T.toPlainObject=rv,T.transform=s3,T.unary=rR,T.union=eB,T.unionBy=tB,T.unionWith=rB,T.uniq=nB,T.uniqBy=iB,T.uniqWith=aB,T.unset=o3,T.unzip=bh,T.unzipWith=Fy,T.update=u3,T.updateWith=l3,T.values=Vs,T.valuesIn=c3,T.without=sB,T.words=cv,T.wrap=nR,T.xor=oB,T.xorBy=uB,T.xorWith=lB,T.zip=cB,T.zipObject=fB,T.zipObjectDeep=dB,T.zipWith=hB,T.entries=sv,T.entriesIn=ov,T.extend=nv,T.extendWith=ac,Lh(T,T),T.add=cN,T.attempt=fv,T.camelCase=p3,T.capitalize=uv,T.ceil=fN,T.clamp=f3,T.clone=aR,T.cloneDeep=oR,T.cloneDeepWith=uR,T.cloneWith=sR,T.conformsTo=lR,T.deburr=lv,T.defaultTo=V3,T.divide=dN,T.endsWith=g3,T.eq=ti,T.escape=m3,T.escapeRegExp=y3,T.every=bB,T.find=TB,T.findIndex=Ly,T.findKey=FR,T.findLast=xB,T.findLastIndex=Py,T.findLastKey=qR,T.floor=hN,T.forEach=Gy,T.forEachRight=Ky,T.forIn=GR,T.forInRight=KR,T.forOwn=VR,T.forOwnRight=HR,T.get=kh,T.gt=cR,T.gte=fR,T.has=WR,T.hasIn=Bh,T.head=My,T.identity=cn,T.includes=NB,T.indexOf=xk,T.inRange=d3,T.invoke=QR,T.isArguments=Xa,T.isArray=tt,T.isArrayBuffer=dR,T.isArrayLike=un,T.isArrayLikeObject=cr,T.isBoolean=hR,T.isBuffer=va,T.isDate=pR,T.isElement=gR,T.isEmpty=mR,T.isEqual=yR,T.isEqualWith=vR,T.isError=xh,T.isFinite=_R,T.isFunction=Vi,T.isInteger=Qy,T.isLength=nc,T.isMap=Xy,T.isMatch=ER,T.isMatchWith=CR,T.isNaN=AR,T.isNative=wR,T.isNil=SR,T.isNull=bR,T.isNumber=Zy,T.isObject=sr,T.isObjectLike=ur,T.isPlainObject=iu,T.isRegExp=Ih,T.isSafeInteger=TR,T.isSet=$y,T.isString=ic,T.isSymbol=_n,T.isTypedArray=Ks,T.isUndefined=xR,T.isWeakMap=IR,T.isWeakSet=kR,T.join=Nk,T.kebabCase=v3,T.last=Pn,T.lastIndexOf=Dk,T.lowerCase=_3,T.lowerFirst=E3,T.lt=BR,T.lte=RR,T.max=pN,T.maxBy=gN,T.mean=mN,T.meanBy=yN,T.min=vN,T.minBy=_N,T.stubArray=Oh,T.stubFalse=Mh,T.stubObject=iN,T.stubString=aN,T.stubTrue=sN,T.multiply=EN,T.nth=Lk,T.noConflict=Q3,T.noop=Ph,T.now=ec,T.pad=C3,T.padEnd=A3,T.padStart=w3,T.parseInt=b3,T.random=h3,T.reduce=MB,T.reduceRight=UB,T.repeat=S3,T.replace=T3,T.result=n3,T.round=CN,T.runInContext=H,T.sample=qB,T.size=VB,T.snakeCase=x3,T.some=HB,T.sortedIndex=Gk,T.sortedIndexBy=Kk,T.sortedIndexOf=Vk,T.sortedLastIndex=Hk,T.sortedLastIndexBy=Yk,T.sortedLastIndexOf=jk,T.startCase=k3,T.startsWith=B3,T.subtract=AN,T.sum=wN,T.sumBy=bN,T.template=R3,T.times=oN,T.toFinite=Hi,T.toInteger=ot,T.toLength=tv,T.toLower=N3,T.toNumber=On,T.toSafeInteger=NR,T.toString=Ut,T.toUpper=D3,T.trim=L3,T.trimEnd=P3,T.trimStart=O3,T.truncate=M3,T.unescape=U3,T.uniqueId=lN,T.upperCase=F3,T.upperFirst=Rh,T.each=Gy,T.eachRight=Ky,T.first=My,Lh(T,function(){var o={};return di(T,function(l,h){Gt.call(T.prototype,h)||(o[h]=l)}),o}(),{chain:!1}),T.VERSION=t,Bn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){T[o].placeholder=T}),Bn(["drop","take"],function(o,l){_t.prototype[o]=function(h){h=h===e?1:Cr(ot(h),0);var y=this.__filtered__&&!l?new _t(this):this.clone();return y.__filtered__?y.__takeCount__=qr(h,y.__takeCount__):y.__views__.push({size:qr(h,Xe),type:o+(y.__dir__<0?"Right":"")}),y},_t.prototype[o+"Right"]=function(h){return this.reverse()[o](h).reverse()}}),Bn(["filter","map","takeWhile"],function(o,l){var h=l+1,y=h==we||h==Oe;_t.prototype[o]=function(A){var I=this.clone();return I.__iteratees__.push({iteratee:Ve(A,3),type:h}),I.__filtered__=I.__filtered__||y,I}}),Bn(["head","last"],function(o,l){var h="take"+(l?"Right":"");_t.prototype[o]=function(){return this[h](1).value()[0]}}),Bn(["initial","tail"],function(o,l){var h="drop"+(l?"":"Right");_t.prototype[o]=function(){return this.__filtered__?new _t(this):this[h](1)}}),_t.prototype.compact=function(){return this.filter(cn)},_t.prototype.find=function(o){return this.filter(o).head()},_t.prototype.findLast=function(o){return this.reverse().find(o)},_t.prototype.invokeMap=ht(function(o,l){return typeof o=="function"?new _t(this):this.map(function(h){return Zo(h,o,l)})}),_t.prototype.reject=function(o){return this.filter(rc(Ve(o)))},_t.prototype.slice=function(o,l){o=ot(o);var h=this;return h.__filtered__&&(o>0||l<0)?new _t(h):(o<0?h=h.takeRight(-o):o&&(h=h.drop(o)),l!==e&&(l=ot(l),h=l<0?h.dropRight(-l):h.take(l-o)),h)},_t.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},_t.prototype.toArray=function(){return this.take(Xe)},di(_t.prototype,function(o,l){var h=/^(?:filter|find|map|reject)|While$/.test(l),y=/^(?:head|last)$/.test(l),A=T[y?"take"+(l=="last"?"Right":""):l],I=y||/^find/.test(l);!A||(T.prototype[l]=function(){var P=this.__wrapped__,F=y?[1]:arguments,z=P instanceof _t,le=F[0],ce=z||tt(P),ge=function(gt){var wt=A.apply(T,ca([gt],F));return y&&Se?wt[0]:wt};ce&&h&&typeof le=="function"&&le.length!=1&&(z=ce=!1);var Se=this.__chain__,Ue=!!this.__actions__.length,Ye=I&&!Se,ct=z&&!Ue;if(!I&&ce){P=ct?P:new _t(this);var je=o.apply(P,F);return je.__actions__.push({func:Zl,args:[ge],thisArg:e}),new Nn(je,Se)}return Ye&&ct?o.apply(this,F):(je=this.thru(ge),Ye?y?je.value()[0]:je.value():je)})}),Bn(["pop","push","shift","sort","splice","unshift"],function(o){var l=bl[o],h=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",y=/^(?:pop|shift)$/.test(o);T.prototype[o]=function(){var A=arguments;if(y&&!this.__chain__){var I=this.value();return l.apply(tt(I)?I:[],A)}return this[h](function(P){return l.apply(tt(P)?P:[],A)})}}),di(_t.prototype,function(o,l){var h=T[l];if(h){var y=h.name+"";Gt.call(Ms,y)||(Ms[y]=[]),Ms[y].push({name:l,func:h})}}),Ms[Yl(e,E).name]=[{name:"wrapper",func:e}],_t.prototype.clone=U2,_t.prototype.reverse=F2,_t.prototype.value=q2,T.prototype.at=gB,T.prototype.chain=mB,T.prototype.commit=yB,T.prototype.next=vB,T.prototype.plant=EB,T.prototype.reverse=CB,T.prototype.toJSON=T.prototype.valueOf=T.prototype.value=AB,T.prototype.first=T.prototype.head,Yo&&(T.prototype[Yo]=_B),T},da=y2();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(br._=da,define(function(){return da})):Va?((Va.exports=da)._=da,Dd._=da):br._=da}).call(Lo)});var vb=ue((k9,sd)=>{var Zw,$w,eb,tb,rb,nb,ib,ab,sb,ad,pg,ob,ub,Po,lb,cb,fb,db,hb,pb,gb,mb,yb;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof sd=="object"&&typeof sd.exports=="object"?e(r(t,r(sd.exports))):e(r(t));function r(n,i){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,s){return n[a]=i?i(a,s):s}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])};Zw=function(r,n){t(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)},$w=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},eb=function(r,n){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&n.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)n.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(i[a[s]]=r[a[s]]);return i},tb=function(r,n,i,a){var s=arguments.length,u=s<3?n:a===null?a=Object.getOwnPropertyDescriptor(n,i):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,n,i,a);else for(var f=r.length-1;f>=0;f--)(c=r[f])&&(u=(s<3?c(u):s>3?c(n,i,u):c(n,i))||u);return s>3&&u&&Object.defineProperty(n,i,u),u},rb=function(r,n){return function(i,a){n(i,a,r)}},nb=function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},ib=function(r,n,i,a){function s(u){return u instanceof i?u:new i(function(c){c(u)})}return new(i||(i=Promise))(function(u,c){function f(g){try{p(a.next(g))}catch(v){c(v)}}function d(g){try{p(a.throw(g))}catch(v){c(v)}}function p(g){g.done?u(g.value):s(g.value).then(f,d)}p((a=a.apply(r,n||[])).next())})},ab=function(r,n){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,s,u,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(g){return d([p,g])}}function d(p){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,s&&(u=p[0]&2?s.return:p[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,p[1])).done)return u;switch(s=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,s=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){i.label=p[1];break}if(p[0]===6&&i.label<u[1]){i.label=u[1],u=p;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(p);break}u[2]&&i.ops.pop(),i.trys.pop();continue}p=n.call(r,i)}catch(g){p=[6,g],s=0}finally{a=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},yb=function(r,n,i,a){a===void 0&&(a=i),r[a]=n[i]},sb=function(r,n){for(var i in r)i!=="default"&&!n.hasOwnProperty(i)&&(n[i]=r[i])},ad=function(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],a=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},pg=function(r,n){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var a=i.call(r),s,u=[],c;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)u.push(s.value)}catch(f){c={error:f}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(c)throw c.error}}return u},ob=function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(pg(arguments[n]));return r},ub=function(){for(var r=0,n=0,i=arguments.length;n<i;n++)r+=arguments[n].length;for(var a=Array(r),s=0,n=0;n<i;n++)for(var u=arguments[n],c=0,f=u.length;c<f;c++,s++)a[s]=u[c];return a},Po=function(r){return this instanceof Po?(this.v=r,this):new Po(r)},lb=function(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(r,n||[]),s,u=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(m){a[m]&&(s[m]=function(E){return new Promise(function(_,C){u.push([m,E,_,C])>1||f(m,E)})})}function f(m,E){try{d(a[m](E))}catch(_){v(u[0][3],_)}}function d(m){m.value instanceof Po?Promise.resolve(m.value.v).then(p,g):v(u[0][2],m)}function p(m){f("next",m)}function g(m){f("throw",m)}function v(m,E){m(E),u.shift(),u.length&&f(u[0][0],u[0][1])}},cb=function(r){var n,i;return n={},a("next"),a("throw",function(s){throw s}),a("return"),n[Symbol.iterator]=function(){return this},n;function a(s,u){n[s]=r[s]?function(c){return(i=!i)?{value:Po(r[s](c)),done:s==="return"}:u?u(c):c}:u}},fb=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof ad=="function"?ad(r):r[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(u){i[u]=r[u]&&function(c){return new Promise(function(f,d){c=r[u](c),s(f,d,c.done,c.value)})}}function s(u,c,f,d){Promise.resolve(d).then(function(p){u({value:p,done:f})},c)}},db=function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},hb=function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i in r)Object.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n.default=r,n},pb=function(r){return r&&r.__esModule?r:{default:r}},gb=function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},mb=function(r,n,i){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,i),i},e("__extends",Zw),e("__assign",$w),e("__rest",eb),e("__decorate",tb),e("__param",rb),e("__metadata",nb),e("__awaiter",ib),e("__generator",ab),e("__exportStar",sb),e("__createBinding",yb),e("__values",ad),e("__read",pg),e("__spread",ob),e("__spreadArrays",ub),e("__await",Po),e("__asyncGenerator",lb),e("__asyncDelegator",cb),e("__asyncValues",fb),e("__makeTemplateObject",db),e("__importStar",hb),e("__importDefault",pb),e("__classPrivateFieldGet",gb),e("__classPrivateFieldSet",mb)})});var dS=ue(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.isDate=Ma.isComparable=Ma.isIterable=void 0;Ma.isIterable=e=>!(e==null||e[Symbol.iterator]==null);Ma.isComparable=e=>{let t=Object.prototype.toString,r=e;return r.compare!=null&&t.call(r.compare).endsWith("Function]")};Ma.isDate=e=>Object.prototype.toString.call(e).endsWith("Date]")});var pS=ue(hS=>{"use strict";Object.defineProperty(hS,"__esModule",{value:!0})});var gS=ue(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});var a8=fg(),_g=dS(),s8=(e,t)=>e-t,o8=(e,t)=>Number(e-t),u8=(e,t)=>e.localeCompare(t),l8=(e,t)=>e.getTime()-t.getTime(),Fo={number:s8,string:u8,Date:l8,bigInt:o8,none:()=>0},c8=e=>{if(typeof e=="number")return Fo.number;if(typeof e=="string")return Fo.string;if(typeof e=="bigint")return Fo.bigInt;if(_g.isDate(e))return Fo.Date;if(_g.isComparable(e))return(t,r)=>t.compare(r);throw new Error("Cannot sort keys in this map. You have to specify compareFn if the type of key in this map is not number, string, or Date.")},Ss=class extends Map{constructor(t,r){super();this.specifiedCompareFn=!1,this.isCompareFn=n=>typeof n=="function",this.compareFn=Fo.none,this.sortedKeys=[],_g.isIterable(t)&&this._constructor(t,r),this.isCompareFn(t)&&this._constructor(null,t),t==null&&this._constructor(null,r)}get comparator(){return this.compareFn}compare(t,r){return Math.sign(this.compareFn(t,r))}_constructor(t,r){if(this.compareFn=r==null?Fo.none:r,this.specifiedCompareFn=r!=null,t!=null)for(let n of t)this.set(...n)}static fromMap(t,r){let n=new Ss(r);return n.setAll(t),n}duplicate(){return Ss.fromMap(this,this.compareFn)}toMap(){let t=new Map,r=Array.from(super.entries());return r.sort((n,i)=>this.compareFn(n[0],i[0])),r.forEach(([n,i])=>{t.set(n,i)}),t}reverseKeys(){return[...this.sortedKeys].reverse().values()}get(t){let r=this.sortedKeys.find(n=>this.comparator(n,t)===0);if(r!=null)return super.get(r)}set(t,r){this.sortedKeys.length===0&&!this.specifiedCompareFn&&(this.compareFn=c8(t),this.specifiedCompareFn=!0);let n=this.sortedKeys.find(i=>this.compareFn(i,t)===0);return n==null?(this.sortedKeys.push(t),super.set(t,r)):super.set(n,r),this.sortedKeys.sort(this.compareFn),this}setAll(t){return t.forEach((r,n)=>{this.set(n,r)}),this}delete(t){return super.delete(t)?(this.sortedKeys=this.sortedKeys.filter(r=>this.compare(r,t)!==0),!0):!1}clear(){super.clear(),this.sortedKeys=[]}keys(){return this.sortedKeys.values()}values(){return this.sortedKeys.map(t=>super.get(t)).values()}entries(){return this.toMap().entries()}firstEntry(){let t=this.firstKey();if(t==null)return;let r=this.get(t);return r===void 0?void 0:[t,r]}firstKey(){return this.sortedKeys[0]}lastEntry(){let t=this.lastKey();if(t==null)return;let r=this.get(t);return r===void 0?void 0:[t,r]}lastKey(){return[...this.sortedKeys].reverse()[0]}shiftEntry(){let t=this.firstEntry();if(t!=null)return this.delete(t[0]),t}popEntry(){let t=this.lastEntry();if(t!=null)return this.delete(t[0]),t}floorEntry(t){let r=this.floorKey(t);if(r!=null){let n=this.get(r);return n===void 0?void 0:[r,n]}}floorKey(t){return this.sortedKeys.filter(n=>this.compare(n,t)<=0).reverse()[0]}ceilingEntry(t){let r=this.ceilingKey(t);if(r!=null){let n=this.get(r);return n===void 0?void 0:[r,n]}}ceilingKey(t){return this.sortedKeys.filter(n=>this.compare(n,t)>=0)[0]}lowerEntry(t){let r=this.lowerKey(t);if(r!=null){let n=this.get(r);return n===void 0?void 0:[r,n]}}lowerKey(t){return this.sortedKeys.filter(n=>this.compare(n,t)<0).reverse()[0]}higherEntry(t){let r=this.higherKey(t);if(r!=null){let n=this.get(r);return n===void 0?void 0:[r,n]}}higherKey(t){return this.sortedKeys.filter(n=>this.compare(n,t)>0)[0]}splitLower(t,r=!0){let n=Array.from(this.entries()).filter(i=>{let a=this.compare(i[0],t)<0;return r?a||this.compare(i[0],t)===0:a});return new Ss(n,this.compareFn)}splitHigher(t,r=!0){let n=Array.from(this.entries()).filter(i=>{let a=this.compare(i[0],t)>0;return r?a||this.compare(i[0],t)===0:a});return new Ss(n,this.compareFn)}forEach(t,r){Array.from(this.entries()).forEach(([n,i])=>{t(i,n,this)},r)}};cd.default=Ss;a8.__exportStar(pS(),cd)});NN(exports,{default:()=>$e});var yl=Pt(require("obsidian"));var vv=Pt(require("obsidian"));function dr(e,t=!0){$e.getInstance().settings.showNotice&&t&&new vv.Notice(e)}var or=Pt(require("obsidian"));var _v=()=>{var e;return(e=window.localStorage.getItem("googleCalendarAccessToken"))!=null?e:""},ji=()=>{var e;return(e=window.localStorage.getItem("googleCalendarRefreshToken"))!=null?e:""},sc=()=>{var t;let e=(t=window.localStorage.getItem("googleCalendarExpirationTime"))!=null?t:"0";return parseInt(e,10)},su=e=>{window.localStorage.setItem("googleCalendarAccessToken",e)},ou=e=>{window.localStorage.setItem("googleCalendarRefreshToken",e)},uu=e=>{window.localStorage.setItem("googleCalendarExpirationTime",e+"")};var ko=Pt(require("obsidian")),Qp=42813;function O5(){return!(!sc()||isNaN(sc())||sc()<+new Date)}function Hn(){return U(this,null,function*(){let e=$e.getInstance();if(!!Sn()){if(O5()==!1&&ji()!=""){let t={client_id:e.settings.googleClientId,client_secret:e.settings.googleClientSecret,grant_type:"refresh_token",refresh_token:ji()},n=yield(yield(0,ko.requestUrl)({url:"https://oauth2.googleapis.com/token",method:"POST",contentType:"application/json",body:JSON.stringify(t)})).json;su(n.access_token),uu(+new Date+n.expires_in*1e3)}return _v()}})}function Xp(){return U(this,null,function*(){let e=$e.getInstance();if(ko.Platform.isDesktop){if(!Zp())return;let{OAuth2Client:t}=FA(),r=require("http"),n=$A(),i=require("url"),a=tw(),s=new t(e.settings.googleClientId,e.settings.googleClientSecret,`http://127.0.0.1:${Qp}/callback`),u=s.generateAuthUrl({scope:["https://www.googleapis.com/auth/calendar"],access_type:"offline",prompt:"consent"}),c=r.createServer((f,d)=>U(this,null,function*(){try{if(f.url.indexOf("/callback")>-1){let g=new i.URL(f.url,`http://localhost:${Qp}`).searchParams.get("code");d.end("Authentication successful! Please return to obsidian."),c.destroy();let v=yield s.getToken(g);ou(v.tokens.refresh_token),su(v.tokens.access_token),uu(v.tokens.expiry_date),console.info("Tokens acquired.")}}catch(p){console.log("Auth failed")}})).listen(Qp,()=>U(this,null,function*(){(yield n(u,{wait:!1})).unref()}));a(c)}else new ko.Notice("Can't use OAuth on this device")})}function qf(e,t,r,n){let i=e.createDiv({cls:`setting-item ${n!=null?n:""}`}),a=i.createDiv({cls:"setting-item-info"});return a.createDiv({cls:"setting-item-name",text:t}),a.createDiv({cls:"setting-item-description",text:r}),i.createDiv({cls:"setting-item-control"})}var rw=Pt(require("obsidian")),$p=new Map,eg=new Map;function nw(){return U(this,null,function*(){var n,i;let e=$e.getInstance(),r=(yield(0,rw.requestUrl)({url:`https://www.googleapis.com/calendar/v3/colors?key=${e.settings.googleApiToken}`,method:"GET",contentType:"application/json"})).json;for(let a=1;;a++){let s=(n=r.calendar[a+""])==null?void 0:n.background;if(!s)break;$p.set(a+"",s)}for(let a=1;;a++){let s=(i=r.event[a+""])==null?void 0:i.background;if(!s)break;eg.set(a+"",s)}})}function Gu(e){return e.colorId&&eg.has(e.colorId)?eg.get(e.colorId):e.parent.colorId&&$p.has(e.parent.colorId)?$p.get(e.parent.colorId):"#a4bdfc"}var iw=Pt(require("obsidian")),tg=[];function aw(e,t){return t.filter(n=>e.settings.calendarBlackList.findIndex(a=>a[0]==n.id)==-1)}function tn(){return U(this,null,function*(){let e=$e.getInstance();if(tg.length)return aw(e,tg);yield nw();try{let r=yield(yield(0,iw.requestUrl)({url:`https://www.googleapis.com/calendar/v3/users/me/calendarList?key=${e.settings.googleApiToken}`,method:"GET",contentType:"application/json",headers:{Authorization:"Bearer "+(yield Hn())}})).json;return tg=r.items,aw(e,r.items)}catch(t){return dr("Could not load google calendars"),[]}})}var rg=class extends or.PluginSettingTab{constructor(t,r){super(t,r);this.plugin=r}display(){let{containerEl:t}=this;t.empty(),t.createEl("h2",{text:"Settings for Google Calendar"}),t.createEl("h4",{text:"Please restart Obsidian to let changes take effect"}),new or.Setting(t).setName("ClientId").setDesc("Google client id").addText(c=>c.setPlaceholder("Enter your client id").setValue(this.plugin.settings.googleClientId).onChange(f=>U(this,null,function*(){this.plugin.settings.googleClientId=f,yield this.plugin.saveSettings()}))),new or.Setting(t).setName("ClientSecret").setDesc("Google client secret").addText(c=>c.setPlaceholder("Enter your client secret").setValue(this.plugin.settings.googleClientSecret).onChange(f=>U(this,null,function*(){this.plugin.settings.googleClientSecret=f,yield this.plugin.saveSettings()}))),new or.Setting(t).setName("ApiToken").setDesc("Google Api Token").addText(c=>c.setPlaceholder("Enter your api token").setValue(this.plugin.settings.googleApiToken).onChange(f=>U(this,null,function*(){this.plugin.settings.googleApiToken=f,yield this.plugin.saveSettings()})));let r=new or.Setting(t),n=c=>{c.setButtonText("Logout"),c.onClick(()=>U(this,null,function*(){ou(""),su(""),uu(0),c.buttonEl.remove(),r.setName("Login"),r.setDesc("Login to your Google Account"),r.addButton(f=>{f.setButtonText("Login"),f.onClick(()=>U(this,null,function*(){sw()&&Xp()}))})}))};or.Platform.isDesktop?ji()?(r.setName("Logout"),r.setDesc("Logout off your Google Account"),r.addButton(n)):(r.setName("Login"),r.setDesc("Login to your Google Account"),r.addButton(c=>{c.setButtonText("Login"),c.onClick(()=>U(this,null,function*(){if(sw()){Xp();let f=0,d=setInterval(()=>{f++,f>900?clearInterval(d):ji()&&(clearInterval(d),c.buttonEl.remove(),r.setName("Logout"),r.setDesc("Logout off your Google Account"),r.addButton(n))},200)}}))})):new or.Setting(t).setName("Refresh Token").setDesc("Google Refresh Token from OAuth").addText(c=>c.setPlaceholder("Enter refresh token").setValue(this.plugin.settings.googleRefreshToken).onChange(f=>U(this,null,function*(){this.plugin.settings.googleRefreshToken=f,ou(f)}))),new or.Setting(t).setName("Auto create Event Notes").setDesc("Will create new notes from a event if the description contains :obsidian:").addToggle(c=>{c.setValue(this.plugin.settings.autoCreateEventNotes),c.onChange(f=>U(this,null,function*(){this.plugin.settings.autoCreateEventNotes=f,yield this.plugin.saveSettings()}))}),new or.Setting(t).setName("Keep auto created Notes open").setDesc("When creating a new note should it stay open for direct editing").addToggle(c=>{c.setValue(this.plugin.settings.autoCreateEventKeepOpen),c.onChange(f=>U(this,null,function*(){this.plugin.settings.autoCreateEventKeepOpen=f,yield this.plugin.saveSettings()}))});let i=qf(t,"Import Start Offset","Days in the past from events to import","SubSettings").createEl("input",{type:"number"});i.value=this.plugin.settings.importStartOffset+"",i.min="0",i.step="1",i.addEventListener("input",()=>U(this,null,function*(){this.plugin.settings.importStartOffset=parseInt(i.value),yield this.plugin.saveSettings()}));let a=qf(t,"Import End Offset","Days in the future from events to import","SubSettings").createEl("input",{type:"number"});a.value=this.plugin.settings.importEndOffset+"",a.min="0",a.step="1",a.addEventListener("input",()=>U(this,null,function*(){this.plugin.settings.importEndOffset=parseInt(a.value),yield this.plugin.saveSettings()})),new or.Setting(t).setName("Notifications").setDesc("Show notifications of info and errors").addToggle(c=>{c.setValue(this.plugin.settings.showNotice),c.onChange(f=>U(this,null,function*(){this.plugin.settings.showNotice=f,yield this.plugin.saveSettings()}))});let s=qf(t,"Refresh Interval","Time in seconds between refresh request from google server").createEl("input",{type:"number"});s.value=this.plugin.settings.refreshInterval+"",s.min="10",s.step="1",s.addEventListener("input",()=>U(this,null,function*(){this.plugin.settings.refreshInterval=parseInt(s.value),yield this.plugin.saveSettings()}));let u=this.plugin.settings.insertTemplates;if(u.length&&(new or.Setting(t).setName("Saved Templates"),u.forEach(c=>{let f=new or.Setting(t).setClass("SubSettings").setName(c.name).addButton(d=>{d.setButtonText("Remove"),d.onClick(()=>U(this,null,function*(){this.plugin.settings.insertTemplates.remove(c),f.settingEl.remove(),yield this.plugin.saveSettings()}))})})),Sn()){new or.Setting(t).setName("Default Calendar").addDropdown(f=>U(this,null,function*(){f.addOption("Default","Select a calendar"),(yield tn()).forEach(p=>{f.addOption(p.id,p.summary)}),f.setValue(this.plugin.settings.defaultCalendar),f.onChange(p=>U(this,null,function*(){this.plugin.settings.defaultCalendar=p,yield this.plugin.saveSettings()}))})),t.createEl("h3","Calendar Blacklist");let c=this.plugin.settings.calendarBlackList;new or.Setting(t).setName("Add Item to BlackList").addDropdown(f=>U(this,null,function*(){f.addOption("Default","Select Option to add"),(yield tn()).forEach(p=>{f.addOption(p.id+"_=_"+p.summary,p.summary)}),f.onChange(p=>U(this,null,function*(){let[g,v]=p.split("_=_");c.contains([g,v])||(this.plugin.settings.calendarBlackList=[...c,[g,v]],yield this.plugin.saveSettings());let m=new or.Setting(t).setClass("SubSettings").setName(v).addButton(E=>{E.setButtonText("Remove"),E.onClick(()=>U(this,null,function*(){this.plugin.settings.calendarBlackList.remove([g,v]),m.settingEl.remove(),yield this.plugin.saveSettings()}))})}))})),c.forEach(f=>{let d=new or.Setting(t).setClass("SubSettings").setName(f[1]).addButton(p=>{p.setButtonText("Remove"),p.onClick(()=>U(this,null,function*(){this.plugin.settings.calendarBlackList.remove(f),d.settingEl.remove(),yield this.plugin.saveSettings()}))})})}}};function Zp(e=!0){let t=$e.getInstance();return t.settings.googleApiToken==""||t.settings.googleClientId==""||t.settings.googleClientSecret==""?(dr("Google Calendar missing settings",e),!1):!0}function sw(){let e=$e.getInstance();return/^AIza[0-9A-Za-z-_]{35}$/.test(e.settings.googleApiToken)==!1?(new or.Notice("API Token is not the correct format"),!1):/^[0-9a-zA-z-]*\.apps\.googleusercontent\.com$/.test(e.settings.googleClientId)==!1?(new or.Notice("Client ID Token is not the correct format"),!1):/^[0-9a-zA-z-]*$/.test(e.settings.googleClientSecret)==!1?(new or.Notice("Client Secret is not the correct format"),!1):!0}function Sn(e=!0){return!Zp(!1)||ji()==""?(dr("Google Calendar missing settings or not logged in",e),!1):!0}var fS=Pt(require("obsidian"));function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(n){Gf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function U5(e,t){if(e==null)return{};var r=M5(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function F5(e,t){return q5(e)||G5(e,t)||K5(e,t)||V5()}function q5(e){if(Array.isArray(e))return e}function G5(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,u;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(c){a=!0,u=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function K5(e,t){if(!!e){if(typeof e=="string")return uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uw(e,t)}}function uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H5={AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"\xC5land Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barth\xE9lemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BQ:"Caribbean Netherlands",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos Islands",CD:"Democratic Republic of the Congo",CF:"Central African Republic",CG:"Republic of the Congo",CH:"Switzerland",CI:"Ivory Coast",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cabo Verde",CW:"Cura\xE7ao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czechia",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"R\xE9union",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Eswatini",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States of America",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands (UK)",VI:"Virgin Islands (US)",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"},Y5={"Africa/Abidjan":{u:0,c:["CI","BF","GH","GM","GN","ML","MR","SH","SL","SN","TG"]},"Africa/Accra":{a:"Africa/Abidjan",c:["GH"],r:1},"Africa/Addis_Ababa":{a:"Africa/Nairobi",c:["ET"],r:1},"Africa/Algiers":{u:60,c:["DZ"]},"Africa/Asmara":{a:"Africa/Nairobi",c:["ER"],r:1},"Africa/Asmera":{a:"Africa/Nairobi",c:["ER"],r:1},"Africa/Bamako":{a:"Africa/Abidjan",c:["ML"],r:1},"Africa/Bangui":{a:"Africa/Lagos",c:["CF"],r:1},"Africa/Banjul":{a:"Africa/Abidjan",c:["GM"],r:1},"Africa/Bissau":{u:0,c:["GW"]},"Africa/Blantyre":{a:"Africa/Maputo",c:["MW"],r:1},"Africa/Brazzaville":{a:"Africa/Lagos",c:["CG"],r:1},"Africa/Bujumbura":{a:"Africa/Maputo",c:["BI"],r:1},"Africa/Cairo":{u:120,c:["EG"]},"Africa/Casablanca":{u:60,d:0,c:["MA"]},"Africa/Ceuta":{u:60,d:120,c:["ES"]},"Africa/Conakry":{a:"Africa/Abidjan",c:["GN"],r:1},"Africa/Dakar":{a:"Africa/Abidjan",c:["SN"],r:1},"Africa/Dar_es_Salaam":{a:"Africa/Nairobi",c:["TZ"],r:1},"Africa/Djibouti":{a:"Africa/Nairobi",c:["DJ"],r:1},"Africa/Douala":{a:"Africa/Lagos",c:["CM"],r:1},"Africa/El_Aaiun":{u:60,d:0,c:["EH"]},"Africa/Freetown":{a:"Africa/Abidjan",c:["SL"],r:1},"Africa/Gaborone":{a:"Africa/Maputo",c:["BW"],r:1},"Africa/Harare":{a:"Africa/Maputo",c:["ZW"],r:1},"Africa/Johannesburg":{u:120,c:["ZA","LS","SZ"]},"Africa/Juba":{u:120,c:["SS"]},"Africa/Kampala":{a:"Africa/Nairobi",c:["UG"],r:1},"Africa/Khartoum":{u:120,c:["SD"]},"Africa/Kigali":{a:"Africa/Maputo",c:["RW"],r:1},"Africa/Kinshasa":{a:"Africa/Lagos",c:["CD"],r:1},"Africa/Lagos":{u:60,c:["NG","AO","BJ","CD","CF","CG","CM","GA","GQ","NE"]},"Africa/Libreville":{a:"Africa/Lagos",c:["GA"],r:1},"Africa/Lome":{a:"Africa/Abidjan",c:["TG"],r:1},"Africa/Luanda":{a:"Africa/Lagos",c:["AO"],r:1},"Africa/Lubumbashi":{a:"Africa/Maputo",c:["CD"],r:1},"Africa/Lusaka":{a:"Africa/Maputo",c:["ZM"],r:1},"Africa/Malabo":{a:"Africa/Lagos",c:["GQ"],r:1},"Africa/Maputo":{u:120,c:["MZ","BI","BW","CD","MW","RW","ZM","ZW"]},"Africa/Maseru":{a:"Africa/Johannesburg",c:["LS"],r:1},"Africa/Mbabane":{a:"Africa/Johannesburg",c:["SZ"],r:1},"Africa/Mogadishu":{a:"Africa/Nairobi",c:["SO"],r:1},"Africa/Monrovia":{u:0,c:["LR"]},"Africa/Nairobi":{u:180,c:["KE","DJ","ER","ET","KM","MG","SO","TZ","UG","YT"]},"Africa/Ndjamena":{u:60,c:["TD"]},"Africa/Niamey":{a:"Africa/Lagos",c:["NE"],r:1},"Africa/Nouakchott":{a:"Africa/Abidjan",c:["MR"],r:1},"Africa/Ouagadougou":{a:"Africa/Abidjan",c:["BF"],r:1},"Africa/Porto-Novo":{a:"Africa/Lagos",c:["BJ"],r:1},"Africa/Sao_Tome":{u:0,c:["ST"]},"Africa/Timbuktu":{a:"Africa/Abidjan",c:["ML"],r:1},"Africa/Tripoli":{u:120,c:["LY"]},"Africa/Tunis":{u:60,c:["TN"]},"Africa/Windhoek":{u:120,c:["NA"]},"America/Adak":{u:-600,d:-540,c:["US"]},"America/Anchorage":{u:-540,d:-480,c:["US"]},"America/Anguilla":{a:"America/Puerto_Rico",c:["AI"],r:1},"America/Antigua":{a:"America/Puerto_Rico",c:["AG"],r:1},"America/Araguaina":{u:-180,c:["BR"]},"America/Argentina/Buenos_Aires":{u:-180,c:["AR"]},"America/Argentina/Catamarca":{u:-180,c:["AR"]},"America/Argentina/ComodRivadavia":{a:"America/Argentina/Catamarca",r:1},"America/Argentina/Cordoba":{u:-180,c:["AR"]},"America/Argentina/Jujuy":{u:-180,c:["AR"]},"America/Argentina/La_Rioja":{u:-180,c:["AR"]},"America/Argentina/Mendoza":{u:-180,c:["AR"]},"America/Argentina/Rio_Gallegos":{u:-180,c:["AR"]},"America/Argentina/Salta":{u:-180,c:["AR"]},"America/Argentina/San_Juan":{u:-180,c:["AR"]},"America/Argentina/San_Luis":{u:-180,c:["AR"]},"America/Argentina/Tucuman":{u:-180,c:["AR"]},"America/Argentina/Ushuaia":{u:-180,c:["AR"]},"America/Aruba":{a:"America/Puerto_Rico",c:["AW"],r:1},"America/Asuncion":{u:-240,d:-180,c:["PY"]},"America/Atikokan":{a:"America/Panama",c:["CA"],r:1},"America/Atka":{a:"America/Adak",r:1},"America/Bahia":{u:-180,c:["BR"]},"America/Bahia_Banderas":{u:-360,d:-300,c:["MX"]},"America/Barbados":{u:-240,c:["BB"]},"America/Belem":{u:-180,c:["BR"]},"America/Belize":{u:-360,c:["BZ"]},"America/Blanc-Sablon":{a:"America/Puerto_Rico",c:["CA"],r:1},"America/Boa_Vista":{u:-240,c:["BR"]},"America/Bogota":{u:-300,c:["CO"]},"America/Boise":{u:-420,d:-360,c:["US"]},"America/Buenos_Aires":{a:"America/Argentina/Buenos_Aires",r:1},"America/Cambridge_Bay":{u:-420,d:-360,c:["CA"]},"America/Campo_Grande":{u:-240,c:["BR"]},"America/Cancun":{u:-300,c:["MX"]},"America/Caracas":{u:-240,c:["VE"]},"America/Catamarca":{a:"America/Argentina/Catamarca",r:1},"America/Cayenne":{u:-180,c:["GF"]},"America/Cayman":{a:"America/Panama",c:["KY"],r:1},"America/Chicago":{u:-360,d:-300,c:["US"]},"America/Chihuahua":{u:-420,d:-360,c:["MX"]},"America/Coral_Harbour":{a:"America/Panama",c:["CA"],r:1},"America/Cordoba":{a:"America/Argentina/Cordoba",r:1},"America/Costa_Rica":{u:-360,c:["CR"]},"America/Creston":{a:"America/Phoenix",c:["CA"],r:1},"America/Cuiaba":{u:-240,c:["BR"]},"America/Curacao":{a:"America/Puerto_Rico",c:["CW"],r:1},"America/Danmarkshavn":{u:0,c:["GL"]},"America/Dawson":{u:-420,c:["CA"]},"America/Dawson_Creek":{u:-420,c:["CA"]},"America/Denver":{u:-420,d:-360,c:["US"]},"America/Detroit":{u:-300,d:-240,c:["US"]},"America/Dominica":{a:"America/Puerto_Rico",c:["DM"],r:1},"America/Edmonton":{u:-420,d:-360,c:["CA"]},"America/Eirunepe":{u:-300,c:["BR"]},"America/El_Salvador":{u:-360,c:["SV"]},"America/Ensenada":{a:"America/Tijuana",r:1},"America/Fort_Nelson":{u:-420,c:["CA"]},"America/Fort_Wayne":{a:"America/Indiana/Indianapolis",r:1},"America/Fortaleza":{u:-180,c:["BR"]},"America/Glace_Bay":{u:-240,d:-180,c:["CA"]},"America/Godthab":{a:"America/Nuuk",r:1},"America/Goose_Bay":{u:-240,d:-180,c:["CA"]},"America/Grand_Turk":{u:-300,d:-240,c:["TC"]},"America/Grenada":{a:"America/Puerto_Rico",c:["GD"],r:1},"America/Guadeloupe":{a:"America/Puerto_Rico",c:["GP"],r:1},"America/Guatemala":{u:-360,c:["GT"]},"America/Guayaquil":{u:-300,c:["EC"]},"America/Guyana":{u:-240,c:["GY"]},"America/Halifax":{u:-240,d:-180,c:["CA"]},"America/Havana":{u:-300,d:-240,c:["CU"]},"America/Hermosillo":{u:-420,c:["MX"]},"America/Indiana/Indianapolis":{u:-300,d:-240,c:["US"]},"America/Indiana/Knox":{u:-360,d:-300,c:["US"]},"America/Indiana/Marengo":{u:-300,d:-240,c:["US"]},"America/Indiana/Petersburg":{u:-300,d:-240,c:["US"]},"America/Indiana/Tell_City":{u:-360,d:-300,c:["US"]},"America/Indiana/Vevay":{u:-300,d:-240,c:["US"]},"America/Indiana/Vincennes":{u:-300,d:-240,c:["US"]},"America/Indiana/Winamac":{u:-300,d:-240,c:["US"]},"America/Indianapolis":{a:"America/Indiana/Indianapolis",r:1},"America/Inuvik":{u:-420,d:-360,c:["CA"]},"America/Iqaluit":{u:-300,d:-240,c:["CA"]},"America/Jamaica":{u:-300,c:["JM"]},"America/Jujuy":{a:"America/Argentina/Jujuy",r:1},"America/Juneau":{u:-540,d:-480,c:["US"]},"America/Kentucky/Louisville":{u:-300,d:-240,c:["US"]},"America/Kentucky/Monticello":{u:-300,d:-240,c:["US"]},"America/Knox_IN":{a:"America/Indiana/Knox",r:1},"America/Kralendijk":{a:"America/Puerto_Rico",c:["BQ"],r:1},"America/La_Paz":{u:-240,c:["BO"]},"America/Lima":{u:-300,c:["PE"]},"America/Los_Angeles":{u:-480,d:-420,c:["US"]},"America/Louisville":{a:"America/Kentucky/Louisville",r:1},"America/Lower_Princes":{a:"America/Puerto_Rico",c:["SX"],r:1},"America/Maceio":{u:-180,c:["BR"]},"America/Managua":{u:-360,c:["NI"]},"America/Manaus":{u:-240,c:["BR"]},"America/Marigot":{a:"America/Puerto_Rico",c:["MF"],r:1},"America/Martinique":{u:-240,c:["MQ"]},"America/Matamoros":{u:-360,d:-300,c:["MX"]},"America/Mazatlan":{u:-420,d:-360,c:["MX"]},"America/Mendoza":{a:"America/Argentina/Mendoza",r:1},"America/Menominee":{u:-360,d:-300,c:["US"]},"America/Merida":{u:-360,d:-300,c:["MX"]},"America/Metlakatla":{u:-540,d:-480,c:["US"]},"America/Mexico_City":{u:-360,d:-300,c:["MX"]},"America/Miquelon":{u:-180,d:-120,c:["PM"]},"America/Moncton":{u:-240,d:-180,c:["CA"]},"America/Monterrey":{u:-360,d:-300,c:["MX"]},"America/Montevideo":{u:-180,c:["UY"]},"America/Montreal":{a:"America/Toronto",c:["CA"],r:1},"America/Montserrat":{a:"America/Puerto_Rico",c:["MS"],r:1},"America/Nassau":{a:"America/Toronto",c:["BS"],r:1},"America/New_York":{u:-300,d:-240,c:["US"]},"America/Nipigon":{u:-300,d:-240,c:["CA"]},"America/Nome":{u:-540,d:-480,c:["US"]},"America/Noronha":{u:-120,c:["BR"]},"America/North_Dakota/Beulah":{u:-360,d:-300,c:["US"]},"America/North_Dakota/Center":{u:-360,d:-300,c:["US"]},"America/North_Dakota/New_Salem":{u:-360,d:-300,c:["US"]},"America/Nuuk":{u:-180,d:-120,c:["GL"]},"America/Ojinaga":{u:-420,d:-360,c:["MX"]},"America/Panama":{u:-300,c:["PA","CA","KY"]},"America/Pangnirtung":{u:-300,d:-240,c:["CA"]},"America/Paramaribo":{u:-180,c:["SR"]},"America/Phoenix":{u:-420,c:["US","CA"]},"America/Port-au-Prince":{u:-300,d:-240,c:["HT"]},"America/Port_of_Spain":{a:"America/Puerto_Rico",c:["TT"],r:1},"America/Porto_Acre":{a:"America/Rio_Branco",r:1},"America/Porto_Velho":{u:-240,c:["BR"]},"America/Puerto_Rico":{u:-240,c:["PR","AG","CA","AI","AW","BL","BQ","CW","DM","GD","GP","KN","LC","MF","MS","SX","TT","VC","VG","VI"]},"America/Punta_Arenas":{u:-180,c:["CL"]},"America/Rainy_River":{u:-360,d:-300,c:["CA"]},"America/Rankin_Inlet":{u:-360,d:-300,c:["CA"]},"America/Recife":{u:-180,c:["BR"]},"America/Regina":{u:-360,c:["CA"]},"America/Resolute":{u:-360,d:-300,c:["CA"]},"America/Rio_Branco":{u:-300,c:["BR"]},"America/Rosario":{a:"America/Argentina/Cordoba",r:1},"America/Santa_Isabel":{a:"America/Tijuana",r:1},"America/Santarem":{u:-180,c:["BR"]},"America/Santiago":{u:-240,d:-180,c:["CL"]},"America/Santo_Domingo":{u:-240,c:["DO"]},"America/Sao_Paulo":{u:-180,c:["BR"]},"America/Scoresbysund":{u:-60,d:0,c:["GL"]},"America/Shiprock":{a:"America/Denver",r:1},"America/Sitka":{u:-540,d:-480,c:["US"]},"America/St_Barthelemy":{a:"America/Puerto_Rico",c:["BL"],r:1},"America/St_Johns":{u:-150,d:-90,c:["CA"]},"America/St_Kitts":{a:"America/Puerto_Rico",c:["KN"],r:1},"America/St_Lucia":{a:"America/Puerto_Rico",c:["LC"],r:1},"America/St_Thomas":{a:"America/Puerto_Rico",c:["VI"],r:1},"America/St_Vincent":{a:"America/Puerto_Rico",c:["VC"],r:1},"America/Swift_Current":{u:-360,c:["CA"]},"America/Tegucigalpa":{u:-360,c:["HN"]},"America/Thule":{u:-240,d:-180,c:["GL"]},"America/Thunder_Bay":{u:-300,d:-240,c:["CA"]},"America/Tijuana":{u:-480,d:-420,c:["MX"]},"America/Toronto":{u:-300,d:-240,c:["CA","BS"]},"America/Tortola":{a:"America/Puerto_Rico",c:["VG"],r:1},"America/Vancouver":{u:-480,d:-420,c:["CA"]},"America/Virgin":{a:"America/Puerto_Rico",c:["VI"],r:1},"America/Whitehorse":{u:-420,c:["CA"]},"America/Winnipeg":{u:-360,d:-300,c:["CA"]},"America/Yakutat":{u:-540,d:-480,c:["US"]},"America/Yellowknife":{u:-420,d:-360,c:["CA"]},"Antarctica/Casey":{u:660,c:["AQ"]},"Antarctica/Davis":{u:420,c:["AQ"]},"Antarctica/DumontDUrville":{a:"Pacific/Port_Moresby",c:["AQ"],r:1},"Antarctica/Macquarie":{u:600,d:660,c:["AU"]},"Antarctica/Mawson":{u:300,c:["AQ"]},"Antarctica/McMurdo":{a:"Pacific/Auckland",c:["AQ"],r:1},"Antarctica/Palmer":{u:-180,c:["AQ"]},"Antarctica/Rothera":{u:-180,c:["AQ"]},"Antarctica/South_Pole":{a:"Pacific/Auckland",c:["AQ"],r:1},"Antarctica/Syowa":{a:"Asia/Riyadh",c:["AQ"],r:1},"Antarctica/Troll":{u:0,d:120,c:["AQ"]},"Antarctica/Vostok":{u:360,c:["AQ"]},"Arctic/Longyearbyen":{a:"Europe/Oslo",c:["SJ"],r:1},"Asia/Aden":{a:"Asia/Riyadh",c:["YE"],r:1},"Asia/Almaty":{u:360,c:["KZ"]},"Asia/Amman":{u:120,d:180,c:["JO"]},"Asia/Anadyr":{u:720,c:["RU"]},"Asia/Aqtau":{u:300,c:["KZ"]},"Asia/Aqtobe":{u:300,c:["KZ"]},"Asia/Ashgabat":{u:300,c:["TM"]},"Asia/Ashkhabad":{a:"Asia/Ashgabat",r:1},"Asia/Atyrau":{u:300,c:["KZ"]},"Asia/Baghdad":{u:180,c:["IQ"]},"Asia/Bahrain":{a:"Asia/Qatar",c:["BH"],r:1},"Asia/Baku":{u:240,c:["AZ"]},"Asia/Bangkok":{u:420,c:["TH","KH","LA","VN"]},"Asia/Barnaul":{u:420,c:["RU"]},"Asia/Beirut":{u:120,d:180,c:["LB"]},"Asia/Bishkek":{u:360,c:["KG"]},"Asia/Brunei":{u:480,c:["BN"]},"Asia/Calcutta":{a:"Asia/Kolkata",r:1},"Asia/Chita":{u:540,c:["RU"]},"Asia/Choibalsan":{u:480,c:["MN"]},"Asia/Chongqing":{a:"Asia/Shanghai",r:1},"Asia/Chungking":{a:"Asia/Shanghai",r:1},"Asia/Colombo":{u:330,c:["LK"]},"Asia/Dacca":{a:"Asia/Dhaka",r:1},"Asia/Damascus":{u:120,d:180,c:["SY"]},"Asia/Dhaka":{u:360,c:["BD"]},"Asia/Dili":{u:540,c:["TL"]},"Asia/Dubai":{u:240,c:["AE","OM"]},"Asia/Dushanbe":{u:300,c:["TJ"]},"Asia/Famagusta":{u:120,d:180,c:["CY"]},"Asia/Gaza":{u:120,d:180,c:["PS"]},"Asia/Harbin":{a:"Asia/Shanghai",r:1},"Asia/Hebron":{u:120,d:180,c:["PS"]},"Asia/Ho_Chi_Minh":{u:420,c:["VN"]},"Asia/Hong_Kong":{u:480,c:["HK"]},"Asia/Hovd":{u:420,c:["MN"]},"Asia/Irkutsk":{u:480,c:["RU"]},"Asia/Istanbul":{a:"Europe/Istanbul",r:1},"Asia/Jakarta":{u:420,c:["ID"]},"Asia/Jayapura":{u:540,c:["ID"]},"Asia/Jerusalem":{u:120,d:180,c:["IL"]},"Asia/Kabul":{u:270,c:["AF"]},"Asia/Kamchatka":{u:720,c:["RU"]},"Asia/Karachi":{u:300,c:["PK"]},"Asia/Kashgar":{a:"Asia/Urumqi",r:1},"Asia/Kathmandu":{u:345,c:["NP"]},"Asia/Katmandu":{a:"Asia/Kathmandu",r:1},"Asia/Khandyga":{u:540,c:["RU"]},"Asia/Kolkata":{u:330,c:["IN"]},"Asia/Krasnoyarsk":{u:420,c:["RU"]},"Asia/Kuala_Lumpur":{u:480,c:["MY"]},"Asia/Kuching":{u:480,c:["MY"]},"Asia/Kuwait":{a:"Asia/Riyadh",c:["KW"],r:1},"Asia/Macao":{a:"Asia/Macau",r:1},"Asia/Macau":{u:480,c:["MO"]},"Asia/Magadan":{u:660,c:["RU"]},"Asia/Makassar":{u:480,c:["ID"]},"Asia/Manila":{u:480,c:["PH"]},"Asia/Muscat":{a:"Asia/Dubai",c:["OM"],r:1},"Asia/Nicosia":{u:120,d:180,c:["CY"]},"Asia/Novokuznetsk":{u:420,c:["RU"]},"Asia/Novosibirsk":{u:420,c:["RU"]},"Asia/Omsk":{u:360,c:["RU"]},"Asia/Oral":{u:300,c:["KZ"]},"Asia/Phnom_Penh":{a:"Asia/Bangkok",c:["KH"],r:1},"Asia/Pontianak":{u:420,c:["ID"]},"Asia/Pyongyang":{u:540,c:["KP"]},"Asia/Qatar":{u:180,c:["QA","BH"]},"Asia/Qostanay":{u:360,c:["KZ"]},"Asia/Qyzylorda":{u:300,c:["KZ"]},"Asia/Rangoon":{a:"Asia/Yangon",r:1},"Asia/Riyadh":{u:180,c:["SA","AQ","KW","YE"]},"Asia/Saigon":{a:"Asia/Ho_Chi_Minh",r:1},"Asia/Sakhalin":{u:660,c:["RU"]},"Asia/Samarkand":{u:300,c:["UZ"]},"Asia/Seoul":{u:540,c:["KR"]},"Asia/Shanghai":{u:480,c:["CN"]},"Asia/Singapore":{u:480,c:["SG","MY"]},"Asia/Srednekolymsk":{u:660,c:["RU"]},"Asia/Taipei":{u:480,c:["TW"]},"Asia/Tashkent":{u:300,c:["UZ"]},"Asia/Tbilisi":{u:240,c:["GE"]},"Asia/Tehran":{u:210,d:270,c:["IR"]},"Asia/Tel_Aviv":{a:"Asia/Jerusalem",r:1},"Asia/Thimbu":{a:"Asia/Thimphu",r:1},"Asia/Thimphu":{u:360,c:["BT"]},"Asia/Tokyo":{u:540,c:["JP"]},"Asia/Tomsk":{u:420,c:["RU"]},"Asia/Ujung_Pandang":{a:"Asia/Makassar",r:1},"Asia/Ulaanbaatar":{u:480,c:["MN"]},"Asia/Ulan_Bator":{a:"Asia/Ulaanbaatar",r:1},"Asia/Urumqi":{u:360,c:["CN"]},"Asia/Ust-Nera":{u:600,c:["RU"]},"Asia/Vientiane":{a:"Asia/Bangkok",c:["LA"],r:1},"Asia/Vladivostok":{u:600,c:["RU"]},"Asia/Yakutsk":{u:540,c:["RU"]},"Asia/Yangon":{u:390,c:["MM"]},"Asia/Yekaterinburg":{u:300,c:["RU"]},"Asia/Yerevan":{u:240,c:["AM"]},"Atlantic/Azores":{u:-60,d:0,c:["PT"]},"Atlantic/Bermuda":{u:-240,d:-180,c:["BM"]},"Atlantic/Canary":{u:0,d:60,c:["ES"]},"Atlantic/Cape_Verde":{u:-60,c:["CV"]},"Atlantic/Faeroe":{a:"Atlantic/Faroe",r:1},"Atlantic/Faroe":{u:0,d:60,c:["FO"]},"Atlantic/Jan_Mayen":{a:"Europe/Oslo",c:["SJ"],r:1},"Atlantic/Madeira":{u:0,d:60,c:["PT"]},"Atlantic/Reykjavik":{u:0,c:["IS"]},"Atlantic/South_Georgia":{u:-120,c:["GS"]},"Atlantic/St_Helena":{a:"Africa/Abidjan",c:["SH"],r:1},"Atlantic/Stanley":{u:-180,c:["FK"]},"Australia/ACT":{a:"Australia/Sydney",r:1},"Australia/Adelaide":{u:570,d:630,c:["AU"]},"Australia/Brisbane":{u:600,c:["AU"]},"Australia/Broken_Hill":{u:570,d:630,c:["AU"]},"Australia/Canberra":{a:"Australia/Sydney",r:1},"Australia/Currie":{a:"Australia/Hobart",r:1},"Australia/Darwin":{u:570,c:["AU"]},"Australia/Eucla":{u:525,c:["AU"]},"Australia/Hobart":{u:600,d:660,c:["AU"]},"Australia/LHI":{a:"Australia/Lord_Howe",r:1},"Australia/Lindeman":{u:600,c:["AU"]},"Australia/Lord_Howe":{u:630,d:660,c:["AU"]},"Australia/Melbourne":{u:600,d:660,c:["AU"]},"Australia/NSW":{a:"Australia/Sydney",r:1},"Australia/North":{a:"Australia/Darwin",r:1},"Australia/Perth":{u:480,c:["AU"]},"Australia/Queensland":{a:"Australia/Brisbane",r:1},"Australia/South":{a:"Australia/Adelaide",r:1},"Australia/Sydney":{u:600,d:660,c:["AU"]},"Australia/Tasmania":{a:"Australia/Hobart",r:1},"Australia/Victoria":{a:"Australia/Melbourne",r:1},"Australia/West":{a:"Australia/Perth",r:1},"Australia/Yancowinna":{a:"Australia/Broken_Hill",r:1},"Brazil/Acre":{a:"America/Rio_Branco",r:1},"Brazil/DeNoronha":{a:"America/Noronha",r:1},"Brazil/East":{a:"America/Sao_Paulo",r:1},"Brazil/West":{a:"America/Manaus",r:1},CET:{u:60,d:120},CST6CDT:{u:-360,d:-300},"Canada/Atlantic":{a:"America/Halifax",r:1},"Canada/Central":{a:"America/Winnipeg",r:1},"Canada/Eastern":{a:"America/Toronto",c:["CA"],r:1},"Canada/Mountain":{a:"America/Edmonton",r:1},"Canada/Newfoundland":{a:"America/St_Johns",r:1},"Canada/Pacific":{a:"America/Vancouver",r:1},"Canada/Saskatchewan":{a:"America/Regina",r:1},"Canada/Yukon":{a:"America/Whitehorse",r:1},"Chile/Continental":{a:"America/Santiago",r:1},"Chile/EasterIsland":{a:"Pacific/Easter",r:1},Cuba:{a:"America/Havana",r:1},EET:{u:120,d:180},EST:{u:-300},EST5EDT:{u:-300,d:-240},Egypt:{a:"Africa/Cairo",r:1},Eire:{a:"Europe/Dublin",r:1},"Etc/GMT":{u:0},"Etc/GMT+0":{a:"Etc/GMT",r:1},"Etc/GMT+1":{u:-60},"Etc/GMT+10":{u:-600},"Etc/GMT+11":{u:-660},"Etc/GMT+12":{u:-720},"Etc/GMT+2":{u:-120},"Etc/GMT+3":{u:-180},"Etc/GMT+4":{u:-240},"Etc/GMT+5":{u:-300},"Etc/GMT+6":{u:-360},"Etc/GMT+7":{u:-420},"Etc/GMT+8":{u:-480},"Etc/GMT+9":{u:-540},"Etc/GMT-0":{a:"Etc/GMT",r:1},"Etc/GMT-1":{u:60},"Etc/GMT-10":{u:600},"Etc/GMT-11":{u:660},"Etc/GMT-12":{u:720},"Etc/GMT-13":{u:780},"Etc/GMT-14":{u:840},"Etc/GMT-2":{u:120},"Etc/GMT-3":{u:180},"Etc/GMT-4":{u:240},"Etc/GMT-5":{u:300},"Etc/GMT-6":{u:360},"Etc/GMT-7":{u:420},"Etc/GMT-8":{u:480},"Etc/GMT-9":{u:540},"Etc/GMT0":{a:"Etc/GMT",r:1},"Etc/Greenwich":{a:"Etc/GMT",r:1},"Etc/UCT":{a:"Etc/UTC",r:1},"Etc/UTC":{u:0},"Etc/Universal":{a:"Etc/UTC",r:1},"Etc/Zulu":{a:"Etc/UTC",r:1},"Europe/Amsterdam":{u:60,d:120,c:["NL"]},"Europe/Andorra":{u:60,d:120,c:["AD"]},"Europe/Astrakhan":{u:240,c:["RU"]},"Europe/Athens":{u:120,d:180,c:["GR"]},"Europe/Belfast":{a:"Europe/London",c:["GB"],r:1},"Europe/Belgrade":{u:60,d:120,c:["RS","BA","HR","ME","MK","SI"]},"Europe/Berlin":{u:60,d:120,c:["DE"]},"Europe/Bratislava":{a:"Europe/Prague",c:["SK"],r:1},"Europe/Brussels":{u:60,d:120,c:["BE"]},"Europe/Bucharest":{u:120,d:180,c:["RO"]},"Europe/Budapest":{u:60,d:120,c:["HU"]},"Europe/Busingen":{a:"Europe/Zurich",c:["DE"],r:1},"Europe/Chisinau":{u:120,d:180,c:["MD"]},"Europe/Copenhagen":{u:60,d:120,c:["DK"]},"Europe/Dublin":{u:60,d:0,c:["IE"]},"Europe/Gibraltar":{u:60,d:120,c:["GI"]},"Europe/Guernsey":{a:"Europe/London",c:["GG"],r:1},"Europe/Helsinki":{u:120,d:180,c:["FI","AX"]},"Europe/Isle_of_Man":{a:"Europe/London",c:["IM"],r:1},"Europe/Istanbul":{u:180,c:["TR"]},"Europe/Jersey":{a:"Europe/London",c:["JE"],r:1},"Europe/Kaliningrad":{u:120,c:["RU"]},"Europe/Kiev":{u:120,d:180,c:["UA"]},"Europe/Kirov":{u:180,c:["RU"]},"Europe/Lisbon":{u:0,d:60,c:["PT"]},"Europe/Ljubljana":{a:"Europe/Belgrade",c:["SI"],r:1},"Europe/London":{u:0,d:60,c:["GB","GG","IM","JE"]},"Europe/Luxembourg":{u:60,d:120,c:["LU"]},"Europe/Madrid":{u:60,d:120,c:["ES"]},"Europe/Malta":{u:60,d:120,c:["MT"]},"Europe/Mariehamn":{a:"Europe/Helsinki",c:["AX"],r:1},"Europe/Minsk":{u:180,c:["BY"]},"Europe/Monaco":{u:60,d:120,c:["MC"]},"Europe/Moscow":{u:180,c:["RU"]},"Europe/Nicosia":{a:"Asia/Nicosia",r:1},"Europe/Oslo":{u:60,d:120,c:["NO","SJ","BV"]},"Europe/Paris":{u:60,d:120,c:["FR"]},"Europe/Podgorica":{a:"Europe/Belgrade",c:["ME"],r:1},"Europe/Prague":{u:60,d:120,c:["CZ","SK"]},"Europe/Riga":{u:120,d:180,c:["LV"]},"Europe/Rome":{u:60,d:120,c:["IT","SM","VA"]},"Europe/Samara":{u:240,c:["RU"]},"Europe/San_Marino":{a:"Europe/Rome",c:["SM"],r:1},"Europe/Sarajevo":{a:"Europe/Belgrade",c:["BA"],r:1},"Europe/Saratov":{u:240,c:["RU"]},"Europe/Simferopol":{u:180,c:["RU","UA"]},"Europe/Skopje":{a:"Europe/Belgrade",c:["MK"],r:1},"Europe/Sofia":{u:120,d:180,c:["BG"]},"Europe/Stockholm":{u:60,d:120,c:["SE"]},"Europe/Tallinn":{u:120,d:180,c:["EE"]},"Europe/Tirane":{u:60,d:120,c:["AL"]},"Europe/Tiraspol":{a:"Europe/Chisinau",r:1},"Europe/Ulyanovsk":{u:240,c:["RU"]},"Europe/Uzhgorod":{u:120,d:180,c:["UA"]},"Europe/Vaduz":{a:"Europe/Zurich",c:["LI"],r:1},"Europe/Vatican":{a:"Europe/Rome",c:["VA"],r:1},"Europe/Vienna":{u:60,d:120,c:["AT"]},"Europe/Vilnius":{u:120,d:180,c:["LT"]},"Europe/Volgograd":{u:180,c:["RU"]},"Europe/Warsaw":{u:60,d:120,c:["PL"]},"Europe/Zagreb":{a:"Europe/Belgrade",c:["HR"],r:1},"Europe/Zaporozhye":{u:120,d:180,c:["UA"]},"Europe/Zurich":{u:60,d:120,c:["CH","DE","LI"]},Factory:{u:0},GB:{a:"Europe/London",c:["GB"],r:1},"GB-Eire":{a:"Europe/London",c:["GB"],r:1},GMT:{a:"Etc/GMT",r:1},"GMT+0":{a:"Etc/GMT",r:1},"GMT-0":{a:"Etc/GMT",r:1},GMT0:{a:"Etc/GMT",r:1},Greenwich:{a:"Etc/GMT",r:1},HST:{u:-600},Hongkong:{a:"Asia/Hong_Kong",r:1},Iceland:{a:"Atlantic/Reykjavik",r:1},"Indian/Antananarivo":{a:"Africa/Nairobi",c:["MG"],r:1},"Indian/Chagos":{u:360,c:["IO"]},"Indian/Christmas":{u:420,c:["CX"]},"Indian/Cocos":{u:390,c:["CC"]},"Indian/Comoro":{a:"Africa/Nairobi",c:["KM"],r:1},"Indian/Kerguelen":{u:300,c:["TF","HM"]},"Indian/Mahe":{u:240,c:["SC"]},"Indian/Maldives":{u:300,c:["MV"]},"Indian/Mauritius":{u:240,c:["MU"]},"Indian/Mayotte":{a:"Africa/Nairobi",c:["YT"],r:1},"Indian/Reunion":{u:240,c:["RE","TF"]},Iran:{a:"Asia/Tehran",r:1},Israel:{a:"Asia/Jerusalem",r:1},Jamaica:{a:"America/Jamaica",r:1},Japan:{a:"Asia/Tokyo",r:1},Kwajalein:{a:"Pacific/Kwajalein",r:1},Libya:{a:"Africa/Tripoli",r:1},MET:{u:60,d:120},MST:{u:-420},MST7MDT:{u:-420,d:-360},"Mexico/BajaNorte":{a:"America/Tijuana",r:1},"Mexico/BajaSur":{a:"America/Mazatlan",r:1},"Mexico/General":{a:"America/Mexico_City",r:1},NZ:{a:"Pacific/Auckland",c:["NZ"],r:1},"NZ-CHAT":{a:"Pacific/Chatham",r:1},Navajo:{a:"America/Denver",r:1},PRC:{a:"Asia/Shanghai",r:1},PST8PDT:{u:-480,d:-420},"Pacific/Apia":{u:780,c:["WS"]},"Pacific/Auckland":{u:720,d:780,c:["NZ","AQ"]},"Pacific/Bougainville":{u:660,c:["PG"]},"Pacific/Chatham":{u:765,d:825,c:["NZ"]},"Pacific/Chuuk":{u:600,c:["FM"]},"Pacific/Easter":{u:-360,d:-300,c:["CL"]},"Pacific/Efate":{u:660,c:["VU"]},"Pacific/Enderbury":{a:"Pacific/Kanton",r:1},"Pacific/Fakaofo":{u:780,c:["TK"]},"Pacific/Fiji":{u:720,d:780,c:["FJ"]},"Pacific/Funafuti":{u:720,c:["TV"]},"Pacific/Galapagos":{u:-360,c:["EC"]},"Pacific/Gambier":{u:-540,c:["PF"]},"Pacific/Guadalcanal":{u:660,c:["SB"]},"Pacific/Guam":{u:600,c:["GU","MP"]},"Pacific/Honolulu":{u:-600,c:["US","UM"]},"Pacific/Johnston":{a:"Pacific/Honolulu",c:["UM"],r:1},"Pacific/Kanton":{u:780,c:["KI"]},"Pacific/Kiritimati":{u:840,c:["KI"]},"Pacific/Kosrae":{u:660,c:["FM"]},"Pacific/Kwajalein":{u:720,c:["MH"]},"Pacific/Majuro":{u:720,c:["MH"]},"Pacific/Marquesas":{u:-510,c:["PF"]},"Pacific/Midway":{a:"Pacific/Pago_Pago",c:["UM"],r:1},"Pacific/Nauru":{u:720,c:["NR"]},"Pacific/Niue":{u:-660,c:["NU"]},"Pacific/Norfolk":{u:660,d:720,c:["NF"]},"Pacific/Noumea":{u:660,c:["NC"]},"Pacific/Pago_Pago":{u:-660,c:["AS","UM"]},"Pacific/Palau":{u:540,c:["PW"]},"Pacific/Pitcairn":{u:-480,c:["PN"]},"Pacific/Pohnpei":{u:660,c:["FM"]},"Pacific/Ponape":{a:"Pacific/Pohnpei",r:1},"Pacific/Port_Moresby":{u:600,c:["PG","AQ"]},"Pacific/Rarotonga":{u:-600,c:["CK"]},"Pacific/Saipan":{a:"Pacific/Guam",c:["MP"],r:1},"Pacific/Samoa":{a:"Pacific/Pago_Pago",c:["WS"],r:1},"Pacific/Tahiti":{u:-600,c:["PF"]},"Pacific/Tarawa":{u:720,c:["KI"]},"Pacific/Tongatapu":{u:780,c:["TO"]},"Pacific/Truk":{a:"Pacific/Chuuk",r:1},"Pacific/Wake":{u:720,c:["UM"]},"Pacific/Wallis":{u:720,c:["WF"]},"Pacific/Yap":{a:"Pacific/Chuuk",r:1},Poland:{a:"Europe/Warsaw",r:1},Portugal:{a:"Europe/Lisbon",r:1},ROC:{a:"Asia/Taipei",r:1},ROK:{a:"Asia/Seoul",r:1},Singapore:{a:"Asia/Singapore",c:["SG"],r:1},Turkey:{a:"Europe/Istanbul",r:1},UCT:{a:"Etc/UTC",r:1},"US/Alaska":{a:"America/Anchorage",r:1},"US/Aleutian":{a:"America/Adak",r:1},"US/Arizona":{a:"America/Phoenix",c:["US"],r:1},"US/Central":{a:"America/Chicago",r:1},"US/East-Indiana":{a:"America/Indiana/Indianapolis",r:1},"US/Eastern":{a:"America/New_York",r:1},"US/Hawaii":{a:"Pacific/Honolulu",c:["US"],r:1},"US/Indiana-Starke":{a:"America/Indiana/Knox",r:1},"US/Michigan":{a:"America/Detroit",r:1},"US/Mountain":{a:"America/Denver",r:1},"US/Pacific":{a:"America/Los_Angeles",r:1},"US/Samoa":{a:"Pacific/Pago_Pago",c:["WS"],r:1},UTC:{a:"Etc/UTC",r:1},Universal:{a:"Etc/UTC",r:1},"W-SU":{a:"Europe/Moscow",r:1},WET:{u:0,d:60},Zulu:{a:"Etc/UTC",r:1}},Vu={countries:H5,timezones:Y5},ng;function j5(e,t){var r=e.countries[t];if(!r)return null;var n=W5(e)[t]||{};return{id:t,name:r,timezones:n.current||[],allTimezones:n.all||[]}}function W5(e){return ng||(ng=z5(e)),ng}function z5(e){return Object.keys(e.timezones).reduce(function(t,r){var n=e.timezones[r],i=n.c,a=n.a,s=e.timezones[a]||{},u=i||s.c;return u&&u.forEach(function(c){t[c]||Object.assign(t,Gf({},c,{current:[],all:[]})),n.r===void 0&&t[c].current.push(r),t[c].all.push(r)}),t},{})}function J5(e,t){var r=e.timezones[t];if(!r)return null;var n=r.a,i=n===void 0?null:n,a=i?e.timezones[i]:{},s=Ku(Ku({},a),e.timezones[t]),u=s.c||[],c=s.u,f=Number.isInteger(s.d)?s.d:c,d={name:t,countries:u,utcOffset:c,utcOffsetStr:lw(c),dstOffset:f,dstOffsetStr:lw(f),aliasOf:i};return r.r&&(d.deprecated=!0),d}function lw(e){var t=Math.floor(e/60),r=e%60,n=e<0?"-":"+";return"".concat(n).concat(cw(t),":").concat(cw(r))}function cw(e){var t=Math.abs(e),r=t<10?"0":"";return"".concat(r).concat(t)}var Q5=["allTimezones"],X5=Object.keys(Vu.timezones).length,ig={},Hu={},fw=0;function Z5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(Vu.countries).reduce(function(t,r){return Object.assign(t,Gf({},r,Kf(r,e)))},{})}function $5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return X5!==fw&&Object.keys(Vu.timezones).forEach(Vf),iU(Hu,e)}function Kf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ig[e]||eU(j5(Vu,e)),aU(ig[e],t)}function eU(e){!e||(ig[e.id]=e)}function Vf(e){return Hu[e]||tU(J5(Vu,e)),Hu[e]?Ku({},Hu[e]):null}function tU(e){!e||(Hu[e.name]=e,fw=Object.keys(e).length)}function dw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=Vf(e)||{},n=r.countries||[];return n.map(function(i){return Kf(i,t)})}function rU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=dw(e,t),n=F5(r,1),i=n[0];return i||null}function nU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=Kf(e,t);if(!r)return null;var n=r.timezones||[];return n.map(Vf)}function iU(e,t){var r=t||{},n=r.deprecated;return n===!0?e:Object.keys(e).reduce(function(i,a){return e[a].deprecated||Object.assign(i,Gf({},a,e[a])),i},{})}function aU(e,t){if(!e)return null;var r=t||{},n=r.deprecated;e.allTimezones;var i=U5(e,Q5),a=n?e.allTimezones:e.timezones;return Ku(Ku({},i),{},{timezones:a})}var hw={getCountry:Kf,getTimezone:Vf,getAllCountries:Z5,getAllTimezones:$5,getTimezonesForCountry:nU,getCountriesForTimezone:dw,getCountryForTimezone:rU};var pw=Pt(require("obsidian")),Hf=new Map,ag=(e,t)=>encodeURIComponent(`${e}T00:00:00${t}`);function ci(){Hf.clear()}function sU(e,t,r,n){return U(this,null,function*(){let i,a=2500,s=[];try{do{let u=`https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(t.id)}/events`;u+=`?key=${e.settings.googleApiToken}`,u+=`&maxResults=${a}`,u+="&singleEvents=True",u+="&orderBy=startTime",u+=`&timeMin=${r}`,u+=`&timeMax=${n}`,i&&i.nextPageToken&&(u+=`&nextPageToken=${i.nextPageToken}`),i=yield(yield(0,pw.requestUrl)({url:u,method:"GET",contentType:"application/json",headers:{Authorization:"Bearer "+(yield Hn())}})).json,i.items.forEach(d=>{d.parent=t});let f=i.items.filter(d=>d.status!="cancelled");s=[...s,...f]}while(i.items.length==a)}catch(u){return console.log(u),dr("Could not load google events"),[]}return s})}function oU(e,t,r){let n=[];return e.forEach(i=>{if(i.start.dateTime&&i.end.dateTime){let a=window.moment(i.end.dateTime),s=window.moment(i.start.dateTime);if(!s.isSame(a,"day")){let u=[],c=a.endOf("day").diff(s.startOf("day"),"days")+1,f=i.summary,d=1;do i.summary=`${f} (Day ${d}/${c})`,i.eventType="multiDay",u=[...u,structuredClone(i)],d++,s=s.add(1,"days"),i.start.dateTime=s.format("YYYY-MM-DD HH:mm");while(!s.isAfter(a,"day"));u=u.filter(p=>{let g=window.moment(p.start.dateTime);return!(t&&g.isBefore(t,"day")||r&&g.isSameOrAfter(r,"day"))}),i.eventType="delete",n=[...n,...u]}}}),e=[...e,...n],e}function Yu(e,t,r){return U(this,null,function*(){let n=$e.getInstance();t||(t=window.moment());let i=hw.getTimezone(e.timeZone),a=ag(t.format("YYYY-MM-DD"),i.dstOffsetStr),s="";r||(r=t.clone().add(1,"day")),s=ag(r.format("YYYY-MM-DD"),i.dstOffsetStr);let u=JSON.stringify({start:a,end:s,calendar:e.id});if(Hf.has(u)){let{events:f,updated:d}=Hf.get(u);if(d.clone().add(n.settings.refreshInterval,"second").isAfter(window.moment()))return f}let c=yield sU(n,e,a,s);return c=oU(c,t,r),c=c.filter(f=>f.eventType!=="delete").sort((f,d)=>{let p=window.moment(f.start.date||f.start.dateTime),g=window.moment(d.start.date||d.start.dateTime);return p.isBefore(g,"minute")?-1:1}),Hf.set(u,{events:c,updated:window.moment()}),c})}function Ar(e,t){return U(this,null,function*(){e||(e=window.moment());try{let r=yield tn(),n=[];for(let i=0;i<r.length;i++){let a=yield Yu(r[i],e,t);n=[...n,...a]}return n=n.sort((i,a)=>{let s=window.moment(i.start.date||i.start.dateTime),u=window.moment(a.start.date||a.start.dateTime);return s.isBefore(u,"minute")?-1:1}),n}catch(r){return console.log(r),dr("Could not load google events"),[]}})}function gw(e){return U(this,null,function*(){let t=e.clone().startOf("month"),r=e.clone().endOf("month");return yield Ar(t,r)})}var cS=Pt(require("obsidian"));var lS=Pt(require("obsidian"));function bt(){}function sg(e){return e()}function mw(){return Object.create(null)}function Mr(e){e.forEach(sg)}function yw(e){return typeof e=="function"}function pn(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}var Yf;function ju(e,t){return Yf||(Yf=document.createElement("a")),Yf.href=t,e===Yf.href}function vw(e){return Object.keys(e).length===0}function Bo(e){return e==null?"":e}var vK=typeof window!="undefined";var _K=new Set;var _w=!1;function uU(){_w=!0}function lU(){_w=!1}function te(e,t){e.appendChild(t)}function Yn(e,t,r){let n=cU(e);if(!n.getElementById(t)){let i=ie("style");i.id=t,i.textContent=r,fU(n,i)}}function cU(e){if(!e)return document;let t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function fU(e,t){te(e.head||e,t)}function Ae(e,t,r){e.insertBefore(t,r||null)}function Ee(e){e.parentNode.removeChild(e)}function Vr(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function ie(e){return document.createElement(e)}function Jt(e){return document.createTextNode(e)}function Be(){return Jt(" ")}function jn(){return Jt("")}function Je(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function ee(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function Wu(e){return e===""?null:+e}function dU(e){return Array.from(e.childNodes)}function Wn(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function rn(e,t){e.value=t==null?"":t}function et(e,t,r,n){r===null?e.style.removeProperty(t):e.style.setProperty(t,r,n?"important":"")}function Ri(e,t){for(let r=0;r<e.options.length;r+=1){let n=e.options[r];if(n.__value===t){n.selected=!0;return}}e.selectedIndex=-1}function Ro(e){let t=e.querySelector(":checked")||e.options[0];return t&&t.__value}var EK=new Map;var zu;function Ju(e){zu=e}function Ew(){if(!zu)throw new Error("Function called outside component initialization");return zu}function Qu(e){Ew().$$.on_mount.push(e)}function ms(e){Ew().$$.on_destroy.push(e)}var Xu=[];var zn=[],jf=[],og=[],hU=Promise.resolve(),ug=!1;function pU(){ug||(ug=!0,hU.then(Cw))}function ta(e){jf.push(e)}function ys(e){og.push(e)}var lg=new Set,Wf=0;function Cw(){let e=zu;do{for(;Wf<Xu.length;){let t=Xu[Wf];Wf++,Ju(t),gU(t.$$)}for(Ju(null),Xu.length=0,Wf=0;zn.length;)zn.pop()();for(let t=0;t<jf.length;t+=1){let r=jf[t];lg.has(r)||(lg.add(r),r())}jf.length=0}while(Xu.length);for(;og.length;)og.pop()();ug=!1,lg.clear(),Ju(e)}function gU(e){if(e.fragment!==null){e.update(),Mr(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ta)}}var zf=new Set,vs;function Jf(){vs={r:0,c:[],p:vs}}function Qf(){vs.r||Mr(vs.c),vs=vs.p}function Jn(e,t){e&&e.i&&(zf.delete(e),e.i(t))}function fi(e,t,r,n){if(e&&e.o){if(zf.has(e))return;zf.add(e),vs.c.push(()=>{zf.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}else n&&n()}var CK=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var AK=new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);function _s(e,t,r){let n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}function Zu(e){e&&e.c()}function No(e,t,r,n){let{fragment:i,on_mount:a,on_destroy:s,after_update:u}=e.$$;i&&i.m(t,r),n||ta(()=>{let c=a.map(sg).filter(yw);s?s.push(...c):Mr(c),e.$$.on_mount=[]}),u.forEach(ta)}function Es(e,t){let r=e.$$;r.fragment!==null&&(Mr(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function mU(e,t){e.$$.dirty[0]===-1&&(Xu.push(e),pU(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function gn(e,t,r,n,i,a,s,u=[-1]){let c=zu;Ju(e);let f=e.$$={fragment:null,ctx:null,props:a,update:bt,not_equal:i,bound:mw(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:mw(),dirty:u,skip_bound:!1,root:t.target||c.$$.root};s&&s(f.root);let d=!1;if(f.ctx=r?r(e,t.props||{},(p,g,...v)=>{let m=v.length?v[0]:g;return f.ctx&&i(f.ctx[p],f.ctx[p]=m)&&(!f.skip_bound&&f.bound[p]&&f.bound[p](m),d&&mU(e,p)),g}):[],f.update(),d=!0,Mr(f.before_update),f.fragment=n?n(f.ctx):!1,t.target){if(t.hydrate){uU();let p=dU(t.target);f.fragment&&f.fragment.l(p),p.forEach(Ee)}else f.fragment&&f.fragment.c();t.intro&&Jn(e.$$.fragment),No(e,t.target,t.anchor,t.customElement),lU(),Cw()}Ju(c)}var yU;typeof HTMLElement=="function"&&(yU=class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(sg).filter(yw);for(let t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(e,t,r){this[e]=r}disconnectedCallback(){Mr(this.$$.on_disconnect)}$destroy(){Es(this,1),this.$destroy=bt}$on(e,t){let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{let n=r.indexOf(t);n!==-1&&r.splice(n,1)}}$set(e){this.$$set&&!vw(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var nn=class{$destroy(){Es(this,1),this.$destroy=bt}$on(t,r){let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!vw(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};var Kw=Pt(fg()),{__extends:SK,__assign:TK,__rest:xK,__decorate:IK,__param:kK,__metadata:BK,__awaiter:yr,__generator:RK,__exportStar:NK,__createBinding:DK,__values:LK,__read:PK,__spread:OK,__spreadArrays:MK,__spreadArray:UK,__await:FK,__asyncGenerator:qK,__asyncDelegator:GK,__asyncValues:KK,__makeTemplateObject:VK,__importStar:HK,__importDefault:YK,__classPrivateFieldGet:jK,__classPrivateFieldSet:WK}=Kw.default;var Vw=Pt(require("obsidian"));function ed(e,t=!1){return U(this,null,function*(){var a;let r=$e.getInstance(),n=(a=e.recurringEventId)!=null?a:e.id;return t&&e.recurringEventId&&(n=e.id),(yield(0,Vw.requestUrl)({url:`https://www.googleapis.com/calendar/v3/calendars/${e.parent.id}/events/${n}?key=${r.settings.googleApiToken}`,method:"DELETE",contentType:"application/json",headers:{Authorization:"Bearer "+(yield Hn())}})).status==204})}var Hw=Pt(require("obsidian"));function td(e,t=!1){return U(this,null,function*(){var a;let r=$e.getInstance(),n=(a=e.recurringEventId)!=null?a:e.id;t&&e.recurringEventId&&(n=e.id);let i=e.parent.id;delete e.parent;try{return yield(yield(0,Hw.requestUrl)({url:`https://www.googleapis.com/calendar/v3/calendars/${i}/events/${n}?key=${r.settings.googleApiToken}`,method:"PUT",contentType:"application/json",headers:{Authorization:"Bearer "+(yield Hn())},body:JSON.stringify(e)})).json}catch(s){dr("Could not delete google event");return}})}var Yw=Pt(require("obsidian"));function jw(e){return U(this,null,function*(){let t=$e.getInstance(),r=e.parent.id;e.start.timeZone=e.parent.timeZone,e.end.timeZone=e.parent.timeZone,delete e.parent;try{return yield(yield(0,Yw.requestUrl)({url:`https://www.googleapis.com/calendar/v3/calendars/${r}/events?key=${t.settings.googleApiToken}`,method:"POST",headers:{Authorization:"Bearer "+(yield Hn())},body:JSON.stringify(e)})).json}catch(n){return dr("Could not create google event"),null}})}var ra=Pt(require("obsidian"));var Ww=Pt(rd()),dg=e=>U(void 0,null,function*(){var s,u;if(!e.settings.autoCreateEventNotes||!Sn())return;let t=Math.abs(e.settings.importStartOffset),r=Math.abs(e.settings.importEndOffset),n=window.moment().local().subtract(t,"day"),i=window.moment().local().add(r,"day"),a=yield Ar(n,i);for(let c=0;c<a.length;c++){let f=(u=(s=a[c].description)==null?void 0:s.match(/:(.*-)?obsidian-?(.*)?:/))!=null?u:[];f.length==3&&(yield Jw(a[c],f[1],f[2]))}}),zw=e=>U(void 0,null,function*(){var r,n;if(!Sn())return;let t=(n=(r=e.description)==null?void 0:r.match(/:(.*-)?obsidian-?(.*)?:/))!=null?n:[];yield Jw(e,t==null?void 0:t[1],t==null?void 0:t[2])}),Jw=(e,t,r)=>U(void 0,null,function*(){let n=$e.getInstance(),{vault:i}=n.app,{adapter:a}=i,s=app.fileManager.getNewFileParent("").path;t&&(t.endsWith("-")&&(t=t.slice(0,-1)),t="/"+t.split(/[/\\]/).join("/"),(yield a.exists(t))&&(s=t));let u=(0,ra.normalizePath)(`${s}/${e.summary}.md`);if(yield a.exists(u))return;let c=yield i.create(u,"");if(dr(`EventNote ${e.summary} created.`),!n.coreTemplatePlugin&&!n.templaterPlugin||!r)return;r.match(/.*\.md/)||(r=r+".md");let f={state:{mode:"source"},active:!0},d=yield app.workspace.getLeaf(!0);if(yield d.setViewState({type:"MarkdownView"}),yield app.workspace.setActiveLeaf(d,!1,!0),yield d.openFile(c,f),n.templaterPlugin&&n.coreTemplatePlugin?(yield g())||(yield p())||dr("Template not compatable"):n.templaterPlugin?(yield g())||dr("Template not compatable"):n.coreTemplatePlugin&&((yield p())||dr("Template not compatable")),d.view instanceof ra.MarkdownView){let v=d.view.editor.getValue(),m=v,E=/{{gEvent\.([^}>]*)}}/gm,_,C=[];do _=E.exec(v),C.push(_);while(_);C.forEach(B=>{if(B){let R=Ww.default.get(e,B[1],"");R===Object(R)&&(R=JSON.stringify(R)),v=v.replace(B[0],R!=null?R:"")}}),v!==m&&d.view.editor.setValue(v)}n.settings.autoCreateEventKeepOpen||d.detach();function p(){return U(this,null,function*(){let v=(0,ra.normalizePath)(n.coreTemplatePlugin.instance.options.folder),m=`${v}/${r}`;if(v==="/"&&(m=r),!(yield a.exists(m)))return dr(`Core Template: ${r} doesn't exit.`),!1;let E=i.getAbstractFileByPath(m);if(!(E instanceof ra.TFile))return!1;let _=yield i.cachedRead(E);if(_.contains("<%")&&_.contains("%>"))return!1;try{return yield n.coreTemplatePlugin.instance.insertTemplate(E),!0}catch(C){return!1}})}function g(){return U(this,null,function*(){let v=(0,ra.normalizePath)(n.templaterPlugin.settings.templates_folder),m=`${v}/${r}`;if(v==="/"&&(m=r),!(yield a.exists(m)))return dr(`Templater Template: ${r} doesn't exit.`),!1;let E=n.app.vault.getAbstractFileByPath(m);if(!(E instanceof ra.TFile))return!1;let _=yield i.cachedRead(E);if(_=_.replace(/{{gEvent\.([^}>]*)}}/gm,""),_.contains("{{")&&_.contains("}}"))return!1;try{return yield n.templaterPlugin.templater.append_template_to_active_file(E),!0}catch(C){return!1}})}});var nd=["MO","TU","WE","TH","FR","SA","SU"],vr=function(){function e(t,r){if(r===0)throw new Error("Can't create weekday with n == 0");this.weekday=t,this.n=r}return e.fromStr=function(t){return new e(nd.indexOf(t))},e.prototype.nth=function(t){return this.n===t?this:new e(this.weekday,t)},e.prototype.equals=function(t){return this.weekday===t.weekday&&this.n===t.n},e.prototype.toString=function(){var t=nd[this.weekday];return this.n&&(t=(this.n>0?"+":"")+String(this.n)+t),t},e.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},e}();var Qt=function(e){return e!=null},Tn=function(e){return typeof e=="number"},hg=function(e){return nd.indexOf(e)>=0},Ur=Array.isArray,Qn=function(e,t){t===void 0&&(t=e),arguments.length===1&&(t=e,e=0);for(var r=[],n=e;n<t;n++)r.push(n);return r};var Ct=function(e,t){var r=0,n=[];if(Ur(e))for(;r<t;r++)n[r]=[].concat(e);else for(;r<t;r++)n[r]=e;return n},Qw=function(e){return Ur(e)?e:[e]};function Cs(e,t,r){r===void 0&&(r=" ");var n=String(e);return t=t>>0,n.length>t?String(n):(t=t-n.length,t>r.length&&(r+=Ct(r,t/r.length)),r.slice(0,t)+String(n))}var Xw=function(e,t,r){var n=e.split(t);return r?n.slice(0,r).concat([n.slice(r).join(t)]):n},Hr=function(e,t){var r=e%t;return r*t<0?r+t:r},id=function(e,t){return{div:Math.floor(e/t),mod:Hr(e,t)}},xn=function(e){return!Qt(e)||e.length===0},hr=function(e){return!xn(e)},St=function(e,t){return hr(e)&&e.indexOf(t)!==-1};var La;(function(e){e.MONTH_DAYS=[31,28,31,30,31,30,31,31,30,31,30,31],e.ONE_DAY=1e3*60*60*24,e.MAXYEAR=9999,e.ORDINAL_BASE=new Date(Date.UTC(1970,0,1)),e.PY_WEEKDAYS=[6,0,1,2,3,4,5],e.getYearDay=function(t){var r=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate());return Math.ceil((r.valueOf()-new Date(t.getUTCFullYear(),0,1).valueOf())/e.ONE_DAY)+1},e.isLeapYear=function(t){return t%4==0&&t%100!=0||t%400==0},e.isDate=function(t){return t instanceof Date},e.isValidDate=function(t){return e.isDate(t)&&!isNaN(t.getTime())},e.tzOffset=function(t){return t.getTimezoneOffset()*60*1e3},e.daysBetween=function(t,r){var n=t.getTime()-e.tzOffset(t),i=r.getTime()-e.tzOffset(r),a=n-i;return Math.round(a/e.ONE_DAY)},e.toOrdinal=function(t){return e.daysBetween(t,e.ORDINAL_BASE)},e.fromOrdinal=function(t){return new Date(e.ORDINAL_BASE.getTime()+t*e.ONE_DAY)},e.getMonthDays=function(t){var r=t.getUTCMonth();return r===1&&e.isLeapYear(t.getUTCFullYear())?29:e.MONTH_DAYS[r]},e.getWeekday=function(t){return e.PY_WEEKDAYS[t.getUTCDay()]},e.monthRange=function(t,r){var n=new Date(Date.UTC(t,r,1));return[e.getWeekday(n),e.getMonthDays(n)]},e.combine=function(t,r){return r=r||t,new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()))},e.clone=function(t){var r=new Date(t.getTime());return r},e.cloneDates=function(t){for(var r=[],n=0;n<t.length;n++)r.push(e.clone(t[n]));return r},e.sort=function(t){t.sort(function(r,n){return r.getTime()-n.getTime()})},e.timeToUntilString=function(t,r){r===void 0&&(r=!0);var n=new Date(t);return[Cs(n.getUTCFullYear().toString(),4,"0"),Cs(n.getUTCMonth()+1,2,"0"),Cs(n.getUTCDate(),2,"0"),"T",Cs(n.getUTCHours(),2,"0"),Cs(n.getUTCMinutes(),2,"0"),Cs(n.getUTCSeconds(),2,"0"),r?"Z":""].join("")},e.untilStringToDate=function(t){var r=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,n=r.exec(t);if(!n)throw new Error("Invalid UNTIL value: "+t);return new Date(Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[5],10)||0,parseInt(n[6],10)||0,parseInt(n[7],10)||0))}})(La||(La={}));var ze=La;var vU=function(){function e(t,r){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=t,this.args=r,t==="between"?(this.maxDate=r.inc?r.before:new Date(r.before.getTime()-1),this.minDate=r.inc?r.after:new Date(r.after.getTime()+1)):t==="before"?this.maxDate=r.inc?r.dt:new Date(r.dt.getTime()-1):t==="after"&&(this.minDate=r.inc?r.dt:new Date(r.dt.getTime()+1))}return e.prototype.accept=function(t){++this.total;var r=this.minDate&&t<this.minDate,n=this.maxDate&&t>this.maxDate;if(this.method==="between"){if(r)return!0;if(n)return!1}else if(this.method==="before"){if(n)return!1}else if(this.method==="after")return r?!0:(this.add(t),!1);return this.add(t)},e.prototype.add=function(t){return this._result.push(t),!0},e.prototype.getValue=function(){var t=this._result;switch(this.method){case"all":case"between":return t;case"before":case"after":default:return t.length?t[t.length-1]:null}},e.prototype.clone=function(){return new e(this.method,this.args)},e}(),na=vU;var _b=Pt(vb()),{__extends:Oo,__assign:an,__rest:B9,__decorate:R9,__param:N9,__metadata:D9,__awaiter:L9,__generator:P9,__exportStar:O9,__createBinding:M9,__values:U9,__read:F9,__spread:q9,__spreadArrays:As,__await:G9,__asyncGenerator:K9,__asyncDelegator:V9,__asyncValues:H9,__makeTemplateObject:Y9,__importStar:j9,__importDefault:W9,__classPrivateFieldGet:z9,__classPrivateFieldSet:J9}=_b.default;var _U=function(e){Oo(t,e);function t(r,n,i){var a=e.call(this,r,n)||this;return a.iterator=i,a}return t.prototype.add=function(r){return this.iterator(r,this._result.length)?(this._result.push(r),!0):!1},t}(na),gg=_U;var EU={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},ws=EU;var Eb=function(e,t){return e.indexOf(t)!==-1},CU=function(e){return e.toString()},AU=function(e,t,r){return t+" "+r+", "+e},wU=function(){function e(t,r,n,i){if(r===void 0&&(r=CU),n===void 0&&(n=ws),i===void 0&&(i=AU),this.text=[],this.language=n||ws,this.gettext=r,this.dateFormatter=i,this.rrule=t,this.options=t.options,this.origOptions=t.origOptions,this.origOptions.bymonthday){var a=[].concat(this.options.bymonthday),s=[].concat(this.options.bynmonthday);a.sort(function(d,p){return d-p}),s.sort(function(d,p){return p-d}),this.bymonthday=a.concat(s),this.bymonthday.length||(this.bymonthday=null)}if(Qt(this.origOptions.byweekday)){var u=Ur(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],c=String(u);this.byweekday={allWeeks:u.filter(function(d){return!d.n}),someWeeks:u.filter(function(d){return Boolean(d.n)}),isWeekdays:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")===-1&&c.indexOf("SU")===-1,isEveryDay:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")!==-1&&c.indexOf("SU")!==-1};var f=function(d,p){return d.weekday-p.weekday};this.byweekday.allWeeks.sort(f),this.byweekday.someWeeks.sort(f),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return e.isFullyConvertible=function(t){var r=!0;if(!(t.options.freq in e.IMPLEMENTED)||t.origOptions.until&&t.origOptions.count)return!1;for(var n in t.origOptions){if(Eb(["dtstart","wkst","freq"],n))return!0;if(!Eb(e.IMPLEMENTED[t.options.freq],n))return!1}return r},e.prototype.isFullyConvertible=function(){return e.isFullyConvertible(this.rrule)},e.prototype.toString=function(){var t=this.gettext;if(!(this.options.freq in e.IMPLEMENTED))return t("RRule error: Unable to fully convert this rrule to text");if(this.text=[t("every")],this[De.FREQUENCIES[this.options.freq]](),this.options.until){this.add(t("until"));var r=this.options.until;this.add(this.dateFormatter(r.getUTCFullYear(),this.language.monthNames[r.getUTCMonth()],r.getUTCDate()))}else this.options.count&&this.add(t("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?t("times"):t("time"));return this.isFullyConvertible()||this.add(t("(~ approximate)")),this.text.join("")},e.prototype.HOURLY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("hours"):t("hour"))},e.prototype.MINUTELY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("minutes"):t("minute"))},e.prototype.DAILY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?t("weekdays"):t("weekday")):this.add(this.plural(this.options.interval)?t("days"):t("day")),this.origOptions.bymonth&&(this.add(t("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},e.prototype.WEEKLY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?t("weeks"):t("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?t("weekdays"):t("weekday")):this.add(t("on")).add(t("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?t("days"):t("day")):(this.options.interval===1&&this.add(t("week")),this.origOptions.bymonth&&(this.add(t("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday())},e.prototype.MONTHLY=function(){var t=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(t("months")),this.plural(this.options.interval)&&this.add(t("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("months"):t("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(t("on")).add(t("weekdays")):this.byweekday&&this._byweekday()},e.prototype.YEARLY=function(){var t=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(t("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("years"):t("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(t("on the")).add(this.list(this.options.byyearday,this.nth,t("and"))).add(t("day")),this.options.byweekno&&this.add(t("in")).add(this.plural(this.options.byweekno.length)?t("weeks"):t("week")).add(this.list(this.options.byweekno,void 0,t("and")))},e.prototype._bymonthday=function(){var t=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(t("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,t("or"))).add(t("the")).add(this.list(this.bymonthday,this.nth,t("or"))):this.add(t("on the")).add(this.list(this.bymonthday,this.nth,t("and")))},e.prototype._byweekday=function(){var t=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(t("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(t("and")),this.add(t("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,t("and"))))},e.prototype._byhour=function(){var t=this.gettext;this.add(t("at")).add(this.list(this.origOptions.byhour,void 0,t("and")))},e.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},e.prototype.nth=function(t){t=parseInt(t.toString(),10);var r,n,i=this.gettext;if(t===-1)return i("last");switch(n=Math.abs(t),n){case 1:case 21:case 31:r=n+i("st");break;case 2:case 22:r=n+i("nd");break;case 3:case 23:r=n+i("rd");break;default:r=n+i("th")}return t<0?r+" "+i("last"):r},e.prototype.monthtext=function(t){return this.language.monthNames[t-1]},e.prototype.weekdaytext=function(t){var r=Tn(t)?(t+1)%7:t.getJsWeekday();return(t.n?this.nth(t.n)+" ":"")+this.language.dayNames[r]},e.prototype.plural=function(t){return t%100!=1},e.prototype.add=function(t){return this.text.push(" "),this.text.push(t),this},e.prototype.list=function(t,r,n,i){i===void 0&&(i=","),Ur(t)||(t=[t]);var a=function(c,f,d){for(var p="",g=0;g<c.length;g++)g!==0&&(g===c.length-1?p+=" "+d+" ":p+=f+" "),p+=c[g];return p};r=r||function(c){return c.toString()};var s=this,u=function(c){return r&&r.call(s,c)};return n?a(t.map(u),i,n):t.map(u).join(i+" ")},e}(),Ni=wU;var bU=function(){function e(t){this.done=!0,this.rules=t}return e.prototype.start=function(t){return this.text=t,this.done=!1,this.nextSymbol()},e.prototype.isDone=function(){return this.done&&this.symbol===null},e.prototype.nextSymbol=function(){var t,r,n=this;this.symbol=null,this.value=null;do{if(this.done)return!1;var i=void 0;t=null;for(var a in this.rules){i=this.rules[a];var s=i.exec(n.text);s&&(t===null||s[0].length>t[0].length)&&(t=s,r=a)}if(t!=null&&(this.text=this.text.substr(t[0].length),this.text===""&&(this.done=!0)),t==null){this.done=!0,this.symbol=null,this.value=null;return}}while(r==="SKIP");return this.symbol=r,this.value=t,!0},e.prototype.accept=function(t){if(this.symbol===t){if(this.value){var r=this.value;return this.nextSymbol(),r}return this.nextSymbol(),!0}return!1},e.prototype.acceptNumber=function(){return this.accept("number")},e.prototype.expect=function(t){if(this.accept(t))return!0;throw new Error("expected "+t+" but found "+this.symbol)},e}();function el(e,t){t===void 0&&(t=ws);var r={},n=new bU(t.tokens);if(!n.start(e))return null;return i(),r;function i(){n.expect("every");var g=n.acceptNumber();if(g&&(r.interval=parseInt(g[0],10)),n.isDone())throw new Error("Unexpected end");switch(n.symbol){case"day(s)":r.freq=De.DAILY,n.nextSymbol()&&(s(),p());break;case"weekday(s)":r.freq=De.WEEKLY,r.byweekday=[De.MO,De.TU,De.WE,De.TH,De.FR],n.nextSymbol(),p();break;case"week(s)":r.freq=De.WEEKLY,n.nextSymbol()&&(a(),p());break;case"hour(s)":r.freq=De.HOURLY,n.nextSymbol()&&(a(),p());break;case"minute(s)":r.freq=De.MINUTELY,n.nextSymbol()&&(a(),p());break;case"month(s)":r.freq=De.MONTHLY,n.nextSymbol()&&(a(),p());break;case"year(s)":r.freq=De.YEARLY,n.nextSymbol()&&(a(),p());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":r.freq=De.WEEKLY;var v=n.symbol.substr(0,2).toUpperCase();if(r.byweekday=[De[v]],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var m=c();if(!m)throw new Error("Unexpected symbol "+n.symbol+", expected weekday");r.byweekday.push(De[m]),n.nextSymbol()}d(),p();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(r.freq=De.YEARLY,r.bymonth=[u()],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var E=u();if(!E)throw new Error("Unexpected symbol "+n.symbol+", expected month");r.bymonth.push(E),n.nextSymbol()}a(),p();break;default:throw new Error("Unknown symbol")}}function a(){var g=n.accept("on"),v=n.accept("the");if(!!(g||v))do{var m=f(),E=c(),_=u();if(m)E?(n.nextSymbol(),r.byweekday||(r.byweekday=[]),r.byweekday.push(De[E].nth(m))):(r.bymonthday||(r.bymonthday=[]),r.bymonthday.push(m),n.accept("day(s)"));else if(E)n.nextSymbol(),r.byweekday||(r.byweekday=[]),r.byweekday.push(De[E]);else if(n.symbol==="weekday(s)")n.nextSymbol(),r.byweekday||(r.byweekday=[De.MO,De.TU,De.WE,De.TH,De.FR]);else if(n.symbol==="week(s)"){n.nextSymbol();var C=n.acceptNumber();if(!C)throw new Error("Unexpected symbol "+n.symbol+", expected week number");for(r.byweekno=[parseInt(C[0],10)];n.accept("comma");){if(C=n.acceptNumber(),!C)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");r.byweekno.push(parseInt(C[0],10))}}else if(_)n.nextSymbol(),r.bymonth||(r.bymonth=[]),r.bymonth.push(_);else return}while(n.accept("comma")||n.accept("the")||n.accept("on"))}function s(){var g=n.accept("at");if(!!g)do{var v=n.acceptNumber();if(!v)throw new Error("Unexpected symbol "+n.symbol+", expected hour");for(r.byhour=[parseInt(v[0],10)];n.accept("comma");){if(v=n.acceptNumber(),!v)throw new Error("Unexpected symbol "+n.symbol+"; expected hour");r.byhour.push(parseInt(v[0],10))}}while(n.accept("comma")||n.accept("at"))}function u(){switch(n.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function c(){switch(n.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return n.symbol.substr(0,2).toUpperCase();default:return!1}}function f(){switch(n.symbol){case"last":return n.nextSymbol(),-1;case"first":return n.nextSymbol(),1;case"second":return n.nextSymbol(),n.accept("last")?-2:2;case"third":return n.nextSymbol(),n.accept("last")?-3:3;case"nth":var g=parseInt(n.value[1],10);if(g<-366||g>366)throw new Error("Nth out of range: "+g);return n.nextSymbol(),n.accept("last")?-g:g;default:return!1}}function d(){n.accept("on"),n.accept("the");var g=f();if(!!g)for(r.bymonthday=[g],n.nextSymbol();n.accept("comma");){if(g=f(),!g)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");r.bymonthday.push(g),n.nextSymbol()}}function p(){if(n.symbol==="until"){var g=Date.parse(n.text);if(!g)throw new Error("Cannot parse until date:"+n.text);r.until=new Date(g)}else n.accept("for")&&(r.count=parseInt(n.value[0],10),n.expect("number"))}}var Qe;(function(e){e[e.YEARLY=0]="YEARLY",e[e.MONTHLY=1]="MONTHLY",e[e.WEEKLY=2]="WEEKLY",e[e.DAILY=3]="DAILY",e[e.HOURLY=4]="HOURLY",e[e.MINUTELY=5]="MINUTELY",e[e.SECONDLY=6]="SECONDLY"})(Qe||(Qe={}));function tl(e){return e<Qe.HOURLY}var Cb=function(e,t){return t===void 0&&(t=ws),new De(el(e,t)||void 0)},Mo=["count","until","interval","byweekday","bymonthday","bymonth"];Ni.IMPLEMENTED=[];Ni.IMPLEMENTED[Qe.HOURLY]=Mo;Ni.IMPLEMENTED[Qe.MINUTELY]=Mo;Ni.IMPLEMENTED[Qe.DAILY]=["byhour"].concat(Mo);Ni.IMPLEMENTED[Qe.WEEKLY]=Mo;Ni.IMPLEMENTED[Qe.MONTHLY]=Mo;Ni.IMPLEMENTED[Qe.YEARLY]=["byweekno","byyearday"].concat(Mo);var Ab=function(e,t,r,n){return new Ni(e,t,r,n).toString()},wb=Ni.isFullyConvertible;var Uo=function(){function e(t,r,n,i){this.hour=t,this.minute=r,this.second=n,this.millisecond=i||0}return e.prototype.getHours=function(){return this.hour},e.prototype.getMinutes=function(){return this.minute},e.prototype.getSeconds=function(){return this.second},e.prototype.getMilliseconds=function(){return this.millisecond},e.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},e}();var bb=function(e){Oo(t,e);function t(r,n,i,a,s,u,c){var f=e.call(this,a,s,u,c)||this;return f.year=r,f.month=n,f.day=i,f}return t.fromDate=function(r){return new this(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.valueOf()%1e3)},t.prototype.getWeekday=function(){return La.getWeekday(new Date(this.getTime()))},t.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},t.prototype.getDay=function(){return this.day},t.prototype.getMonth=function(){return this.month},t.prototype.getYear=function(){return this.year},t.prototype.addYears=function(r){this.year+=r},t.prototype.addMonths=function(r){if(this.month+=r,this.month>12){var n=Math.floor(this.month/12),i=Hr(this.month,12);this.month=i,this.year+=n,this.month===0&&(this.month=12,--this.year)}},t.prototype.addWeekly=function(r,n){n>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-n))+r*7:this.day+=-(this.getWeekday()-n)+r*7,this.fixDay()},t.prototype.addDaily=function(r){this.day+=r,this.fixDay()},t.prototype.addHours=function(r,n,i){for(n&&(this.hour+=Math.floor((23-this.hour)/r)*r);;){this.hour+=r;var a=id(this.hour,24),s=a.div,u=a.mod;if(s&&(this.hour=u,this.addDaily(s)),xn(i)||St(i,this.hour))break}},t.prototype.addMinutes=function(r,n,i,a){for(n&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/r)*r);;){this.minute+=r;var s=id(this.minute,60),u=s.div,c=s.mod;if(u&&(this.minute=c,this.addHours(u,!1,i)),(xn(i)||St(i,this.hour))&&(xn(a)||St(a,this.minute)))break}},t.prototype.addSeconds=function(r,n,i,a,s){for(n&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/r)*r);;){this.second+=r;var u=id(this.second,60),c=u.div,f=u.mod;if(c&&(this.second=f,this.addMinutes(c,!1,i,a)),(xn(i)||St(i,this.hour))&&(xn(a)||St(a,this.minute))&&(xn(s)||St(s,this.second)))break}},t.prototype.fixDay=function(){if(!(this.day<=28)){var r=La.monthRange(this.year,this.month-1)[1];if(!(this.day<=r))for(;this.day>r;){if(this.day-=r,++this.month,this.month===13&&(this.month=1,++this.year,this.year>La.MAXYEAR))return;r=La.monthRange(this.year,this.month-1)[1]}}},t.prototype.add=function(r,n){var i=r.freq,a=r.interval,s=r.wkst,u=r.byhour,c=r.byminute,f=r.bysecond;switch(i){case Qe.YEARLY:return this.addYears(a);case Qe.MONTHLY:return this.addMonths(a);case Qe.WEEKLY:return this.addWeekly(a,s);case Qe.DAILY:return this.addDaily(a);case Qe.HOURLY:return this.addHours(a,n,u);case Qe.MINUTELY:return this.addMinutes(a,n,u,c);case Qe.SECONDLY:return this.addSeconds(a,n,u,c,f)}},t}(Uo);function mg(e){for(var t=[],r=Object.keys(e),n=0,i=r;n<i.length;n++){var a=i[n];St(xb,a)||t.push(a),ze.isDate(e[a])&&!ze.isValidDate(e[a])&&t.push(a)}if(t.length)throw new Error("Invalid options: "+t.join(", "));return an({},e)}function Sb(e){var t=an(an({},rl),mg(e));if(Qt(t.byeaster)&&(t.freq=De.YEARLY),!(Qt(t.freq)&&De.FREQUENCIES[t.freq]))throw new Error("Invalid frequency: "+t.freq+" "+e.freq);if(t.dtstart||(t.dtstart=new Date(new Date().setMilliseconds(0))),Qt(t.wkst)?Tn(t.wkst)||(t.wkst=t.wkst.weekday):t.wkst=De.MO.weekday,Qt(t.bysetpos)){Tn(t.bysetpos)&&(t.bysetpos=[t.bysetpos]);for(var r=0;r<t.bysetpos.length;r++){var n=t.bysetpos[r];if(n===0||!(n>=-366&&n<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(Boolean(t.byweekno)||hr(t.byweekno)||hr(t.byyearday)||Boolean(t.bymonthday)||hr(t.bymonthday)||Qt(t.byweekday)||Qt(t.byeaster)))switch(t.freq){case De.YEARLY:t.bymonth||(t.bymonth=t.dtstart.getUTCMonth()+1),t.bymonthday=t.dtstart.getUTCDate();break;case De.MONTHLY:t.bymonthday=t.dtstart.getUTCDate();break;case De.WEEKLY:t.byweekday=[ze.getWeekday(t.dtstart)];break}if(Qt(t.bymonth)&&!Ur(t.bymonth)&&(t.bymonth=[t.bymonth]),Qt(t.byyearday)&&!Ur(t.byyearday)&&Tn(t.byyearday)&&(t.byyearday=[t.byyearday]),!Qt(t.bymonthday))t.bymonthday=[],t.bynmonthday=[];else if(Ur(t.bymonthday)){for(var i=[],a=[],r=0;r<t.bymonthday.length;r++){var n=t.bymonthday[r];n>0?i.push(n):n<0&&a.push(n)}t.bymonthday=i,t.bynmonthday=a}else t.bymonthday<0?(t.bynmonthday=[t.bymonthday],t.bymonthday=[]):(t.bynmonthday=[],t.bymonthday=[t.bymonthday]);if(Qt(t.byweekno)&&!Ur(t.byweekno)&&(t.byweekno=[t.byweekno]),!Qt(t.byweekday))t.bynweekday=null;else if(Tn(t.byweekday))t.byweekday=[t.byweekday],t.bynweekday=null;else if(hg(t.byweekday))t.byweekday=[vr.fromStr(t.byweekday).weekday],t.bynweekday=null;else if(t.byweekday instanceof vr)!t.byweekday.n||t.freq>De.MONTHLY?(t.byweekday=[t.byweekday.weekday],t.bynweekday=null):(t.bynweekday=[[t.byweekday.weekday,t.byweekday.n]],t.byweekday=null);else{for(var s=[],u=[],r=0;r<t.byweekday.length;r++){var c=t.byweekday[r];if(Tn(c)){s.push(c);continue}else if(hg(c)){s.push(vr.fromStr(c).weekday);continue}!c.n||t.freq>De.MONTHLY?s.push(c.weekday):u.push([c.weekday,c.n])}t.byweekday=hr(s)?s:null,t.bynweekday=hr(u)?u:null}return Qt(t.byhour)?Tn(t.byhour)&&(t.byhour=[t.byhour]):t.byhour=t.freq<De.HOURLY?[t.dtstart.getUTCHours()]:null,Qt(t.byminute)?Tn(t.byminute)&&(t.byminute=[t.byminute]):t.byminute=t.freq<De.MINUTELY?[t.dtstart.getUTCMinutes()]:null,Qt(t.bysecond)?Tn(t.bysecond)&&(t.bysecond=[t.bysecond]):t.bysecond=t.freq<De.SECONDLY?[t.dtstart.getUTCSeconds()]:null,{parsedOptions:t}}function Tb(e){var t=e.dtstart.getTime()%1e3;if(!tl(e.freq))return[];var r=[];return e.byhour.forEach(function(n){e.byminute.forEach(function(i){e.bysecond.forEach(function(a){r.push(new Uo(n,i,a,t))})})}),r}function nl(e){var t=e.split(`
`).map(SU).filter(function(r){return r!==null});return an(an({},t[0]),t[1])}function il(e){var t={},r=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(e);if(!r)return t;var n=r[0],i=r[1],a=r[2];return i&&(t.tzid=i),t.dtstart=ze.untilStringToDate(a),t}function SU(e){if(e=e.replace(/^\s+|\s+$/,""),!e.length)return null;var t=/^([A-Z]+?)[:;]/.exec(e.toUpperCase());if(!t)return Ib(e);var r=t[0],n=t[1];switch(n.toUpperCase()){case"RRULE":case"EXRULE":return Ib(e);case"DTSTART":return il(e);default:throw new Error("Unsupported RFC prop "+n+" in "+e)}}function Ib(e){var t=e.replace(/^RRULE:/i,""),r=il(t),n=e.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return n.forEach(function(i){var a=i.split("="),s=a[0],u=a[1];switch(s.toUpperCase()){case"FREQ":r.freq=Qe[u.toUpperCase()];break;case"WKST":r.wkst=Xn[u.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var c=TU(u),f=s.toLowerCase();r[f]=c;break;case"BYWEEKDAY":case"BYDAY":r.byweekday=xU(u);break;case"DTSTART":case"TZID":var d=il(e);r.tzid=d.tzid,r.dtstart=d.dtstart;break;case"UNTIL":r.until=ze.untilStringToDate(u);break;case"BYEASTER":r.byeaster=Number(u);break;default:throw new Error("Unknown RRULE property '"+s+"'")}}),r}function TU(e){if(e.indexOf(",")!==-1){var t=e.split(",");return t.map(kb)}return kb(e)}function kb(e){return/^[+-]?\d+$/.test(e)?Number(e):e}function xU(e){var t=e.split(",");return t.map(function(r){if(r.length===2)return Xn[r];var n=r.match(/^([+-]?\d{1,2})([A-Z]{2})$/),i=Number(n[1]),a=n[2],s=Xn[a].weekday;return new vr(s,i)})}var bs=function(){function e(t,r){this.date=t,this.tzid=r}return Object.defineProperty(e.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!0,configurable:!0}),e.prototype.toString=function(){var t=ze.timeToUntilString(this.date.getTime(),this.isUTC);return this.isUTC?":"+t:";TZID="+this.tzid+":"+t},e.prototype.getTime=function(){return this.date.getTime()},e.prototype.rezonedDate=function(){var t;if(this.isUTC)return this.date;var r=Intl.DateTimeFormat().resolvedOptions().timeZone,n=new Date(this.date.toLocaleString(void 0,{timeZone:r})),i=new Date(this.date.toLocaleString(void 0,{timeZone:(t=this.tzid,t!=null?t:"UTC")})),a=i.getTime()-n.getTime();return new Date(this.date.getTime()-a)},e}();function al(e){for(var t=[],r="",n=Object.keys(e),i=Object.keys(rl),a=0;a<n.length;a++)if(n[a]!=="tzid"&&!!St(i,n[a])){var s=n[a].toUpperCase(),u=e[n[a]],c="";if(!(!Qt(u)||Ur(u)&&!u.length)){switch(s){case"FREQ":c=De.FREQUENCIES[e.freq];break;case"WKST":Tn(u)?c=new vr(u).toString():c=u.toString();break;case"BYWEEKDAY":s="BYDAY",c=Qw(u).map(function(v){return v instanceof vr?v:Ur(v)?new vr(v[0],v[1]):new vr(v)}).toString();break;case"DTSTART":r=IU(u,e.tzid);break;case"UNTIL":c=ze.timeToUntilString(u,!e.tzid);break;default:if(Ur(u)){for(var f=[],d=0;d<u.length;d++)f[d]=String(u[d]);c=f.toString()}else c=String(u)}c&&t.push([s,c])}}var p=t.map(function(v){var m=v[0],E=v[1];return m+"="+E.toString()}).join(";"),g="";return p!==""&&(g="RRULE:"+p),[r,g].filter(function(v){return!!v}).join(`
`)}function IU(e,t){return e?"DTSTART"+new bs(new Date(e),t).toString():""}function kU(e,t){return Array.isArray(e)?!Array.isArray(t)||e.length!==t.length?!1:e.every(function(r,n){return r.getTime()===t[n].getTime()}):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():e===t}var Bb=function(){function e(){this.all=!1,this.before=[],this.after=[],this.between=[]}return e.prototype._cacheAdd=function(t,r,n){r&&(r=r instanceof Date?ze.clone(r):ze.cloneDates(r)),t==="all"?this.all=r:(n._value=r,this[t].push(n))},e.prototype._cacheGet=function(t,r){var n=!1,i=r?Object.keys(r):[],a=function(d){for(var p=0;p<i.length;p++){var g=i[p];if(!kU(r[g],d[g]))return!0}return!1},s=this[t];if(t==="all")n=this.all;else if(Ur(s))for(var u=0;u<s.length;u++){var c=s[u];if(!(i.length&&a(c))){n=c._value;break}}if(!n&&this.all){for(var f=new na(t,r),u=0;u<this.all.length&&f.accept(this.all[u]);u++);n=f.getValue(),this._cacheAdd(t,n,r)}return Ur(n)?ze.cloneDates(n):n instanceof Date?ze.clone(n):n},e}();var Rb=As(Ct(1,31),Ct(2,28),Ct(3,31),Ct(4,30),Ct(5,31),Ct(6,30),Ct(7,31),Ct(8,31),Ct(9,30),Ct(10,31),Ct(11,30),Ct(12,31),Ct(1,7)),Nb=As(Ct(1,31),Ct(2,29),Ct(3,31),Ct(4,30),Ct(5,31),Ct(6,30),Ct(7,31),Ct(8,31),Ct(9,30),Ct(10,31),Ct(11,30),Ct(12,31),Ct(1,7)),BU=Qn(1,29),RU=Qn(1,30),Pa=Qn(1,31),Yr=Qn(1,32),Db=As(Yr,RU,Yr,Pa,Yr,Pa,Yr,Yr,Pa,Yr,Pa,Yr,Yr.slice(0,7)),Lb=As(Yr,BU,Yr,Pa,Yr,Pa,Yr,Yr,Pa,Yr,Pa,Yr,Yr.slice(0,7)),NU=Qn(-28,0),DU=Qn(-29,0),Oa=Qn(-30,0),jr=Qn(-31,0),Pb=As(jr,DU,jr,Oa,jr,Oa,jr,jr,Oa,jr,Oa,jr,jr.slice(0,7)),Ob=As(jr,NU,jr,Oa,jr,Oa,jr,jr,Oa,jr,Oa,jr,jr.slice(0,7)),Mb=[0,31,60,91,121,152,182,213,244,274,305,335,366],Ub=[0,31,59,90,120,151,181,212,243,273,304,334,365],yg=function(){for(var e=[],t=0;t<55;t++)e=e.concat(Qn(7));return e}();function Fb(e,t){var r=new Date(Date.UTC(e,0,1)),n=ze.isLeapYear(e)?366:365,i=ze.isLeapYear(e+1)?366:365,a=ze.toOrdinal(r),s=ze.getWeekday(r),u=an(an({yearlen:n,nextyearlen:i,yearordinal:a,yearweekday:s},LU(e)),{wnomask:null});if(xn(t.byweekno))return u;u.wnomask=Ct(0,n+7);var c,f,d=c=Hr(7-s+t.wkst,7);d>=4?(d=0,f=u.yearlen+Hr(s-t.wkst,7)):f=n-d;for(var p=Math.floor(f/7),g=Hr(f,7),v=Math.floor(p+g/4),m=0;m<t.byweekno.length;m++){var E=t.byweekno[m];if(E<0&&(E+=v+1),E>0&&E<=v){var _=void 0;E>1?(_=d+(E-1)*7,d!==c&&(_-=7-c)):_=d;for(var C=0;C<7&&(u.wnomask[_]=1,_++,u.wdaymask[_]!==t.wkst);C++);}}if(St(t.byweekno,1)){var _=d+v*7;if(d!==c&&(_-=7-c),_<n)for(var m=0;m<7&&(u.wnomask[_]=1,_+=1,u.wdaymask[_]!==t.wkst);m++);}if(d){var B=void 0;if(St(t.byweekno,-1))B=-1;else{var R=ze.getWeekday(new Date(Date.UTC(e-1,0,1))),D=Hr(7-R.valueOf()+t.wkst,7),L=ze.isLeapYear(e-1)?366:365,O=void 0;D>=4?(D=0,O=L+Hr(R-t.wkst,7)):O=n-d,B=Math.floor(52+Hr(O,7)/4)}if(St(t.byweekno,B))for(var _=0;_<d;_++)u.wnomask[_]=1}return u}function LU(e){var t=ze.isLeapYear(e)?366:365,r=new Date(Date.UTC(e,0,1)),n=ze.getWeekday(r);return t===365?{mmask:Rb,mdaymask:Lb,nmdaymask:Ob,wdaymask:yg.slice(n),mrange:Ub}:{mmask:Nb,mdaymask:Db,nmdaymask:Pb,wdaymask:yg.slice(n),mrange:Mb}}function qb(e,t,r,n,i,a){var s={lastyear:e,lastmonth:t,nwdaymask:[]},u=[];if(a.freq===De.YEARLY)if(xn(a.bymonth))u=[[0,r]];else for(var c=0;c<a.bymonth.length;c++)t=a.bymonth[c],u.push(n.slice(t-1,t+1));else a.freq===De.MONTHLY&&(u=[n.slice(t-1,t+1)]);if(xn(u))return s;s.nwdaymask=Ct(0,r);for(var c=0;c<u.length;c++)for(var f=u[c],d=f[0],p=f[1]-1,g=0;g<a.bynweekday.length;g++){var v=void 0,m=a.bynweekday[g],E=m[0],_=m[1];_<0?(v=p+(_+1)*7,v-=Hr(i[v]-E,7)):(v=d+(_-1)*7,v+=Hr(7-i[v]+E,7)),d<=v&&v<=p&&(s.nwdaymask[v]=1)}return s}function Gb(e,t){t===void 0&&(t=0);var r=e%19,n=Math.floor(e/100),i=e%100,a=Math.floor(n/4),s=n%4,u=Math.floor((n+8)/25),c=Math.floor((n-u+1)/3),f=Math.floor(19*r+n-a-c+15)%30,d=Math.floor(i/4),p=i%4,g=Math.floor(32+2*s+2*d-f-p)%7,v=Math.floor((r+11*f+22*g)/451),m=Math.floor((f+g-7*v+114)/31),E=(f+g-7*v+114)%31+1,_=Date.UTC(e,m-1,E+t),C=Date.UTC(e,0,1);return[Math.ceil((_-C)/(1e3*60*60*24))]}var PU=function(){function e(t){this.options=t}return e.prototype.rebuild=function(t,r){var n=this.options;if(t!==this.lastyear&&(this.yearinfo=Fb(t,n)),hr(n.bynweekday)&&(r!==this.lastmonth||t!==this.lastyear)){var i=this.yearinfo,a=i.yearlen,s=i.mrange,u=i.wdaymask;this.monthinfo=qb(t,r,a,s,u,n)}Qt(n.byeaster)&&(this.eastermask=Gb(t,n.byeaster))},Object.defineProperty(e.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!0,configurable:!0}),e.prototype.ydayset=function(){return[Qn(this.yearlen),0,this.yearlen]},e.prototype.mdayset=function(t,r,n){for(var i=this.mrange[r-1],a=this.mrange[r],s=Ct(null,this.yearlen),u=i;u<a;u++)s[u]=u;return[s,i,a]},e.prototype.wdayset=function(t,r,n){for(var i=Ct(null,this.yearlen+7),a=ze.toOrdinal(new Date(Date.UTC(t,r-1,n)))-this.yearordinal,s=a,u=0;u<7&&(i[a]=a,++a,this.wdaymask[a]!==this.options.wkst);u++);return[i,s,a]},e.prototype.ddayset=function(t,r,n){var i=Ct(null,this.yearlen),a=ze.toOrdinal(new Date(Date.UTC(t,r-1,n)))-this.yearordinal;return i[a]=a,[i,a,a+1]},e.prototype.htimeset=function(t,r,n,i){var a=this,s=[];return this.options.byminute.forEach(function(u){s=s.concat(a.mtimeset(t,u,n,i))}),ze.sort(s),s},e.prototype.mtimeset=function(t,r,n,i){var a=this.options.bysecond.map(function(s){return new Uo(t,r,s,i)});return ze.sort(a),a},e.prototype.stimeset=function(t,r,n,i){return[new Uo(t,r,n,i)]},e.prototype.getdayset=function(t){switch(t){case Qe.YEARLY:return this.ydayset.bind(this);case Qe.MONTHLY:return this.mdayset.bind(this);case Qe.WEEKLY:return this.wdayset.bind(this);case Qe.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},e.prototype.gettimeset=function(t){switch(t){case Qe.HOURLY:return this.htimeset.bind(this);case Qe.MINUTELY:return this.mtimeset.bind(this);case Qe.SECONDLY:return this.stimeset.bind(this)}},e}(),Kb=PU;function Vb(e,t,r,n,i,a){for(var s=[],u=0;u<e.length;u++){var c=void 0,f=void 0,d=e[u];d<0?(c=Math.floor(d/t.length),f=Hr(d,t.length)):(c=Math.floor((d-1)/t.length),f=Hr(d-1,t.length));for(var p=[],g=r;g<n;g++){var v=a[g];!Qt(v)||p.push(v)}var m=void 0;c<0?m=p.slice(c)[0]:m=p[c];var E=t[f],_=ze.fromOrdinal(i.yearordinal+m),C=ze.combine(_,E);St(s,C)||s.push(C)}return ze.sort(s),s}function od(e,t){var r=t.dtstart,n=t.freq,i=t.interval,a=t.until,s=t.bysetpos,u=t.count;if(u===0||i===0)return ia(e);var c=bb.fromDate(r),f=new Kb(t);f.rebuild(c.year,c.month);for(var d=UU(f,c,t);;){var p=f.getdayset(n)(c.year,c.month,c.day),g=p[0],v=p[1],m=p[2],E=MU(g,v,m,f,t);if(hr(s))for(var _=Vb(s,d,v,m,f,g),C=0;C<_.length;C++){var B=_[C];if(a&&B>a)return ia(e);if(B>=r){var R=Hb(B,t);if(!e.accept(R)||u&&(--u,!u))return ia(e)}}else for(var C=v;C<m;C++){var D=g[C];if(!!Qt(D))for(var L=ze.fromOrdinal(f.yearordinal+D),O=0;O<d.length;O++){var ae=d[O],B=ze.combine(L,ae);if(a&&B>a)return ia(e);if(B>=r){var R=Hb(B,t);if(!e.accept(R)||u&&(--u,!u))return ia(e)}}}if(t.interval===0||(c.add(t,E),c.year>ze.MAXYEAR))return ia(e);tl(n)||(d=f.gettimeset(n)(c.hour,c.minute,c.second,0)),f.rebuild(c.year,c.month)}}function OU(e,t,r){var n=r.bymonth,i=r.byweekno,a=r.byweekday,s=r.byeaster,u=r.bymonthday,c=r.bynmonthday,f=r.byyearday;return hr(n)&&!St(n,e.mmask[t])||hr(i)&&!e.wnomask[t]||hr(a)&&!St(a,e.wdaymask[t])||hr(e.nwdaymask)&&!e.nwdaymask[t]||s!==null&&!St(e.eastermask,t)||(hr(u)||hr(c))&&!St(u,e.mdaymask[t])&&!St(c,e.nmdaymask[t])||hr(f)&&(t<e.yearlen&&!St(f,t+1)&&!St(f,-e.yearlen+t)||t>=e.yearlen&&!St(f,t+1-e.yearlen)&&!St(f,-e.nextyearlen+t-e.yearlen))}function Hb(e,t){return new bs(e,t.tzid).rezonedDate()}function ia(e){return e.getValue()}function MU(e,t,r,n,i){for(var a=!1,s=t;s<r;s++){var u=e[s];a=OU(n,u,i),a&&(e[u]=null)}return a}function UU(e,t,r){var n=r.freq,i=r.byhour,a=r.byminute,s=r.bysecond;return tl(n)?Tb(r):n>=De.HOURLY&&hr(i)&&!St(i,t.hour)||n>=De.MINUTELY&&hr(a)&&!St(a,t.minute)||n>=De.SECONDLY&&hr(s)&&!St(s,t.second)?[]:e.gettimeset(n)(t.hour,t.minute,t.second,t.millisecond)}var Xn={MO:new vr(0),TU:new vr(1),WE:new vr(2),TH:new vr(3),FR:new vr(4),SA:new vr(5),SU:new vr(6)},rl={freq:Qe.YEARLY,dtstart:null,interval:1,wkst:Xn.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},xb=Object.keys(rl),De=function(){function e(t,r){t===void 0&&(t={}),r===void 0&&(r=!1),this._cache=r?null:new Bb,this.origOptions=mg(t);var n=Sb(t).parsedOptions;this.options=n}return e.parseText=function(t,r){return el(t,r)},e.fromText=function(t,r){return Cb(t,r)},e.fromString=function(t){return new e(e.parseString(t)||void 0)},e.prototype._iter=function(t){return od(t,this.options)},e.prototype._cacheGet=function(t,r){return this._cache?this._cache._cacheGet(t,r):!1},e.prototype._cacheAdd=function(t,r,n){if(!!this._cache)return this._cache._cacheAdd(t,r,n)},e.prototype.all=function(t){if(t)return this._iter(new gg("all",{},t));var r=this._cacheGet("all");return r===!1&&(r=this._iter(new na("all",{})),this._cacheAdd("all",r)),r},e.prototype.between=function(t,r,n,i){if(n===void 0&&(n=!1),!ze.isValidDate(t)||!ze.isValidDate(r))throw new Error("Invalid date passed in to RRule.between");var a={before:r,after:t,inc:n};if(i)return this._iter(new gg("between",a,i));var s=this._cacheGet("between",a);return s===!1&&(s=this._iter(new na("between",a)),this._cacheAdd("between",s,a)),s},e.prototype.before=function(t,r){if(r===void 0&&(r=!1),!ze.isValidDate(t))throw new Error("Invalid date passed in to RRule.before");var n={dt:t,inc:r},i=this._cacheGet("before",n);return i===!1&&(i=this._iter(new na("before",n)),this._cacheAdd("before",i,n)),i},e.prototype.after=function(t,r){if(r===void 0&&(r=!1),!ze.isValidDate(t))throw new Error("Invalid date passed in to RRule.after");var n={dt:t,inc:r},i=this._cacheGet("after",n);return i===!1&&(i=this._iter(new na("after",n)),this._cacheAdd("after",i,n)),i},e.prototype.count=function(){return this.all().length},e.prototype.toString=function(){return al(this.origOptions)},e.prototype.toText=function(t,r,n){return Ab(this,t,r,n)},e.prototype.isFullyConvertibleToText=function(){return wb(this)},e.prototype.clone=function(){return new e(this.origOptions)},e.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],e.YEARLY=Qe.YEARLY,e.MONTHLY=Qe.MONTHLY,e.WEEKLY=Qe.WEEKLY,e.DAILY=Qe.DAILY,e.HOURLY=Qe.HOURLY,e.MINUTELY=Qe.MINUTELY,e.SECONDLY=Qe.SECONDLY,e.MO=Xn.MO,e.TU=Xn.TU,e.WE=Xn.WE,e.TH=Xn.TH,e.FR=Xn.FR,e.SA=Xn.SA,e.SU=Xn.SU,e.parseString=nl,e.optionsToString=al,e}();function Yb(e,t,r,n,i,a){var s={},u=e.accept;function c(g,v){r.forEach(function(m){m.between(g,v,!0).forEach(function(E){s[Number(E)]=!0})})}i.forEach(function(g){var v=new bs(g,a).rezonedDate();s[Number(v)]=!0}),e.accept=function(g){var v=Number(g);return isNaN(v)?u.call(this,g):!s[v]&&(c(new Date(v-1),new Date(v+1)),!s[v])?(s[v]=!0,u.call(this,g)):!0},e.method==="between"&&(c(e.args.after,e.args.before),e.accept=function(g){var v=Number(g);return s[v]?!0:(s[v]=!0,u.call(this,g))});for(var f=0;f<n.length;f++){var d=new bs(n[f],a).rezonedDate();if(!e.accept(new Date(d.getTime())))break}t.forEach(function(g){od(e,g.options)});var p=e._result;switch(ze.sort(p),e.method){case"all":case"between":return p;case"before":return p.length&&p[p.length-1]||null;case"after":default:return p.length&&p[0]||null}}var jb={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function FU(e,t){var r=[],n=[],i=[],a=[],s=il(e),u=s.dtstart,c=s.tzid,f=HU(e,t.unfold);return f.forEach(function(d){if(!!d){var p=VU(d),g=p.name,v=p.parms,m=p.value;switch(g.toUpperCase()){case"RRULE":if(v.length)throw new Error("unsupported RRULE parm: "+v.join(","));r.push(nl(d));break;case"RDATE":var E=/RDATE(?:;TZID=([^:=]+))?/i.exec(d),_=E[0],C=E[1];C&&!c&&(c=C),n=n.concat(Wb(m,v));break;case"EXRULE":if(v.length)throw new Error("unsupported EXRULE parm: "+v.join(","));i.push(nl(m));break;case"EXDATE":a=a.concat(Wb(m,v));break;case"DTSTART":break;default:throw new Error("unsupported property: "+g)}}}),{dtstart:u,tzid:c,rrulevals:r,rdatevals:n,exrulevals:i,exdatevals:a}}function qU(e,t){var r=FU(e,t),n=r.rrulevals,i=r.rdatevals,a=r.exrulevals,s=r.exdatevals,u=r.dtstart,c=r.tzid,f=t.cache===!1;if(t.compatible&&(t.forceset=!0,t.unfold=!0),t.forceset||n.length>1||i.length||a.length||s.length){var d=new sl(f);return d.dtstart(u),d.tzid(c||void 0),n.forEach(function(g){d.rrule(new De(vg(g,u,c),f))}),i.forEach(function(g){d.rdate(g)}),a.forEach(function(g){d.exrule(new De(vg(g,u,c),f))}),s.forEach(function(g){d.exdate(g)}),t.compatible&&t.dtstart&&d.rdate(u),d}var p=n[0]||{};return new De(vg(p,p.dtstart||t.dtstart||u,p.tzid||t.tzid||c),f)}function ud(e,t){return t===void 0&&(t={}),qU(e,GU(t))}function vg(e,t,r){return an(an({},e),{dtstart:t,tzid:r})}function GU(e){var t=[],r=Object.keys(e),n=Object.keys(jb);if(r.forEach(function(i){St(n,i)||t.push(i)}),t.length)throw new Error("Invalid options: "+t.join(", "));return an(an({},jb),e)}function KU(e){if(e.indexOf(":")===-1)return{name:"RRULE",value:e};var t=Xw(e,":",1),r=t[0],n=t[1];return{name:r,value:n}}function VU(e){var t=KU(e),r=t.name,n=t.value,i=r.split(";");if(!i)throw new Error("empty property name");return{name:i[0].toUpperCase(),parms:i.slice(1),value:n}}function HU(e,t){if(t===void 0&&(t=!1),e=e&&e.trim(),!e)throw new Error("Invalid empty string");if(!t)return e.split(/\s/);for(var r=e.split(`
`),n=0;n<r.length;){var i=r[n]=r[n].replace(/\s+$/g,"");i?n>0&&i[0]===" "?(r[n-1]+=i.slice(1),r.splice(n,1)):n+=1:r.splice(n,1)}return r}function YU(e){e.forEach(function(t){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(t))throw new Error("unsupported RDATE/EXDATE parm: "+t)})}function Wb(e,t){return YU(t),e.split(",").map(function(r){return ze.untilStringToDate(r)})}function zb(e){var t=this;return function(r){if(r!==void 0&&(t["_"+e]=r),t["_"+e]!==void 0)return t["_"+e];for(var n=0;n<t._rrule.length;n++){var i=t._rrule[n].origOptions[e];if(i)return i}}}var sl=function(e){Oo(t,e);function t(r){r===void 0&&(r=!1);var n=e.call(this,{},r)||this;return n.dtstart=zb.apply(n,["dtstart"]),n.tzid=zb.apply(n,["tzid"]),n._rrule=[],n._rdate=[],n._exrule=[],n._exdate=[],n}return t.prototype._iter=function(r){return Yb(r,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},t.prototype.rrule=function(r){Jb(r,this._rrule)},t.prototype.exrule=function(r){Jb(r,this._exrule)},t.prototype.rdate=function(r){Qb(r,this._rdate)},t.prototype.exdate=function(r){Qb(r,this._exdate)},t.prototype.rrules=function(){return this._rrule.map(function(r){return ud(r.toString())})},t.prototype.exrules=function(){return this._exrule.map(function(r){return ud(r.toString())})},t.prototype.rdates=function(){return this._rdate.map(function(r){return new Date(r.getTime())})},t.prototype.exdates=function(){return this._exdate.map(function(r){return new Date(r.getTime())})},t.prototype.valueOf=function(){var r=[];return!this._rrule.length&&this._dtstart&&(r=r.concat(al({dtstart:this._dtstart}))),this._rrule.forEach(function(n){r=r.concat(n.toString().split(`
`))}),this._exrule.forEach(function(n){r=r.concat(n.toString().split(`
`).map(function(i){return i.replace(/^RRULE:/,"EXRULE:")}).filter(function(i){return!/^DTSTART/.test(i)}))}),this._rdate.length&&r.push(Xb("RDATE",this._rdate,this.tzid())),this._exdate.length&&r.push(Xb("EXDATE",this._exdate,this.tzid())),r},t.prototype.toString=function(){return this.valueOf().join(`
`)},t.prototype.clone=function(){var r=new t(!!this._cache);return this._rrule.forEach(function(n){return r.rrule(n.clone())}),this._exrule.forEach(function(n){return r.exrule(n.clone())}),this._rdate.forEach(function(n){return r.rdate(new Date(n.getTime()))}),this._exdate.forEach(function(n){return r.exdate(new Date(n.getTime()))}),r},t}(De);function Jb(e,t){if(!(e instanceof De))throw new TypeError(String(e)+" is not RRule instance");St(t.map(String),String(e))||t.push(e)}function Qb(e,t){if(!(e instanceof Date))throw new TypeError(String(e)+" is not Date instance");St(t.map(Number),Number(e))||(t.push(e),ze.sort(t))}function Xb(e,t,r){var n=!r||r.toUpperCase()==="UTC",i=n?e+":":e+";TZID="+r+":",a=t.map(function(s){return ze.timeToUntilString(s.valueOf(),n)}).join(",");return""+i+a}function jU(e){Yn(e,"svelte-1wq45u1",".weekActive.svelte-1wq45u1.svelte-1wq45u1{background-color:rgb(61, 102, 214) !important}.weekInActive.svelte-1wq45u1.svelte-1wq45u1{background-color:#2a2a2a !important}.buttonRow.svelte-1wq45u1.svelte-1wq45u1{display:flex;flex-direction:row;align-items:center;justify-content:space-around;padding:5px}.summaryInput.svelte-1wq45u1.svelte-1wq45u1{border:none;border-bottom:2px solid;border-radius:0px;height:40px;font-size:35px;text-align:center}.disabled.svelte-1wq45u1.svelte-1wq45u1{opacity:0.2}label.svelte-1wq45u1.svelte-1wq45u1{margin-top:5px}.googleFullDayContainer.svelte-1wq45u1.svelte-1wq45u1{margin-top:10px;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.googleEventButtonContainer.svelte-1wq45u1.svelte-1wq45u1{margin-top:10px;display:flex;flex-direction:column;justify-content:space-around}.googleEventButtonContainer.svelte-1wq45u1 button.svelte-1wq45u1{width:40%}")}function Zb(e,t,r){let n=e.slice();return n[39]=t[r],n[40]=t,n[41]=r,n}function $b(e,t,r){let n=e.slice();return n[42]=t[r],n}function WU(e){let t,r,n,i,a,s,u=e[3],c=[];for(let f=0;f<u.length;f+=1)c[f]=eS($b(e,u,f));return{c(){t=ie("label"),t.textContent="Calendar",r=Be(),n=ie("select");for(let f=0;f<c.length;f+=1)c[f].c();ee(t,"for","calendar"),ee(t,"class","svelte-1wq45u1"),ee(n,"name","calendar"),ee(n,"class","dropdown"),n.disabled=i=e[0].id!==void 0},m(f,d){Ae(f,t,d),Ae(f,r,d),Ae(f,n,d);for(let p=0;p<c.length;p+=1)c[p].m(n,null);a||(s=Je(n,"change",e[16]),a=!0)},p(f,d){if(d[0]&9){u=f[3];let p;for(p=0;p<u.length;p+=1){let g=$b(f,u,p);c[p]?c[p].p(g,d):(c[p]=eS(g),c[p].c(),c[p].m(n,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=u.length}d[0]&1&&i!==(i=f[0].id!==void 0)&&(n.disabled=i)},d(f){f&&Ee(t),f&&Ee(r),f&&Ee(n),Vr(c,f),a=!1,s()}}}function zU(e){let t;return{c(){t=ie("span"),t.textContent="Loading"},m(r,n){Ae(r,t,n)},p:bt,d(r){r&&Ee(t)}}}function eS(e){let t,r=e[42].summary+"",n,i,a,s;return{c(){t=ie("option"),n=Jt(r),ee(t,"id",i=e[42].id),t.__value=a=e[42].id,t.value=t.__value,t.selected=s=e[42].id==e[0].parent.id},m(u,c){Ae(u,t,c),te(t,n)},p(u,c){c[0]&8&&r!==(r=u[42].summary+"")&&Wn(n,r),c[0]&8&&i!==(i=u[42].id)&&ee(t,"id",i),c[0]&8&&a!==(a=u[42].id)&&(t.__value=a,t.value=t.__value),c[0]&9&&s!==(s=u[42].id==u[0].parent.id)&&(t.selected=s)},d(u){u&&Ee(t)}}}function JU(e){let t,r,n,i,a,s,u,c,f,d;return{c(){t=ie("label"),t.textContent="Start Date",r=Be(),n=ie("input"),i=Be(),a=ie("label"),a.textContent="End Date",s=Be(),u=ie("input"),ee(t,"for","eventStartDate"),ee(t,"class","svelte-1wq45u1"),ee(n,"type","datetime-local"),ee(n,"name","eventStartDate"),ee(a,"for","eventEndDate"),ee(a,"class","svelte-1wq45u1"),ee(u,"type","datetime-local"),ee(u,"name","eventEndDate"),ee(u,"min",c=window.moment(e[1]).format("YYYY-MM-DDThh:mm"))},m(p,g){Ae(p,t,g),Ae(p,r,g),Ae(p,n,g),rn(n,e[1]),Ae(p,i,g),Ae(p,a,g),Ae(p,s,g),Ae(p,u,g),rn(u,e[2]),f||(d=[Je(n,"input",e[28]),Je(u,"input",e[29])],f=!0)},p(p,g){g[0]&2&&rn(n,p[1]),g[0]&2&&c!==(c=window.moment(p[1]).format("YYYY-MM-DDThh:mm"))&&ee(u,"min",c),g[0]&4&&rn(u,p[2])},d(p){p&&Ee(t),p&&Ee(r),p&&Ee(n),p&&Ee(i),p&&Ee(a),p&&Ee(s),p&&Ee(u),f=!1,Mr(d)}}}function QU(e){let t,r,n,i,a;return{c(){t=ie("label"),t.textContent="Date",r=Be(),n=ie("input"),ee(t,"for","eventDate"),ee(t,"class","svelte-1wq45u1"),ee(n,"type","date"),ee(n,"name","eventDate")},m(s,u){Ae(s,t,u),Ae(s,r,u),Ae(s,n,u),rn(n,e[12]),i||(a=Je(n,"input",e[27]),i=!0)},p(s,u){u[0]&4096&&rn(n,s[12])},d(s){s&&Ee(t),s&&Ee(r),s&&Ee(n),i=!1,a()}}}function tS(e){let t,r,n,i,a,s,u,c,f=e[6]&&rS(e);return{c(){t=ie("div"),r=ie("label"),r.textContent="Reccuring",n=Be(),i=ie("input"),a=Be(),f&&f.c(),s=jn(),ee(r,"for","reaccuring"),ee(r,"class","svelte-1wq45u1"),ee(i,"type","checkbox"),ee(i,"name","reaccuring"),ee(t,"class","googleFullDayContainer svelte-1wq45u1")},m(d,p){Ae(d,t,p),te(t,r),te(t,n),te(t,i),i.checked=e[6],Ae(d,a,p),f&&f.m(d,p),Ae(d,s,p),u||(c=Je(i,"change",e[30]),u=!0)},p(d,p){p[0]&64&&(i.checked=d[6]),d[6]?f?f.p(d,p):(f=rS(d),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(d){d&&Ee(t),d&&Ee(a),f&&f.d(d),d&&Ee(s),u=!1,c()}}}function rS(e){let t,r,n,i,a,s,u,c,f,d,p,g,v,m,E,_,C,B,R,D,L,O,ae,j,Y,ye,me,we,Ke;function Oe(nt,Xe){if(nt[9]=="Until")return ZU;if(nt[9]=="For")return XU}let Ie=Oe(e,[-1,-1]),Pe=Ie&&Ie(e),_e=e[7]===Qe.WEEKLY&&nS(e);return{c(){t=ie("div"),r=ie("span"),r.textContent="Repeat every",n=Be(),i=ie("input"),a=Be(),s=ie("select"),u=ie("option"),c=Jt("Days"),d=ie("option"),p=Jt("Weeks"),v=ie("option"),m=Jt("Months"),_=ie("option"),C=Jt("Years"),R=Be(),D=ie("select"),L=ie("option"),L.textContent="Forever",O=ie("option"),O.textContent="Until",ae=ie("option"),ae.textContent="For",j=Be(),Pe&&Pe.c(),Y=Be(),ye=ie("br"),me=Be(),_e&&_e.c(),ee(i,"type","number"),ee(i,"name","recurringInterval"),ee(i,"step","1"),ee(i,"min","1"),et(i,"width","90px",!1),u.__value=f=Qe.DAILY,u.value=u.__value,ee(d,"default",""),d.__value=g=Qe.WEEKLY,d.value=d.__value,v.__value=E=Qe.MONTHLY,v.value=v.__value,_.__value=B=Qe.YEARLY,_.value=_.__value,ee(s,"class","dropdown"),e[7]===void 0&&ta(()=>e[32].call(s)),ee(L,"default",""),L.__value="Forever",L.value=L.__value,O.__value="Until",O.value=O.__value,ae.__value="For",ae.value=ae.__value,ee(D,"class","dropdown"),e[9]===void 0&&ta(()=>e[33].call(D))},m(nt,Xe){Ae(nt,t,Xe),te(t,r),te(t,n),te(t,i),rn(i,e[8]),te(t,a),te(t,s),te(s,u),te(u,c),te(s,d),te(d,p),te(s,v),te(v,m),te(s,_),te(_,C),Ri(s,e[7]),te(t,R),te(t,D),te(D,L),te(D,O),te(D,ae),Ri(D,e[9]),te(t,j),Pe&&Pe.m(t,null),te(t,Y),te(t,ye),te(t,me),_e&&_e.m(t,null),we||(Ke=[Je(i,"input",e[31]),Je(s,"change",e[32]),Je(D,"change",e[33])],we=!0)},p(nt,Xe){Xe[0]&256&&Wu(i.value)!==nt[8]&&rn(i,nt[8]),Xe[0]&128&&Ri(s,nt[7]),Xe[0]&512&&Ri(D,nt[9]),Ie===(Ie=Oe(nt,Xe))&&Pe?Pe.p(nt,Xe):(Pe&&Pe.d(1),Pe=Ie&&Ie(nt),Pe&&(Pe.c(),Pe.m(t,Y))),nt[7]===Qe.WEEKLY?_e?_e.p(nt,Xe):(_e=nS(nt),_e.c(),_e.m(t,null)):_e&&(_e.d(1),_e=null)},d(nt){nt&&Ee(t),Pe&&Pe.d(),_e&&_e.d(),we=!1,Mr(Ke)}}}function XU(e){let t,r,n,i,a;return{c(){t=ie("input"),r=Be(),n=ie("span"),n.textContent="times",ee(t,"type","number"),ee(t,"name","recurringCount"),ee(t,"step","1"),ee(t,"min","1"),t.required=!0,et(t,"width","90px",!1)},m(s,u){Ae(s,t,u),rn(t,e[10]),Ae(s,r,u),Ae(s,n,u),i||(a=Je(t,"input",e[35]),i=!0)},p(s,u){u[0]&1024&&Wu(t.value)!==s[10]&&rn(t,s[10])},d(s){s&&Ee(t),s&&Ee(r),s&&Ee(n),i=!1,a()}}}function ZU(e){let t,r,n;return{c(){t=ie("input"),ee(t,"type","date"),ee(t,"name","recurringEndDate"),t.required=!0},m(i,a){Ae(i,t,a),rn(t,e[11]),r||(n=Je(t,"input",e[34]),r=!0)},p(i,a){a[0]&2048&&rn(t,i[11])},d(i){i&&Ee(t),r=!1,n()}}}function nS(e){let t,r=e[13],n=[];for(let i=0;i<r.length;i+=1)n[i]=iS(Zb(e,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();t=jn()},m(i,a){for(let s=0;s<n.length;s+=1)n[s].m(i,a);Ae(i,t,a)},p(i,a){if(a[0]&8192){r=i[13];let s;for(s=0;s<r.length;s+=1){let u=Zb(i,r,s);n[s]?n[s].p(u,a):(n[s]=iS(u),n[s].c(),n[s].m(t.parentNode,t))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(i){Vr(n,i),i&&Ee(t)}}}function iS(e){let t,r=e[39][0].toString()+"",n,i,a,s,u;function c(){return e[36](e[39],e[40],e[41])}return{c(){t=ie("button"),n=Jt(r),i=Be(),ee(t,"class",a=""+(Bo(e[39][1]?"weekActive":"weekInActive")+" svelte-1wq45u1"))},m(f,d){Ae(f,t,d),te(t,n),te(t,i),s||(u=Je(t,"click",c),s=!0)},p(f,d){e=f,d[0]&8192&&r!==(r=e[39][0].toString()+"")&&Wn(n,r),d[0]&8192&&a!==(a=""+(Bo(e[39][1]?"weekActive":"weekInActive")+" svelte-1wq45u1"))&&ee(t,"class",a)},d(f){f&&Ee(t),s=!1,u()}}}function $U(e){let t,r,n,i;return{c(){t=ie("div"),r=ie("button"),r.textContent="Create",ee(r,"class","svelte-1wq45u1"),ee(t,"class","buttonRow svelte-1wq45u1")},m(a,s){Ae(a,t,s),te(t,r),n||(i=Je(r,"click",e[17]),n=!0)},p:bt,d(a){a&&Ee(t),n=!1,i()}}}function e8(e){let t,r,n,i,a,s,u,c,f,d,p,g;function v(C,B){return C[6]?r8:t8}let m=v(e,[-1,-1]),E=m(e),_=e[6]&&aS(e);return{c(){t=ie("div"),E.c(),r=Be(),n=ie("button"),n.textContent="Open/Create",i=Be(),a=ie("div"),s=ie("button"),s.textContent="Update",u=Be(),c=ie("button"),c.textContent="Delete",f=Be(),_&&_.c(),d=jn(),ee(n,"class","svelte-1wq45u1"),ee(t,"class","buttonRow svelte-1wq45u1"),ee(s,"class","svelte-1wq45u1"),ee(c,"class","svelte-1wq45u1"),ee(a,"class","buttonRow svelte-1wq45u1")},m(C,B){Ae(C,t,B),E.m(t,null),te(t,r),te(t,n),Ae(C,i,B),Ae(C,a,B),te(a,s),te(a,u),te(a,c),Ae(C,f,B),_&&_.m(C,B),Ae(C,d,B),p||(g=[Je(n,"click",e[22]),Je(s,"click",e[20]),Je(c,"click",e[18])],p=!0)},p(C,B){m===(m=v(C,B))&&E?E.p(C,B):(E.d(1),E=m(C),E&&(E.c(),E.m(t,r))),C[6]?_?_.p(C,B):(_=aS(C),_.c(),_.m(d.parentNode,d)):_&&(_.d(1),_=null)},d(C){C&&Ee(t),E.d(),C&&Ee(i),C&&Ee(a),C&&Ee(f),_&&_.d(C),C&&Ee(d),p=!1,Mr(g)}}}function t8(e){let t,r,n;return{c(){t=ie("button"),t.textContent="Single Event",ee(t,"class","svelte-1wq45u1")},m(i,a){Ae(i,t,a),r||(n=Je(t,"click",e[23]),r=!0)},p:bt,d(i){i&&Ee(t),r=!1,n()}}}function r8(e){let t,r,n;return{c(){t=ie("button"),t.textContent="Recurring Event",ee(t,"class","svelte-1wq45u1")},m(i,a){Ae(i,t,a),r||(n=Je(t,"click",e[23]),r=!0)},p:bt,d(i){i&&Ee(t),r=!1,n()}}}function aS(e){let t,r,n,i,a,s;return{c(){t=ie("div"),r=ie("button"),r.textContent="Update All",n=Be(),i=ie("button"),i.textContent="Delete All",r.disabled=!0,ee(r,"class","disabled svelte-1wq45u1"),ee(i,"class","svelte-1wq45u1"),ee(t,"class","buttonRow svelte-1wq45u1")},m(u,c){Ae(u,t,c),te(t,r),te(t,n),te(t,i),a||(s=[Je(r,"click",e[21]),Je(i,"click",e[19])],a=!0)},p:bt,d(u){u&&Ee(t),a=!1,Mr(s)}}}function n8(e){let t,r,n,i,a,s,u,c,f,d,p,g,v,m,E,_,C,B,R;function D(Oe,Ie){return Oe[4]?zU:WU}let L=D(e,[-1,-1]),O=L(e);function ae(Oe,Ie){return Oe[5]?QU:JU}let j=ae(e,[-1,-1]),Y=j(e),ye=!e[0].id&&tS(e);function me(Oe,Ie){return Oe[0].id?e8:$U}let we=me(e,[-1,-1]),Ke=we(e);return{c(){t=ie("div"),r=ie("input"),n=Be(),i=ie("label"),i.textContent="Description",a=Be(),s=ie("textarea"),c=Be(),O.c(),f=Be(),d=ie("div"),p=ie("label"),p.textContent="Full Day",g=Be(),v=ie("input"),m=Be(),Y.c(),E=Be(),ye&&ye.c(),_=Be(),C=ie("div"),Ke.c(),ee(r,"class","summaryInput svelte-1wq45u1"),ee(r,"name","summary"),ee(r,"type","text"),ee(r,"placeholder","Summary"),ee(i,"for","description"),ee(i,"class","svelte-1wq45u1"),ee(s,"name","description"),s.value=u=e[14](),ee(p,"for","fullDay"),ee(p,"class","svelte-1wq45u1"),ee(v,"type","checkbox"),ee(v,"name","fullDay"),ee(d,"class","googleFullDayContainer svelte-1wq45u1"),ee(C,"class","googleEventButtonContainer svelte-1wq45u1"),ee(t,"class","googleEventDetails")},m(Oe,Ie){Ae(Oe,t,Ie),te(t,r),rn(r,e[0].summary),te(t,n),te(t,i),te(t,a),te(t,s),te(t,c),O.m(t,null),te(t,f),te(t,d),te(d,p),te(d,g),te(d,v),v.checked=e[5],te(t,m),Y.m(t,null),te(t,E),ye&&ye.m(t,null),te(t,_),te(t,C),Ke.m(C,null),B||(R=[Je(r,"input",e[25]),Je(s,"change",e[15]),Je(v,"change",e[26])],B=!0)},p(Oe,Ie){Ie[0]&1&&r.value!==Oe[0].summary&&rn(r,Oe[0].summary),L===(L=D(Oe,Ie))&&O?O.p(Oe,Ie):(O.d(1),O=L(Oe),O&&(O.c(),O.m(t,f))),Ie[0]&32&&(v.checked=Oe[5]),j===(j=ae(Oe,Ie))&&Y?Y.p(Oe,Ie):(Y.d(1),Y=j(Oe),Y&&(Y.c(),Y.m(t,E))),Oe[0].id?ye&&(ye.d(1),ye=null):ye?ye.p(Oe,Ie):(ye=tS(Oe),ye.c(),ye.m(t,_)),we===(we=me(Oe,Ie))&&Ke?Ke.p(Oe,Ie):(Ke.d(1),Ke=we(Oe),Ke&&(Ke.c(),Ke.m(C,null)))},i:bt,o:bt,d(Oe){Oe&&Ee(t),O.d(),Y.d(),ye&&ye.d(),Ke.d(),B=!1,Mr(R)}}}function sS(){let e=15,t=1e3*60*e;return window.moment(new Date(Math.round(new Date().getTime()/t)*t))}function i8(e,t,r){let{event:n}=t,{closeFunction:i}=t,a,s=!0,u,c,f,d=1,p,g,v,m=$e.getInstance(),E,_,C,B=[[De.MO,!0],[De.TU,!0],[De.WE,!0],[De.TH,!0],[De.FR,!0],[De.SA,!0],[De.SU,!0]];function R(Re){return u?(Re.start.date=window.moment(C).format("YYYY-MM-DD"),Re.end.date=window.moment(C).format("YYYY-MM-DD"),delete Re.start.dateTime,delete Re.end.dateTime):(Re.start.dateTime=window.moment(E).format(),Re.end.dateTime=window.moment(_).format(),delete Re.start.date,delete Re.end.date),Re}Qu(()=>yr(void 0,void 0,void 0,function*(){var Re,Le,He,x;if(r(3,a=yield tn()),r(4,s=!1),r(5,u=((Re=n==null?void 0:n.start)===null||Re===void 0?void 0:Re.dateTime)==null&&((Le=n==null?void 0:n.start)===null||Le===void 0?void 0:Le.date)!==void 0),r(6,c=(n==null?void 0:n.recurringEventId)!==void 0),n.id==null){r(0,n.summary=(He=n.summary)!==null&&He!==void 0?He:"",n),r(0,n.description=(x=n.description)!==null&&x!==void 0?x:"",n),r(0,n.parent=a.find(N=>N.id===m.settings.defaultCalendar),n),n.parent||r(0,n.parent=a[a.length-1],n),r(6,c=!1);let k=sS();r(1,E=k.format("YYYY-MM-DDTHH:mm")),r(2,_=k.add(1,"hour").format("YYYY-MM-DDTHH:mm")),r(12,C=k.format("YYYY-MM-DD")),n.start.date&&r(12,C=window.moment(n.start.date).format("YYYY-MM-DD")),n.start.dateTime&&n.end.dateTime&&(r(1,E=window.moment(n.start.dateTime).format("YYYY-MM-DDTHH:mm")),r(2,_=window.moment(n.end.dateTime).format("YYYY-MM-DDTHH:mm")))}else if(u){let k=sS();r(1,E=k.format("YYYY-MM-DDTHH:mm")),r(2,_=k.add(1,"hour").format("YYYY-MM-DDTHH:mm")),r(12,C=window.moment(n.start.date).format("YYYY-MM-DD"))}else r(1,E=window.moment(n.start.dateTime).format("YYYY-MM-DDTHH:mm")),r(2,_=window.moment(n.end.dateTime).format("YYYY-MM-DDTHH:mm")),r(12,C=window.moment().format("YYYY-MM-DD"))}));let D=()=>n.description?n.description.replace(/<\/?[^>]+(>|$)/g,""):"",L=Re=>{Re.target instanceof HTMLTextAreaElement&&r(0,n.description=Re.target.value,n)},O=Re=>{let Le=Re.target;if(Le instanceof HTMLSelectElement){let He=Le.value;r(0,n.parent.id=He,n)}},ae=()=>yr(void 0,void 0,void 0,function*(){if(c){let Le=B.map(N=>{if(N[1])return N[0]});Le=Le.filter(N=>N!==void 0);let He=new sl,x={freq:f,interval:d};p==="For"?x.count=g:p==="Until"&&(x.until=new Date(v)),f===De.WEEKLY&&Le.length&&(x.byweekday=Le);let k=new De(x);He.rrule(k),r(0,n.recurrence=He.valueOf(),n)}(yield jw(R(n))).id&&i()}),j=Re=>yr(void 0,void 0,void 0,function*(){let Le=!1;n.recurringEventId?Le=yield ed(n,!0):Le=yield ed(n),Le&&i()}),Y=()=>yr(void 0,void 0,void 0,function*(){(yield ed(R(n)))&&i()}),ye=()=>yr(void 0,void 0,void 0,function*(){let Re=R(n),Le;Re.recurringEventId?Le=yield td(Re,!0):Le=yield td(Re),Le.id&&i()}),me=()=>yr(void 0,void 0,void 0,function*(){(yield td(R(n))).id&&i()}),we=()=>yr(void 0,void 0,void 0,function*(){let Re=m.app.vault.getFiles().find(Le=>Le.basename==n.summary);Re?(m.app.workspace.getLeaf(!0).openFile(Re),i()):yield zw(n)}),Ke=()=>{window.open(n.htmlLink)};function Oe(){n.summary=this.value,r(0,n)}function Ie(){u=this.checked,r(5,u)}function Pe(){C=this.value,r(12,C)}function _e(){E=this.value,r(1,E)}function nt(){_=this.value,r(2,_),r(1,E)}function Xe(){c=this.checked,r(6,c)}function Nt(){d=Wu(this.value),r(8,d)}function At(){f=Ro(this),r(7,f)}function it(){p=Ro(this),r(9,p)}function fe(){v=this.value,r(11,v)}function Dt(){g=Wu(this.value),r(10,g)}let Tt=(Re,Le,He)=>{r(13,Le[He][1]=!Re[1],B)};return e.$$set=Re=>{"event"in Re&&r(0,n=Re.event),"closeFunction"in Re&&r(24,i=Re.closeFunction)},e.$$.update=()=>{if(e.$$.dirty[0]&6){e:{let Re=window.moment(E);window.moment(_).isBefore(Re)&&r(2,_=Re.add(1,"hour").format("YYYY-MM-DDTHH:mm"))}}},[n,E,_,a,s,u,c,f,d,p,g,v,C,B,D,L,O,ae,j,Y,ye,me,we,Ke,i,Oe,Ie,Pe,_e,nt,Xe,Nt,At,it,fe,Dt,Tt]}var oS=class extends nn{constructor(t){super();gn(this,t,i8,n8,pn,{event:0,closeFunction:24},jU,[-1,-1])}},uS=oS;var Zn=class extends lS.Modal{constructor(t,r){super($e.getInstance().app);this.selectedEvent=t,r&&(this.closeFunction=r)}onOpen(){return U(this,null,function*(){let{contentEl:t}=this;new uS({target:t,props:{event:this.selectedEvent,closeFunction:()=>{this.closeFunction&&this.closeFunction(),this.close()}}})})}onClose(){let{contentEl:t}=this;t.empty()}};var aa=class extends cS.FuzzySuggestModal{constructor(t,r=window.moment(),n=!1,i){super($e.getInstance().app);this.eventList=t,this.setPlaceholder(`${r.format("MM/DD/YYYY")} Arrow left/right to switch day`),this.emptyStateText="No events found enter to create a new one",this.eventsChanged=n,this.currentDate=r,i&&(this.closeFunction=i),this.inputEl.addEventListener("keyup",a=>U(this,null,function*(){let s=!1;!this.getSuggestions(this.inputEl.value).length&&a.key=="Enter"&&new Zn({summary:this.inputEl.value,start:{date:r.format()},end:{}},()=>{this.eventsChanged=!0,this.close()}).open(),a.key=="ArrowRight"?(a.ctrlKey?this.currentDate=this.currentDate.add(1,"month"):a.shiftKey?this.currentDate=this.currentDate.add(1,"week"):this.currentDate=this.currentDate.add(1,"day"),s=!0):a.key=="ArrowLeft"&&(a.ctrlKey?this.currentDate=this.currentDate.subtract(1,"month"):a.shiftKey?this.currentDate=this.currentDate.subtract(1,"week"):this.currentDate=this.currentDate.subtract(1,"day"),s=!0),s&&(this.setPlaceholder("Loading"),this.eventList=yield Ar(r),this.inputEl.dispatchEvent(new Event("input")),this.setPlaceholder(`${r.format("MM/DD/YYYY")} Arrow left and right to switch day`))}))}getItems(){return this.eventList}getItemText(t){return t.start.date?`${t.start.date}		 | ${t.summary}	`:`${window.moment(t.start.dateTime).format("YYYY-MM-DD HH:mm")}	 | ${t.summary}	`}onChooseItem(t){return U(this,null,function*(){this.open(),new Zn(t,()=>this.eventsChanged=!0).open()})}onClose(){this.closeFunction&&this.eventsChanged&&this.closeFunction()}};var ld=class extends fS.FuzzySuggestModal{constructor(t){super($e.getInstance().app);this.calendarList=t,this.setPlaceholder("Select a calendar to view it")}getItems(){return this.calendarList}getItemText(t){return`${t.summary}	`}onChooseItem(t){return U(this,null,function*(){let r=yield Yu(t);new aa(r).open()})}};var _T=Pt(require("obsidian"));var vS=Pt(gS());function ol(e){return e.getHours()/24+e.getMinutes()/(60*24)}function mS(e,t){if(e.start.date||(e==null?void 0:e.eventType)=="multiDay")return 0;let r=ol(new Date(e.start.dateTime));return t*r}function yS(e,t){if(e.start.date||(e==null?void 0:e.eventType)=="multiDay")return 25;let r=ol(new Date(e.start.dateTime)),n=ol(new Date(e.end.dateTime));return t*(n-r)}function f8(e){Yn(e,"svelte-10n616",'.event.svelte-10n616{display:flex;padding:10px;padding-top:0;position:absolute;width:150px;left:40px;border-radius:5px;color:black;font-size:0.5em;box-shadow:3px 2px 8px 4px rgba(0,0,0,0.36);overflow:hidden}.hourLine.svelte-10n616::after{content:"";position:absolute;width:90%;left:25px;border-bottom:1px solid white}.hourText.svelte-10n616{display:block;font-family:"consolas"}.timeline.svelte-10n616,.hourText.svelte-10n616,.hourTextContainer.svelte-10n616{overflow:hidden}.timeDisplay.svelte-10n616{position:absolute;height:3px;background:red;overflow:visible}.timeline.svelte-10n616{position:relative;display:flex;flex-direction:row;overflow:visible}')}function _S(e,t,r){let n=e.slice();return n[13]=t[r],n[15]=r,n}function ES(e,t,r){let n=e.slice();return n[16]=t[r],n[15]=r,n}function CS(e,t,r){let n=e.slice();return n[16]=t[r],n[15]=r,n}function d8(e){let t,r,n,i,a=`-${e[1]/52}px`,s,u=window.moment().isSame(e[0],"day"),c,f=`${e[1]}px`,d=`${e[2]}px`,p={length:24},g=[];for(let B=0;B<p.length;B+=1)g[B]=AS(CS(e,p,B));let v={length:24},m=[];for(let B=0;B<v.length;B+=1)m[B]=wS(ES(e,v,B));let E=u&&bS(e),_=e[5],C=[];for(let B=0;B<_.length;B+=1)C[B]=SS(_S(e,_,B));return{c(){t=ie("div"),r=ie("div");for(let B=0;B<g.length;B+=1)g[B].c();n=Be(),i=ie("div");for(let B=0;B<m.length;B+=1)m[B].c();s=Be(),E&&E.c(),c=Be();for(let B=0;B<C.length;B+=1)C[B].c();ee(r,"class","hourLineContainer"),ee(i,"class","hourTextContainer svelte-10n616"),et(i,"margin-top",a,!1),ee(t,"class","timeline svelte-10n616"),et(t,"height",f,!1),et(t,"width",d,!1)},m(B,R){Ae(B,t,R),te(t,r);for(let D=0;D<g.length;D+=1)g[D].m(r,null);te(t,n),te(t,i);for(let D=0;D<m.length;D+=1)m[D].m(i,null);te(t,s),E&&E.m(t,null),te(t,c);for(let D=0;D<C.length;D+=1)C[D].m(t,null)},p(B,R){if(R&2){p={length:24};let D;for(D=0;D<p.length;D+=1){let L=CS(B,p,D);g[D]?g[D].p(L,R):(g[D]=AS(L),g[D].c(),g[D].m(r,null))}for(;D<g.length;D+=1)g[D].d(1);g.length=p.length}if(R&2){v={length:24};let D;for(D=0;D<v.length;D+=1){let L=ES(B,v,D);m[D]?m[D].p(L,R):(m[D]=wS(L),m[D].c(),m[D].m(i,null))}for(;D<m.length;D+=1)m[D].d(1);m.length=v.length}if(R&2&&a!==(a=`-${B[1]/52}px`)&&et(i,"margin-top",a,!1),R&1&&(u=window.moment().isSame(B[0],"day")),u?E?E.p(B,R):(E=bS(B),E.c(),E.m(t,c)):E&&(E.d(1),E=null),R&96){_=B[5];let D;for(D=0;D<_.length;D+=1){let L=_S(B,_,D);C[D]?C[D].p(L,R):(C[D]=SS(L),C[D].c(),C[D].m(t,null))}for(;D<C.length;D+=1)C[D].d(1);C.length=_.length}R&2&&f!==(f=`${B[1]}px`)&&et(t,"height",f,!1),R&4&&d!==(d=`${B[2]}px`)&&et(t,"width",d,!1)},d(B){B&&Ee(t),Vr(g,B),Vr(m,B),E&&E.d(),Vr(C,B)}}}function h8(e){let t;return{c(){t=ie("p"),t.textContent="Loading"},m(r,n){Ae(r,t,n)},p:bt,d(r){r&&Ee(t)}}}function AS(e){let t,r=`${e[1]/24}px`;return{c(){t=ie("div"),ee(t,"class","hourLine svelte-10n616"),et(t,"height",r,!1)},m(n,i){Ae(n,t,i)},p(n,i){i&2&&r!==(r=`${n[1]/24}px`)&&et(t,"height",r,!1)},d(n){n&&Ee(t)}}}function wS(e){let t,r,n=`${e[1]/24}px`,i=`${e[1]/50}px`;return{c(){t=ie("span"),r=Jt(e[15]),ee(t,"class","hourText svelte-10n616"),et(t,"height",n,!1),et(t,"font-size",i,!1)},m(a,s){Ae(a,t,s),te(t,r)},p(a,s){s&2&&n!==(n=`${a[1]/24}px`)&&et(t,"height",n,!1),s&2&&i!==(i=`${a[1]/50}px`)&&et(t,"font-size",i,!1)},d(a){a&&Ee(t)}}}function bS(e){let t,r=`${e[4]}px`,n=`${e[2]}px`;return{c(){t=ie("div"),ee(t,"class","timeDisplay svelte-10n616"),et(t,"top",r,!1),et(t,"width",n,!1)},m(i,a){Ae(i,t,a)},p(i,a){a&16&&r!==(r=`${i[4]}px`)&&et(t,"top",r,!1),a&4&&n!==(n=`${i[2]}px`)&&et(t,"width",n,!1)},d(i){i&&Ee(t)}}}function SS(e){let t,r=e[13].event.summary+"",n,i,a=`${e[13].y}px`,s=`${e[13].x}px`,u=`${e[13].width}px`,c=`${e[13].height}px`,f,d;function p(...g){return e[8](e[13],...g)}return{c(){t=ie("div"),n=Jt(r),ee(t,"class","event svelte-10n616"),ee(t,"id",i=e[13].event.id),et(t,"top",a,!1),et(t,"left",s,!1),et(t,"width",u,!1),et(t,"height",c,!1),et(t,"background",Gu(e[13].event),!1)},m(g,v){Ae(g,t,v),te(t,n),f||(d=Je(t,"click",p),f=!0)},p(g,v){e=g,v&32&&r!==(r=e[13].event.summary+"")&&Wn(n,r),v&32&&i!==(i=e[13].event.id)&&ee(t,"id",i),v&32&&a!==(a=`${e[13].y}px`)&&et(t,"top",a,!1),v&32&&s!==(s=`${e[13].x}px`)&&et(t,"left",s,!1),v&32&&u!==(u=`${e[13].width}px`)&&et(t,"width",u,!1),v&32&&c!==(c=`${e[13].height}px`)&&et(t,"height",c,!1),v&32&&et(t,"background",Gu(e[13].event),!1)},d(g){g&&Ee(t),f=!1,d()}}}function p8(e){let t;function r(a,s){return a[3]?h8:d8}let n=r(e,-1),i=n(e);return{c(){i.c(),t=jn()},m(a,s){i.m(a,s),Ae(a,t,s)},p(a,[s]){n===(n=r(a,s))&&i?i.p(a,s):(i.d(1),i=n(a),i&&(i.c(),i.m(t.parentNode,t)))},i:bt,o:bt,d(a){i.d(a),a&&Ee(t)}}}function g8(e,t,r){let{height:n=700}=t,{width:i=300}=t,{date:a=window.moment()}=t,s=!0,u=0,c=[],f=[],d,p=()=>yr(void 0,void 0,void 0,function*(){yield v();let _=ol(new Date);r(4,u=Math.floor(n*_))}),g=()=>{let _=new vS.default;c.forEach(R=>{let D=R.start.date||R.start.dateTime;_.has(D)?_.get(D).push(R):_.set(D,[R])});let C=0,B=null;for(let R of _.values()){if(R[0].start.dateTime){let D=window.moment(R[0].start.dateTime);B&&D.isBefore(B,"minutes")?C++:C=0,B=window.moment(R[0].end.dateTime)}R.forEach((D,L)=>{let O=30+C*10,ae=(i-O)/R.length;r(5,f=[...f,{event:D,x:O+ae*L,y:mS(D,n),width:ae,height:yS(D,n),fullDay:D.start.date!=null}])})}},v=()=>yr(void 0,void 0,void 0,function*(){if(!a.isValid())return;let _=yield Ar(a);JSON.stringify(_)!=JSON.stringify(c)&&(c=_,r(5,f=[]),g()),r(3,s=!1)}),m=(_,C)=>{C.shiftKey?window.open(_.htmlLink):new Zn(_,()=>{ci(),r(0,a),r(7,d)}).open()};ms(()=>{clearInterval(d)});let E=(_,C)=>m(_.event,C);return e.$$set=_=>{"height"in _&&r(1,n=_.height),"width"in _&&r(2,i=_.width),"date"in _&&r(0,a=_.date)},e.$$.update=()=>{if(e.$$.dirty&129){e:r(0,a),r(7,d),d&&clearInterval(d),r(3,s=!0),r(7,d=setInterval(p,5e3)),p()}},[a,n,i,s,u,f,m,d,E]}var TS=class extends nn{constructor(t){super();gn(this,t,g8,p8,pn,{height:1,width:2,date:0},f8)}},xS=TS;function m8(e){Yn(e,"svelte-169s007",".fixedSizeButton.svelte-169s007{text-align:center;padding:10px 5%;margin:0}.titleContainer.svelte-169s007{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.navigationContainer.svelte-169s007{display:flex;flex-direction:row;align-items:center;justify-content:space-around;flex-wrap:wrap;padding-bottom:30px}")}function IS(e){let t,r,n,i,a,s=e[0].format("YYYY-MM-DD")+"",u,c,f,d,p,g,v,m,E,_,C,B,R,D;return{c(){t=ie("div"),r=ie("button"),r.textContent="+",n=Be(),i=ie("h3"),a=Jt("Google Calendar "),u=Jt(s),c=Be(),f=ie("div"),d=ie("button"),d.textContent="<<",p=Be(),g=ie("button"),g.textContent="<",v=Be(),m=ie("button"),m.textContent="Today",E=Be(),_=ie("button"),_.textContent=">",C=Be(),B=ie("button"),B.textContent=">>",ee(r,"aria-label","Create Event"),ee(t,"class","titleContainer svelte-169s007"),ee(d,"class","fixedSizeButton svelte-169s007"),ee(d,"aria-label","Back 1 week"),ee(g,"class","fixedSizeButton svelte-169s007"),ee(g,"aria-label","Back 1 day"),ee(m,"class","fixedSizeButton svelte-169s007"),ee(m,"aria-label","Jump to today"),ee(_,"class","fixedSizeButton svelte-169s007"),ee(_,"aria-label","Forward 1 day"),ee(B,"class","fixedSizeButton svelte-169s007"),ee(B,"aria-label","Forward 1 week"),ee(f,"class","navigationContainer svelte-169s007")},m(L,O){Ae(L,t,O),te(t,r),te(t,n),te(t,i),te(i,a),te(i,u),Ae(L,c,O),Ae(L,f,O),te(f,d),te(f,p),te(f,g),te(f,v),te(f,m),te(f,E),te(f,_),te(f,C),te(f,B),R||(D=[Je(r,"click",e[9]),Je(d,"click",e[4]),Je(g,"click",e[5]),Je(m,"click",e[6]),Je(_,"click",e[8]),Je(B,"click",e[7])],R=!0)},p(L,O){O&1&&s!==(s=L[0].format("YYYY-MM-DD")+"")&&Wn(u,s)},d(L){L&&Ee(t),L&&Ee(c),L&&Ee(f),R=!1,Mr(D)}}}function y8(e){let t,r,n,i,a,s=e[3]&&e[0]&&IS(e);function u(f){e[11](f)}let c={height:e[1],width:e[2]};return e[0]!==void 0&&(c.date=e[0]),n=new xS({props:c}),zn.push(()=>_s(n,"date",u)),{c(){t=ie("div"),s&&s.c(),r=Be(),Zu(n.$$.fragment),et(t,"padding-left","10px")},m(f,d){Ae(f,t,d),s&&s.m(t,null),te(t,r),No(n,t,null),a=!0},p(f,[d]){f[3]&&f[0]?s?s.p(f,d):(s=IS(f),s.c(),s.m(t,r)):s&&(s.d(1),s=null);let p={};d&2&&(p.height=f[1]),d&4&&(p.width=f[2]),!i&&d&1&&(i=!0,p.date=f[0],ys(()=>i=!1)),n.$set(p)},i(f){a||(Jn(n.$$.fragment,f),a=!0)},o(f){fi(n.$$.fragment,f),a=!1},d(f){f&&Ee(t),s&&s.d(),Es(n)}}}function v8(e,t,r){let{height:n=void 0}=t,{width:i=void 0}=t,{date:a=void 0}=t,{navigation:s=!1}=t,u=0,c=()=>r(10,u-=7),f=()=>r(10,u-=1),d=()=>r(10,u=0),p=()=>r(10,u+=7),g=()=>r(10,u+=1),v=E=>{new Zn({start:{},end:{}},()=>{ci(),r(0,a),r(3,s),r(10,u)}).open()};function m(E){a=E,r(0,a),r(3,s),r(10,u)}return e.$$set=E=>{"height"in E&&r(1,n=E.height),"width"in E&&r(2,i=E.width),"date"in E&&r(0,a=E.date),"navigation"in E&&r(3,s=E.navigation)},e.$$.update=()=>{if(e.$$.dirty&1033){e:r(0,a=s?window.moment().local().add(u,"days"):a)}},[a,n,i,s,c,f,d,p,g,v,u,m]}var kS=class extends nn{constructor(t){super();gn(this,t,v8,y8,pn,{height:1,width:2,date:0,navigation:3},m8)}},fd=kS;function _8(e){Yn(e,"svelte-1ficnkj",".fullSize.svelte-1ficnkj,.content.svelte-1ficnkj,.box.svelte-1ficnkj{width:100%;height:100%;overflow:scoll !important}")}function E8(e){let t,r,n=`${e[0]}px`,i=`${e[1]}px`;return{c(){t=ie("webview"),ju(t.src,r=e[3])||ee(t,"src",r),ee(t,"allowpopups",""),ee(t,"dom-ready",e[4]),et(t,"width",n,!1),et(t,"height",i,!1)},m(a,s){Ae(a,t,s),e[7](t)},p(a,s){s&8&&!ju(t.src,r=a[3])&&ee(t,"src",r),s&1&&n!==(n=`${a[0]}px`)&&et(t,"width",n,!1),s&2&&i!==(i=`${a[1]}px`)&&et(t,"height",i,!1)},d(a){a&&Ee(t),e[7](null)}}}function C8(e){let t,r;return{c(){t=ie("webview"),ju(t.src,r=e[3])||ee(t,"src",r),ee(t,"allowpopups",""),ee(t,"dom-ready",e[4]),ee(t,"class","fullSize svelte-1ficnkj")},m(n,i){Ae(n,t,i),e[6](t)},p(n,i){i&8&&!ju(t.src,r=n[3])&&ee(t,"src",r)},d(n){n&&Ee(t),e[6](null)}}}function A8(e){let t,r;function n(s,u){return s[0]==0?C8:E8}let i=n(e,-1),a=i(e);return{c(){t=ie("div"),r=ie("div"),a.c(),ee(r,"class","content svelte-1ficnkj"),ee(t,"class","box svelte-1ficnkj")},m(s,u){Ae(s,t,u),te(t,r),a.m(r,null)},p(s,[u]){i===(i=n(s,u))&&a?a.p(s,u):(a.d(1),a=i(s),a&&(a.c(),a.m(r,null)))},i:bt,o:bt,d(s){s&&Ee(t),a.d()}}}function w8(e,t,r){let{date:n=window.moment()}=t,{width:i=0}=t,{height:a=0}=t,s,u="";n.isValid()?u=`https://calendar.google.com/calendar/u/0/r/day/${n.format("yyyy/M/D")}`:u="https://calendar.google.com/calendar/u/0/r/day/";let c=()=>{s.insertCSS(`
    html body div div div div {
        margin-left: -256px;
    }
  `)};function f(p){zn[p?"unshift":"push"](()=>{s=p,r(2,s)})}function d(p){zn[p?"unshift":"push"](()=>{s=p,r(2,s)})}return e.$$set=p=>{"date"in p&&r(5,n=p.date),"width"in p&&r(0,i=p.width),"height"in p&&r(1,a=p.height)},[i,a,s,u,c,n,f,d]}var BS=class extends nn{constructor(t){super();gn(this,t,w8,A8,pn,{date:5,width:0,height:1},_8)}},dd=BS;var XH=Pt(require("obsidian"));function Rr(){}function ul(e,t){for(let r in t)e[r]=t[r];return e}function b8(e){return e&&typeof e=="object"&&typeof e.then=="function"}function RS(e){return e()}function NS(){return Object.create(null)}function Ua(e){e.forEach(RS)}function Di(e){return typeof e=="function"}function Eg(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function hd(e,t){return e!=e?t==t:e!==t}function S8(e){return Object.keys(e).length===0}function DS(e,t,r,n){if(e){let i=LS(e,t,r,n);return e[0](i)}}function LS(e,t,r,n){return e[1]&&n?ul(r.ctx.slice(),e[1](n(t))):r.ctx}function T8(e,t,r,n){if(e[2]&&n){let i=e[2](n(r));if(t.dirty===void 0)return i;if(typeof i=="object"){let a=[],s=Math.max(t.dirty.length,i.length);for(let u=0;u<s;u+=1)a[u]=t.dirty[u]|i[u];return a}return t.dirty|i}return t.dirty}function PS(e,t,r,n,i,a,s){let u=T8(t,n,i,a);if(u){let c=LS(t,r,n,s);e.p(c,u)}}function qo(e){return e==null?"":e}function dt(e,t){e.appendChild(t)}function Nr(e,t,r){e.insertBefore(t,r||null)}function wr(e){e.parentNode.removeChild(e)}function pd(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function qt(e){return document.createElement(e)}function Go(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ts(e){return document.createTextNode(e)}function In(){return Ts(" ")}function gd(){return Ts("")}function sa(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function st(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function OS(e,t){let r=Object.getOwnPropertyDescriptors(e.__proto__);for(let n in t)t[n]==null?e.removeAttribute(n):n==="style"?e.style.cssText=t[n]:n==="__value"?e.value=e[n]=t[n]:r[n]&&r[n].set?e[n]=t[n]:st(e,n,t[n])}function x8(e){return Array.from(e.childNodes)}function ll(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function pr(e,t,r){e.classList[r?"add":"remove"](t)}var md;function Fa(e){md=e}function I8(){if(!md)throw new Error("Function called outside component initialization");return md}var cl=[],MS=[],yd=[],US=[],k8=Promise.resolve(),Cg=!1;function B8(){Cg||(Cg=!0,k8.then(Sg))}function Ag(e){yd.push(e)}var wg=!1,bg=new Set;function Sg(){if(!wg){wg=!0;do{for(let e=0;e<cl.length;e+=1){let t=cl[e];Fa(t),R8(t.$$)}for(Fa(null),cl.length=0;MS.length;)MS.pop()();for(let e=0;e<yd.length;e+=1){let t=yd[e];bg.has(t)||(bg.add(t),t())}yd.length=0}while(cl.length);for(;US.length;)US.pop()();Cg=!1,wg=!1,bg.clear()}}function R8(e){if(e.fragment!==null){e.update(),Ua(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ag)}}var vd=new Set,xs;function Is(){xs={r:0,c:[],p:xs}}function ks(){xs.r||Ua(xs.c),xs=xs.p}function Kt(e,t){e&&e.i&&(vd.delete(e),e.i(t))}function ar(e,t,r,n){if(e&&e.o){if(vd.has(e))return;vd.add(e),xs.c.push(()=>{vd.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}}function FS(e,t){let r=t.token={};function n(i,a,s,u){if(t.token!==r)return;t.resolved=u;let c=t.ctx;s!==void 0&&(c=c.slice(),c[s]=u);let f=i&&(t.current=i)(c),d=!1;t.block&&(t.blocks?t.blocks.forEach((p,g)=>{g!==a&&p&&(Is(),ar(p,1,1,()=>{t.blocks[g]===p&&(t.blocks[g]=null)}),ks())}):t.block.d(1),f.c(),Kt(f,1),f.m(t.mount(),t.anchor),d=!0),t.block=f,t.blocks&&(t.blocks[a]=f),d&&Sg()}if(b8(e)){let i=I8();if(e.then(a=>{Fa(i),n(t.then,1,t.value,a),Fa(null)},a=>{if(Fa(i),n(t.catch,2,t.error,a),Fa(null),!t.hasCatch)throw a}),t.current!==t.pending)return n(t.pending,0),!0}else{if(t.current!==t.then)return n(t.then,1,t.value,e),!0;t.resolved=e}}function qS(e,t){ar(e,1,1,()=>{t.delete(e.key)})}function GS(e,t,r,n,i,a,s,u,c,f,d,p){let g=e.length,v=a.length,m=g,E={};for(;m--;)E[e[m].key]=m;let _=[],C=new Map,B=new Map;for(m=v;m--;){let O=p(i,a,m),ae=r(O),j=s.get(ae);j?n&&j.p(O,t):(j=f(ae,O),j.c()),C.set(ae,_[m]=j),ae in E&&B.set(ae,Math.abs(m-E[ae]))}let R=new Set,D=new Set;function L(O){Kt(O,1),O.m(u,d),s.set(O.key,O),d=O.first,v--}for(;g&&v;){let O=_[v-1],ae=e[g-1],j=O.key,Y=ae.key;O===ae?(d=O.first,g--,v--):C.has(Y)?!s.has(j)||R.has(j)?L(O):D.has(Y)?g--:B.get(j)>B.get(Y)?(D.add(j),L(O)):(R.add(Y),g--):(c(ae,s),g--)}for(;g--;){let O=e[g];C.has(O.key)||c(O,s)}for(;v;)L(_[v-1]);return _}function _d(e,t){let r={},n={},i={$$scope:1},a=e.length;for(;a--;){let s=e[a],u=t[a];if(u){for(let c in s)c in u||(n[c]=1);for(let c in u)i[c]||(r[c]=u[c],i[c]=1);e[a]=u}else for(let c in s)i[c]=1}for(let s in n)s in r||(r[s]=void 0);return r}function Tg(e){return typeof e=="object"&&e!==null?e:{}}function oa(e){e&&e.c()}function Li(e,t,r,n){let{fragment:i,on_mount:a,on_destroy:s,after_update:u}=e.$$;i&&i.m(t,r),n||Ag(()=>{let c=a.map(RS).filter(Di);s?s.push(...c):Ua(c),e.$$.on_mount=[]}),u.forEach(Ag)}function Pi(e,t){let r=e.$$;r.fragment!==null&&(Ua(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function N8(e,t){e.$$.dirty[0]===-1&&(cl.push(e),B8(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Bs(e,t,r,n,i,a,s=[-1]){let u=md;Fa(e);let c=e.$$={fragment:null,ctx:null,props:a,update:Rr,not_equal:i,bound:NS(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:NS(),dirty:s,skip_bound:!1},f=!1;if(c.ctx=r?r(e,t.props||{},(d,p,...g)=>{let v=g.length?g[0]:p;return c.ctx&&i(c.ctx[d],c.ctx[d]=v)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](v),f&&N8(e,d)),p}):[],c.update(),f=!0,Ua(c.before_update),c.fragment=n?n(c.ctx):!1,t.target){if(t.hydrate){let d=x8(t.target);c.fragment&&c.fragment.l(d),d.forEach(wr)}else c.fragment&&c.fragment.c();t.intro&&Kt(e.$$.fragment),Li(e,t.target,t.anchor,t.customElement),Sg()}Fa(u)}var qa=class{$destroy(){Pi(this,1),this.$destroy=Rr}$on(t,r){let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!S8(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};function D8(e,t="day"){let r=e.clone().startOf(t).format();return`${t}-${r}`}var Ed=D8;function L8(){var e=qt("style");e.id="svelte-1widvzq-style",e.textContent=".dot.svelte-1widvzq,.hollow.svelte-1widvzq{display:inline-block;height:6px;width:6px;margin:0 1px}.filled.svelte-1widvzq{fill:var(--color-dot)}.active.filled.svelte-1widvzq{fill:var(--text-on-accent)}.hollow.svelte-1widvzq{fill:none;stroke:var(--color-dot)}.active.hollow.svelte-1widvzq{fill:none;stroke:var(--text-on-accent)}",dt(document.head,e)}function P8(e){let t,r,n;return{c(){t=Go("svg"),r=Go("circle"),st(r,"cx","3"),st(r,"cy","3"),st(r,"r","2"),st(t,"class",n=""+(qo(`hollow ${e[0]}`)+" svelte-1widvzq")),st(t,"viewBox","0 0 6 6"),st(t,"xmlns","http://www.w3.org/2000/svg"),pr(t,"active",e[2])},m(i,a){Nr(i,t,a),dt(t,r)},p(i,a){a&1&&n!==(n=""+(qo(`hollow ${i[0]}`)+" svelte-1widvzq"))&&st(t,"class",n),a&5&&pr(t,"active",i[2])},d(i){i&&wr(t)}}}function O8(e){let t,r,n;return{c(){t=Go("svg"),r=Go("circle"),st(r,"cx","3"),st(r,"cy","3"),st(r,"r","2"),st(t,"class",n=""+(qo(`dot filled ${e[0]}`)+" svelte-1widvzq")),st(t,"viewBox","0 0 6 6"),st(t,"xmlns","http://www.w3.org/2000/svg"),pr(t,"active",e[2])},m(i,a){Nr(i,t,a),dt(t,r)},p(i,a){a&1&&n!==(n=""+(qo(`dot filled ${i[0]}`)+" svelte-1widvzq"))&&st(t,"class",n),a&5&&pr(t,"active",i[2])},d(i){i&&wr(t)}}}function M8(e){let t;function r(a,s){return a[1]?O8:P8}let n=r(e),i=n(e);return{c(){i.c(),t=gd()},m(a,s){i.m(a,s),Nr(a,t,s)},p(a,[s]){n===(n=r(a))&&i?i.p(a,s):(i.d(1),i=n(a),i&&(i.c(),i.m(t.parentNode,t)))},i:Rr,o:Rr,d(a){i.d(a),a&&wr(t)}}}function U8(e,t,r){let{className:n=""}=t,{isFilled:i}=t,{isActive:a}=t;return e.$$set=s=>{"className"in s&&r(0,n=s.className),"isFilled"in s&&r(1,i=s.isFilled),"isActive"in s&&r(2,a=s.isActive)},[n,i,a]}var xg=class extends qa{constructor(t){super();document.getElementById("svelte-1widvzq-style")||L8(),Bs(this,t,U8,M8,Eg,{className:0,isFilled:1,isActive:2})}},F8=e=>({}),KS=e=>({metadata:null}),q8=e=>({metadata:e&1}),VS=e=>({metadata:e[3]});function G8(e){let t,r=e[2].default,n=DS(r,e,e[1],KS);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&a&2&&PS(n,r,i,i[1],a,F8,KS)},i(i){t||(Kt(n,i),t=!0)},o(i){ar(n,i),t=!1},d(i){n&&n.d(i)}}}function K8(e){let t,r,n,i={ctx:e,current:null,token:null,hasCatch:!1,pending:Y8,then:H8,catch:V8,value:3,blocks:[,,,]};return FS(r=e[0],i),{c(){t=gd(),i.block.c()},m(a,s){Nr(a,t,s),i.block.m(a,i.anchor=s),i.mount=()=>t.parentNode,i.anchor=t,n=!0},p(a,s){if(e=a,i.ctx=e,!(s&1&&r!==(r=e[0])&&FS(r,i))){let u=e.slice();u[3]=i.resolved,i.block.p(u,s)}},i(a){n||(Kt(i.block),n=!0)},o(a){for(let s=0;s<3;s+=1){let u=i.blocks[s];ar(u)}n=!1},d(a){a&&wr(t),i.block.d(a),i.token=null,i=null}}}function V8(e){return{c:Rr,m:Rr,p:Rr,i:Rr,o:Rr,d:Rr}}function H8(e){let t,r=e[2].default,n=DS(r,e,e[1],VS);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&a&3&&PS(n,r,i,i[1],a,q8,VS)},i(i){t||(Kt(n,i),t=!0)},o(i){ar(n,i),t=!1},d(i){n&&n.d(i)}}}function Y8(e){return{c:Rr,m:Rr,p:Rr,i:Rr,o:Rr,d:Rr}}function j8(e){let t,r,n,i,a=[K8,G8],s=[];function u(c,f){return c[0]?0:1}return t=u(e),r=s[t]=a[t](e),{c(){r.c(),n=gd()},m(c,f){s[t].m(c,f),Nr(c,n,f),i=!0},p(c,[f]){let d=t;t=u(c),t===d?s[t].p(c,f):(Is(),ar(s[d],1,1,()=>{s[d]=null}),ks(),r=s[t],r?r.p(c,f):(r=s[t]=a[t](c),r.c()),Kt(r,1),r.m(n.parentNode,n))},i(c){i||(Kt(r),i=!0)},o(c){ar(r),i=!1},d(c){s[t].d(c),c&&wr(n)}}}function W8(e,t,r){let{$$slots:n={},$$scope:i}=t,{metadata:a}=t;return e.$$set=s=>{"metadata"in s&&r(0,a=s.metadata),"$$scope"in s&&r(1,i=s.$$scope)},[a,i,n]}var Ig=class extends qa{constructor(t){super();Bs(this,t,W8,j8,hd,{metadata:0})}};function z8(){return navigator.appVersion.indexOf("Mac")!==-1}function Cd(e){return z8()?e.metaKey:e.ctrlKey}function J8(...e){return window.moment.weekdaysShort(!0)}function HS(e){return e.isoWeekday()===6||e.isoWeekday()===7}function Q8(e){return e[0].weekday(0)}function X8(e,...t){let r=window.moment().locale(),n=[],i,a=e.clone().locale(r).date(1),s=a.weekday(),u=a.clone().subtract(s,"days");for(let c=0;c<42;c++)c%7==0&&(i={days:[],weekNum:u.week()},n.push(i)),i.days.push(u),u=u.clone().add(1,"days");return n}function Z8(){var e=qt("style");e.id="svelte-q3wqg9-style",e.textContent=".day.svelte-q3wqg9{background-color:var(--color-background-day);border-radius:4px;color:var(--color-text-day);cursor:pointer;font-size:0.8em;height:100%;padding:4px;position:relative;text-align:center;transition:background-color 0.1s ease-in, color 0.1s ease-in;vertical-align:baseline}.day.svelte-q3wqg9:hover{background-color:var(--interactive-hover)}.day.active.svelte-q3wqg9:hover{background-color:var(--interactive-accent-hover)}.adjacent-month.svelte-q3wqg9{opacity:0.25}.today.svelte-q3wqg9{color:var(--color-text-today)}.day.svelte-q3wqg9:active,.active.svelte-q3wqg9,.active.today.svelte-q3wqg9{color:var(--text-on-accent);background-color:var(--interactive-accent)}.dot-container.svelte-q3wqg9{display:flex;flex-wrap:wrap;justify-content:center;line-height:6px;min-height:6px}",dt(document.head,e)}function YS(e,t,r){let n=e.slice();return n[11]=t[r],n}function jS(e){let t,r,n=[e[11]],i={};for(let a=0;a<n.length;a+=1)i=ul(i,n[a]);return t=new xg({props:i}),{c(){oa(t.$$.fragment)},m(a,s){Li(t,a,s),r=!0},p(a,s){let u=s&128?_d(n,[Tg(a[11])]):{};t.$set(u)},i(a){r||(Kt(t.$$.fragment,a),r=!0)},o(a){ar(t.$$.fragment,a),r=!1},d(a){Pi(t,a)}}}function $8(e){let t,r=e[0].format("D")+"",n,i,a,s,u,c,f,d=e[7].dots,p=[];for(let E=0;E<d.length;E+=1)p[E]=jS(YS(e,d,E));let g=E=>ar(p[E],1,1,()=>{p[E]=null}),v=[{class:s=`day ${e[7].classes.join(" ")}`},e[7].dataAttributes||{}],m={};for(let E=0;E<v.length;E+=1)m=ul(m,v[E]);return{c(){t=qt("div"),n=Ts(r),i=In(),a=qt("div");for(let E=0;E<p.length;E+=1)p[E].c();st(a,"class","dot-container svelte-q3wqg9"),OS(t,m),pr(t,"active",e[6]===Ed(e[0],"day")),pr(t,"adjacent-month",!e[0].isSame(e[5],"month")),pr(t,"today",e[0].isSame(e[4],"day")),pr(t,"svelte-q3wqg9",!0)},m(E,_){Nr(E,t,_),dt(t,n),dt(t,i),dt(t,a);for(let C=0;C<p.length;C+=1)p[C].m(a,null);u=!0,c||(f=[sa(t,"click",function(){Di(e[2]&&e[8])&&(e[2]&&e[8]).apply(this,arguments)}),sa(t,"contextmenu",function(){Di(e[3]&&e[9])&&(e[3]&&e[9]).apply(this,arguments)}),sa(t,"pointerover",function(){Di(e[1]&&e[10])&&(e[1]&&e[10]).apply(this,arguments)})],c=!0)},p(E,_){if(e=E,(!u||_&1)&&r!==(r=e[0].format("D")+"")&&ll(n,r),_&128){d=e[7].dots;let C;for(C=0;C<d.length;C+=1){let B=YS(e,d,C);p[C]?(p[C].p(B,_),Kt(p[C],1)):(p[C]=jS(B),p[C].c(),Kt(p[C],1),p[C].m(a,null))}for(Is(),C=d.length;C<p.length;C+=1)g(C);ks()}OS(t,m=_d(v,[(!u||_&128&&s!==(s=`day ${e[7].classes.join(" ")}`))&&{class:s},_&128&&(e[7].dataAttributes||{})])),pr(t,"active",e[6]===Ed(e[0],"day")),pr(t,"adjacent-month",!e[0].isSame(e[5],"month")),pr(t,"today",e[0].isSame(e[4],"day")),pr(t,"svelte-q3wqg9",!0)},i(E){if(!u){for(let _=0;_<d.length;_+=1)Kt(p[_]);u=!0}},o(E){p=p.filter(Boolean);for(let _=0;_<p.length;_+=1)ar(p[_]);u=!1},d(E){E&&wr(t),pd(p,E),c=!1,Ua(f)}}}function eF(e){let t,r,n;return r=new Ig({props:{metadata:e[7],$$slots:{default:[$8,({metadata:i})=>({7:i}),({metadata:i})=>i?128:0]},$$scope:{ctx:e}}}),{c(){t=qt("td"),oa(r.$$.fragment)},m(i,a){Nr(i,t,a),Li(r,t,null),n=!0},p(i,[a]){let s={};a&128&&(s.metadata=i[7]),a&16639&&(s.$$scope={dirty:a,ctx:i}),r.$set(s)},i(i){n||(Kt(r.$$.fragment,i),n=!0)},o(i){ar(r.$$.fragment,i),n=!1},d(i){i&&wr(t),Pi(r)}}}function tF(e,t,r){let{date:n}=t,{metadata:i}=t,{onHover:a}=t,{onClick:s}=t,{onContextMenu:u}=t,{today:c}=t,{displayedMonth:f=null}=t,{selectedId:d=null}=t,p=m=>s(n,Cd(m)),g=m=>u(n,m),v=m=>a(n,m.target,Cd(m));return e.$$set=m=>{"date"in m&&r(0,n=m.date),"metadata"in m&&r(7,i=m.metadata),"onHover"in m&&r(1,a=m.onHover),"onClick"in m&&r(2,s=m.onClick),"onContextMenu"in m&&r(3,u=m.onContextMenu),"today"in m&&r(4,c=m.today),"displayedMonth"in m&&r(5,f=m.displayedMonth),"selectedId"in m&&r(6,d=m.selectedId)},[n,a,s,u,c,f,d,i,p,g,v]}var WS=class extends qa{constructor(t){super();document.getElementById("svelte-q3wqg9-style")||Z8(),Bs(this,t,tF,eF,hd,{date:0,metadata:7,onHover:1,onClick:2,onContextMenu:3,today:4,displayedMonth:5,selectedId:6})}};function rF(){var e=qt("style");e.id="svelte-156w7na-style",e.textContent=".arrow.svelte-156w7na.svelte-156w7na{align-items:center;cursor:pointer;display:flex;justify-content:center;width:24px}.arrow.is-mobile.svelte-156w7na.svelte-156w7na{width:32px}.right.svelte-156w7na.svelte-156w7na{transform:rotate(180deg)}.arrow.svelte-156w7na svg.svelte-156w7na{color:var(--color-arrow);height:16px;width:16px}",dt(document.head,e)}function nF(e){let t,r,n,i,a;return{c(){t=qt("div"),r=Go("svg"),n=Go("path"),st(n,"fill","currentColor"),st(n,"d","M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"),st(r,"focusable","false"),st(r,"role","img"),st(r,"xmlns","http://www.w3.org/2000/svg"),st(r,"viewBox","0 0 320 512"),st(r,"class","svelte-156w7na"),st(t,"class","arrow svelte-156w7na"),st(t,"aria-label",e[1]),pr(t,"is-mobile",e[3]),pr(t,"right",e[2]==="right")},m(s,u){Nr(s,t,u),dt(t,r),dt(r,n),i||(a=sa(t,"click",function(){Di(e[0])&&e[0].apply(this,arguments)}),i=!0)},p(s,[u]){e=s,u&2&&st(t,"aria-label",e[1]),u&4&&pr(t,"right",e[2]==="right")},i:Rr,o:Rr,d(s){s&&wr(t),i=!1,a()}}}function iF(e,t,r){let{onClick:n}=t,{tooltip:i}=t,{direction:a}=t,s=window.app.isMobile;return e.$$set=u=>{"onClick"in u&&r(0,n=u.onClick),"tooltip"in u&&r(1,i=u.tooltip),"direction"in u&&r(2,a=u.direction)},[n,i,a,s]}var kg=class extends qa{constructor(t){super();document.getElementById("svelte-156w7na-style")||rF(),Bs(this,t,iF,nF,Eg,{onClick:0,tooltip:1,direction:2})}};function aF(){var e=qt("style");e.id="svelte-1vwr9dd-style",e.textContent=".nav.svelte-1vwr9dd.svelte-1vwr9dd{align-items:center;display:flex;margin:0.6em 0 1em;padding:0 8px;width:100%}.nav.is-mobile.svelte-1vwr9dd.svelte-1vwr9dd{padding:0}.title.svelte-1vwr9dd.svelte-1vwr9dd{color:var(--color-text-title);font-size:1.5em;margin:0}.is-mobile.svelte-1vwr9dd .title.svelte-1vwr9dd{font-size:1.3em}.month.svelte-1vwr9dd.svelte-1vwr9dd{font-weight:500;text-transform:capitalize}.year.svelte-1vwr9dd.svelte-1vwr9dd{color:var(--interactive-accent)}.right-nav.svelte-1vwr9dd.svelte-1vwr9dd{display:flex;justify-content:center;margin-left:auto}.reset-button.svelte-1vwr9dd.svelte-1vwr9dd{cursor:pointer;border-radius:4px;color:var(--text-muted);font-size:0.7em;font-weight:600;letter-spacing:1px;margin:0 4px;padding:0px 4px;text-transform:uppercase}.is-mobile.svelte-1vwr9dd .reset-button.svelte-1vwr9dd{display:none}",dt(document.head,e)}function sF(e){let t,r,n,i=e[0].format("MMM")+"",a,s,u,c=e[0].format("YYYY")+"",f,d,p,g,v,m,E,_,C,B,R;return g=new kg({props:{direction:"left",onClick:e[3],tooltip:"Previous Month"}}),_=new kg({props:{direction:"right",onClick:e[2],tooltip:"Next Month"}}),{c(){t=qt("div"),r=qt("h3"),n=qt("span"),a=Ts(i),s=In(),u=qt("span"),f=Ts(c),d=In(),p=qt("div"),oa(g.$$.fragment),v=In(),m=qt("div"),m.textContent=`${e[4]}`,E=In(),oa(_.$$.fragment),st(n,"class","month svelte-1vwr9dd"),st(u,"class","year svelte-1vwr9dd"),st(r,"class","title svelte-1vwr9dd"),st(m,"class","reset-button svelte-1vwr9dd"),st(p,"class","right-nav svelte-1vwr9dd"),st(t,"class","nav svelte-1vwr9dd"),pr(t,"is-mobile",e[5])},m(D,L){Nr(D,t,L),dt(t,r),dt(r,n),dt(n,a),dt(r,s),dt(r,u),dt(u,f),dt(t,d),dt(t,p),Li(g,p,null),dt(p,v),dt(p,m),dt(p,E),Li(_,p,null),C=!0,B||(R=[sa(r,"click",function(){Di(e[1])&&e[1].apply(this,arguments)}),sa(m,"click",function(){Di(e[1])&&e[1].apply(this,arguments)})],B=!0)},p(D,[L]){e=D,(!C||L&1)&&i!==(i=e[0].format("MMM")+"")&&ll(a,i),(!C||L&1)&&c!==(c=e[0].format("YYYY")+"")&&ll(f,c);let O={};L&8&&(O.onClick=e[3]),g.$set(O);let ae={};L&4&&(ae.onClick=e[2]),_.$set(ae)},i(D){C||(Kt(g.$$.fragment,D),Kt(_.$$.fragment,D),C=!0)},o(D){ar(g.$$.fragment,D),ar(_.$$.fragment,D),C=!1},d(D){D&&wr(t),Pi(g),Pi(_),B=!1,Ua(R)}}}function oF(e,t,r){let{displayedMonth:n}=t,{today:i}=t,{resetDisplayedMonth:a}=t,{incrementDisplayedMonth:s}=t,{decrementDisplayedMonth:u}=t,c=i.calendar().split(/\d|\s/)[0],f=window.app.isMobile;return e.$$set=d=>{"displayedMonth"in d&&r(0,n=d.displayedMonth),"today"in d&&r(6,i=d.today),"resetDisplayedMonth"in d&&r(1,a=d.resetDisplayedMonth),"incrementDisplayedMonth"in d&&r(2,s=d.incrementDisplayedMonth),"decrementDisplayedMonth"in d&&r(3,u=d.decrementDisplayedMonth)},[n,a,s,u,c,f,i]}var zS=class extends qa{constructor(t){super();document.getElementById("svelte-1vwr9dd-style")||aF(),Bs(this,t,oF,sF,Eg,{displayedMonth:0,today:6,resetDisplayedMonth:1,incrementDisplayedMonth:2,decrementDisplayedMonth:3})}};function uF(){var e=qt("style");e.id="svelte-egt0yd-style",e.textContent="td.svelte-egt0yd{border-right:1px solid var(--background-modifier-border)}.week-num.svelte-egt0yd{background-color:var(--color-background-weeknum);border-radius:4px;color:var(--color-text-weeknum);cursor:pointer;font-size:0.65em;height:100%;padding:4px;text-align:center;transition:background-color 0.1s ease-in, color 0.1s ease-in;vertical-align:baseline}.week-num.svelte-egt0yd:hover{background-color:var(--interactive-hover)}.week-num.active.svelte-egt0yd:hover{background-color:var(--interactive-accent-hover)}.active.svelte-egt0yd{color:var(--text-on-accent);background-color:var(--interactive-accent)}.dot-container.svelte-egt0yd{display:flex;flex-wrap:wrap;justify-content:center;line-height:6px;min-height:6px}",dt(document.head,e)}function JS(e,t,r){let n=e.slice();return n[11]=t[r],n}function QS(e){let t,r,n=[e[11]],i={};for(let a=0;a<n.length;a+=1)i=ul(i,n[a]);return t=new xg({props:i}),{c(){oa(t.$$.fragment)},m(a,s){Li(t,a,s),r=!0},p(a,s){let u=s&64?_d(n,[Tg(a[11])]):{};t.$set(u)},i(a){r||(Kt(t.$$.fragment,a),r=!0)},o(a){ar(t.$$.fragment,a),r=!1},d(a){Pi(t,a)}}}function lF(e){let t,r,n,i,a,s,u,c,f=e[6].dots,d=[];for(let g=0;g<f.length;g+=1)d[g]=QS(JS(e,f,g));let p=g=>ar(d[g],1,1,()=>{d[g]=null});return{c(){t=qt("div"),r=Ts(e[0]),n=In(),i=qt("div");for(let g=0;g<d.length;g+=1)d[g].c();st(i,"class","dot-container svelte-egt0yd"),st(t,"class",a=""+(qo(`week-num ${e[6].classes.join(" ")}`)+" svelte-egt0yd")),pr(t,"active",e[5]===Ed(e[1][0],"week"))},m(g,v){Nr(g,t,v),dt(t,r),dt(t,n),dt(t,i);for(let m=0;m<d.length;m+=1)d[m].m(i,null);s=!0,u||(c=[sa(t,"click",function(){Di(e[3]&&e[8])&&(e[3]&&e[8]).apply(this,arguments)}),sa(t,"contextmenu",function(){Di(e[4]&&e[9])&&(e[4]&&e[9]).apply(this,arguments)}),sa(t,"pointerover",function(){Di(e[2]&&e[10])&&(e[2]&&e[10]).apply(this,arguments)})],u=!0)},p(g,v){if(e=g,(!s||v&1)&&ll(r,e[0]),v&64){f=e[6].dots;let m;for(m=0;m<f.length;m+=1){let E=JS(e,f,m);d[m]?(d[m].p(E,v),Kt(d[m],1)):(d[m]=QS(E),d[m].c(),Kt(d[m],1),d[m].m(i,null))}for(Is(),m=f.length;m<d.length;m+=1)p(m);ks()}(!s||v&64&&a!==(a=""+(qo(`week-num ${e[6].classes.join(" ")}`)+" svelte-egt0yd")))&&st(t,"class",a),v&98&&pr(t,"active",e[5]===Ed(e[1][0],"week"))},i(g){if(!s){for(let v=0;v<f.length;v+=1)Kt(d[v]);s=!0}},o(g){d=d.filter(Boolean);for(let v=0;v<d.length;v+=1)ar(d[v]);s=!1},d(g){g&&wr(t),pd(d,g),u=!1,Ua(c)}}}function cF(e){let t,r,n;return r=new Ig({props:{metadata:e[6],$$slots:{default:[lF,({metadata:i})=>({6:i}),({metadata:i})=>i?64:0]},$$scope:{ctx:e}}}),{c(){t=qt("td"),oa(r.$$.fragment),st(t,"class","svelte-egt0yd")},m(i,a){Nr(i,t,a),Li(r,t,null),n=!0},p(i,[a]){let s={};a&64&&(s.metadata=i[6]),a&16639&&(s.$$scope={dirty:a,ctx:i}),r.$set(s)},i(i){n||(Kt(r.$$.fragment,i),n=!0)},o(i){ar(r.$$.fragment,i),n=!1},d(i){i&&wr(t),Pi(r)}}}function fF(e,t,r){let{weekNum:n}=t,{days:i}=t,{metadata:a}=t,{onHover:s}=t,{onClick:u}=t,{onContextMenu:c}=t,{selectedId:f=null}=t,d,p=m=>u(d,Cd(m)),g=m=>c(i[0],m),v=m=>s(d,m.target,Cd(m));return e.$$set=m=>{"weekNum"in m&&r(0,n=m.weekNum),"days"in m&&r(1,i=m.days),"metadata"in m&&r(6,a=m.metadata),"onHover"in m&&r(2,s=m.onHover),"onClick"in m&&r(3,u=m.onClick),"onContextMenu"in m&&r(4,c=m.onContextMenu),"selectedId"in m&&r(5,f=m.selectedId)},e.$$.update=()=>{e.$$.dirty&2&&r(7,d=Q8(i))},[n,i,s,u,c,f,a,d,p,g,v]}var XS=class extends qa{constructor(t){super();document.getElementById("svelte-egt0yd-style")||uF(),Bs(this,t,fF,cF,hd,{weekNum:0,days:1,metadata:6,onHover:2,onClick:3,onContextMenu:4,selectedId:5})}};function ZS(e){return U(this,null,function*(){let t={dots:[],classes:[],dataAttributes:{}};return(yield Promise.all(e)).reduce((n,i)=>({classes:[...n.classes,...i.classes||[]],dataAttributes:Object.assign(n.dataAttributes,i.dataAttributes),dots:[...n.dots,...i.dots||[]]}),t)})}function $S(e,t,...r){return ZS(e.map(n=>n.getDailyMetadata(t)))}function eT(e,t,...r){return ZS(e.map(n=>n.getWeeklyMetadata(t)))}function dF(){var e=qt("style");e.id="svelte-pcimu8-style",e.textContent=".container.svelte-pcimu8{--color-background-heading:transparent;--color-background-day:transparent;--color-background-weeknum:transparent;--color-background-weekend:transparent;--color-dot:var(--text-muted);--color-arrow:var(--text-muted);--color-button:var(--text-muted);--color-text-title:var(--text-normal);--color-text-heading:var(--text-muted);--color-text-day:var(--text-normal);--color-text-today:var(--interactive-accent);--color-text-weeknum:var(--text-muted)}.container.svelte-pcimu8{padding:0 8px}.container.is-mobile.svelte-pcimu8{padding:0}th.svelte-pcimu8{text-align:center}.weekend.svelte-pcimu8{background-color:var(--color-background-weekend)}.calendar.svelte-pcimu8{border-collapse:collapse;width:100%}th.svelte-pcimu8{background-color:var(--color-background-heading);color:var(--color-text-heading);font-size:0.6em;letter-spacing:1px;padding:4px;text-transform:uppercase}",dt(document.head,e)}function tT(e,t,r){let n=e.slice();return n[18]=t[r],n}function rT(e,t,r){let n=e.slice();return n[21]=t[r],n}function nT(e,t,r){let n=e.slice();return n[24]=t[r],n}function iT(e,t,r){let n=e.slice();return n[27]=t[r],n}function aT(e){let t;return{c(){t=qt("col")},m(r,n){Nr(r,t,n)},d(r){r&&wr(t)}}}function sT(e){let t;return{c(){t=qt("col"),st(t,"class","svelte-pcimu8"),pr(t,"weekend",HS(e[27]))},m(r,n){Nr(r,t,n)},p(r,n){n&16384&&pr(t,"weekend",HS(r[27]))},d(r){r&&wr(t)}}}function oT(e){let t;return{c(){t=qt("th"),t.textContent="W",st(t,"class","svelte-pcimu8")},m(r,n){Nr(r,t,n)},d(r){r&&wr(t)}}}function uT(e){let t,r=e[24]+"",n;return{c(){t=qt("th"),n=Ts(r),st(t,"class","svelte-pcimu8")},m(i,a){Nr(i,t,a),dt(t,n)},p(i,a){a&32768&&r!==(r=i[24]+"")&&ll(n,r)},d(i){i&&wr(t)}}}function lT(e){let t,r,n=[e[18],{metadata:eT(e[8],e[18].days[0],e[10])},{onClick:e[7]},{onContextMenu:e[5]},{onHover:e[3]},{selectedId:e[9]}],i={};for(let a=0;a<n.length;a+=1)i=ul(i,n[a]);return t=new XS({props:i}),{c(){oa(t.$$.fragment)},m(a,s){Li(t,a,s),r=!0},p(a,s){let u=s&18344?_d(n,[s&16384&&Tg(a[18]),s&17664&&{metadata:eT(a[8],a[18].days[0],a[10])},s&128&&{onClick:a[7]},s&32&&{onContextMenu:a[5]},s&8&&{onHover:a[3]},s&512&&{selectedId:a[9]}]):{};t.$set(u)},i(a){r||(Kt(t.$$.fragment,a),r=!0)},o(a){ar(t.$$.fragment,a),r=!1},d(a){Pi(t,a)}}}function cT(e,t){let r,n,i;return n=new WS({props:{date:t[21],today:t[10],displayedMonth:t[0],onClick:t[6],onContextMenu:t[4],onHover:t[2],metadata:$S(t[8],t[21],t[10]),selectedId:t[9]}}),{key:e,first:null,c(){r=gd(),oa(n.$$.fragment),this.first=r},m(a,s){Nr(a,r,s),Li(n,a,s),i=!0},p(a,s){t=a;let u={};s&16384&&(u.date=t[21]),s&1024&&(u.today=t[10]),s&1&&(u.displayedMonth=t[0]),s&64&&(u.onClick=t[6]),s&16&&(u.onContextMenu=t[4]),s&4&&(u.onHover=t[2]),s&17664&&(u.metadata=$S(t[8],t[21],t[10])),s&512&&(u.selectedId=t[9]),n.$set(u)},i(a){i||(Kt(n.$$.fragment,a),i=!0)},o(a){ar(n.$$.fragment,a),i=!1},d(a){a&&wr(r),Pi(n,a)}}}function fT(e,t){let r,n,i=[],a=new Map,s,u,c=t[1]&&lT(t),f=t[18].days,d=p=>p[21].format();for(let p=0;p<f.length;p+=1){let g=rT(t,f,p),v=d(g);a.set(v,i[p]=cT(v,g))}return{key:e,first:null,c(){r=qt("tr"),c&&c.c(),n=In();for(let p=0;p<i.length;p+=1)i[p].c();s=In(),this.first=r},m(p,g){Nr(p,r,g),c&&c.m(r,null),dt(r,n);for(let v=0;v<i.length;v+=1)i[v].m(r,null);dt(r,s),u=!0},p(p,g){t=p,t[1]?c?(c.p(t,g),g&2&&Kt(c,1)):(c=lT(t),c.c(),Kt(c,1),c.m(r,n)):c&&(Is(),ar(c,1,1,()=>{c=null}),ks()),g&18261&&(f=t[18].days,Is(),i=GS(i,g,d,1,t,f,a,r,qS,cT,s,rT),ks())},i(p){if(!u){Kt(c);for(let g=0;g<f.length;g+=1)Kt(i[g]);u=!0}},o(p){ar(c);for(let g=0;g<i.length;g+=1)ar(i[g]);u=!1},d(p){p&&wr(r),c&&c.d();for(let g=0;g<i.length;g+=1)i[g].d()}}}function hF(e){let t,r,n,i,a,s,u,c,f,d,p,g,v=[],m=new Map,E;r=new zS({props:{today:e[10],displayedMonth:e[0],incrementDisplayedMonth:e[11],decrementDisplayedMonth:e[12],resetDisplayedMonth:e[13]}});let _=e[1]&&aT(),C=e[14][1].days,B=[];for(let j=0;j<C.length;j+=1)B[j]=sT(iT(e,C,j));let R=e[1]&&oT(),D=e[15],L=[];for(let j=0;j<D.length;j+=1)L[j]=uT(nT(e,D,j));let O=e[14],ae=j=>j[18].weekNum;for(let j=0;j<O.length;j+=1){let Y=tT(e,O,j),ye=ae(Y);m.set(ye,v[j]=fT(ye,Y))}return{c(){t=qt("div"),oa(r.$$.fragment),n=In(),i=qt("table"),a=qt("colgroup"),_&&_.c(),s=In();for(let j=0;j<B.length;j+=1)B[j].c();u=In(),c=qt("thead"),f=qt("tr"),R&&R.c(),d=In();for(let j=0;j<L.length;j+=1)L[j].c();p=In(),g=qt("tbody");for(let j=0;j<v.length;j+=1)v[j].c();st(i,"class","calendar svelte-pcimu8"),st(t,"id","calendar-container"),st(t,"class","container svelte-pcimu8"),pr(t,"is-mobile",e[16])},m(j,Y){Nr(j,t,Y),Li(r,t,null),dt(t,n),dt(t,i),dt(i,a),_&&_.m(a,null),dt(a,s);for(let ye=0;ye<B.length;ye+=1)B[ye].m(a,null);dt(i,u),dt(i,c),dt(c,f),R&&R.m(f,null),dt(f,d);for(let ye=0;ye<L.length;ye+=1)L[ye].m(f,null);dt(i,p),dt(i,g);for(let ye=0;ye<v.length;ye+=1)v[ye].m(g,null);E=!0},p(j,[Y]){let ye={};if(Y&1024&&(ye.today=j[10]),Y&1&&(ye.displayedMonth=j[0]),r.$set(ye),j[1]?_||(_=aT(),_.c(),_.m(a,s)):_&&(_.d(1),_=null),Y&16384){C=j[14][1].days;let me;for(me=0;me<C.length;me+=1){let we=iT(j,C,me);B[me]?B[me].p(we,Y):(B[me]=sT(we),B[me].c(),B[me].m(a,null))}for(;me<B.length;me+=1)B[me].d(1);B.length=C.length}if(j[1]?R||(R=oT(),R.c(),R.m(f,d)):R&&(R.d(1),R=null),Y&32768){D=j[15];let me;for(me=0;me<D.length;me+=1){let we=nT(j,D,me);L[me]?L[me].p(we,Y):(L[me]=uT(we),L[me].c(),L[me].m(f,null))}for(;me<L.length;me+=1)L[me].d(1);L.length=D.length}Y&18431&&(O=j[14],Is(),v=GS(v,Y,ae,1,j,O,m,g,qS,fT,null,tT),ks())},i(j){if(!E){Kt(r.$$.fragment,j);for(let Y=0;Y<O.length;Y+=1)Kt(v[Y]);E=!0}},o(j){ar(r.$$.fragment,j);for(let Y=0;Y<v.length;Y+=1)ar(v[Y]);E=!1},d(j){j&&wr(t),Pi(r),_&&_.d(),pd(B,j),R&&R.d(),pd(L,j);for(let Y=0;Y<v.length;Y+=1)v[Y].d()}}}function pF(e,t,r){let{localeData:n}=t,{showWeekNums:i=!1}=t,{onHoverDay:a}=t,{onHoverWeek:s}=t,{onContextMenuDay:u}=t,{onContextMenuWeek:c}=t,{onClickDay:f}=t,{onClickWeek:d}=t,{sources:p=[]}=t,{selectedId:g}=t,{today:v=window.moment()}=t,{displayedMonth:m=v}=t,E,_,C=window.app.isMobile;function B(){r(0,m=m.clone().add(1,"month"))}function R(){r(0,m=m.clone().subtract(1,"month"))}function D(){r(0,m=v.clone())}return e.$$set=L=>{"localeData"in L&&r(17,n=L.localeData),"showWeekNums"in L&&r(1,i=L.showWeekNums),"onHoverDay"in L&&r(2,a=L.onHoverDay),"onHoverWeek"in L&&r(3,s=L.onHoverWeek),"onContextMenuDay"in L&&r(4,u=L.onContextMenuDay),"onContextMenuWeek"in L&&r(5,c=L.onContextMenuWeek),"onClickDay"in L&&r(6,f=L.onClickDay),"onClickWeek"in L&&r(7,d=L.onClickWeek),"sources"in L&&r(8,p=L.sources),"selectedId"in L&&r(9,g=L.selectedId),"today"in L&&r(10,v=L.today),"displayedMonth"in L&&r(0,m=L.displayedMonth)},e.$$.update=()=>{e.$$.dirty&131073&&r(14,E=X8(m,n)),e.$$.dirty&132096&&r(15,_=J8(v,n))},[m,i,a,s,u,c,f,d,p,g,v,B,R,D,E,_,C,n]}var Ad=class extends qa{constructor(t){super();document.getElementById("svelte-pcimu8-style")||dF(),Bs(this,t,pF,hF,hd,{localeData:17,showWeekNums:1,onHoverDay:2,onHoverWeek:3,onContextMenuDay:4,onContextMenuWeek:5,onClickDay:6,onClickWeek:7,sources:8,selectedId:9,today:10,displayedMonth:0,incrementDisplayedMonth:11,decrementDisplayedMonth:12,resetDisplayedMonth:13})}get incrementDisplayedMonth(){return this.$$.ctx[11]}get decrementDisplayedMonth(){return this.$$.ctx[12]}get resetDisplayedMonth(){return this.$$.ctx[13]}};function gF(e){let t,r,n,i=`${e[1]}px`,a=`${e[2]}px`,s,u=[vF,yF],c=[];function f(d,p){return d[3]?0:1}return r=f(e,-1),n=c[r]=u[r](e),{c(){t=ie("div"),n.c(),ee(t,"class","calendarContainer"),et(t,"width",i,!1),et(t,"height",a,!1)},m(d,p){Ae(d,t,p),c[r].m(t,null),s=!0},p(d,p){let g=r;r=f(d,p),r===g?c[r].p(d,p):(Jf(),fi(c[g],1,1,()=>{c[g]=null}),Qf(),n=c[r],n?n.p(d,p):(n=c[r]=u[r](d),n.c()),Jn(n,1),n.m(t,null)),p&2&&i!==(i=`${d[1]}px`)&&et(t,"width",i,!1),p&4&&a!==(a=`${d[2]}px`)&&et(t,"height",a,!1)},i(d){s||(Jn(n),s=!0)},o(d){fi(n),s=!1},d(d){d&&Ee(t),c[r].d()}}}function mF(e){let t,r,n,i,a=[EF,_F],s=[];function u(c,f){return c[3]?0:1}return r=u(e,-1),n=s[r]=a[r](e),{c(){t=ie("div"),n.c(),ee(t,"class","calendarContainer")},m(c,f){Ae(c,t,f),s[r].m(t,null),i=!0},p(c,f){let d=r;r=u(c,f),r===d?s[r].p(c,f):(Jf(),fi(s[d],1,1,()=>{s[d]=null}),Qf(),n=s[r],n?n.p(c,f):(n=s[r]=a[r](c),n.c()),Jn(n,1),n.m(t,null))},i(c){i||(Jn(n),i=!0)},o(c){fi(n),i=!1},d(c){c&&Ee(t),s[r].d()}}}function yF(e){let t,r,n,i,a;function s(f){e[9](f)}function u(f){e[10](f)}let c={showWeekNums:!1,onClickDay:e[5]};return e[4]!==void 0&&(c.sources=e[4]),e[0]!==void 0&&(c.displayedMonth=e[0]),r=new Ad({props:c}),zn.push(()=>_s(r,"sources",s)),zn.push(()=>_s(r,"displayedMonth",u)),{c(){t=ie("div"),Zu(r.$$.fragment)},m(f,d){Ae(f,t,d),No(r,t,null),a=!0},p(f,d){let p={};!n&&d&16&&(n=!0,p.sources=f[4],ys(()=>n=!1)),!i&&d&1&&(i=!0,p.displayedMonth=f[0],ys(()=>i=!1)),r.$set(p)},i(f){a||(Jn(r.$$.fragment,f),a=!0)},o(f){fi(r.$$.fragment,f),a=!1},d(f){f&&Ee(t),Es(r)}}}function vF(e){let t;return{c(){t=ie("p"),t.textContent="Loading..."},m(r,n){Ae(r,t,n)},p:bt,i:bt,o:bt,d(r){r&&Ee(t)}}}function _F(e){let t,r,n,i,a;function s(f){e[7](f)}function u(f){e[8](f)}let c={showWeekNums:!1,onClickDay:e[5]};return e[4]!==void 0&&(c.sources=e[4]),e[0]!==void 0&&(c.displayedMonth=e[0]),r=new Ad({props:c}),zn.push(()=>_s(r,"sources",s)),zn.push(()=>_s(r,"displayedMonth",u)),{c(){t=ie("div"),Zu(r.$$.fragment)},m(f,d){Ae(f,t,d),No(r,t,null),a=!0},p(f,d){let p={};!n&&d&16&&(n=!0,p.sources=f[4],ys(()=>n=!1)),!i&&d&1&&(i=!0,p.displayedMonth=f[0],ys(()=>i=!1)),r.$set(p)},i(f){a||(Jn(r.$$.fragment,f),a=!0)},o(f){fi(r.$$.fragment,f),a=!1},d(f){f&&Ee(t),Es(r)}}}function EF(e){let t;return{c(){t=ie("p"),t.textContent="Loading..."},m(r,n){Ae(r,t,n)},p:bt,i:bt,o:bt,d(r){r&&Ee(t)}}}function CF(e){let t,r,n,i,a=[mF,gF],s=[];function u(c,f){return c[1]==0||c[2]==0?0:1}return t=u(e,-1),r=s[t]=a[t](e),{c(){r.c(),n=jn()},m(c,f){s[t].m(c,f),Ae(c,n,f),i=!0},p(c,[f]){let d=t;t=u(c,f),t===d?s[t].p(c,f):(Jf(),fi(s[d],1,1,()=>{s[d]=null}),Qf(),r=s[t],r?r.p(c,f):(r=s[t]=a[t](c),r.c()),Jn(r,1),r.m(n.parentNode,n))},i(c){i||(Jn(r),i=!0)},o(c){fi(r),i=!1},d(c){s[t].d(c),c&&Ee(n)}}}function AF(e,t,r){let{displayedMonth:n=window.moment()}=t,{width:i=0}=t,{height:a=0}=t,s,u,c=!0,f;function d(C){return yr(this,void 0,void 0,function*(){let B=yield gw(C);u=B;let R={getDailyMetadata:D=>yr(this,void 0,void 0,function*(){let L=p(B,D),O=L.map(ae=>({isFilled:!0,className:"googleCalendarDot",color:"#FFFFFF"}));return{dataAttributes:{amount:L.length+""},dots:O}})};r(3,c=!1),r(4,f=null),r(4,f=[R])})}let p=(C,B)=>C.filter(R=>R.start.date?window.moment(R.start.date).isSame(B,"day"):window.moment(R.start.dateTime).isSame(B,"day")),g=(C,B)=>{new aa(p(u,C),C,!1,()=>{ci(),r(0,n)}).open()};ms(()=>{clearInterval(s)});function v(C){f=C,r(4,f)}function m(C){n=C,r(0,n)}function E(C){f=C,r(4,f)}function _(C){n=C,r(0,n)}return e.$$set=C=>{"displayedMonth"in C&&r(0,n=C.displayedMonth),"width"in C&&r(1,i=C.width),"height"in C&&r(2,a=C.height)},e.$$.update=()=>{if(e.$$.dirty&65){e:s&&clearInterval(s),r(6,s=setInterval(()=>d(n),5e3)),d(n)}},[n,i,a,c,f,g,s,v,m,E,_]}var dT=class extends nn{constructor(t){super();gn(this,t,AF,CF,pn,{displayedMonth:0,width:1,height:2})}},wd=dT;function wF(e){Yn(e,"svelte-1f1t9un",'.scheduleContainer.svelte-1f1t9un{padding:10px}.scheduleContent.svelte-1f1t9un{display:flex;flex-direction:column;align-items:flex-start;white-space:nowrap}.dayContainer.svelte-1f1t9un{display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;border-bottom:1px solid white;margin:2px 0px;padding:2px 0px;flex-wrap:wrap}.dateDisplay.svelte-1f1t9un{display:flex;flex-direction:row;align-items:flex-end;width:105px;min-width:105px}.dayNumber.svelte-1f1t9un{border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;display:inline-block;font-weight:bold;line-height:40px;text-align:center;width:40px;min-width:40px;cursor:pointer}.today.svelte-1f1t9un{color:white;background:#4285f4;text-decoration:none}.dayText.svelte-1f1t9un{font-size:15px}.dayEvents.svelte-1f1t9un{display:flex;flex-direction:column;flex:1}.dayEvent.svelte-1f1t9un{display:flex;flex:1;flex-direction:row;align-items:center;padding:5px;border-radius:10px;cursor:pointer;flex-wrap:wrap}.dayEvent.svelte-1f1t9un:hover{background-color:rgba(128, 128, 128, 0.129)}.circleTime.svelte-1f1t9un{display:flex;flex-direction:row;width:220px;min-width:220px}.recurringCircleContainer.svelte-1f1t9un,.circleContainer.svelte-1f1t9un{position:relative;display:flex;width:30px;min-width:30px;height:30px;align-items:center;justify-content:center}.recurringCircleContainer.svelte-1f1t9un::after{content:"\u21BA";position:absolute;width:30px;height:30px;text-align:center;line-height:30px;font-size:30px;color:rgb(164, 164, 164);white-space:nowrap}.circle.svelte-1f1t9un{width:10px;min-width:10px;height:10px;border-radius:50%}.timeContainer.svelte-1f1t9un{width:150px;min-width:150px}.eventTitleContainer.svelte-1f1t9un{white-space:nowrap}')}function hT(e,t,r){let n=e.slice();return n[13]=t[r][0],n[1]=t[r][1],n}function pT(e,t,r){let n=e.slice();return n[16]=t[r],n}function bF(e){let t,r=[...e[2]],n=[];for(let i=0;i<r.length;i+=1)n[i]=mT(hT(e,r,i));return{c(){t=ie("div");for(let i=0;i<n.length;i+=1)n[i].c();ee(t,"class","scheduleContent svelte-1f1t9un")},m(i,a){Ae(i,t,a);for(let s=0;s<n.length;s+=1)n[s].m(t,null)},p(i,a){if(a&124){r=[...i[2]];let s;for(s=0;s<r.length;s+=1){let u=hT(i,r,s);n[s]?n[s].p(u,a):(n[s]=mT(u),n[s].c(),n[s].m(t,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(i){i&&Ee(t),Vr(n,i)}}}function SF(e){let t;return{c(){t=ie("span"),t.textContent="LOADING"},m(r,n){Ae(r,t,n)},p:bt,d(r){r&&Ee(t)}}}function gT(e){let t,r,n,i,a,s,u,c,f=e[3](e[16])+"",d,p,g,v,m=e[16].summary+"",E,_,C,B;function R(...D){return e[11](e[16],...D)}return{c(){t=ie("div"),r=ie("div"),n=ie("div"),i=ie("div"),s=Be(),u=ie("div"),c=ie("span"),d=Jt(f),p=Be(),g=ie("div"),v=ie("span"),E=Jt(m),_=Be(),ee(i,"class","circle svelte-1f1t9un"),et(i,"background",Gu(e[16]),!1),ee(n,"class",a=""+(Bo(e[16].recurringEventId?"recurringCircleContainer":"circleContainer")+" svelte-1f1t9un")),ee(u,"class","timeContainer svelte-1f1t9un"),ee(r,"class","circleTime svelte-1f1t9un"),ee(g,"class","eventTitleContainer svelte-1f1t9un"),ee(t,"class","dayEvent svelte-1f1t9un")},m(D,L){Ae(D,t,L),te(t,r),te(r,n),te(n,i),te(r,s),te(r,u),te(u,c),te(c,d),te(t,p),te(t,g),te(g,v),te(v,E),te(t,_),C||(B=Je(t,"click",R),C=!0)},p(D,L){e=D},d(D){D&&Ee(t),C=!1,B()}}}function mT(e){let t,r,n,i,a=e[13].slice(0,2)+"",s,u,c,f,d=e[13].slice(2)+"",p,g,v,m,E,_;function C(){return e[10](e[1])}let B=e[1],R=[];for(let D=0;D<B.length;D+=1)R[D]=gT(pT(e,B,D));return{c(){t=ie("div"),r=ie("div"),n=ie("div"),i=ie("span"),s=Jt(a),c=Be(),f=ie("span"),p=Jt(d),g=Be(),v=ie("div");for(let D=0;D<R.length;D+=1)R[D].c();m=Be(),ee(n,"class",u=""+(Bo(e[6](e[1][0])?"dayNumber today":"dayNumber")+" svelte-1f1t9un")),ee(f,"class","dayText svelte-1f1t9un"),ee(r,"class","dateDisplay svelte-1f1t9un"),ee(v,"class","dayEvents svelte-1f1t9un"),ee(t,"class","dayContainer svelte-1f1t9un")},m(D,L){Ae(D,t,L),te(t,r),te(r,n),te(n,i),te(i,s),te(r,c),te(r,f),te(f,p),te(t,g),te(t,v);for(let O=0;O<R.length;O+=1)R[O].m(v,null);te(t,m),E||(_=Je(n,"click",C),E=!0)},p(D,L){if(e=D,L&28){B=e[1];let O;for(O=0;O<B.length;O+=1){let ae=pT(e,B,O);R[O]?R[O].p(ae,L):(R[O]=gT(ae),R[O].c(),R[O].m(v,null))}for(;O<R.length;O+=1)R[O].d(1);R.length=B.length}},d(D){D&&Ee(t),Vr(R,D),E=!1,_()}}}function TF(e){let t;function r(a,s){return a[0]?SF:bF}let n=r(e,-1),i=n(e);return{c(){t=ie("div"),i.c(),ee(t,"class","scheduleContainer svelte-1f1t9un")},m(a,s){Ae(a,t,s),i.m(t,null)},p(a,[s]){n===(n=r(a,s))&&i?i.p(a,s):(i.d(1),i=n(a),i&&(i.c(),i.m(t,null)))},i:bt,o:bt,d(a){a&&Ee(t),i.d()}}}function xF(e,t,r){let{timeSpan:n=7}=t,{date:i=window.moment()}=t,a,s=new Map,u=!1,c=[],f=()=>yr(void 0,void 0,void 0,function*(){let _=yield Ar(i,i.clone().add(n,"day"));JSON.stringify(_)!=JSON.stringify(c)&&(s.clear(),r(1,c=_),c.forEach(C=>{let B=C.start.date?window.moment(C.start.date).format("DD MMM, ddd"):window.moment(C.start.dateTime).format("DD MMM, ddd");s.has(B)?s.get(B).push(C):s.set(B,[C])}),r(0,u=!1))}),d=_=>{if(_.start.date)return"All day";{let C=window.moment(_.start.dateTime).format("hh:mma"),B=window.moment(_.end.dateTime).format("hh:mma");return`${C}-${B}`}},p=(_,C)=>{C.shiftKey?window.open(_.htmlLink):new Zn(_,()=>{ci(),r(7,i),r(9,a)}).open()},g=_=>yr(void 0,void 0,void 0,function*(){let C=window.moment(_.start.date||_.start.dateTime),B=yield Ar(C);new aa(B,C,!1,()=>{ci(),r(7,i),r(9,a)}).open()}),v=_=>{let C=window.moment(_.start.date||_.start.dateTime);return window.moment().local().isSame(C,"day")};ms(()=>{clearInterval(a)});let m=_=>g(_[0]),E=(_,C)=>p(_,C);return e.$$set=_=>{"timeSpan"in _&&r(8,n=_.timeSpan),"date"in _&&r(7,i=_.date)},e.$$.update=()=>{if(e.$$.dirty&640){e:r(7,i),r(9,a),a&&clearInterval(a),r(0,u=!0),r(9,a=setInterval(f,5e3)),f()}},[u,c,s,d,p,g,v,i,n,a,m,E]}var yT=class extends nn{constructor(t){super();gn(this,t,xF,TF,pn,{timeSpan:8,date:7},wF)}},bd=yT;var vT=Pt(require("obsidian")),Ko=class extends vT.MarkdownRenderChild{constructor(t,r,n){super(r);this.a=t,this.b=n}load(){this.comp=new this.a({target:this.containerEl,props:this.b})}unload(){this.comp.$destroy()}};function IF(e){let t=e.split(`
`),r=new Map;return t.forEach(n=>{let i=n.split(":");i.length==2&&r.set(i[0].trim().toLowerCase(),i[1].trim().toLowerCase())}),r}function ET(e,t,r){return U(this,null,function*(){let n=IF(e),i=n.has("type")?n.get("type"):"day",a=n.has("width")?parseInt(n.get("width")):void 0,s=n.has("height")?parseInt(n.get("height")):void 0,u=n.has("date")?n.get("date"):void 0,c=n.has("navigation")?n.get("navigation"):void 0,f=n.has("timespan")?parseInt(n.get("timespan")):void 0;t.style.width=a+"px",t.style.height=s+"px";let d=["YYYY-MM-DD","YYYY.MM.DD","YYYY/MM/DD","MM-DD-YYYY","MM.DD.YYYY","MM/DD/YYYY","DD-MM-YYYY","DD.MM.YYYY","DD/MM/YYYY"];if(u==null||u=="today"||u=="tomorrow"||u=="yesterday"||window.moment(u,d,!0).isValid()){let p;u==null?p=void 0:u=="today"?p=window.moment():u=="tomorrow"?p=window.moment().add(1,"day"):u=="yesterday"?p=window.moment().subtract(1,"day"):p=window.moment(u),t.style.padding="10px",i=="web"?_T.Platform.isDesktopApp&&r.addChild(new Ko(dd,t,{height:s!=null?s:500,width:a!=null?a:500,date:p})):i=="day"?r.addChild(new Ko(fd,t,{height:s,width:a,date:p,navigation:c=="true"})):i=="month"?r.addChild(new Ko(wd,t,{height:s,width:a,displayedMonth:p})):i=="schedule"&&r.addChild(new Ko(bd,t,{timeSpan:f,date:p}))}})}var CT=Pt(require("obsidian"));var fl="google-calendar-view-day",Bg=class extends CT.ItemView{constructor(t){super(t)}getViewType(){return fl}getDisplayText(){return"Timeline View"}getIcon(){return"calendar-with-checkmark"}onOpen(){return U(this,null,function*(){this.timeline=new fd({target:this.contentEl,props:{navigation:!0}})})}onClose(){return U(this,null,function*(){this.timeline.$destroy()})}};var AT=Pt(require("obsidian"));var dl="google-calendar-view-month",Rg=class extends AT.ItemView{constructor(t){super(t)}getViewType(){return dl}getDisplayText(){return"Calendar Month View"}getIcon(){return"calendar-with-checkmark"}onOpen(){return U(this,null,function*(){this.calendar=new wd({target:this.contentEl,props:{}})})}onClose(){return U(this,null,function*(){this.calendar.$destroy()})}};var wT=Pt(require("obsidian"));var hl="google-calendar-view-web",Ng=class extends wT.ItemView{constructor(t){super(t)}getViewType(){return hl}getDisplayText(){return"Calendar Web View"}getIcon(){return"calendar-with-checkmark"}onOpen(){return U(this,null,function*(){this.calendar=new dd({target:this.contentEl})})}onClose(){return U(this,null,function*(){this.calendar.$destroy()})}};var bT=Pt(require("obsidian"));var pl="google-calendar-view-schedule",Dg=class extends bT.ItemView{constructor(t){super(t)}getViewType(){return pl}getDisplayText(){return"Calendar Month View"}getIcon(){return"calendar-with-checkmark"}onOpen(){return U(this,null,function*(){this.calendar=new bd({target:this.contentEl,props:{}})})}onClose(){return U(this,null,function*(){this.calendar.$destroy()})}};var ST=Pt(require("obsidian")),Lg=class extends ST.FuzzySuggestModal{constructor(t,r,n,i,a){super($e.getInstance().app);this.eventList=t,this.setPlaceholder("Select an event to insert"),this.editor=r,this.start=n,this.end=i,this.word=a}getItems(){return this.eventList}getItemText(t){return`${t.summary}	`}onChooseItem(t){return U(this,null,function*(){let r=`[${t.summary}](${t.htmlLink}&cal=${t.parent.id})`;this.editor.replaceRange(r,this.start,this.end,this.word)})}};function TT(e){gl("@today",e)||gl("@tomorrow",e)||gl("@yesterday",e)||gl("@REGEX",e)||gl("@YYYY-MM-DD",e)}function gl(e,t){var s;let r=t.getCursor(),n=t.getCursor(),i="",a=window.moment();if(e==="@REGEX"){let u=t.getLine(r.line);if(u.length>50)return!1;let c=(s=u.match(/.*@([+,-])(\d+) /))!=null?s:[];if(c.length!=3||t.getCursor().ch!=c.index+c[0].length)return!1;if(n=Qr(Kr({},r),{ch:r.ch-c[1].length-c[2].length-1}),n.ch<0)return;i=t.getRange(n,r),c[1]=="+"?a=window.moment().add(c[2],"day"):a=window.moment().subtract(c[2],"day")}else if(e==="@YYYY-MM-DD"){if(n=Qr(Kr({},r),{ch:r.ch-e.length}),i=t.getRange(n,r),i.length!="@YYYY-MM-DD".length||!i.startsWith("@")||i.substring(1).length>100)return!1;let u=window.moment(i.substring(1));if(u.isValid())a=u;else return!1}else{if(n=Qr(Kr({},r),{ch:r.ch-e.length}),n.ch<0||t.getRange(n,r)!=e)return!1;switch(e){case"@today":a=window.moment();break;case"@tomorrow":a=window.moment().add(1,"day");break;case"@yesterday":a=window.moment().add(-1,"day");break;default:return!1}}return Ar(a).then(u=>{new Lg(u,t,n,r,i).open()}),!0}var xT=Pt(require("obsidian"));function Sd(e,t){return U(this,null,function*(){let r=$e.getInstance();return yield(yield(0,xT.requestUrl)({url:`https://www.googleapis.com/calendar/v3/calendars/${t}/events/${e}?key=${r.settings.googleApiToken}`,method:"GET",headers:{Authorization:"Bearer "+(yield Hn())}})).json})}var IT=Pt(rd());function kF(e){return U(this,null,function*(){let t=/\[.*]\(https:\/\/www\.google\.com\/calendar\/event\?eid=(.*)&cal=(.*)\)/g,r,n=[];do r=t.exec(e),r&&n.push(r);while(r);return n.length?yield Promise.all(n.map(a=>U(this,null,function*(){if(a){let s=atob(a[1]).split(" ")[0];return yield Sd(s,a[2])}}))):[]})}function kT(e){return U(this,null,function*(){let t=e.getCursor(),r=e.getValue(),n=/{{gEvent(\d?).(.*)}} /g,i,a=[];do i=n.exec(r),i&&a.push(i);while(i);if(!a.length)return;let s=yield kF(r);!s.length||a.forEach(u=>U(this,null,function*(){let c=u[1]?parseInt(u[1]):0,f=e.getCursor();if(f.ch-=3,e.getRange(f,e.getCursor())!="}} ")return!1;let d=IT.default.get(s[c],u[2],"");d===Object(d)&&(d=JSON.stringify(d)),r=r.replace(u[0],d!=null?d:""),e.setValue(r),t.ch+=d.length-u[0].length,e.setCursor(t)}))})}var BT=Pt(require("obsidian"));var Vo=[".anyoneCanAddSelf",".attachments",".attachments[0]",".attachments[0]fileId",".attachments[0]fileUrl",".attachments[0]iconLink",".attachments[0]mimeType",".attachments[0]title",".attendees",".attendeesOmitted",".attendees[0]",".attendees[0].additionalGuests",".attendees[0].comment",".attendees[0].displayName",".attendees[0].email",".attendees[0].id",".attendees[0].optional",".attendees[0].organizer",".attendees[0].resource",".attendees[0].responseStatus",".attendees[0].self",".colorId",".conferenceData",".conferenceData.conferenceId",".conferenceData.conferenceSolution",".conferenceData.conferenceSolution.iconUri",".conferenceData.conferenceSolution.key",".conferenceData.conferenceSolution.key.type",".conferenceData.conferenceSolution.name",".conferenceData.createRequest",".conferenceData.createRequest.conferenceSolutionKey",".conferenceData.createRequest.conferenceSolutionKey.type",".conferenceData.createRequest.requestId",".conferenceData.createRequest.status",".conferenceData.createRequest.status.statusCode",".conferenceData.entryPoints",".conferenceData.entryPoints[0]",".conferenceData.entryPoints[0].accessCode",".conferenceData.entryPoints[0].entryPointType",".conferenceData.entryPoints[0].label",".conferenceData.entryPoints[0].meetingCode",".conferenceData.entryPoints[0].passcode",".conferenceData.entryPoints[0].password",".conferenceData.entryPoints[0].pin",".conferenceData.entryPoints[0].uri",".conferenceData.notes",".conferenceData.signature",".created",".creator",".creator.displayName",".creator.email",".creator.id",".creator.self",".description",".end",".end.date",".end.dateTime",".end.timeZone",".endTimeUnspecified",".etag",".eventType",".extendedProperties",".extendedProperties.private",".extendedProperties.shared",".gadget",".gadget.display",".gadget.height",".gadget.iconLink",".gadget.link",".gadget.preferences",".gadget.title",".gadget.type",".gadget.width",".guestsCanInviteOthers",".guestsCanModify",".guestsCanSeeOtherGuests",".hangoutLink",".htmlLink",".iCalUID",".id",".kind",".location",".locked",".organizer",".organizer.displayName",".organizer.email",".organizer.id",".organizer.self",".originalStartTime",".originalStartTime.date",".originalStartTime.dateTime",".originalStartTime.timeZone",".privateCopy",".recurrence",".recurrence[0]",".recurringEventId",".reminders",".reminders.overrides",".reminders.overrides[0]",".reminders.overrides[0].method",".reminders.overrides[0].minutes",".reminders.useDefault",".sequence",".source",".source.title",".source.url",".start",".start.date",".start.dateTime",".start.timeZone",".status",".summary",".transparency",".updated",".visibility"];var Pg=class extends BT.EditorSuggest{constructor(t){super(t)}onTrigger(t,r){let i=r.getLine(t.line).substring(0,t.ch).match(/{{gEvent(\d)?(\S+$)/);if(i){let a="{{gEvent".length;return i[1]&&a++,{end:t,start:{ch:i.index+a,line:t.line},query:i[2]}}}getSuggestions(t){return Vo.filter(r=>t.query===r.substring(0,t.query.length))}renderSuggestion(t,r){r.createEl("span",{text:t,cls:"suggestionText"})}selectSuggestion(t){if(!this.context)return;let{editor:r}=this.context;if(r.replaceRange(t,this.context.start,this.context.end),Vo.filter(i=>i.startsWith(`${t}.`)).length==0){let i=r.getCursor(),a=structuredClone(i);a.ch+=2,(r.getLine(a.line).length<a.ch||r.getRange(i,a)!="}}")&&r.replaceRange("}}",i),r.setCursor(a)}}};var YT=Pt(require("obsidian"));var ml=Pt(require("obsidian")),Og=class extends ml.Modal{constructor(t,r){super(t);this.onSubmit=r}onOpen(){let{contentEl:t}=this;t.createEl("h1",{text:"Enter a name for the template"}),new ml.Setting(t).setName("Name").addText(r=>r.onChange(n=>{this.result=n})),new ml.Setting(t).addButton(r=>r.setButtonText("Save").setCta().onClick(()=>{this.close(),this.onSubmit(this.result)}))}onClose(){let{contentEl:t}=this;t.empty()}};function BF(e){Yn(e,"svelte-6isfqn",".optionContainer.svelte-6isfqn{display:flex;flex-direction:column}.header.svelte-6isfqn{display:grid;grid-template-columns:[first] 30% auto [last] 30%}.center.svelte-6isfqn{text-align:center}.settingsContainer.svelte-6isfqn{display:flex;flex-direction:row;flex:1 1;gap:20px}.optionItem.svelte-6isfqn{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.input.svelte-6isfqn,.eventList.svelte-6isfqn,.optionList.svelte-6isfqn,.calendarList.svelte-6isfqn{width:100%;display:flex;flex-direction:column}.eventList.svelte-6isfqn,.optionList.svelte-6isfqn,.calendarList.svelte-6isfqn{padding-left:16px}button.svelte-6isfqn{align-self:center}")}function RT(e,t,r){let n=e.slice();return n[21]=t[r],n}function NT(e,t,r){let n=e.slice();return n[21]=t[r],n}function DT(e,t,r){let n=e.slice();return n[26]=t[r],n[27]=t,n[28]=r,n}function LT(e,t,r){let n=e.slice();return n[29]=t[r],n[30]=t,n[31]=r,n}function PT(e,t,r){let n=e.slice();return n[32]=t[r],n}function OT(e){let t,r=e[0].settings.insertTemplates,n=[];for(let i=0;i<r.length;i+=1)n[i]=MT(PT(e,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();t=jn()},m(i,a){for(let s=0;s<n.length;s+=1)n[s].m(i,a);Ae(i,t,a)},p(i,a){if(a[0]&1){r=i[0].settings.insertTemplates;let s;for(s=0;s<r.length;s+=1){let u=PT(i,r,s);n[s]?n[s].p(u,a):(n[s]=MT(u),n[s].c(),n[s].m(t.parentNode,t))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(i){Vr(n,i),i&&Ee(t)}}}function MT(e){let t,r=e[32].name+"",n,i;return{c(){t=ie("option"),n=Jt(r),t.__value=i=e[32].name,t.value=t.__value},m(a,s){Ae(a,t,s),te(t,n)},p(a,s){s[0]&1&&r!==(r=a[32].name+"")&&Wn(n,r),s[0]&1&&i!==(i=a[32].name)&&(t.__value=i,t.value=t.__value)},d(a){a&&Ee(t)}}}function RF(e){let t;return{c(){t=ie("span"),t.textContent="Loading..."},m(r,n){Ae(r,t,n)},p:bt,d(r){r&&Ee(t)}}}function NF(e){let t,r=e[4],n=[];for(let i=0;i<r.length;i+=1)n[i]=UT(LT(e,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();t=jn()},m(i,a){for(let s=0;s<n.length;s+=1)n[s].m(i,a);Ae(i,t,a)},p(i,a){if(a[0]&144){r=i[4];let s;for(s=0;s<r.length;s+=1){let u=LT(i,r,s);n[s]?n[s].p(u,a):(n[s]=UT(u),n[s].c(),n[s].m(t.parentNode,t))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(i){Vr(n,i),i&&Ee(t)}}}function UT(e){let t,r,n=e[29][0].summary+"",i,a,s,u,c,f,d,p;function g(){e[17].call(u,e[30],e[31])}return{c(){t=ie("div"),r=ie("label"),i=Jt(n),s=Be(),u=ie("input"),f=Be(),ee(r,"for",a=e[29][0].id),ee(u,"type","checkbox"),ee(u,"id",c=e[29][0].id),ee(t,"class","optionItem svelte-6isfqn")},m(v,m){Ae(v,t,m),te(t,r),te(r,i),te(t,s),te(t,u),u.checked=e[29][1],te(t,f),d||(p=[Je(u,"change",g),Je(u,"change",e[7])],d=!0)},p(v,m){e=v,m[0]&16&&n!==(n=e[29][0].summary+"")&&Wn(i,n),m[0]&16&&a!==(a=e[29][0].id)&&ee(r,"for",a),m[0]&16&&c!==(c=e[29][0].id)&&ee(u,"id",c),m[0]&16&&(u.checked=e[29][1])},d(v){v&&Ee(t),d=!1,Mr(p)}}}function DF(e){let t;return{c(){t=ie("span"),t.textContent="Loading..."},m(r,n){Ae(r,t,n)},p:bt,d(r){r&&Ee(t)}}}function LF(e){let t,r=e[3],n=[];for(let i=0;i<r.length;i+=1)n[i]=FT(DT(e,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();t=jn()},m(i,a){for(let s=0;s<n.length;s+=1)n[s].m(i,a);Ae(i,t,a)},p(i,a){if(a[0]&8){r=i[3];let s;for(s=0;s<r.length;s+=1){let u=DT(i,r,s);n[s]?n[s].p(u,a):(n[s]=FT(u),n[s].c(),n[s].m(t.parentNode,t))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(i){Vr(n,i),i&&Ee(t)}}}function FT(e){let t,r,n=e[26][0].summary+"",i,a,s,u,c,f,d,p;function g(){e[18].call(u,e[27],e[28])}return{c(){t=ie("div"),r=ie("label"),i=Jt(n),s=Be(),u=ie("input"),f=Be(),ee(r,"for",a=e[26][0].id),ee(u,"type","checkbox"),ee(u,"id",c=e[26][0].id),ee(t,"class","optionItem svelte-6isfqn")},m(v,m){Ae(v,t,m),te(t,r),te(r,i),te(t,s),te(t,u),u.checked=e[26][1],te(t,f),d||(p=Je(u,"change",g),d=!0)},p(v,m){e=v,m[0]&8&&n!==(n=e[26][0].summary+"")&&Wn(i,n),m[0]&8&&a!==(a=e[26][0].id)&&ee(r,"for",a),m[0]&8&&c!==(c=e[26][0].id)&&ee(u,"id",c),m[0]&8&&(u.checked=e[26][1])},d(v){v&&Ee(t),d=!1,p()}}}function qT(e){let t,r,n,i,a,s,u,c=Vo,f=[];for(let g=0;g<c.length;g+=1)f[g]=GT(NT(e,c,g));let d=e[5],p=[];for(let g=0;g<d.length;g+=1)p[g]=KT(RT(e,d,g));return{c(){t=ie("h4"),t.textContent="Table structure",r=Be(),n=ie("select");for(let g=0;g<f.length;g+=1)f[g].c();i=Be(),a=ie("div");for(let g=0;g<p.length;g+=1)p[g].c();ee(n,"name","tableOptions"),ee(n,"class","dropdown"),ee(a,"class","optionList svelte-6isfqn")},m(g,v){Ae(g,t,v),Ae(g,r,v),Ae(g,n,v);for(let m=0;m<f.length;m+=1)f[m].m(n,null);Ae(g,i,v),Ae(g,a,v);for(let m=0;m<p.length;m+=1)p[m].m(a,null);s||(u=Je(n,"change",e[8]),s=!0)},p(g,v){if(v&0){c=Vo;let m;for(m=0;m<c.length;m+=1){let E=NT(g,c,m);f[m]?f[m].p(E,v):(f[m]=GT(E),f[m].c(),f[m].m(n,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=c.length}if(v[0]&544){d=g[5];let m;for(m=0;m<d.length;m+=1){let E=RT(g,d,m);p[m]?p[m].p(E,v):(p[m]=KT(E),p[m].c(),p[m].m(a,null))}for(;m<p.length;m+=1)p[m].d(1);p.length=d.length}},d(g){g&&Ee(t),g&&Ee(r),g&&Ee(n),Vr(f,g),g&&Ee(i),g&&Ee(a),Vr(p,g),s=!1,u()}}}function GT(e){let t,r=e[21]+"",n,i;return{c(){t=ie("option"),n=Jt(r),t.__value=i=e[21],t.value=t.__value},m(a,s){Ae(a,t,s),te(t,n)},p:bt,d(a){a&&Ee(t)}}}function KT(e){let t,r,n=e[21]+"",i,a,s,u,c,f,d;function p(){return e[19](e[21])}return{c(){t=ie("div"),r=ie("span"),i=Jt(n),a=Be(),s=ie("input"),c=Be(),ee(s,"type","checkbox"),ee(s,"id",u=e[21]),s.checked=!0,ee(t,"class","optionItem svelte-6isfqn")},m(g,v){Ae(g,t,v),te(t,r),te(r,i),te(t,a),te(t,s),te(t,c),f||(d=Je(s,"click",p),f=!0)},p(g,v){e=g,v[0]&32&&n!==(n=e[21]+"")&&Wn(i,n),v[0]&32&&u!==(u=e[21])&&ee(s,"id",u)},d(g){g&&Ee(t),f=!1,d()}}}function PF(e){let t,r,n,i,a,s,u,c,f,d,p,g,v,m,E,_,C,B,R,D,L,O,ae,j,Y,ye,me,we,Ke,Oe,Ie,Pe,_e,nt,Xe,Nt,At,it=e[0].settings.insertTemplates.length&&OT(e);function fe(k,N){return k[4]?NF:RF}let Dt=fe(e,[-1,-1]),Tt=Dt(e);function Re(k,N){return k[3]?LF:DF}let Le=Re(e,[-1,-1]),He=Le(e),x=e[2]=="table"&&qT(e);return{c(){t=ie("div"),r=ie("div"),n=ie("select"),i=ie("option"),i.textContent="None",it&&it.c(),a=Be(),s=ie("h1"),s.textContent="Insert Options",u=Be(),c=ie("button"),c.textContent="Save as template",f=Be(),d=ie("hr"),p=Be(),g=ie("div"),v=ie("div"),m=ie("label"),m.textContent="Insert type",E=Be(),_=ie("select"),C=ie("option"),C.textContent="Bullet",B=ie("option"),B.textContent="Table",R=Be(),D=ie("div"),L=ie("label"),L.textContent="Insert date",O=Be(),ae=ie("input"),Y=Be(),ye=ie("h4"),ye.textContent="Calendars",me=Be(),we=ie("div"),Tt.c(),Ke=Be(),Oe=ie("h4"),Oe.textContent="Events",Ie=Be(),Pe=ie("div"),He.c(),_e=Be(),x&&x.c(),nt=Be(),Xe=ie("button"),Xe.textContent="Insert",i.__value="None",i.value=i.__value,ee(n,"class","dropdown left"),e[1]===void 0&&ta(()=>e[15].call(n)),ee(s,"class","center svelte-6isfqn"),ee(c,"class","right svelte-6isfqn"),ee(r,"class","header svelte-6isfqn"),ee(m,"for","insertType"),ee(C,"default",""),C.__value="bullet",C.value=C.__value,B.__value="table",B.value=B.__value,ee(_,"class","dropdown"),e[2]===void 0&&ta(()=>e[16].call(_)),ee(v,"class","input svelte-6isfqn"),ee(L,"for","date"),ee(ae,"type","date"),ee(ae,"name","date"),ee(ae,"id","date"),ae.value=j=window.moment().format("YYYY-MM-DD"),ee(D,"class","input svelte-6isfqn"),ee(g,"class","settingsContainer svelte-6isfqn"),ee(we,"class","calendarList svelte-6isfqn"),ee(Pe,"class","eventList svelte-6isfqn"),ee(Xe,"class","svelte-6isfqn"),ee(t,"class","optionContainer svelte-6isfqn")},m(k,N){Ae(k,t,N),te(t,r),te(r,n),te(n,i),it&&it.m(n,null),Ri(n,e[1]),te(r,a),te(r,s),te(r,u),te(r,c),te(t,f),te(t,d),te(t,p),te(t,g),te(g,v),te(v,m),te(v,E),te(v,_),te(_,C),te(_,B),Ri(_,e[2]),te(g,R),te(g,D),te(D,L),te(D,O),te(D,ae),te(t,Y),te(t,ye),te(t,me),te(t,we),Tt.m(we,null),te(t,Ke),te(t,Oe),te(t,Ie),te(t,Pe),He.m(Pe,null),te(t,_e),x&&x.m(t,null),te(t,nt),te(t,Xe),Nt||(At=[Je(n,"change",e[15]),Je(n,"change",e[12]),Je(c,"click",e[11]),Je(_,"change",e[16]),Je(ae,"change",e[10]),Je(Xe,"click",e[6])],Nt=!0)},p(k,N){k[0].settings.insertTemplates.length?it?it.p(k,N):(it=OT(k),it.c(),it.m(n,null)):it&&(it.d(1),it=null),N[0]&3&&Ri(n,k[1]),N[0]&4&&Ri(_,k[2]),Dt===(Dt=fe(k,N))&&Tt?Tt.p(k,N):(Tt.d(1),Tt=Dt(k),Tt&&(Tt.c(),Tt.m(we,null))),Le===(Le=Re(k,N))&&He?He.p(k,N):(He.d(1),He=Le(k),He&&(He.c(),He.m(Pe,null))),k[2]=="table"?x?x.p(k,N):(x=qT(k),x.c(),x.m(t,nt)):x&&(x.d(1),x=null)},i:bt,o:bt,d(k){k&&Ee(t),it&&it.d(),Tt.d(),He.d(),x&&x.d(),Nt=!1,Mr(At)}}}function OF(e,t,r){let{onSubmit:n}=t,{insertEventsModal:i}=t,a=$e.getInstance(),s,u,c,f,d=[".summary",".description"];Qu(()=>yr(void 0,void 0,void 0,function*(){let j=yield tn();r(4,f=j.map(ye=>[ye,!0]));let Y=yield Ar();r(3,c=Y.map(ye=>[ye,!0]))}));let p=()=>{let j=c.filter(Y=>Y[1]).map(Y=>Y[0]);n(u,j,d,i)},g=j=>{c.forEach(Y=>{Y[0].parent.id==j.target.id&&(Y[1]=j.target.checked)}),r(3,c)},v=j=>{let Y=j.target.value;Y=="on"&&(Y=j.target.id),d.contains(Y)?d.remove(Y):d.push(Y),r(5,d)},m=j=>{d.contains(j)&&d.remove(j),r(5,d)},E=j=>yr(void 0,void 0,void 0,function*(){let Y=yield tn();r(4,f=Y.map(me=>[me,!0]));let ye=yield Ar(window.moment(j.target.value).local());r(3,c=ye.map(me=>[me,!0])),r(3,c)}),_=()=>f.filter(j=>j[1]).map(j=>j[0].id),C=()=>{new Og(app,j=>{let Y={name:j,insertType:u,tableOptions:d,calendarList:_()};r(0,a.settings.insertTemplates=[...a.settings.insertTemplates,Y],a),a.saveSettings(),dr("Added template")}).open()},B=j=>{let Y=j.target.value;if(Y=="None")return;let me=a.settings.insertTemplates.find(we=>we.name==Y);!me||(r(2,u=me.insertType),r(5,d=me.tableOptions),f.forEach(we=>we[1]=me.calendarList.contains(we[0].id)),c.forEach(we=>we[1]=me.calendarList.contains(we[0].parent.id)),r(4,f),r(3,c))};function R(){s=Ro(this),r(1,s),r(0,a)}function D(){u=Ro(this),r(2,u)}function L(j,Y){j[Y][1]=this.checked,r(4,f)}function O(j,Y){j[Y][1]=this.checked,r(3,c)}let ae=j=>m(j);return e.$$set=j=>{"onSubmit"in j&&r(13,n=j.onSubmit),"insertEventsModal"in j&&r(14,i=j.insertEventsModal)},[a,s,u,c,f,d,p,g,v,m,E,C,B,n,i,R,D,L,O,ae]}var VT=class extends nn{constructor(t){super();gn(this,t,OF,PF,pn,{onSubmit:13,insertEventsModal:14},BF,[-1,-1])}},HT=VT;var jT=Pt(rd()),Mg=class extends YT.Modal{constructor(t){super($e.getInstance().app);this.editor=t}onOpen(){return U(this,null,function*(){let{contentEl:t}=this;new HT({target:t,props:{onSubmit:this.onSubmit,insertEventsModal:this}})})}onClose(){let{contentEl:t}=this;t.empty()}onSubmit(t,r,n,i){let a="",s="",u="";t=="bullet"?(r.forEach(c=>{u+=`
- ${`[${c.summary}](${c.htmlLink}&cal=${c.parent.id})`}`}),i.editor.replaceRange(u,i.editor.getCursor())):t=="table"&&(n.forEach(c=>{c=c.split(".").join(" ").toLocaleUpperCase(),a+=`| ${c} `,s+="| ---- "}),a+=`|
`,s+=`|
`,r.forEach(c=>{n.forEach(f=>{let d=jT.default.get(c,f.substring(1),"");f==".summary"&&(d=`[${d}](${c.htmlLink}&cal=${c.parent.id})`),f.startsWith(".start")&&!f.contains("timeZone")&&(d=(c.start.date?window.moment(c.start.date):window.moment(c.start.dateTime)).format("YYYY-MM-DD HH:mm")),f.startsWith(".end")&&!f.contains("timeZone")&&(d=(c.start.date?window.moment(c.end.date):window.moment(c.end.dateTime)).format("YYYY-MM-DD HH:mm")),u+=`| ${d} `}),u+=`|
`}),i.editor.replaceRange(a+s+u,i.editor.getCursor())),i.close()}};var Ug=class{constructor(){}make(){return{getCalendars:()=>tn(),getEvents:(t,r)=>Ar(t,r),getEventsFromCalendar:(t,r,n)=>Yu(t,r,n),getEvent:(t,r)=>Sd(t,r)}}};var MF={googleClientId:"",googleClientSecret:"",googleApiToken:"",googleRefreshToken:"",refreshInterval:10,showNotice:!0,autoCreateEventNotes:!0,autoCreateEventKeepOpen:!1,importStartOffset:1,importEndOffset:1,defaultCalendar:"",calendarBlackList:[],insertTemplates:[]},$e=class extends yl.Plugin{constructor(){super(...arguments);this.initView=t=>U(this,null,function*(){this.app.workspace.getLeavesOfType(t).length===0&&(yield this.app.workspace.getRightLeaf(!1).setViewState({type:t})),this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(t).first())});this.onLayoutReady=()=>{var n;let t=(n=this.app.internalPlugins)==null?void 0:n.plugins.templates;t&&t.enabled&&(this.coreTemplatePlugin=t);let r=this.app.plugins.plugins["templater-obsidian"];r&&r._loaded&&(this.templaterPlugin=r),dg(this)}}static getInstance(){return $e.instance}onload(){return U(this,null,function*(){$e.instance=this,this.api=new Ug().make(),yield this.loadSettings(),this.app.workspace.onLayoutReady(this.onLayoutReady),this.registerMarkdownCodeBlockProcessor("gEvent",(t,r,n)=>ET(t,r,n)),this.registerEditorSuggest(new Pg(this.app)),this.registerView(fl,t=>new Bg(t)),this.registerView(dl,t=>new Rg(t)),this.registerView(hl,t=>new Ng(t)),this.registerView(pl,t=>new Dg(t)),this.registerEvent(this.app.workspace.on("editor-change",t=>{TT(t),kT(t)})),this.addCommand({id:"open-google-calendar-timline-view",name:"Open Google Calendar timeline view",callback:()=>this.initView(fl)}),this.addCommand({id:"open-google-calendar-month-view",name:"Open Google Calendar month view",callback:()=>this.initView(dl)}),this.addCommand({id:"open-google-calendar-web-view",name:"Open Google Calendar web view",callback:()=>this.initView(hl)}),this.addCommand({id:"open-google-calendar-schedule-view",name:"Open Google Calendar schedule view",callback:()=>this.initView(pl)}),this.addCommand({id:"list-google-calendars",name:"List Google Calendars",checkCallback:t=>{let r=Sn(!1);if(t)return r;!r||tn().then(n=>{new ld(n).open()})}}),this.addCommand({id:"create-google-calendar-event",name:"Create Google Calendar Event",checkCallback:t=>{let r=Sn(!1);if(t)return r;!r||new Zn({start:{},end:{}},()=>{ci()}).open()}}),this.addCommand({id:"list-google-calendars",name:"List Google Calendars",checkCallback:t=>{let r=Sn(!1);if(t)return r;!r||tn().then(n=>{new ld(n).open()})}}),this.addCommand({id:"list-google-events",name:"List Google Events",checkCallback:t=>{let r=Sn(!1);if(t)return r;!r||Ar().then(n=>{new aa(n).open()})}}),this.addCommand({id:"google-calendar-trigger-auto-import",name:"Google Calendar Trigger Auto Import",checkCallback:t=>{let r=Sn(!1);if(t)return r;!r||dg(this)}}),this.addCommand({id:"insert-google-event-codeblock",name:"Insert Google Event CodeBlock",editorCallback:t=>{t.replaceRange("```gEvent\ndate:"+window.moment().format("YYYY-MM-DD")+"\ntype:day\n```",t.getCursor())}}),this.addCommand({id:"insert-google-event-template",name:"Insert Google Event Template",editorCallback:t=>{t.replaceRange("{{gEvent.}}",t.getCursor());let r=t.getCursor();r.ch+="{{gEvent.".length,t.setCursor(r)}}),this.addCommand({id:"insert-google-events",name:"Insert Google events",editorCheckCallback:(t,r)=>{let n=Sn(!1);if(t)return n;!n||new Mg(r).open()}}),this.addCommand({id:"copy-google-calendar-refresh-token",name:"Copy Google Calendar Refresh Token to Clipboard",callback:()=>{let t=ji();if(t==null||t==""){new yl.Notice("No Refresh Token. Please Login.");return}navigator.clipboard.writeText(t),new yl.Notice("Token copied")}}),this.addSettingTab(new rg(this.app,this))})}onunload(){this.app.workspace.detachLeavesOfType(fl),this.app.workspace.detachLeavesOfType(dl),this.app.workspace.detachLeavesOfType(hl),this.app.workspace.detachLeavesOfType(pl)}loadSettings(){return U(this,null,function*(){this.settings=Object.assign({},MF,yield this.loadData())})}saveSettings(){return U(this,null,function*(){yield this.saveData(this.settings)})}};
/*!
 * rrule.js - Library for working with recurrence rules for calendar dates.
 * https://github.com/jakubroztocil/rrule
 *
 * Copyright 2010, Jakub Roztocil and Lars Schoning
 * Licenced under the BSD licence.
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 * Based on:
 * python-dateutil - Extensions to the standard Python datetime module.
 * Copyright (c) 2003-2011 - Gustavo Niemeyer <gustavo@niemeyer.net>
 * Copyright (c) 2012 - Tomi Pieviläinen <tomi.pievilainen@iki.fi>
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 */
/*!
* rrule.js - Library for working with recurrence rules for calendar dates.
* https://github.com/jakubroztocil/rrule
*
* Copyright 2010, Jakub Roztocil and Lars Schoning
* Licenced under the BSD licence.
* https://github.com/jakubroztocil/rrule/blob/master/LICENCE
*
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
