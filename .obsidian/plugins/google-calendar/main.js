/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var wN=Object.create;var sl=Object.defineProperty,bN=Object.defineProperties,SN=Object.getOwnPropertyDescriptor,TN=Object.getOwnPropertyDescriptors,xN=Object.getOwnPropertyNames,pv=Object.getOwnPropertySymbols,IN=Object.getPrototypeOf,gv=Object.prototype.hasOwnProperty,kN=Object.prototype.propertyIsEnumerable;var mv=(e,t,r)=>t in e?sl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Kr=(e,t)=>{for(var r in t||(t={}))gv.call(t,r)&&mv(e,r,t[r]);if(pv)for(var r of pv(t))kN.call(t,r)&&mv(e,r,t[r]);return e},Qr=(e,t)=>bN(e,TN(t)),yv=e=>sl(e,"__esModule",{value:!0});var OF=typeof require!="undefined"?require:e=>{throw new Error('Dynamic require of "'+e+'" is not supported')};var le=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),RN=(e,t)=>{yv(e);for(var r in t)sl(e,r,{get:t[r],enumerable:!0})},BN=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of xN(t))!gv.call(e,n)&&n!=="default"&&sl(e,n,{get:()=>t[n],enumerable:!(r=SN(t,n))||r.enumerable});return e},Pt=e=>BN(yv(sl(e!=null?wN(IN(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var U=(e,t,r)=>new Promise((n,i)=>{var a=c=>{try{l(r.next(c))}catch(f){i(f)}},s=c=>{try{l(r.throw(c))}catch(f){i(f)}},l=c=>c.done?n(c.value):Promise.resolve(c.value).then(a,s);l((r=r.apply(e,t)).next())});var Fh=le((GF,xv)=>{"use strict";var oc=Object.prototype.hasOwnProperty,Ev=Object.prototype.toString,Cv=Object.defineProperty,Av=Object.getOwnPropertyDescriptor,wv=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Ev.call(t)==="[object Array]"},bv=function(t){if(!t||Ev.call(t)!=="[object Object]")return!1;var r=oc.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&oc.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i=="undefined"||oc.call(t,i)},Sv=function(t,r){Cv&&r.name==="__proto__"?Cv(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},Tv=function(t,r){if(r==="__proto__")if(oc.call(t,r)){if(Av)return Av(t,r).value}else return;return t[r]};xv.exports=function e(){var t,r,n,i,a,s,l=arguments[0],c=1,f=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<f;++c)if(t=arguments[c],t!=null)for(r in t)n=Tv(l,r),i=Tv(t,r),l!==i&&(d&&i&&(bv(i)||(a=wv(i)))?(a?(a=!1,s=n&&wv(n)?n:[]):s=n&&bv(n)?n:{},Sv(l,{name:r,newValue:e(d,s,i)})):typeof i!="undefined"&&Sv(l,{name:r,newValue:i}));return l}});var qh=le((Ys,Iv)=>{"use strict";var NN=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof Wi!="undefined")return Wi;throw new Error("unable to locate global object")},Wi=NN();Iv.exports=Ys=Wi.fetch;Wi.fetch&&(Ys.default=Wi.fetch.bind(Wi));Ys.Headers=Wi.Headers;Ys.Request=Wi.Request;Ys.Response=Wi.Response});var Gh=le((KF,kv)=>{"use strict";var gi=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";gi.writable=e=>gi(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";gi.readable=e=>gi(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";gi.duplex=e=>gi.writable(e)&&gi.readable(e);gi.transform=e=>gi.duplex(e)&&typeof e._transform=="function";kv.exports=gi});var Kh=le(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.GaxiosError=void 0;var Rv=class extends Error{constructor(t,r,n){super(t);this.response=n,this.config=r,this.code=n.status.toString()}};lc.GaxiosError=Rv});var Nv=le(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.getRetryConfig=void 0;function DN(e){return U(this,null,function*(){var t;let r=Bv(e);if(!e||!e.config||!r&&!e.config.retry)return{shouldRetry:!1};r=r||{},r.currentRetryAttempt=r.currentRetryAttempt||0,r.retry=r.retry===void 0||r.retry===null?3:r.retry,r.httpMethodsToRetry=r.httpMethodsToRetry||["GET","HEAD","PUT","OPTIONS","DELETE"],r.noResponseRetries=r.noResponseRetries===void 0||r.noResponseRetries===null?2:r.noResponseRetries;let n=[[100,199],[429,429],[500,599]];if(r.statusCodesToRetry=r.statusCodesToRetry||n,e.config.retryConfig=r,!(yield(r.shouldRetry||LN)(e)))return{shouldRetry:!1,config:e.config};let s=(r.currentRetryAttempt?0:(t=r.retryDelay)!==null&&t!==void 0?t:100)+(Math.pow(2,r.currentRetryAttempt)-1)/2*1e3;e.config.retryConfig.currentRetryAttempt+=1;let l=new Promise(c=>{setTimeout(c,s)});return r.onRetryAttempt&&r.onRetryAttempt(e),yield l,{shouldRetry:!0,config:e.config}})}uc.getRetryConfig=DN;function LN(e){let t=Bv(e);if(e.name==="AbortError"||!t||t.retry===0||!e.response&&(t.currentRetryAttempt||0)>=t.noResponseRetries||!e.config.method||t.httpMethodsToRetry.indexOf(e.config.method.toUpperCase())<0)return!1;if(e.response&&e.response.status){let r=!1;for(let[n,i]of t.statusCodesToRetry){let a=e.response.status;if(a>=n&&a<=i){r=!0;break}}if(!r)return!1}return t.currentRetryAttempt=t.currentRetryAttempt||0,!(t.currentRetryAttempt>=t.retry)}function Bv(e){if(e&&e.config&&e.config.retryConfig)return e.config.retryConfig}});var Lv=le((YF,Dv)=>{var js=1e3,Ws=js*60,zs=Ws*60,$a=zs*24,PN=$a*7,ON=$a*365.25;Dv.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return MN(e);if(r==="number"&&isFinite(e))return t.long?FN(e):UN(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function MN(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*ON;case"weeks":case"week":case"w":return r*PN;case"days":case"day":case"d":return r*$a;case"hours":case"hour":case"hrs":case"hr":case"h":return r*zs;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ws;case"seconds":case"second":case"secs":case"sec":case"s":return r*js;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function UN(e){var t=Math.abs(e);return t>=$a?Math.round(e/$a)+"d":t>=zs?Math.round(e/zs)+"h":t>=Ws?Math.round(e/Ws)+"m":t>=js?Math.round(e/js)+"s":e+"ms"}function FN(e){var t=Math.abs(e);return t>=$a?cc(e,t,$a,"day"):t>=zs?cc(e,t,zs,"hour"):t>=Ws?cc(e,t,Ws,"minute"):t>=js?cc(e,t,js,"second"):e+" ms"}function cc(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var Ov=le((jF,Pv)=>{function qN(e){r.debug=r,r.default=r,r.coerce=c,r.disable=a,r.enable=i,r.enabled=s,r.humanize=Lv(),r.destroy=f,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function t(d){let p=0;for(let g=0;g<d.length;g++)p=(p<<5)-p+d.charCodeAt(g),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=t;function r(d){let p,g=null,v,m;function _(...E){if(!_.enabled)return;let A=_,x=Number(new Date),B=x-(p||x);A.diff=B,A.prev=p,A.curr=x,p=x,E[0]=r.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let L=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(P,ae)=>{if(P==="%%")return"%";L++;let j=r.formatters[ae];if(typeof j=="function"){let V=E[L];P=j.call(A,V),E.splice(L,1),L--}return P}),r.formatArgs.call(A,E),(A.log||r.log).apply(A,E)}return _.namespace=d,_.useColors=r.useColors(),_.color=r.selectColor(d),_.extend=n,_.destroy=r.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(v!==r.namespaces&&(v=r.namespaces,m=r.enabled(d)),m),set:E=>{g=E}}),typeof r.init=="function"&&r.init(_),_}function n(d,p){let g=r(this.namespace+(typeof p=="undefined"?":":p)+d);return g.log=this.log,g}function i(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let p,g=(typeof d=="string"?d:"").split(/[\s,]+/),v=g.length;for(p=0;p<v;p++)!g[p]||(d=g[p].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.slice(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}function a(){let d=[...r.names.map(l),...r.skips.map(l).map(p=>"-"+p)].join(",");return r.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let p,g;for(p=0,g=r.skips.length;p<g;p++)if(r.skips[p].test(d))return!1;for(p=0,g=r.names.length;p<g;p++)if(r.names[p].test(d))return!0;return!1}function l(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Pv.exports=qN});var dc=le((An,fc)=>{An.formatArgs=KN;An.save=VN;An.load=HN;An.useColors=GN;An.storage=YN();An.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();An.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function GN(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function KN(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+fc.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}An.log=console.debug||console.log||(()=>{});function VN(e){try{e?An.storage.setItem("debug",e):An.storage.removeItem("debug")}catch(t){}}function HN(){let e;try{e=An.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function YN(){try{return localStorage}catch(e){}}fc.exports=Ov()(An);var{formatters:jN}=fc.exports;jN.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Mv=le(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});function WN(e){return function(t,r){return new Promise((n,i)=>{e.call(this,t,r,(a,s)=>{a?i(a):n(s)})})}}Vh.default=WN});var qv=le((Yh,Fv)=>{"use strict";var Uv=Yh&&Yh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},zN=require("events"),JN=Uv(dc()),QN=Uv(Mv()),cl=JN.default("agent-base");function XN(e){return Boolean(e)&&typeof e.addRequest=="function"}function Hh(){let{stack:e}=new Error;return typeof e!="string"?!1:e.split(`
`).some(t=>t.indexOf("(https.js:")!==-1||t.indexOf("node:https:")!==-1)}function hc(e,t){return new hc.Agent(e,t)}(function(e){class t extends zN.EventEmitter{constructor(n,i){super();let a=i;typeof n=="function"?this.callback=n:n&&(a=n),this.timeout=null,a&&typeof a.timeout=="number"&&(this.timeout=a.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:Hh()?443:80}set defaultPort(n){this.explicitDefaultPort=n}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:Hh()?"https:":"http:"}set protocol(n){this.explicitProtocol=n}callback(n,i,a){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(n,i){let a=Object.assign({},i);typeof a.secureEndpoint!="boolean"&&(a.secureEndpoint=Hh()),a.host==null&&(a.host="localhost"),a.port==null&&(a.port=a.secureEndpoint?443:80),a.protocol==null&&(a.protocol=a.secureEndpoint?"https:":"http:"),a.host&&a.path&&delete a.path,delete a.agent,delete a.hostname,delete a._defaultAgent,delete a.defaultPort,delete a.createConnection,n._last=!0,n.shouldKeepAlive=!1;let s=!1,l=null,c=a.timeout||this.timeout,f=v=>{n._hadError||(n.emit("error",v),n._hadError=!0)},d=()=>{l=null,s=!0;let v=new Error(`A "socket" was not created for HTTP request before ${c}ms`);v.code="ETIMEOUT",f(v)},p=v=>{s||(l!==null&&(clearTimeout(l),l=null),f(v))},g=v=>{if(s)return;if(l!=null&&(clearTimeout(l),l=null),XN(v)){cl("Callback returned another Agent instance %o",v.constructor.name),v.addRequest(n,a);return}if(v){v.once("free",()=>{this.freeSocket(v,a)}),n.onSocket(v);return}let m=new Error(`no Duplex stream was returned to agent-base for \`${n.method} ${n.path}\``);f(m)};if(typeof this.callback!="function"){f(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(cl("Converting legacy callback function to promise"),this.promisifiedCallback=QN.default(this.callback)):this.promisifiedCallback=this.callback),typeof c=="number"&&c>0&&(l=setTimeout(d,c)),"port"in a&&typeof a.port!="number"&&(a.port=Number(a.port));try{cl("Resolving socket for %o request: %o",a.protocol,`${n.method} ${n.path}`),Promise.resolve(this.promisifiedCallback(n,a)).then(g,p)}catch(v){Promise.reject(v).catch(p)}}freeSocket(n,i){cl("Freeing socket %o %o",n.constructor.name,i),n.destroy()}destroy(){cl("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype})(hc||(hc={}));Fv.exports=hc});var Gv=le(dl=>{"use strict";var ZN=dl&&dl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dl,"__esModule",{value:!0});var $N=ZN(dc()),fl=$N.default("https-proxy-agent:parse-proxy-response");function e4(e){return new Promise((t,r)=>{let n=0,i=[];function a(){let p=e.read();p?d(p):e.once("readable",a)}function s(){e.removeListener("end",c),e.removeListener("error",f),e.removeListener("close",l),e.removeListener("readable",a)}function l(p){fl("onclose had error %o",p)}function c(){fl("onend")}function f(p){s(),fl("onerror %o",p),r(p)}function d(p){i.push(p),n+=p.length;let g=Buffer.concat(i,n);if(g.indexOf(`\r
\r
`)===-1){fl("have not received end of HTTP headers yet..."),a();return}let m=g.toString("ascii",0,g.indexOf(`\r
`)),_=+m.split(" ")[1];fl("got proxy server response: %o",m),t({statusCode:_,buffered:g})}e.on("error",f),e.on("close",l),e.on("end",c),a()})}dl.default=e4});var Yv=le(es=>{"use strict";var t4=es&&es.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{f(n.next(d))}catch(p){s(p)}}function c(d){try{f(n.throw(d))}catch(p){s(p)}}function f(d){d.done?a(d.value):i(d.value).then(l,c)}f((n=n.apply(e,t||[])).next())})},Js=es&&es.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(es,"__esModule",{value:!0});var Kv=Js(require("net")),Vv=Js(require("tls")),r4=Js(require("url")),n4=Js(require("assert")),i4=Js(dc()),a4=qv(),s4=Js(Gv()),hl=i4.default("https-proxy-agent:agent"),Hv=class extends a4.Agent{constructor(t){let r;if(typeof t=="string"?r=r4.default.parse(t):r=t,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");hl("creating new HttpsProxyAgent instance: %o",r);super(r);let n=Object.assign({},r);this.secureProxy=r.secureProxy||u4(n.protocol),n.host=n.hostname||n.host,typeof n.port=="string"&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in n)&&(n.ALPNProtocols=["http 1.1"]),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(t,r){return t4(this,void 0,void 0,function*(){let{proxy:n,secureProxy:i}=this,a;i?(hl("Creating `tls.Socket`: %o",n),a=Vv.default.connect(n)):(hl("Creating `net.Socket`: %o",n),a=Kv.default.connect(n));let s=Object.assign({},n.headers),c=`CONNECT ${`${r.host}:${r.port}`} HTTP/1.1\r
`;n.auth&&(s["Proxy-Authorization"]=`Basic ${Buffer.from(n.auth).toString("base64")}`);let{host:f,port:d,secureEndpoint:p}=r;l4(d,p)||(f+=`:${d}`),s.Host=f,s.Connection="close";for(let E of Object.keys(s))c+=`${E}: ${s[E]}\r
`;let g=s4.default(a);a.write(`${c}\r
`);let{statusCode:v,buffered:m}=yield g;if(v===200){if(t.once("socket",o4),r.secureEndpoint){hl("Upgrading socket connection to TLS");let E=r.servername||r.host;return Vv.default.connect(Object.assign(Object.assign({},c4(r,"host","hostname","path","port")),{socket:a,servername:E}))}return a}a.destroy();let _=new Kv.default.Socket({writable:!1});return _.readable=!0,t.once("socket",E=>{hl("replaying proxy buffer for failed request"),n4.default(E.listenerCount("data")>0),E.push(m),E.push(null)}),_})}};es.default=Hv;function o4(e){e.resume()}function l4(e,t){return Boolean(!t&&e===80||t&&e===443)}function u4(e){return typeof e=="string"?/^https:?$/i.test(e):!1}function c4(e,...t){let r={},n;for(n in e)t.includes(n)||(r[n]=e[n]);return r}});var Jh=le((zh,jv)=>{"use strict";var f4=zh&&zh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},jh=f4(Yv());function Wh(e){return new jh.default(e)}(function(e){e.HttpsProxyAgent=jh.default,e.prototype=jh.default.prototype})(Wh||(Wh={}));jv.exports=Wh});var Zv=le(Qs=>{"use strict";var pc=Qs&&Qs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.Gaxios=void 0;var d4=pc(Fh()),h4=require("https"),p4=pc(qh()),g4=pc(require("querystring")),m4=pc(Gh()),Wv=require("url"),y4=Kh(),v4=Nv(),_4=C4()?window.fetch:p4.default;function E4(){return typeof window!="undefined"&&!!window}function C4(){return E4()&&!!window.fetch}function A4(){return typeof Buffer!="undefined"}function zv(e,t){return!!Jv(e,t)}function Jv(e,t){t=t.toLowerCase();for(let r of Object.keys((e==null?void 0:e.headers)||{}))if(t===r.toLowerCase())return e.headers[r]}var Qh;function Qv(){var e,t,r,n;let i=((e=process==null?void 0:process.env)===null||e===void 0?void 0:e.HTTPS_PROXY)||((t=process==null?void 0:process.env)===null||t===void 0?void 0:t.https_proxy)||((r=process==null?void 0:process.env)===null||r===void 0?void 0:r.HTTP_PROXY)||((n=process==null?void 0:process.env)===null||n===void 0?void 0:n.http_proxy);return i&&(Qh=Jh()),i}Qv();function w4(e){var t;let r=(t=process.env.NO_PROXY)!==null&&t!==void 0?t:process.env.no_proxy;if(!r)return!1;let n=r.split(","),i=new Wv.URL(e);return!!n.find(a=>a.startsWith("*.")||a.startsWith(".")?(a=a.replace(/^\*\./,"."),i.hostname.endsWith(a)):a===i.origin||a===i.hostname)}function b4(e){if(!w4(e))return Qv()}var Xv=class{constructor(t){this.agentCache=new Map,this.defaults=t||{}}request(){return U(this,arguments,function*(t={}){return t=this.validateOpts(t),this._request(t)})}_defaultAdapter(t){return U(this,null,function*(){let n=yield(t.fetchImplementation||_4)(t.url,t),i=yield this.getResponseData(t,n);return this.translateResponse(t,n,i)})}_request(){return U(this,arguments,function*(t={}){try{let r;if(t.adapter?r=yield t.adapter(t,this._defaultAdapter.bind(this)):r=yield this._defaultAdapter(t),!t.validateStatus(r.status))throw new y4.GaxiosError(`Request failed with status code ${r.status}`,t,r);return r}catch(r){let n=r;n.config=t;let{shouldRetry:i,config:a}=yield(0,v4.getRetryConfig)(n);if(i&&a)return n.config.retryConfig.currentRetryAttempt=a.retryConfig.currentRetryAttempt,this._request(n.config);throw n}})}getResponseData(t,r){return U(this,null,function*(){switch(t.responseType){case"stream":return r.body;case"json":{let n=yield r.text();try{n=JSON.parse(n)}catch(i){}return n}case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();default:return r.text()}})}validateOpts(t){let r=(0,d4.default)(!0,{},this.defaults,t);if(!r.url)throw new Error("URL is required.");let n=r.baseUrl||r.baseURL;if(n&&(r.url=n+r.url),r.paramsSerializer=r.paramsSerializer||this.paramsSerializer,r.params&&Object.keys(r.params).length>0){let a=r.paramsSerializer(r.params);a.startsWith("?")&&(a=a.slice(1));let s=r.url.includes("?")?"&":"?";r.url=r.url+s+a}if(typeof t.maxContentLength=="number"&&(r.size=t.maxContentLength),typeof t.maxRedirects=="number"&&(r.follow=t.maxRedirects),r.headers=r.headers||{},r.data){let a=typeof FormData=="undefined"?!1:(r==null?void 0:r.data)instanceof FormData;m4.default.readable(r.data)?r.body=r.data:A4()&&Buffer.isBuffer(r.data)?(r.body=r.data,zv(r,"Content-Type")||(r.headers["Content-Type"]="application/json")):typeof r.data=="object"?a||(Jv(r,"content-type")==="application/x-www-form-urlencoded"?r.body=r.paramsSerializer(r.data):(zv(r,"Content-Type")||(r.headers["Content-Type"]="application/json"),r.body=JSON.stringify(r.data))):r.body=r.data}r.validateStatus=r.validateStatus||this.validateStatus,r.responseType=r.responseType||"json",!r.headers.Accept&&r.responseType==="json"&&(r.headers.Accept="application/json"),r.method=r.method||"GET";let i=b4(r.url);if(i)if(this.agentCache.has(i))r.agent=this.agentCache.get(i);else{if(r.cert&&r.key){let a=new Wv.URL(i);r.agent=new Qh({port:a.port,host:a.host,protocol:a.protocol,cert:r.cert,key:r.key})}else r.agent=new Qh(i);this.agentCache.set(i,r.agent)}else r.cert&&r.key&&(this.agentCache.has(r.key)?r.agent=this.agentCache.get(r.key):(r.agent=new h4.Agent({cert:r.cert,key:r.key}),this.agentCache.set(r.key,r.agent)));return r}validateStatus(t){return t>=200&&t<300}paramsSerializer(t){return g4.default.stringify(t)}translateResponse(t,r,n){let i={};return r.headers.forEach((a,s)=>{i[s]=a}),{config:t,data:n,headers:i,status:r.status,statusText:r.statusText,request:{responseURL:r.url}}}};Qs.Gaxios=Xv});var Xs=le(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.request=ni.instance=ni.Gaxios=ni.GaxiosError=void 0;var $v=Zv();Object.defineProperty(ni,"Gaxios",{enumerable:!0,get:function(){return $v.Gaxios}});var S4=Kh();Object.defineProperty(ni,"GaxiosError",{enumerable:!0,get:function(){return S4.GaxiosError}});ni.instance=new $v.Gaxios;function T4(e){return U(this,null,function*(){return ni.instance.request(e)})}ni.request=T4});var Xh=le((e1,gc)=>{(function(e){"use strict";var t,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,i=Math.floor,a="[BigNumber Error] ",s=a+"Number primitive has more than 15 significant digits: ",l=1e14,c=14,f=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,g=1e9;function v(N){var P,ae,j,V=fe.prototype={constructor:fe,toString:null,valueOf:null},me=new fe(1),ye=20,we=4,Ke=-7,Oe=21,Ie=-1e7,Pe=1e7,_e=!1,nt=1,Xe=0,Nt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},At="0123456789abcdefghijklmnopqrstuvwxyz",it=!0;function fe(I,R){var D,W,G,J,X,H,Q,re,Z=this;if(!(Z instanceof fe))return new fe(I,R);if(R==null){if(I&&I._isBigNumber===!0){Z.s=I.s,!I.c||I.e>Pe?Z.c=Z.e=null:I.e<Ie?Z.c=[Z.e=0]:(Z.e=I.e,Z.c=I.c.slice());return}if((H=typeof I=="number")&&I*0==0){if(Z.s=1/I<0?(I=-I,-1):1,I===~~I){for(J=0,X=I;X>=10;X/=10,J++);J>Pe?Z.c=Z.e=null:(Z.e=J,Z.c=[I]);return}re=String(I)}else{if(!r.test(re=String(I)))return j(Z,re,H);Z.s=re.charCodeAt(0)==45?(re=re.slice(1),-1):1}(J=re.indexOf("."))>-1&&(re=re.replace(".","")),(X=re.search(/e/i))>0?(J<0&&(J=X),J+=+re.slice(X+1),re=re.substring(0,X)):J<0&&(J=re.length)}else{if(A(R,2,At.length,"Base"),R==10&&it)return Z=new fe(I),Le(Z,ye+Z.e+1,we);if(re=String(I),H=typeof I=="number"){if(I*0!=0)return j(Z,re,H,R);if(Z.s=1/I<0?(re=re.slice(1),-1):1,fe.DEBUG&&re.replace(/^0\.0*|\./,"").length>15)throw Error(s+I)}else Z.s=re.charCodeAt(0)===45?(re=re.slice(1),-1):1;for(D=At.slice(0,R),J=X=0,Q=re.length;X<Q;X++)if(D.indexOf(W=re.charAt(X))<0){if(W=="."){if(X>J){J=Q;continue}}else if(!G&&(re==re.toUpperCase()&&(re=re.toLowerCase())||re==re.toLowerCase()&&(re=re.toUpperCase()))){G=!0,X=-1,J=0;continue}return j(Z,String(I),H,R)}H=!1,re=ae(re,R,10,Z.s),(J=re.indexOf("."))>-1?re=re.replace(".",""):J=re.length}for(X=0;re.charCodeAt(X)===48;X++);for(Q=re.length;re.charCodeAt(--Q)===48;);if(re=re.slice(X,++Q)){if(Q-=X,H&&fe.DEBUG&&Q>15&&(I>f||I!==i(I)))throw Error(s+Z.s*I);if((J=J-X-1)>Pe)Z.c=Z.e=null;else if(J<Ie)Z.c=[Z.e=0];else{if(Z.e=J,Z.c=[],X=(J+1)%c,J<0&&(X+=c),X<Q){for(X&&Z.c.push(+re.slice(0,X)),Q-=c;X<Q;)Z.c.push(+re.slice(X,X+=c));X=c-(re=re.slice(X)).length}else X-=Q;for(;X--;re+="0");Z.c.push(+re)}}else Z.c=[Z.e=0]}fe.clone=v,fe.ROUND_UP=0,fe.ROUND_DOWN=1,fe.ROUND_CEIL=2,fe.ROUND_FLOOR=3,fe.ROUND_HALF_UP=4,fe.ROUND_HALF_DOWN=5,fe.ROUND_HALF_EVEN=6,fe.ROUND_HALF_CEIL=7,fe.ROUND_HALF_FLOOR=8,fe.EUCLID=9,fe.config=fe.set=function(I){var R,D;if(I!=null)if(typeof I=="object"){if(I.hasOwnProperty(R="DECIMAL_PLACES")&&(D=I[R],A(D,0,g,R),ye=D),I.hasOwnProperty(R="ROUNDING_MODE")&&(D=I[R],A(D,0,8,R),we=D),I.hasOwnProperty(R="EXPONENTIAL_AT")&&(D=I[R],D&&D.pop?(A(D[0],-g,0,R),A(D[1],0,g,R),Ke=D[0],Oe=D[1]):(A(D,-g,g,R),Ke=-(Oe=D<0?-D:D))),I.hasOwnProperty(R="RANGE"))if(D=I[R],D&&D.pop)A(D[0],-g,-1,R),A(D[1],1,g,R),Ie=D[0],Pe=D[1];else if(A(D,-g,g,R),D)Ie=-(Pe=D<0?-D:D);else throw Error(a+R+" cannot be zero: "+D);if(I.hasOwnProperty(R="CRYPTO"))if(D=I[R],D===!!D)if(D)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))_e=D;else throw _e=!D,Error(a+"crypto unavailable");else _e=D;else throw Error(a+R+" not true or false: "+D);if(I.hasOwnProperty(R="MODULO_MODE")&&(D=I[R],A(D,0,9,R),nt=D),I.hasOwnProperty(R="POW_PRECISION")&&(D=I[R],A(D,0,g,R),Xe=D),I.hasOwnProperty(R="FORMAT"))if(D=I[R],typeof D=="object")Nt=D;else throw Error(a+R+" not an object: "+D);if(I.hasOwnProperty(R="ALPHABET"))if(D=I[R],typeof D=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(D))it=D.slice(0,10)=="0123456789",At=D;else throw Error(a+R+" invalid: "+D)}else throw Error(a+"Object expected: "+I);return{DECIMAL_PLACES:ye,ROUNDING_MODE:we,EXPONENTIAL_AT:[Ke,Oe],RANGE:[Ie,Pe],CRYPTO:_e,MODULO_MODE:nt,POW_PRECISION:Xe,FORMAT:Nt,ALPHABET:At}},fe.isBigNumber=function(I){if(!I||I._isBigNumber!==!0)return!1;if(!fe.DEBUG)return!0;var R,D,W=I.c,G=I.e,J=I.s;e:if({}.toString.call(W)=="[object Array]"){if((J===1||J===-1)&&G>=-g&&G<=g&&G===i(G)){if(W[0]===0){if(G===0&&W.length===1)return!0;break e}if(R=(G+1)%c,R<1&&(R+=c),String(W[0]).length==R){for(R=0;R<W.length;R++)if(D=W[R],D<0||D>=l||D!==i(D))break e;if(D!==0)return!0}}}else if(W===null&&G===null&&(J===null||J===1||J===-1))return!0;throw Error(a+"Invalid BigNumber: "+I)},fe.maximum=fe.max=function(){return Tt(arguments,V.lt)},fe.minimum=fe.min=function(){return Tt(arguments,V.gt)},fe.random=function(){var I=9007199254740992,R=Math.random()*I&2097151?function(){return i(Math.random()*I)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(D){var W,G,J,X,H,Q=0,re=[],Z=new fe(me);if(D==null?D=ye:A(D,0,g),X=n(D/c),_e)if(crypto.getRandomValues){for(W=crypto.getRandomValues(new Uint32Array(X*=2));Q<X;)H=W[Q]*131072+(W[Q+1]>>>11),H>=9e15?(G=crypto.getRandomValues(new Uint32Array(2)),W[Q]=G[0],W[Q+1]=G[1]):(re.push(H%1e14),Q+=2);Q=X/2}else if(crypto.randomBytes){for(W=crypto.randomBytes(X*=7);Q<X;)H=(W[Q]&31)*281474976710656+W[Q+1]*1099511627776+W[Q+2]*4294967296+W[Q+3]*16777216+(W[Q+4]<<16)+(W[Q+5]<<8)+W[Q+6],H>=9e15?crypto.randomBytes(7).copy(W,Q):(re.push(H%1e14),Q+=7);Q=X/7}else throw _e=!1,Error(a+"crypto unavailable");if(!_e)for(;Q<X;)H=R(),H<9e15&&(re[Q++]=H%1e14);for(X=re[--Q],D%=c,X&&D&&(H=d[c-D],re[Q]=i(X/H)*H);re[Q]===0;re.pop(),Q--);if(Q<0)re=[J=0];else{for(J=-1;re[0]===0;re.splice(0,1),J-=c);for(Q=1,H=re[0];H>=10;H/=10,Q++);Q<c&&(J-=c-Q)}return Z.e=J,Z.c=re,Z}}(),fe.sum=function(){for(var I=1,R=arguments,D=new fe(R[0]);I<R.length;)D=D.plus(R[I++]);return D},ae=function(){var I="0123456789";function R(D,W,G,J){for(var X,H=[0],Q,re=0,Z=D.length;re<Z;){for(Q=H.length;Q--;H[Q]*=W);for(H[0]+=J.indexOf(D.charAt(re++)),X=0;X<H.length;X++)H[X]>G-1&&(H[X+1]==null&&(H[X+1]=0),H[X+1]+=H[X]/G|0,H[X]%=G)}return H.reverse()}return function(D,W,G,J,X){var H,Q,re,Z,de,Me,Fe,pt,tr=D.indexOf("."),Xt=ye,ut=we;for(tr>=0&&(Z=Xe,Xe=0,D=D.replace(".",""),pt=new fe(W),Me=pt.pow(D.length-tr),Xe=Z,pt.c=R(L(_(Me.c),Me.e,"0"),10,G,I),pt.e=pt.c.length),Fe=R(D,W,G,X?(H=At,I):(H=I,At)),re=Z=Fe.length;Fe[--Z]==0;Fe.pop());if(!Fe[0])return H.charAt(0);if(tr<0?--re:(Me.c=Fe,Me.e=re,Me.s=J,Me=P(Me,pt,Xt,ut,G),Fe=Me.c,de=Me.r,re=Me.e),Q=re+Xt+1,tr=Fe[Q],Z=G/2,de=de||Q<0||Fe[Q+1]!=null,de=ut<4?(tr!=null||de)&&(ut==0||ut==(Me.s<0?3:2)):tr>Z||tr==Z&&(ut==4||de||ut==6&&Fe[Q-1]&1||ut==(Me.s<0?8:7)),Q<1||!Fe[0])D=de?L(H.charAt(1),-Xt,H.charAt(0)):H.charAt(0);else{if(Fe.length=Q,de)for(--G;++Fe[--Q]>G;)Fe[Q]=0,Q||(++re,Fe=[1].concat(Fe));for(Z=Fe.length;!Fe[--Z];);for(tr=0,D="";tr<=Z;D+=H.charAt(Fe[tr++]));D=L(D,re,H.charAt(0))}return D}}(),P=function(){function I(W,G,J){var X,H,Q,re,Z=0,de=W.length,Me=G%p,Fe=G/p|0;for(W=W.slice();de--;)Q=W[de]%p,re=W[de]/p|0,X=Fe*Q+re*Me,H=Me*Q+X%p*p+Z,Z=(H/J|0)+(X/p|0)+Fe*re,W[de]=H%J;return Z&&(W=[Z].concat(W)),W}function R(W,G,J,X){var H,Q;if(J!=X)Q=J>X?1:-1;else for(H=Q=0;H<J;H++)if(W[H]!=G[H]){Q=W[H]>G[H]?1:-1;break}return Q}function D(W,G,J,X){for(var H=0;J--;)W[J]-=H,H=W[J]<G[J]?1:0,W[J]=H*X+W[J]-G[J];for(;!W[0]&&W.length>1;W.splice(0,1));}return function(W,G,J,X,H){var Q,re,Z,de,Me,Fe,pt,tr,Xt,ut,Lt,gr,la,Ka,Va,sn,Oi,Fr=W.s==G.s?1:-1,Er=W.c,rr=G.c;if(!Er||!Er[0]||!rr||!rr[0])return new fe(!W.s||!G.s||(Er?rr&&Er[0]==rr[0]:!rr)?NaN:Er&&Er[0]==0||!rr?Fr*0:Fr/0);for(tr=new fe(Fr),Xt=tr.c=[],re=W.e-G.e,Fr=J+re+1,H||(H=l,re=m(W.e/c)-m(G.e/c),Fr=Fr/c|0),Z=0;rr[Z]==(Er[Z]||0);Z++);if(rr[Z]>(Er[Z]||0)&&re--,Fr<0)Xt.push(1),de=!0;else{for(Ka=Er.length,sn=rr.length,Z=0,Fr+=2,Me=i(H/(rr[0]+1)),Me>1&&(rr=I(rr,Me,H),Er=I(Er,Me,H),sn=rr.length,Ka=Er.length),la=sn,ut=Er.slice(0,sn),Lt=ut.length;Lt<sn;ut[Lt++]=0);Oi=rr.slice(),Oi=[0].concat(Oi),Va=rr[0],rr[1]>=H/2&&Va++;do{if(Me=0,Q=R(rr,ut,sn,Lt),Q<0){if(gr=ut[0],sn!=Lt&&(gr=gr*H+(ut[1]||0)),Me=i(gr/Va),Me>1)for(Me>=H&&(Me=H-1),Fe=I(rr,Me,H),pt=Fe.length,Lt=ut.length;R(Fe,ut,pt,Lt)==1;)Me--,D(Fe,sn<pt?Oi:rr,pt,H),pt=Fe.length,Q=1;else Me==0&&(Q=Me=1),Fe=rr.slice(),pt=Fe.length;if(pt<Lt&&(Fe=[0].concat(Fe)),D(ut,Fe,Lt,H),Lt=ut.length,Q==-1)for(;R(rr,ut,sn,Lt)<1;)Me++,D(ut,sn<Lt?Oi:rr,Lt,H),Lt=ut.length}else Q===0&&(Me++,ut=[0]);Xt[Z++]=Me,ut[0]?ut[Lt++]=Er[la]||0:(ut=[Er[la]],Lt=1)}while((la++<Ka||ut[0]!=null)&&Fr--);de=ut[0]!=null,Xt[0]||Xt.splice(0,1)}if(H==l){for(Z=1,Fr=Xt[0];Fr>=10;Fr/=10,Z++);Le(tr,J+(tr.e=Z+re*c-1)+1,X,de)}else tr.e=re,tr.r=+de;return tr}}();function Dt(I,R,D,W){var G,J,X,H,Q;if(D==null?D=we:A(D,0,8),!I.c)return I.toString();if(G=I.c[0],X=I.e,R==null)Q=_(I.c),Q=W==1||W==2&&(X<=Ke||X>=Oe)?B(Q,X):L(Q,X,"0");else if(I=Le(new fe(I),R,D),J=I.e,Q=_(I.c),H=Q.length,W==1||W==2&&(R<=J||J<=Ke)){for(;H<R;Q+="0",H++);Q=B(Q,J)}else if(R-=X,Q=L(Q,J,"0"),J+1>H){if(--R>0)for(Q+=".";R--;Q+="0");}else if(R+=J-H,R>0)for(J+1==H&&(Q+=".");R--;Q+="0");return I.s<0&&G?"-"+Q:Q}function Tt(I,R){for(var D,W=1,G=new fe(I[0]);W<I.length;W++)if(D=new fe(I[W]),D.s)R.call(G,D)&&(G=D);else{G=D;break}return G}function Be(I,R,D){for(var W=1,G=R.length;!R[--G];R.pop());for(G=R[0];G>=10;G/=10,W++);return(D=W+D*c-1)>Pe?I.c=I.e=null:D<Ie?I.c=[I.e=0]:(I.e=D,I.c=R),I}j=function(){var I=/^(-?)0([xbo])(?=\w[\w.]*$)/i,R=/^([^.]+)\.$/,D=/^\.([^.]+)$/,W=/^-?(Infinity|NaN)$/,G=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(J,X,H,Q){var re,Z=H?X:X.replace(G,"");if(W.test(Z))J.s=isNaN(Z)?null:Z<0?-1:1;else{if(!H&&(Z=Z.replace(I,function(de,Me,Fe){return re=(Fe=Fe.toLowerCase())=="x"?16:Fe=="b"?2:8,!Q||Q==re?Me:de}),Q&&(re=Q,Z=Z.replace(R,"$1").replace(D,"0.$1")),X!=Z))return new fe(Z,re);if(fe.DEBUG)throw Error(a+"Not a"+(Q?" base "+Q:"")+" number: "+X);J.s=null}J.c=J.e=null}}();function Le(I,R,D,W){var G,J,X,H,Q,re,Z,de=I.c,Me=d;if(de){e:{for(G=1,H=de[0];H>=10;H/=10,G++);if(J=R-G,J<0)J+=c,X=R,Q=de[re=0],Z=Q/Me[G-X-1]%10|0;else if(re=n((J+1)/c),re>=de.length)if(W){for(;de.length<=re;de.push(0));Q=Z=0,G=1,J%=c,X=J-c+1}else break e;else{for(Q=H=de[re],G=1;H>=10;H/=10,G++);J%=c,X=J-c+G,Z=X<0?0:Q/Me[G-X-1]%10|0}if(W=W||R<0||de[re+1]!=null||(X<0?Q:Q%Me[G-X-1]),W=D<4?(Z||W)&&(D==0||D==(I.s<0?3:2)):Z>5||Z==5&&(D==4||W||D==6&&(J>0?X>0?Q/Me[G-X]:0:de[re-1])%10&1||D==(I.s<0?8:7)),R<1||!de[0])return de.length=0,W?(R-=I.e+1,de[0]=Me[(c-R%c)%c],I.e=-R||0):de[0]=I.e=0,I;if(J==0?(de.length=re,H=1,re--):(de.length=re+1,H=Me[c-J],de[re]=X>0?i(Q/Me[G-X]%Me[X])*H:0),W)for(;;)if(re==0){for(J=1,X=de[0];X>=10;X/=10,J++);for(X=de[0]+=H,H=1;X>=10;X/=10,H++);J!=H&&(I.e++,de[0]==l&&(de[0]=1));break}else{if(de[re]+=H,de[re]!=l)break;de[re--]=0,H=1}for(J=de.length;de[--J]===0;de.pop());}I.e>Pe?I.c=I.e=null:I.e<Ie&&(I.c=[I.e=0])}return I}function He(I){var R,D=I.e;return D===null?I.toString():(R=_(I.c),R=D<=Ke||D>=Oe?B(R,D):L(R,D,"0"),I.s<0?"-"+R:R)}return V.absoluteValue=V.abs=function(){var I=new fe(this);return I.s<0&&(I.s=1),I},V.comparedTo=function(I,R){return E(this,new fe(I,R))},V.decimalPlaces=V.dp=function(I,R){var D,W,G,J=this;if(I!=null)return A(I,0,g),R==null?R=we:A(R,0,8),Le(new fe(J),I+J.e+1,R);if(!(D=J.c))return null;if(W=((G=D.length-1)-m(this.e/c))*c,G=D[G])for(;G%10==0;G/=10,W--);return W<0&&(W=0),W},V.dividedBy=V.div=function(I,R){return P(this,new fe(I,R),ye,we)},V.dividedToIntegerBy=V.idiv=function(I,R){return P(this,new fe(I,R),0,1)},V.exponentiatedBy=V.pow=function(I,R){var D,W,G,J,X,H,Q,re,Z,de=this;if(I=new fe(I),I.c&&!I.isInteger())throw Error(a+"Exponent not an integer: "+He(I));if(R!=null&&(R=new fe(R)),H=I.e>14,!de.c||!de.c[0]||de.c[0]==1&&!de.e&&de.c.length==1||!I.c||!I.c[0])return Z=new fe(Math.pow(+He(de),H?2-x(I):+He(I))),R?Z.mod(R):Z;if(Q=I.s<0,R){if(R.c?!R.c[0]:!R.s)return new fe(NaN);W=!Q&&de.isInteger()&&R.isInteger(),W&&(de=de.mod(R))}else{if(I.e>9&&(de.e>0||de.e<-1||(de.e==0?de.c[0]>1||H&&de.c[1]>=24e7:de.c[0]<8e13||H&&de.c[0]<=9999975e7)))return J=de.s<0&&x(I)?-0:0,de.e>-1&&(J=1/J),new fe(Q?1/J:J);Xe&&(J=n(Xe/c+2))}for(H?(D=new fe(.5),Q&&(I.s=1),re=x(I)):(G=Math.abs(+He(I)),re=G%2),Z=new fe(me);;){if(re){if(Z=Z.times(de),!Z.c)break;J?Z.c.length>J&&(Z.c.length=J):W&&(Z=Z.mod(R))}if(G){if(G=i(G/2),G===0)break;re=G%2}else if(I=I.times(D),Le(I,I.e+1,1),I.e>14)re=x(I);else{if(G=+He(I),G===0)break;re=G%2}de=de.times(de),J?de.c&&de.c.length>J&&(de.c.length=J):W&&(de=de.mod(R))}return W?Z:(Q&&(Z=me.div(Z)),R?Z.mod(R):J?Le(Z,Xe,we,X):Z)},V.integerValue=function(I){var R=new fe(this);return I==null?I=we:A(I,0,8),Le(R,R.e+1,I)},V.isEqualTo=V.eq=function(I,R){return E(this,new fe(I,R))===0},V.isFinite=function(){return!!this.c},V.isGreaterThan=V.gt=function(I,R){return E(this,new fe(I,R))>0},V.isGreaterThanOrEqualTo=V.gte=function(I,R){return(R=E(this,new fe(I,R)))===1||R===0},V.isInteger=function(){return!!this.c&&m(this.e/c)>this.c.length-2},V.isLessThan=V.lt=function(I,R){return E(this,new fe(I,R))<0},V.isLessThanOrEqualTo=V.lte=function(I,R){return(R=E(this,new fe(I,R)))===-1||R===0},V.isNaN=function(){return!this.s},V.isNegative=function(){return this.s<0},V.isPositive=function(){return this.s>0},V.isZero=function(){return!!this.c&&this.c[0]==0},V.minus=function(I,R){var D,W,G,J,X=this,H=X.s;if(I=new fe(I,R),R=I.s,!H||!R)return new fe(NaN);if(H!=R)return I.s=-R,X.plus(I);var Q=X.e/c,re=I.e/c,Z=X.c,de=I.c;if(!Q||!re){if(!Z||!de)return Z?(I.s=-R,I):new fe(de?X:NaN);if(!Z[0]||!de[0])return de[0]?(I.s=-R,I):new fe(Z[0]?X:we==3?-0:0)}if(Q=m(Q),re=m(re),Z=Z.slice(),H=Q-re){for((J=H<0)?(H=-H,G=Z):(re=Q,G=de),G.reverse(),R=H;R--;G.push(0));G.reverse()}else for(W=(J=(H=Z.length)<(R=de.length))?H:R,H=R=0;R<W;R++)if(Z[R]!=de[R]){J=Z[R]<de[R];break}if(J&&(G=Z,Z=de,de=G,I.s=-I.s),R=(W=de.length)-(D=Z.length),R>0)for(;R--;Z[D++]=0);for(R=l-1;W>H;){if(Z[--W]<de[W]){for(D=W;D&&!Z[--D];Z[D]=R);--Z[D],Z[W]+=l}Z[W]-=de[W]}for(;Z[0]==0;Z.splice(0,1),--re);return Z[0]?Be(I,Z,re):(I.s=we==3?-1:1,I.c=[I.e=0],I)},V.modulo=V.mod=function(I,R){var D,W,G=this;return I=new fe(I,R),!G.c||!I.s||I.c&&!I.c[0]?new fe(NaN):!I.c||G.c&&!G.c[0]?new fe(G):(nt==9?(W=I.s,I.s=1,D=P(G,I,0,3),I.s=W,D.s*=W):D=P(G,I,0,nt),I=G.minus(D.times(I)),!I.c[0]&&nt==1&&(I.s=G.s),I)},V.multipliedBy=V.times=function(I,R){var D,W,G,J,X,H,Q,re,Z,de,Me,Fe,pt,tr,Xt,ut=this,Lt=ut.c,gr=(I=new fe(I,R)).c;if(!Lt||!gr||!Lt[0]||!gr[0])return!ut.s||!I.s||Lt&&!Lt[0]&&!gr||gr&&!gr[0]&&!Lt?I.c=I.e=I.s=null:(I.s*=ut.s,!Lt||!gr?I.c=I.e=null:(I.c=[0],I.e=0)),I;for(W=m(ut.e/c)+m(I.e/c),I.s*=ut.s,Q=Lt.length,de=gr.length,Q<de&&(pt=Lt,Lt=gr,gr=pt,G=Q,Q=de,de=G),G=Q+de,pt=[];G--;pt.push(0));for(tr=l,Xt=p,G=de;--G>=0;){for(D=0,Me=gr[G]%Xt,Fe=gr[G]/Xt|0,X=Q,J=G+X;J>G;)re=Lt[--X]%Xt,Z=Lt[X]/Xt|0,H=Fe*re+Z*Me,re=Me*re+H%Xt*Xt+pt[J]+D,D=(re/tr|0)+(H/Xt|0)+Fe*Z,pt[J--]=re%tr;pt[J]=D}return D?++W:pt.splice(0,1),Be(I,pt,W)},V.negated=function(){var I=new fe(this);return I.s=-I.s||null,I},V.plus=function(I,R){var D,W=this,G=W.s;if(I=new fe(I,R),R=I.s,!G||!R)return new fe(NaN);if(G!=R)return I.s=-R,W.minus(I);var J=W.e/c,X=I.e/c,H=W.c,Q=I.c;if(!J||!X){if(!H||!Q)return new fe(G/0);if(!H[0]||!Q[0])return Q[0]?I:new fe(H[0]?W:G*0)}if(J=m(J),X=m(X),H=H.slice(),G=J-X){for(G>0?(X=J,D=Q):(G=-G,D=H),D.reverse();G--;D.push(0));D.reverse()}for(G=H.length,R=Q.length,G-R<0&&(D=Q,Q=H,H=D,R=G),G=0;R;)G=(H[--R]=H[R]+Q[R]+G)/l|0,H[R]=l===H[R]?0:H[R]%l;return G&&(H=[G].concat(H),++X),Be(I,H,X)},V.precision=V.sd=function(I,R){var D,W,G,J=this;if(I!=null&&I!==!!I)return A(I,1,g),R==null?R=we:A(R,0,8),Le(new fe(J),I,R);if(!(D=J.c))return null;if(G=D.length-1,W=G*c+1,G=D[G]){for(;G%10==0;G/=10,W--);for(G=D[0];G>=10;G/=10,W++);}return I&&J.e+1>W&&(W=J.e+1),W},V.shiftedBy=function(I){return A(I,-f,f),this.times("1e"+I)},V.squareRoot=V.sqrt=function(){var I,R,D,W,G,J=this,X=J.c,H=J.s,Q=J.e,re=ye+4,Z=new fe("0.5");if(H!==1||!X||!X[0])return new fe(!H||H<0&&(!X||X[0])?NaN:X?J:1/0);if(H=Math.sqrt(+He(J)),H==0||H==1/0?(R=_(X),(R.length+Q)%2==0&&(R+="0"),H=Math.sqrt(+R),Q=m((Q+1)/2)-(Q<0||Q%2),H==1/0?R="5e"+Q:(R=H.toExponential(),R=R.slice(0,R.indexOf("e")+1)+Q),D=new fe(R)):D=new fe(H+""),D.c[0]){for(Q=D.e,H=Q+re,H<3&&(H=0);;)if(G=D,D=Z.times(G.plus(P(J,G,re,1))),_(G.c).slice(0,H)===(R=_(D.c)).slice(0,H))if(D.e<Q&&--H,R=R.slice(H-3,H+1),R=="9999"||!W&&R=="4999"){if(!W&&(Le(G,G.e+ye+2,0),G.times(G).eq(J))){D=G;break}re+=4,H+=4,W=1}else{(!+R||!+R.slice(1)&&R.charAt(0)=="5")&&(Le(D,D.e+ye+2,1),I=!D.times(D).eq(J));break}}return Le(D,D.e+ye+1,we,I)},V.toExponential=function(I,R){return I!=null&&(A(I,0,g),I++),Dt(this,I,R,1)},V.toFixed=function(I,R){return I!=null&&(A(I,0,g),I=I+this.e+1),Dt(this,I,R)},V.toFormat=function(I,R,D){var W,G=this;if(D==null)I!=null&&R&&typeof R=="object"?(D=R,R=null):I&&typeof I=="object"?(D=I,I=R=null):D=Nt;else if(typeof D!="object")throw Error(a+"Argument not an object: "+D);if(W=G.toFixed(I,R),G.c){var J,X=W.split("."),H=+D.groupSize,Q=+D.secondaryGroupSize,re=D.groupSeparator||"",Z=X[0],de=X[1],Me=G.s<0,Fe=Me?Z.slice(1):Z,pt=Fe.length;if(Q&&(J=H,H=Q,Q=J,pt-=J),H>0&&pt>0){for(J=pt%H||H,Z=Fe.substr(0,J);J<pt;J+=H)Z+=re+Fe.substr(J,H);Q>0&&(Z+=re+Fe.slice(J)),Me&&(Z="-"+Z)}W=de?Z+(D.decimalSeparator||"")+((Q=+D.fractionGroupSize)?de.replace(new RegExp("\\d{"+Q+"}\\B","g"),"$&"+(D.fractionGroupSeparator||"")):de):Z}return(D.prefix||"")+W+(D.suffix||"")},V.toFraction=function(I){var R,D,W,G,J,X,H,Q,re,Z,de,Me,Fe=this,pt=Fe.c;if(I!=null&&(H=new fe(I),!H.isInteger()&&(H.c||H.s!==1)||H.lt(me)))throw Error(a+"Argument "+(H.isInteger()?"out of range: ":"not an integer: ")+He(H));if(!pt)return new fe(Fe);for(R=new fe(me),re=D=new fe(me),W=Q=new fe(me),Me=_(pt),J=R.e=Me.length-Fe.e-1,R.c[0]=d[(X=J%c)<0?c+X:X],I=!I||H.comparedTo(R)>0?J>0?R:re:H,X=Pe,Pe=1/0,H=new fe(Me),Q.c[0]=0;Z=P(H,R,0,1),G=D.plus(Z.times(W)),G.comparedTo(I)!=1;)D=W,W=G,re=Q.plus(Z.times(G=re)),Q=G,R=H.minus(Z.times(G=R)),H=G;return G=P(I.minus(D),W,0,1),Q=Q.plus(G.times(re)),D=D.plus(G.times(W)),Q.s=re.s=Fe.s,J=J*2,de=P(re,W,J,we).minus(Fe).abs().comparedTo(P(Q,D,J,we).minus(Fe).abs())<1?[re,W]:[Q,D],Pe=X,de},V.toNumber=function(){return+He(this)},V.toPrecision=function(I,R){return I!=null&&A(I,1,g),Dt(this,I,R,2)},V.toString=function(I){var R,D=this,W=D.s,G=D.e;return G===null?W?(R="Infinity",W<0&&(R="-"+R)):R="NaN":(I==null?R=G<=Ke||G>=Oe?B(_(D.c),G):L(_(D.c),G,"0"):I===10&&it?(D=Le(new fe(D),ye+G+1,we),R=L(_(D.c),D.e,"0")):(A(I,2,At.length,"Base"),R=ae(L(_(D.c),G,"0"),10,I,W,!0)),W<0&&D.c[0]&&(R="-"+R)),R},V.valueOf=V.toJSON=function(){return He(this)},V._isBigNumber=!0,N!=null&&fe.set(N),fe}function m(N){var P=N|0;return N>0||N===P?P:P-1}function _(N){for(var P,ae,j=1,V=N.length,me=N[0]+"";j<V;){for(P=N[j++]+"",ae=c-P.length;ae--;P="0"+P);me+=P}for(V=me.length;me.charCodeAt(--V)===48;);return me.slice(0,V+1||1)}function E(N,P){var ae,j,V=N.c,me=P.c,ye=N.s,we=P.s,Ke=N.e,Oe=P.e;if(!ye||!we)return null;if(ae=V&&!V[0],j=me&&!me[0],ae||j)return ae?j?0:-we:ye;if(ye!=we)return ye;if(ae=ye<0,j=Ke==Oe,!V||!me)return j?0:!V^ae?1:-1;if(!j)return Ke>Oe^ae?1:-1;for(we=(Ke=V.length)<(Oe=me.length)?Ke:Oe,ye=0;ye<we;ye++)if(V[ye]!=me[ye])return V[ye]>me[ye]^ae?1:-1;return Ke==Oe?0:Ke>Oe^ae?1:-1}function A(N,P,ae,j){if(N<P||N>ae||N!==i(N))throw Error(a+(j||"Argument")+(typeof N=="number"?N<P||N>ae?" out of range: ":" not an integer: ":" not a primitive number: ")+String(N))}function x(N){var P=N.c.length-1;return m(N.e/c)==P&&N.c[P]%2!=0}function B(N,P){return(N.length>1?N.charAt(0)+"."+N.slice(1):N)+(P<0?"e":"e+")+P}function L(N,P,ae){var j,V;if(P<0){for(V=ae+".";++P;V+=ae);N=V+N}else if(j=N.length,++P>j){for(V=ae,P-=j;--P;V+=ae);N+=V}else P<j&&(N=N.slice(0,P)+"."+N.slice(P));return N}t=v(),t.default=t.BigNumber=t,typeof define=="function"&&define.amd?define(function(){return t}):typeof gc!="undefined"&&gc.exports?gc.exports=t:(e||(e=typeof self!="undefined"&&self?self:window),e.BigNumber=t)})(e1)});var i1=le((ZF,n1)=>{var t1=Xh(),r1=n1.exports;(function(){"use strict";function e(f){return f<10?"0"+f:f}var t=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,i,a={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s;function l(f){return r.lastIndex=0,r.test(f)?'"'+f.replace(r,function(d){var p=a[d];return typeof p=="string"?p:"\\u"+("0000"+d.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+f+'"'}function c(f,d){var p,g,v,m,_=n,E,A=d[f],x=A!=null&&(A instanceof t1||t1.isBigNumber(A));switch(A&&typeof A=="object"&&typeof A.toJSON=="function"&&(A=A.toJSON(f)),typeof s=="function"&&(A=s.call(d,f,A)),typeof A){case"string":return x?A:l(A);case"number":return isFinite(A)?String(A):"null";case"boolean":case"null":case"bigint":return String(A);case"object":if(!A)return"null";if(n+=i,E=[],Object.prototype.toString.apply(A)==="[object Array]"){for(m=A.length,p=0;p<m;p+=1)E[p]=c(p,A)||"null";return v=E.length===0?"[]":n?`[
`+n+E.join(`,
`+n)+`
`+_+"]":"["+E.join(",")+"]",n=_,v}if(s&&typeof s=="object")for(m=s.length,p=0;p<m;p+=1)typeof s[p]=="string"&&(g=s[p],v=c(g,A),v&&E.push(l(g)+(n?": ":":")+v));else Object.keys(A).forEach(function(B){var L=c(B,A);L&&E.push(l(B)+(n?": ":":")+L)});return v=E.length===0?"{}":n?`{
`+n+E.join(`,
`+n)+`
`+_+"}":"{"+E.join(",")+"}",n=_,v}}typeof r1.stringify!="function"&&(r1.stringify=function(f,d,p){var g;if(n="",i="",typeof p=="number")for(g=0;g<p;g+=1)i+=" ";else typeof p=="string"&&(i=p);if(s=d,d&&typeof d!="function"&&(typeof d!="object"||typeof d.length!="number"))throw new Error("JSON.stringify");return c("",{"":f})})})()});var s1=le(($F,a1)=>{var mc=null,x4=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,I4=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/,k4=function(e){"use strict";var t={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(e!=null){if(e.strict===!0&&(t.strict=!0),e.storeAsString===!0&&(t.storeAsString=!0),t.alwaysParseAsBig=e.alwaysParseAsBig===!0?e.alwaysParseAsBig:!1,t.useNativeBigInt=e.useNativeBigInt===!0?e.useNativeBigInt:!1,typeof e.constructorAction!="undefined")if(e.constructorAction==="error"||e.constructorAction==="ignore"||e.constructorAction==="preserve")t.constructorAction=e.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${e.constructorAction}`);if(typeof e.protoAction!="undefined")if(e.protoAction==="error"||e.protoAction==="ignore"||e.protoAction==="preserve")t.protoAction=e.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${e.protoAction}`)}var r,n,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},a,s=function(_){throw{name:"SyntaxError",message:_,at:r,text:a}},l=function(_){return _&&_!==n&&s("Expected '"+_+"' instead of '"+n+"'"),n=a.charAt(r),r+=1,n},c=function(){var _,E="";for(n==="-"&&(E="-",l("-"));n>="0"&&n<="9";)E+=n,l();if(n===".")for(E+=".";l()&&n>="0"&&n<="9";)E+=n;if(n==="e"||n==="E")for(E+=n,l(),(n==="-"||n==="+")&&(E+=n,l());n>="0"&&n<="9";)E+=n,l();if(_=+E,!isFinite(_))s("Bad number");else return mc==null&&(mc=Xh()),E.length>15?t.storeAsString?E:t.useNativeBigInt?BigInt(E):new mc(E):t.alwaysParseAsBig?t.useNativeBigInt?BigInt(_):new mc(_):_},f=function(){var _,E,A="",x;if(n==='"')for(var B=r;l();){if(n==='"')return r-1>B&&(A+=a.substring(B,r-1)),l(),A;if(n==="\\"){if(r-1>B&&(A+=a.substring(B,r-1)),l(),n==="u"){for(x=0,E=0;E<4&&(_=parseInt(l(),16),!!isFinite(_));E+=1)x=x*16+_;A+=String.fromCharCode(x)}else if(typeof i[n]=="string")A+=i[n];else break;B=r}}s("Bad string")},d=function(){for(;n&&n<=" ";)l()},p=function(){switch(n){case"t":return l("t"),l("r"),l("u"),l("e"),!0;case"f":return l("f"),l("a"),l("l"),l("s"),l("e"),!1;case"n":return l("n"),l("u"),l("l"),l("l"),null}s("Unexpected '"+n+"'")},g,v=function(){var _=[];if(n==="["){if(l("["),d(),n==="]")return l("]"),_;for(;n;){if(_.push(g()),d(),n==="]")return l("]"),_;l(","),d()}}s("Bad array")},m=function(){var _,E=Object.create(null);if(n==="{"){if(l("{"),d(),n==="}")return l("}"),E;for(;n;){if(_=f(),d(),l(":"),t.strict===!0&&Object.hasOwnProperty.call(E,_)&&s('Duplicate key "'+_+'"'),x4.test(_)===!0?t.protoAction==="error"?s("Object contains forbidden prototype property"):t.protoAction==="ignore"?g():E[_]=g():I4.test(_)===!0?t.constructorAction==="error"?s("Object contains forbidden constructor property"):t.constructorAction==="ignore"?g():E[_]=g():E[_]=g(),d(),n==="}")return l("}"),E;l(","),d()}}s("Bad object")};return g=function(){switch(d(),n){case"{":return m();case"[":return v();case'"':return f();case"-":return c();default:return n>="0"&&n<="9"?c():p()}},function(_,E){var A;return a=_+"",r=0,n=" ",A=g(),d(),n&&s("Syntax error"),typeof E=="function"?function x(B,L){var N,P,ae=B[L];return ae&&typeof ae=="object"&&Object.keys(ae).forEach(function(j){P=x(ae,j),P!==void 0?ae[j]=P:delete ae[j]}),E.call(B,L,ae)}({"":A},""):A}};a1.exports=k4});var u1=le((eq,yc)=>{var o1=i1().stringify,l1=s1();yc.exports=function(e){return{parse:l1(e),stringify:o1}};yc.exports.parse=l1();yc.exports.stringify=o1});var _c=le(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.requestTimeout=kt.resetIsAvailableCache=kt.isAvailable=kt.project=kt.instance=kt.HEADERS=kt.HEADER_VALUE=kt.HEADER_NAME=kt.SECONDARY_HOST_ADDRESS=kt.HOST_ADDRESS=kt.BASE_PATH=void 0;var Zh=Xs(),R4=u1();kt.BASE_PATH="/computeMetadata/v1";kt.HOST_ADDRESS="http://169.254.169.254";kt.SECONDARY_HOST_ADDRESS="http://metadata.google.internal.";kt.HEADER_NAME="Metadata-Flavor";kt.HEADER_VALUE="Google";kt.HEADERS=Object.freeze({[kt.HEADER_NAME]:kt.HEADER_VALUE});function $h(e){return e||(e=process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST||kt.HOST_ADDRESS),/^https?:\/\//.test(e)||(e=`http://${e}`),new URL(kt.BASE_PATH,e).href}function B4(e){Object.keys(e).forEach(t=>{switch(t){case"params":case"property":case"headers":break;case"qs":throw new Error("'qs' is not a valid configuration option. Please use 'params' instead.");default:throw new Error(`'${t}' is not a valid configuration option.`)}})}function e0(e,t,r=3,n=!1){return U(this,null,function*(){t=t||{},typeof t=="string"&&(t={property:t});let i="";typeof t=="object"&&t.property&&(i="/"+t.property),B4(t);try{let s=yield(n?N4:Zh.request)({url:`${$h()}/${e}${i}`,headers:Object.assign({},kt.HEADERS,t.headers),retryConfig:{noResponseRetries:r},params:t.params,responseType:"text",timeout:c1()});if(s.headers[kt.HEADER_NAME.toLowerCase()]!==kt.HEADER_VALUE)throw new Error(`Invalid response from metadata service: incorrect ${kt.HEADER_NAME} header.`);if(!s.data)throw new Error("Invalid response from the metadata service");if(typeof s.data=="string")try{return R4.parse(s.data)}catch(l){}return s.data}catch(a){let s=a;throw s.response&&s.response.status!==200&&(s.message=`Unsuccessful response status code. ${s.message}`),a}})}function N4(e){return U(this,null,function*(){let t=Qr(Kr({},e),{url:e.url.replace($h(),$h(kt.SECONDARY_HOST_ADDRESS))}),r=!1,n=(0,Zh.request)(e).then(a=>(r=!0,a)).catch(a=>{if(r)return i;throw r=!0,a}),i=(0,Zh.request)(t).then(a=>(r=!0,a)).catch(a=>{if(r)return n;throw r=!0,a});return Promise.race([n,i])})}function D4(e){return e0("instance",e)}kt.instance=D4;function L4(e){return e0("project",e)}kt.project=L4;function P4(){return process.env.DETECT_GCP_RETRIES?Number(process.env.DETECT_GCP_RETRIES):0}var vc;function O4(){return U(this,null,function*(){try{return vc===void 0&&(vc=e0("instance",void 0,P4(),!(process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST))),yield vc,!0}catch(e){let t=e;if(process.env.DEBUG_AUTH&&console.info(t),t.type==="request-timeout"||t.response&&t.response.status===404)return!1;if(!(t.response&&t.response.status===404)&&(!t.code||!["EHOSTDOWN","EHOSTUNREACH","ENETUNREACH","ENOENT","ENOTFOUND","ECONNREFUSED"].includes(t.code))){let r="UNKNOWN";t.code&&(r=t.code),process.emitWarning(`received unexpected error = ${t.message} code = ${r}`,"MetadataLookupWarning")}return!1}})}kt.isAvailable=O4;function M4(){vc=void 0}kt.resetIsAvailableCache=M4;function c1(){return process.env.K_SERVICE||process.env.FUNCTION_NAME?0:3e3}kt.requestTimeout=c1});var h1=le(Ec=>{"use strict";Ec.byteLength=F4;Ec.toByteArray=G4;Ec.fromByteArray=H4;var mi=[],Mn=[],U4=typeof Uint8Array!="undefined"?Uint8Array:Array,t0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ts=0,f1=t0.length;ts<f1;++ts)mi[ts]=t0[ts],Mn[t0.charCodeAt(ts)]=ts;var ts,f1;Mn["-".charCodeAt(0)]=62;Mn["_".charCodeAt(0)]=63;function d1(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function F4(e){var t=d1(e),r=t[0],n=t[1];return(r+n)*3/4-n}function q4(e,t,r){return(t+r)*3/4-r}function G4(e){var t,r=d1(e),n=r[0],i=r[1],a=new U4(q4(e,n,i)),s=0,l=i>0?n-4:n,c;for(c=0;c<l;c+=4)t=Mn[e.charCodeAt(c)]<<18|Mn[e.charCodeAt(c+1)]<<12|Mn[e.charCodeAt(c+2)]<<6|Mn[e.charCodeAt(c+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=Mn[e.charCodeAt(c)]<<2|Mn[e.charCodeAt(c+1)]>>4,a[s++]=t&255),i===1&&(t=Mn[e.charCodeAt(c)]<<10|Mn[e.charCodeAt(c+1)]<<4|Mn[e.charCodeAt(c+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function K4(e){return mi[e>>18&63]+mi[e>>12&63]+mi[e>>6&63]+mi[e&63]}function V4(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(K4(n));return i.join("")}function H4(e){for(var t,r=e.length,n=r%3,i=[],a=16383,s=0,l=r-n;s<l;s+=a)i.push(V4(e,s,s+a>l?l:s+a));return n===1?(t=e[r-1],i.push(mi[t>>2]+mi[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(mi[t>>10]+mi[t>>4&63]+mi[t<<2&63]+"=")),i.join("")}});var g1=le(p1=>{(function(e){function t(){}function r(c,f){if(c=c===void 0?"utf-8":c,f=f===void 0?{fatal:!1}:f,s.indexOf(c.toLowerCase())===-1)throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+c+"') is invalid.");if(f.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function n(c){return Buffer.from(c.buffer,c.byteOffset,c.byteLength).toString("utf-8")}function i(c){var f=URL.createObjectURL(new Blob([c],{type:"text/plain;charset=UTF-8"}));try{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.send(),d.responseText}catch(p){return a(c)}finally{URL.revokeObjectURL(f)}}function a(c){for(var f=0,d=Math.min(65536,c.length+1),p=new Uint16Array(d),g=[],v=0;;){var m=f<c.length;if(!m||v>=d-1){if(g.push(String.fromCharCode.apply(null,p.subarray(0,v))),!m)return g.join("");c=c.subarray(f),v=f=0}if(m=c[f++],(m&128)==0)p[v++]=m;else if((m&224)==192){var _=c[f++]&63;p[v++]=(m&31)<<6|_}else if((m&240)==224){_=c[f++]&63;var E=c[f++]&63;p[v++]=(m&31)<<12|_<<6|E}else if((m&248)==240){_=c[f++]&63,E=c[f++]&63;var A=c[f++]&63;m=(m&7)<<18|_<<12|E<<6|A,65535<m&&(m-=65536,p[v++]=m>>>10&1023|55296,m=56320|m&1023),p[v++]=m}}}if(e.TextEncoder&&e.TextDecoder)return!1;var s=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(c,f){if(f=f===void 0?{stream:!1}:f,f.stream)throw Error("Failed to encode: the 'stream' option is unsupported.");f=0;for(var d=c.length,p=0,g=Math.max(32,d+(d>>>1)+7),v=new Uint8Array(g>>>3<<3);f<d;){var m=c.charCodeAt(f++);if(55296<=m&&56319>=m){if(f<d){var _=c.charCodeAt(f);(_&64512)==56320&&(++f,m=((m&1023)<<10)+(_&1023)+65536)}if(55296<=m&&56319>=m)continue}if(p+4>v.length&&(g+=8,g*=1+f/c.length*2,g=g>>>3<<3,_=new Uint8Array(g),_.set(v),v=_),(m&4294967168)==0)v[p++]=m;else{if((m&4294965248)==0)v[p++]=m>>>6&31|192;else if((m&4294901760)==0)v[p++]=m>>>12&15|224,v[p++]=m>>>6&63|128;else if((m&4292870144)==0)v[p++]=m>>>18&7|240,v[p++]=m>>>12&63|128,v[p++]=m>>>6&63|128;else continue;v[p++]=m&63|128}}return v.slice?v.slice(0,p):v.subarray(0,p)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1});var l=a;typeof Buffer=="function"&&Buffer.from?l=n:typeof Blob=="function"&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&(l=i),r.prototype.decode=function(c,f){if(f=f===void 0?{stream:!1}:f,f.stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return c=c instanceof Uint8Array?c:c.buffer instanceof ArrayBuffer?new Uint8Array(c.buffer):new Uint8Array(c),l(c)},e.TextEncoder=t,e.TextDecoder=r})(typeof window!="undefined"?window:typeof global!="undefined"?global:p1)});var m1=le(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.BrowserCrypto=void 0;var Zs=h1();typeof process=="undefined"&&typeof TextEncoder=="undefined"&&g1();var Y4=$s(),pl=class{constructor(){if(typeof window=="undefined"||window.crypto===void 0||window.crypto.subtle===void 0)throw new Error("SubtleCrypto not found. Make sure it's an https:// website.")}sha256DigestBase64(t){return U(this,null,function*(){let r=new TextEncoder().encode(t),n=yield window.crypto.subtle.digest("SHA-256",r);return Zs.fromByteArray(new Uint8Array(n))})}randomBytesBase64(t){let r=new Uint8Array(t);return window.crypto.getRandomValues(r),Zs.fromByteArray(r)}static padBase64(t){for(;t.length%4!=0;)t+="=";return t}verify(t,r,n){return U(this,null,function*(){let i={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},a=new TextEncoder().encode(r),s=Zs.toByteArray(pl.padBase64(n)),l=yield window.crypto.subtle.importKey("jwk",t,i,!0,["verify"]);return yield window.crypto.subtle.verify(i,l,s,a)})}sign(t,r){return U(this,null,function*(){let n={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},i=new TextEncoder().encode(r),a=yield window.crypto.subtle.importKey("jwk",t,n,!0,["sign"]),s=yield window.crypto.subtle.sign(n,a,i);return Zs.fromByteArray(new Uint8Array(s))})}decodeBase64StringUtf8(t){let r=Zs.toByteArray(pl.padBase64(t));return new TextDecoder().decode(r)}encodeBase64StringUtf8(t){let r=new TextEncoder().encode(t);return Zs.fromByteArray(r)}sha256DigestHex(t){return U(this,null,function*(){let r=new TextEncoder().encode(t),n=yield window.crypto.subtle.digest("SHA-256",r);return(0,Y4.fromArrayBufferToHex)(n)})}signWithHmacSha256(t,r){return U(this,null,function*(){let n=typeof t=="string"?t:String.fromCharCode(...new Uint16Array(t)),i=new TextEncoder,a=yield window.crypto.subtle.importKey("raw",i.encode(n),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return window.crypto.subtle.sign("HMAC",a,i.encode(r))})}};Cc.BrowserCrypto=pl});var v1=le(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.NodeCrypto=void 0;var eo=require("crypto"),y1=class{sha256DigestBase64(t){return U(this,null,function*(){return eo.createHash("sha256").update(t).digest("base64")})}randomBytesBase64(t){return eo.randomBytes(t).toString("base64")}verify(t,r,n){return U(this,null,function*(){let i=eo.createVerify("sha256");return i.update(r),i.end(),i.verify(t,n,"base64")})}sign(t,r){return U(this,null,function*(){let n=eo.createSign("RSA-SHA256");return n.update(r),n.end(),n.sign(t,"base64")})}decodeBase64StringUtf8(t){return Buffer.from(t,"base64").toString("utf-8")}encodeBase64StringUtf8(t){return Buffer.from(t,"utf-8").toString("base64")}sha256DigestHex(t){return U(this,null,function*(){return eo.createHash("sha256").update(t).digest("hex")})}signWithHmacSha256(t,r){return U(this,null,function*(){let n=typeof t=="string"?t:W4(t);return j4(eo.createHmac("sha256",n).update(r).digest())})}};Ac.NodeCrypto=y1;function j4(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function W4(e){return Buffer.from(e)}});var $s=le(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.fromArrayBufferToHex=_a.hasBrowserCrypto=_a.createCrypto=void 0;var z4=m1(),J4=v1();function Q4(){return _1()?new z4.BrowserCrypto:new J4.NodeCrypto}_a.createCrypto=Q4;function _1(){return typeof window!="undefined"&&typeof window.crypto!="undefined"&&typeof window.crypto.subtle!="undefined"}_a.hasBrowserCrypto=_1;function X4(e){return Array.from(new Uint8Array(e)).map(r=>r.toString(16).padStart(2,"0")).join("")}_a.fromArrayBufferToHex=X4});var E1=le(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.validate=void 0;function Z4(e){let t=[{invalid:"uri",expected:"url"},{invalid:"json",expected:"data"},{invalid:"qs",expected:"params"}];for(let r of t)if(e[r.invalid]){let n=`'${r.invalid}' is not a valid configuration option. Please use '${r.expected}' instead. This library is using Axios for requests. Please see https://github.com/axios/axios to learn more about the valid request options.`;throw new Error(n)}}wc.validate=Z4});var C1=le((lq,$4)=>{$4.exports={_args:[["google-auth-library@8.0.2","/home/runner/work/obsidian-google-calendar/obsidian-google-calendar"]],_from:"google-auth-library@8.0.2",_id:"google-auth-library@8.0.2",_inBundle:!1,_integrity:"sha512-HoG+nWFAThLovKpvcbYzxgn+nBJPTfAwtq0GxPN821nOO+21+8oP7MoEHfd1sbDulUFFGfcjJr2CnJ4YssHcyg==",_location:"/google-auth-library",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"google-auth-library@8.0.2",name:"google-auth-library",escapedName:"google-auth-library",rawSpec:"8.0.2",saveSpec:null,fetchSpec:"8.0.2"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/google-auth-library/-/google-auth-library-8.0.2.tgz",_spec:"8.0.2",_where:"/home/runner/work/obsidian-google-calendar/obsidian-google-calendar",author:{name:"Google Inc."},bugs:{url:"https://github.com/googleapis/google-auth-library-nodejs/issues"},dependencies:{arrify:"^2.0.0","base64-js":"^1.3.0","ecdsa-sig-formatter":"^1.0.11","fast-text-encoding":"^1.0.0",gaxios:"^5.0.0","gcp-metadata":"^5.0.0",gtoken:"^5.3.2",jws:"^4.0.0","lru-cache":"^6.0.0"},description:"Google APIs Authentication Client Library for Node.js",devDependencies:{"@compodoc/compodoc":"^1.1.7","@types/base64-js":"^1.2.5","@types/chai":"^4.1.7","@types/jws":"^3.1.0","@types/lru-cache":"^5.0.0","@types/mocha":"^8.0.0","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^16.0.0","@types/sinon":"^10.0.0","@types/tmp":"^0.2.0","assert-rejects":"^1.0.0",c8:"^7.0.0",chai:"^4.2.0",codecov:"^3.0.2",execa:"^5.0.0",gts:"^3.1.0","is-docker":"^2.0.0",karma:"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^5.0.0",keypair:"^1.0.4",linkinator:"^3.0.3",mocha:"^9.2.2",mv:"^2.1.1",ncp:"^2.0.0",nock:"^13.0.0","null-loader":"^4.0.0",puppeteer:"^13.0.0",sinon:"^13.0.0",tmp:"^0.2.0","ts-loader":"^8.0.0",typescript:"^4.6.3",webpack:"^5.21.2","webpack-cli":"^4.0.0"},engines:{node:">=12"},files:["build/src","!build/src/**/*.map"],homepage:"https://github.com/googleapis/google-auth-library-nodejs#readme",keywords:["google","api","google apis","client","client library"],license:"Apache-2.0",main:"./build/src/index.js",name:"google-auth-library",repository:{type:"git",url:"git+https://github.com/googleapis/google-auth-library-nodejs.git"},scripts:{"browser-test":"karma start",clean:"gts clean",compile:"tsc -p .",docs:"compodoc src/","docs-test":"linkinator docs",fix:"gts fix",lint:"gts check",precompile:"gts clean","predocs-test":"npm run docs",prelint:"cd samples; npm link ../; npm install",prepare:"npm run compile","presystem-test":"npm run compile",pretest:"npm run compile","samples-setup":"cd samples/ && npm link ../ && npm run setup && cd ../","samples-test":"cd samples/ && npm link ../ && npm test && cd ../","system-test":"mocha build/system-test --timeout 60000",test:"c8 mocha build/test",webpack:"webpack"},types:"./build/src/index.d.ts",version:"8.0.2"}});var gl=le(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.DefaultTransporter=void 0;var A1=Xs(),eD=E1(),w1=C1(),b1="google-api-nodejs-client",to=class{configure(t={}){if(t.headers=t.headers||{},typeof window=="undefined"){let r=t.headers["User-Agent"];r?r.includes(`${b1}/`)||(t.headers["User-Agent"]=`${r} ${to.USER_AGENT}`):t.headers["User-Agent"]=to.USER_AGENT;let n=`auth/${w1.version}`;if(t.headers["x-goog-api-client"]&&!t.headers["x-goog-api-client"].includes(n))t.headers["x-goog-api-client"]=`${t.headers["x-goog-api-client"]} ${n}`;else if(!t.headers["x-goog-api-client"]){let i=process.version.replace(/^v/,"");t.headers["x-goog-api-client"]=`gl-node/${i} ${n}`}}return t}request(t,r){t=this.configure(t);try{(0,eD.validate)(t)}catch(n){if(r)return r(n);throw n}if(r)(0,A1.request)(t).then(n=>{r(null,n)},n=>{r(this.processError(n))});else return(0,A1.request)(t).catch(n=>{throw this.processError(n)})}processError(t){let r=t.response,n=t,i=r?r.data:null;return r&&i&&i.error&&r.status!==200?typeof i.error=="string"?(n.message=i.error,n.code=r.status.toString()):Array.isArray(i.error.errors)?(n.message=i.error.errors.map(a=>a.message).join(`
`),n.code=i.error.code,n.errors=i.error.errors):(n.message=i.error.message,n.code=i.error.code||r.status):r&&r.status>=400&&(n.message=i,n.code=r.status.toString()),n}};bc.DefaultTransporter=to;to.USER_AGENT=`${b1}/${w1.version}`});var T1=le((cq,S1)=>{"use strict";var tD=e=>e==null?[]:Array.isArray(e)?e:typeof e=="string"?[e]:typeof e[Symbol.iterator]=="function"?[...e]:[e];S1.exports=tD});var ro=le((r0,I1)=>{var Sc=require("buffer"),yi=Sc.Buffer;function x1(e,t){for(var r in e)t[r]=e[r]}yi.from&&yi.alloc&&yi.allocUnsafe&&yi.allocUnsafeSlow?I1.exports=Sc:(x1(Sc,r0),r0.Buffer=rs);function rs(e,t,r){return yi(e,t,r)}rs.prototype=Object.create(yi.prototype);x1(yi,rs);rs.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return yi(e,t,r)};rs.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=yi(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};rs.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return yi(e)};rs.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Sc.SlowBuffer(e)}});var R1=le((fq,k1)=>{"use strict";function n0(e){var t=(e/8|0)+(e%8==0?0:1);return t}var rD={ES256:n0(256),ES384:n0(384),ES512:n0(521)};function nD(e){var t=rD[e];if(t)return t;throw new Error('Unknown algorithm "'+e+'"')}k1.exports=nD});var i0=le((dq,O1)=>{"use strict";var Tc=ro().Buffer,B1=R1(),xc=128,N1=0,iD=32,aD=16,sD=2,D1=aD|iD|N1<<6,Ic=sD|N1<<6;function oD(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function L1(e){if(Tc.isBuffer(e))return e;if(typeof e=="string")return Tc.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function lD(e,t){e=L1(e);var r=B1(t),n=r+1,i=e.length,a=0;if(e[a++]!==D1)throw new Error('Could not find expected "seq"');var s=e[a++];if(s===(xc|1)&&(s=e[a++]),i-a<s)throw new Error('"seq" specified length of "'+s+'", only "'+(i-a)+'" remaining');if(e[a++]!==Ic)throw new Error('Could not find expected "int" for "r"');var l=e[a++];if(i-a-2<l)throw new Error('"r" specified length of "'+l+'", only "'+(i-a-2)+'" available');if(n<l)throw new Error('"r" specified length of "'+l+'", max of "'+n+'" is acceptable');var c=a;if(a+=l,e[a++]!==Ic)throw new Error('Could not find expected "int" for "s"');var f=e[a++];if(i-a!==f)throw new Error('"s" specified length of "'+f+'", expected "'+(i-a)+'"');if(n<f)throw new Error('"s" specified length of "'+f+'", max of "'+n+'" is acceptable');var d=a;if(a+=f,a!==i)throw new Error('Expected to consume entire buffer, but "'+(i-a)+'" bytes remain');var p=r-l,g=r-f,v=Tc.allocUnsafe(p+l+g+f);for(a=0;a<p;++a)v[a]=0;e.copy(v,a,c+Math.max(-p,0),c+l),a=r;for(var m=a;a<m+g;++a)v[a]=0;return e.copy(v,a,d+Math.max(-g,0),d+f),v=v.toString("base64"),v=oD(v),v}function P1(e,t,r){for(var n=0;t+n<r&&e[t+n]===0;)++n;var i=e[t+n]>=xc;return i&&--n,n}function uD(e,t){e=L1(e);var r=B1(t),n=e.length;if(n!==r*2)throw new TypeError('"'+t+'" signatures must be "'+r*2+'" bytes, saw "'+n+'"');var i=P1(e,0,r),a=P1(e,r,e.length),s=r-i,l=r-a,c=1+1+s+1+1+l,f=c<xc,d=Tc.allocUnsafe((f?2:3)+c),p=0;return d[p++]=D1,f?d[p++]=c:(d[p++]=xc|1,d[p++]=c&255),d[p++]=Ic,d[p++]=s,i<0?(d[p++]=0,p+=e.copy(d,p,0,r)):p+=e.copy(d,p,i,r),d[p++]=Ic,d[p++]=l,a<0?(d[p++]=0,e.copy(d,p,r)):e.copy(d,p,r+a),d}O1.exports={derToJose:lD,joseToDer:uD}});var ml=le(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.AuthClient=void 0;var cD=require("events"),fD=gl(),M1=class extends cD.EventEmitter{constructor(){super(...arguments);this.transporter=new fD.DefaultTransporter,this.credentials={},this.eagerRefreshThresholdMillis=5*60*1e3,this.forceRefreshOnFailure=!1}setCredentials(t){this.credentials=t}addSharedMetadataHeaders(t){return!t["x-goog-user-project"]&&this.quotaProjectId&&(t["x-goog-user-project"]=this.quotaProjectId),t}};kc.AuthClient=M1});var a0=le(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.LoginTicket=void 0;var U1=class{constructor(t,r){this.envelope=t,this.payload=r}getEnvelope(){return this.envelope}getPayload(){return this.payload}getUserId(){let t=this.getPayload();return t&&t.sub?t.sub:null}getAttributes(){return{envelope:this.getEnvelope(),payload:this.getPayload()}}};Rc.LoginTicket=U1});var ns=le(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.OAuth2Client=vi.CertificateFormat=vi.CodeChallengeMethod=void 0;var Bc=require("querystring"),dD=require("stream"),hD=i0(),s0=$s(),pD=ml(),gD=a0(),mD;(function(e){e.Plain="plain",e.S256="S256"})(mD=vi.CodeChallengeMethod||(vi.CodeChallengeMethod={}));var Ea;(function(e){e.PEM="PEM",e.JWK="JWK"})(Ea=vi.CertificateFormat||(vi.CertificateFormat={}));var jt=class extends pD.AuthClient{constructor(t,r,n){super();this.certificateCache={},this.certificateExpiry=null,this.certificateCacheFormat=Ea.PEM,this.refreshTokenPromises=new Map;let i=t&&typeof t=="object"?t:{clientId:t,clientSecret:r,redirectUri:n};this._clientId=i.clientId,this._clientSecret=i.clientSecret,this.redirectUri=i.redirectUri,this.eagerRefreshThresholdMillis=i.eagerRefreshThresholdMillis||5*60*1e3,this.forceRefreshOnFailure=!!i.forceRefreshOnFailure}generateAuthUrl(t={}){if(t.code_challenge_method&&!t.code_challenge)throw new Error("If a code_challenge_method is provided, code_challenge must be included.");return t.response_type=t.response_type||"code",t.client_id=t.client_id||this._clientId,t.redirect_uri=t.redirect_uri||this.redirectUri,t.scope instanceof Array&&(t.scope=t.scope.join(" ")),jt.GOOGLE_OAUTH2_AUTH_BASE_URL_+"?"+Bc.stringify(t)}generateCodeVerifier(){throw new Error("generateCodeVerifier is removed, please use generateCodeVerifierAsync instead.")}generateCodeVerifierAsync(){return U(this,null,function*(){let t=(0,s0.createCrypto)(),n=t.randomBytesBase64(96).replace(/\+/g,"~").replace(/=/g,"_").replace(/\//g,"-"),a=(yield t.sha256DigestBase64(n)).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_");return{codeVerifier:n,codeChallenge:a}})}getToken(t,r){let n=typeof t=="string"?{code:t}:t;if(r)this.getTokenAsync(n).then(i=>r(null,i.tokens,i.res),i=>r(i,null,i.response));else return this.getTokenAsync(n)}getTokenAsync(t){return U(this,null,function*(){let r=jt.GOOGLE_OAUTH2_TOKEN_URL_,n={code:t.code,client_id:t.client_id||this._clientId,client_secret:this._clientSecret,redirect_uri:t.redirect_uri||this.redirectUri,grant_type:"authorization_code",code_verifier:t.codeVerifier},i=yield this.transporter.request({method:"POST",url:r,data:Bc.stringify(n),headers:{"Content-Type":"application/x-www-form-urlencoded"}}),a=i.data;return i.data&&i.data.expires_in&&(a.expiry_date=new Date().getTime()+i.data.expires_in*1e3,delete a.expires_in),this.emit("tokens",a),{tokens:a,res:i}})}refreshToken(t){return U(this,null,function*(){if(!t)return this.refreshTokenNoCache(t);if(this.refreshTokenPromises.has(t))return this.refreshTokenPromises.get(t);let r=this.refreshTokenNoCache(t).then(n=>(this.refreshTokenPromises.delete(t),n),n=>{throw this.refreshTokenPromises.delete(t),n});return this.refreshTokenPromises.set(t,r),r})}refreshTokenNoCache(t){return U(this,null,function*(){if(!t)throw new Error("No refresh token is set.");let r=jt.GOOGLE_OAUTH2_TOKEN_URL_,n={refresh_token:t,client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token"},i=yield this.transporter.request({method:"POST",url:r,data:Bc.stringify(n),headers:{"Content-Type":"application/x-www-form-urlencoded"}}),a=i.data;return i.data&&i.data.expires_in&&(a.expiry_date=new Date().getTime()+i.data.expires_in*1e3,delete a.expires_in),this.emit("tokens",a),{tokens:a,res:i}})}refreshAccessToken(t){if(t)this.refreshAccessTokenAsync().then(r=>t(null,r.credentials,r.res),t);else return this.refreshAccessTokenAsync()}refreshAccessTokenAsync(){return U(this,null,function*(){let t=yield this.refreshToken(this.credentials.refresh_token),r=t.tokens;return r.refresh_token=this.credentials.refresh_token,this.credentials=r,{credentials:this.credentials,res:t.res}})}getAccessToken(t){if(t)this.getAccessTokenAsync().then(r=>t(null,r.token,r.res),t);else return this.getAccessTokenAsync()}getAccessTokenAsync(){return U(this,null,function*(){if(!this.credentials.access_token||this.isTokenExpiring()){if(!this.credentials.refresh_token)if(this.refreshHandler){let n=yield this.processAndValidateRefreshHandler();if(n==null?void 0:n.access_token)return this.setCredentials(n),{token:this.credentials.access_token}}else throw new Error("No refresh token or refresh handler callback is set.");let r=yield this.refreshAccessTokenAsync();if(!r.credentials||r.credentials&&!r.credentials.access_token)throw new Error("Could not refresh access token.");return{token:r.credentials.access_token,res:r.res}}else return{token:this.credentials.access_token}})}getRequestHeaders(t){return U(this,null,function*(){return(yield this.getRequestMetadataAsync(t)).headers})}getRequestMetadataAsync(t){return U(this,null,function*(){let r=this.credentials;if(!r.access_token&&!r.refresh_token&&!this.apiKey&&!this.refreshHandler)throw new Error("No access, refresh token, API key or refresh handler callback is set.");if(r.access_token&&!this.isTokenExpiring()){r.token_type=r.token_type||"Bearer";let l={Authorization:r.token_type+" "+r.access_token};return{headers:this.addSharedMetadataHeaders(l)}}if(this.refreshHandler){let l=yield this.processAndValidateRefreshHandler();if(l==null?void 0:l.access_token){this.setCredentials(l);let c={Authorization:"Bearer "+this.credentials.access_token};return{headers:this.addSharedMetadataHeaders(c)}}}if(this.apiKey)return{headers:{"X-Goog-Api-Key":this.apiKey}};let n=null,i=null;try{n=yield this.refreshToken(r.refresh_token),i=n.tokens}catch(l){let c=l;throw c.response&&(c.response.status===403||c.response.status===404)&&(c.message=`Could not refresh access token: ${c.message}`),c}let a=this.credentials;a.token_type=a.token_type||"Bearer",i.refresh_token=a.refresh_token,this.credentials=i;let s={Authorization:a.token_type+" "+i.access_token};return{headers:this.addSharedMetadataHeaders(s),res:n.res}})}static getRevokeTokenUrl(t){let r=Bc.stringify({token:t});return`${jt.GOOGLE_OAUTH2_REVOKE_URL_}?${r}`}revokeToken(t,r){let n={url:jt.getRevokeTokenUrl(t),method:"POST"};if(r)this.transporter.request(n).then(i=>r(null,i),r);else return this.transporter.request(n)}revokeCredentials(t){if(t)this.revokeCredentialsAsync().then(r=>t(null,r),t);else return this.revokeCredentialsAsync()}revokeCredentialsAsync(){return U(this,null,function*(){let t=this.credentials.access_token;if(this.credentials={},t)return this.revokeToken(t);throw new Error("No access token to revoke.")})}request(t,r){if(r)this.requestAsync(t).then(n=>r(null,n),n=>r(n,n.response));else return this.requestAsync(t)}requestAsync(t,r=!1){return U(this,null,function*(){let n;try{let i=yield this.getRequestMetadataAsync(t.url);t.headers=t.headers||{},i.headers&&i.headers["x-goog-user-project"]&&(t.headers["x-goog-user-project"]=i.headers["x-goog-user-project"]),i.headers&&i.headers.Authorization&&(t.headers.Authorization=i.headers.Authorization),this.apiKey&&(t.headers["X-Goog-Api-Key"]=this.apiKey),n=yield this.transporter.request(t)}catch(i){let a=i.response;if(a){let s=a.status,l=this.credentials&&this.credentials.access_token&&this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure),c=this.credentials&&this.credentials.access_token&&!this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure)&&this.refreshHandler,f=a.config.data instanceof dD.Readable,d=s===401||s===403;if(!r&&d&&!f&&l)return yield this.refreshAccessTokenAsync(),this.requestAsync(t,!0);if(!r&&d&&!f&&c){let p=yield this.processAndValidateRefreshHandler();return(p==null?void 0:p.access_token)&&this.setCredentials(p),this.requestAsync(t,!0)}}throw i}return n})}verifyIdToken(t,r){if(r&&typeof r!="function")throw new Error("This method accepts an options object as the first parameter, which includes the idToken, audience, and maxExpiry.");if(r)this.verifyIdTokenAsync(t).then(n=>r(null,n),r);else return this.verifyIdTokenAsync(t)}verifyIdTokenAsync(t){return U(this,null,function*(){if(!t.idToken)throw new Error("The verifyIdToken method requires an ID Token");let r=yield this.getFederatedSignonCertsAsync();return yield this.verifySignedJwtWithCertsAsync(t.idToken,r.certs,t.audience,jt.ISSUERS_,t.maxExpiry)})}getTokenInfo(t){return U(this,null,function*(){let{data:r}=yield this.transporter.request({method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${t}`},url:jt.GOOGLE_TOKEN_INFO_URL}),n=Object.assign({expiry_date:new Date().getTime()+r.expires_in*1e3,scopes:r.scope.split(" ")},r);return delete n.expires_in,delete n.scope,n})}getFederatedSignonCerts(t){if(t)this.getFederatedSignonCertsAsync().then(r=>t(null,r.certs,r.res),t);else return this.getFederatedSignonCertsAsync()}getFederatedSignonCertsAsync(){return U(this,null,function*(){let t=new Date().getTime(),r=(0,s0.hasBrowserCrypto)()?Ea.JWK:Ea.PEM;if(this.certificateExpiry&&t<this.certificateExpiry.getTime()&&this.certificateCacheFormat===r)return{certs:this.certificateCache,format:r};let n,i;switch(r){case Ea.PEM:i=jt.GOOGLE_OAUTH2_FEDERATED_SIGNON_PEM_CERTS_URL_;break;case Ea.JWK:i=jt.GOOGLE_OAUTH2_FEDERATED_SIGNON_JWK_CERTS_URL_;break;default:throw new Error(`Unsupported certificate format ${r}`)}try{n=yield this.transporter.request({url:i})}catch(f){throw f instanceof Error&&(f.message=`Failed to retrieve verification certificates: ${f.message}`),f}let a=n?n.headers["cache-control"]:void 0,s=-1;if(a){let d=new RegExp("max-age=([0-9]*)").exec(a);d&&d.length===2&&(s=Number(d[1])*1e3)}let l={};switch(r){case Ea.PEM:l=n.data;break;case Ea.JWK:for(let f of n.data.keys)l[f.kid]=f;break;default:throw new Error(`Unsupported certificate format ${r}`)}let c=new Date;return this.certificateExpiry=s===-1?null:new Date(c.getTime()+s),this.certificateCache=l,this.certificateCacheFormat=r,{certs:l,format:r,res:n}})}getIapPublicKeys(t){if(t)this.getIapPublicKeysAsync().then(r=>t(null,r.pubkeys,r.res),t);else return this.getIapPublicKeysAsync()}getIapPublicKeysAsync(){return U(this,null,function*(){let t,r=jt.GOOGLE_OAUTH2_IAP_PUBLIC_KEY_URL_;try{t=yield this.transporter.request({url:r})}catch(n){throw n instanceof Error&&(n.message=`Failed to retrieve verification certificates: ${n.message}`),n}return{pubkeys:t.data,res:t}})}verifySignedJwtWithCerts(){throw new Error("verifySignedJwtWithCerts is removed, please use verifySignedJwtWithCertsAsync instead.")}verifySignedJwtWithCertsAsync(t,r,n,i,a){return U(this,null,function*(){let s=(0,s0.createCrypto)();a||(a=jt.MAX_TOKEN_LIFETIME_SECS_);let l=t.split(".");if(l.length!==3)throw new Error("Wrong number of segments in token: "+t);let c=l[0]+"."+l[1],f=l[2],d,p;try{d=JSON.parse(s.decodeBase64StringUtf8(l[0]))}catch(B){throw B instanceof Error&&(B.message=`Can't parse token envelope: ${l[0]}': ${B.message}`),B}if(!d)throw new Error("Can't parse token envelope: "+l[0]);try{p=JSON.parse(s.decodeBase64StringUtf8(l[1]))}catch(B){throw B instanceof Error&&(B.message=`Can't parse token payload '${l[0]}`),B}if(!p)throw new Error("Can't parse token payload: "+l[1]);if(!Object.prototype.hasOwnProperty.call(r,d.kid))throw new Error("No pem found for envelope: "+JSON.stringify(d));let g=r[d.kid];if(d.alg==="ES256"&&(f=hD.joseToDer(f,"ES256").toString("base64")),!(yield s.verify(g,c,f)))throw new Error("Invalid token signature: "+t);if(!p.iat)throw new Error("No issue time in token: "+JSON.stringify(p));if(!p.exp)throw new Error("No expiration time in token: "+JSON.stringify(p));let m=Number(p.iat);if(isNaN(m))throw new Error("iat field using invalid format");let _=Number(p.exp);if(isNaN(_))throw new Error("exp field using invalid format");let E=new Date().getTime()/1e3;if(_>=E+a)throw new Error("Expiration time too far in future: "+JSON.stringify(p));let A=m-jt.CLOCK_SKEW_SECS_,x=_+jt.CLOCK_SKEW_SECS_;if(E<A)throw new Error("Token used too early, "+E+" < "+A+": "+JSON.stringify(p));if(E>x)throw new Error("Token used too late, "+E+" > "+x+": "+JSON.stringify(p));if(i&&i.indexOf(p.iss)<0)throw new Error("Invalid issuer, expected one of ["+i+"], but got "+p.iss);if(typeof n!="undefined"&&n!==null){let B=p.aud,L=!1;if(n.constructor===Array?L=n.indexOf(B)>-1:L=B===n,!L)throw new Error("Wrong recipient, payload audience != requiredAudience")}return new gD.LoginTicket(d,p)})}processAndValidateRefreshHandler(){return U(this,null,function*(){if(this.refreshHandler){let t=yield this.refreshHandler();if(!t.access_token)throw new Error("No access token is returned by the refreshHandler callback.");return t}})}isTokenExpiring(){let t=this.credentials.expiry_date;return t?t<=new Date().getTime()+this.eagerRefreshThresholdMillis:!1}};vi.OAuth2Client=jt;jt.GOOGLE_TOKEN_INFO_URL="https://oauth2.googleapis.com/tokeninfo";jt.GOOGLE_OAUTH2_AUTH_BASE_URL_="https://accounts.google.com/o/oauth2/v2/auth";jt.GOOGLE_OAUTH2_TOKEN_URL_="https://oauth2.googleapis.com/token";jt.GOOGLE_OAUTH2_REVOKE_URL_="https://oauth2.googleapis.com/revoke";jt.GOOGLE_OAUTH2_FEDERATED_SIGNON_PEM_CERTS_URL_="https://www.googleapis.com/oauth2/v1/certs";jt.GOOGLE_OAUTH2_FEDERATED_SIGNON_JWK_CERTS_URL_="https://www.googleapis.com/oauth2/v3/certs";jt.GOOGLE_OAUTH2_IAP_PUBLIC_KEY_URL_="https://www.gstatic.com/iap/verify/public_key";jt.CLOCK_SKEW_SECS_=300;jt.MAX_TOKEN_LIFETIME_SECS_=86400;jt.ISSUERS_=["accounts.google.com","https://accounts.google.com"]});var o0=le(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.Compute=void 0;var yD=T1(),vD=Xs(),F1=_c(),_D=ns(),q1=class extends _D.OAuth2Client{constructor(t={}){super(t);this.credentials={expiry_date:1,refresh_token:"compute-placeholder"},this.serviceAccountEmail=t.serviceAccountEmail||"default",this.scopes=yD(t.scopes)}refreshTokenNoCache(t){return U(this,null,function*(){let r=`service-accounts/${this.serviceAccountEmail}/token`,n;try{let a={property:r};this.scopes.length>0&&(a.params={scopes:this.scopes.join(",")}),n=yield F1.instance(a)}catch(a){throw a instanceof vD.GaxiosError&&(a.message=`Could not refresh access token: ${a.message}`,this.wrapError(a)),a}let i=n;return n&&n.expires_in&&(i.expiry_date=new Date().getTime()+n.expires_in*1e3,delete i.expires_in),this.emit("tokens",i),{tokens:i,res:null}})}fetchIdToken(t){return U(this,null,function*(){let r=`service-accounts/${this.serviceAccountEmail}/identity?format=full&audience=${t}`,n;try{let i={property:r};n=yield F1.instance(i)}catch(i){throw i instanceof Error&&(i.message=`Could not fetch ID token: ${i.message}`),i}return n})}wrapError(t){let r=t.response;r&&r.status&&(t.code=r.status.toString(),r.status===403?t.message="A Forbidden error was returned while attempting to retrieve an access token for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have the correct permission scopes specified: "+t.message:r.status===404&&(t.message="A Not Found error was returned while attempting to retrieve an accesstoken for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have any permission scopes specified: "+t.message))}};Nc.Compute=q1});var l0=le(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.IdTokenClient=void 0;var ED=ns(),G1=class extends ED.OAuth2Client{constructor(t){super();this.targetAudience=t.targetAudience,this.idTokenProvider=t.idTokenProvider}getRequestMetadataAsync(t){return U(this,null,function*(){if(!this.credentials.id_token||(this.credentials.expiry_date||0)<Date.now()){let n=yield this.idTokenProvider.fetchIdToken(this.targetAudience);this.credentials={id_token:n,expiry_date:this.getIdTokenExpiryDate(n)}}return{headers:{Authorization:"Bearer "+this.credentials.id_token}}})}getIdTokenExpiryDate(t){let r=t.split(".")[1];if(r)return JSON.parse(Buffer.from(r,"base64").toString("ascii")).exp*1e3}};Dc.IdTokenClient=G1});var u0=le(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.getEnv=zi.clear=zi.GCPEnv=void 0;var K1=_c(),Ca;(function(e){e.APP_ENGINE="APP_ENGINE",e.KUBERNETES_ENGINE="KUBERNETES_ENGINE",e.CLOUD_FUNCTIONS="CLOUD_FUNCTIONS",e.COMPUTE_ENGINE="COMPUTE_ENGINE",e.CLOUD_RUN="CLOUD_RUN",e.NONE="NONE"})(Ca=zi.GCPEnv||(zi.GCPEnv={}));var yl;function CD(){yl=void 0}zi.clear=CD;function AD(){return U(this,null,function*(){return yl||(yl=wD(),yl)})}zi.getEnv=AD;function wD(){return U(this,null,function*(){let e=Ca.NONE;return bD()?e=Ca.APP_ENGINE:SD()?e=Ca.CLOUD_FUNCTIONS:(yield ID())?(yield xD())?e=Ca.KUBERNETES_ENGINE:TD()?e=Ca.CLOUD_RUN:e=Ca.COMPUTE_ENGINE:e=Ca.NONE,e})}function bD(){return!!(process.env.GAE_SERVICE||process.env.GAE_MODULE_NAME)}function SD(){return!!(process.env.FUNCTION_NAME||process.env.FUNCTION_TARGET)}function TD(){return!!process.env.K_CONFIGURATION}function xD(){return U(this,null,function*(){try{return yield K1.instance("attributes/cluster-name"),!0}catch(e){return!1}})}function ID(){return U(this,null,function*(){return K1.isAvailable()})}});var c0=le(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.GaxiosError=void 0;var V1=class extends Error{constructor(t,r,n){super(t);this.response=n,this.config=r,this.code=n.status.toString()}};Lc.GaxiosError=V1});var Y1=le(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.getRetryConfig=void 0;function kD(e){return U(this,null,function*(){var t;let r=H1(e);if(!e||!e.config||!r&&!e.config.retry)return{shouldRetry:!1};r=r||{},r.currentRetryAttempt=r.currentRetryAttempt||0,r.retry=r.retry===void 0||r.retry===null?3:r.retry,r.httpMethodsToRetry=r.httpMethodsToRetry||["GET","HEAD","PUT","OPTIONS","DELETE"],r.noResponseRetries=r.noResponseRetries===void 0||r.noResponseRetries===null?2:r.noResponseRetries;let n=[[100,199],[429,429],[500,599]];if(r.statusCodesToRetry=r.statusCodesToRetry||n,e.config.retryConfig=r,!(yield(r.shouldRetry||RD)(e)))return{shouldRetry:!1,config:e.config};let s=(r.currentRetryAttempt?0:(t=r.retryDelay)!==null&&t!==void 0?t:100)+(Math.pow(2,r.currentRetryAttempt)-1)/2*1e3;e.config.retryConfig.currentRetryAttempt+=1;let l=new Promise(c=>{setTimeout(c,s)});return r.onRetryAttempt&&r.onRetryAttempt(e),yield l,{shouldRetry:!0,config:e.config}})}Pc.getRetryConfig=kD;function RD(e){let t=H1(e);if(e.name==="AbortError"||!t||t.retry===0||!e.response&&(t.currentRetryAttempt||0)>=t.noResponseRetries||!e.config.method||t.httpMethodsToRetry.indexOf(e.config.method.toUpperCase())<0)return!1;if(e.response&&e.response.status){let r=!1;for(let[n,i]of t.statusCodesToRetry){let a=e.response.status;if(a>=n&&a<=i){r=!0;break}}if(!r)return!1}return t.currentRetryAttempt=t.currentRetryAttempt||0,!(t.currentRetryAttempt>=t.retry)}function H1(e){if(e&&e.config&&e.config.retryConfig)return e.config.retryConfig}});var X1=le(no=>{"use strict";var Oc=no&&no.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(no,"__esModule",{value:!0});no.Gaxios=void 0;var BD=Oc(Fh()),ND=require("https"),DD=Oc(qh()),LD=Oc(require("querystring")),PD=Oc(Gh()),j1=require("url"),OD=c0(),MD=Y1(),UD=qD()?window.fetch:DD.default;function FD(){return typeof window!="undefined"&&!!window}function qD(){return FD()&&!!window.fetch}function GD(){return typeof Buffer!="undefined"}function W1(e,t){return!!z1(e,t)}function z1(e,t){t=t.toLowerCase();for(let r of Object.keys((e==null?void 0:e.headers)||{}))if(t===r.toLowerCase())return e.headers[r]}var f0;function J1(){let e=process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy;return e&&(f0=Jh()),e}J1();function KD(e){var t;let r=(t=process.env.NO_PROXY)!==null&&t!==void 0?t:process.env.no_proxy;if(!r)return!1;let n=r.split(","),i=new j1.URL(e);return!!n.find(a=>a.startsWith("*.")||a.startsWith(".")?(a=a.replace(/^\*\./,"."),i.hostname.endsWith(a)):a===i.origin||a===i.hostname)}function VD(e){if(!KD(e))return J1()}var Q1=class{constructor(t){this.agentCache=new Map,this.defaults=t||{}}request(){return U(this,arguments,function*(t={}){return t=this.validateOpts(t),this._request(t)})}_defaultAdapter(t){return U(this,null,function*(){let n=yield(t.fetchImplementation||UD)(t.url,t),i=yield this.getResponseData(t,n);return this.translateResponse(t,n,i)})}_request(){return U(this,arguments,function*(t={}){try{let r;if(t.adapter?r=yield t.adapter(t,this._defaultAdapter.bind(this)):r=yield this._defaultAdapter(t),!t.validateStatus(r.status))throw new OD.GaxiosError(`Request failed with status code ${r.status}`,t,r);return r}catch(r){let n=r;n.config=t;let{shouldRetry:i,config:a}=yield MD.getRetryConfig(r);if(i&&a)return n.config.retryConfig.currentRetryAttempt=a.retryConfig.currentRetryAttempt,this._request(n.config);throw n}})}getResponseData(t,r){return U(this,null,function*(){switch(t.responseType){case"stream":return r.body;case"json":{let n=yield r.text();try{n=JSON.parse(n)}catch(i){}return n}case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();default:return r.text()}})}validateOpts(t){let r=BD.default(!0,{},this.defaults,t);if(!r.url)throw new Error("URL is required.");let n=r.baseUrl||r.baseURL;if(n&&(r.url=n+r.url),r.paramsSerializer=r.paramsSerializer||this.paramsSerializer,r.params&&Object.keys(r.params).length>0){let a=r.paramsSerializer(r.params);a.startsWith("?")&&(a=a.slice(1));let s=r.url.includes("?")?"&":"?";r.url=r.url+s+a}if(typeof t.maxContentLength=="number"&&(r.size=t.maxContentLength),typeof t.maxRedirects=="number"&&(r.follow=t.maxRedirects),r.headers=r.headers||{},r.data){let a=typeof FormData=="undefined"?!1:(r==null?void 0:r.data)instanceof FormData;PD.default.readable(r.data)?r.body=r.data:GD()&&Buffer.isBuffer(r.data)?(r.body=r.data,W1(r,"Content-Type")||(r.headers["Content-Type"]="application/json")):typeof r.data=="object"?a||(z1(r,"content-type")==="application/x-www-form-urlencoded"?r.body=r.paramsSerializer(r.data):(W1(r,"Content-Type")||(r.headers["Content-Type"]="application/json"),r.body=JSON.stringify(r.data))):r.body=r.data}r.validateStatus=r.validateStatus||this.validateStatus,r.responseType=r.responseType||"json",!r.headers.Accept&&r.responseType==="json"&&(r.headers.Accept="application/json"),r.method=r.method||"GET";let i=VD(r.url);if(i)if(this.agentCache.has(i))r.agent=this.agentCache.get(i);else{if(r.cert&&r.key){let a=new j1.URL(i);r.agent=new f0({port:a.port,host:a.host,protocol:a.protocol,cert:r.cert,key:r.key})}else r.agent=new f0(i);this.agentCache.set(i,r.agent)}else r.cert&&r.key&&(this.agentCache.has(r.key)?r.agent=this.agentCache.get(r.key):(r.agent=new ND.Agent({cert:r.cert,key:r.key}),this.agentCache.set(r.key,r.agent)));return r}validateStatus(t){return t>=200&&t<300}paramsSerializer(t){return LD.default.stringify(t)}translateResponse(t,r,n){let i={};return r.headers.forEach((a,s)=>{i[s]=a}),{config:t,data:n,headers:i,status:r.status,statusText:r.statusText,request:{responseURL:r.url}}}};no.Gaxios=Q1});var $1=le(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.request=_i.instance=_i.Gaxios=void 0;var Z1=X1();Object.defineProperty(_i,"Gaxios",{enumerable:!0,get:function(){return Z1.Gaxios}});var HD=c0();Object.defineProperty(_i,"GaxiosError",{enumerable:!0,get:function(){return HD.GaxiosError}});_i.instance=new Z1.Gaxios;function YD(e){return U(this,null,function*(){return _i.instance.request(e)})}_i.request=YD});var d0=le((wq,e_)=>{var Mc=ro().Buffer,jD=require("stream"),WD=require("util");function Uc(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=Mc.alloc(0),this;if(typeof e.pipe=="function")return this.buffer=Mc.alloc(0),e.pipe(this),this;if(e.length||typeof e=="object")return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}WD.inherits(Uc,jD);Uc.prototype.write=function(t){this.buffer=Mc.concat([this.buffer,Mc.from(t)]),this.emit("data",t)};Uc.prototype.end=function(t){t&&this.write(t),this.emit("end",t),this.emit("close"),this.writable=!1,this.readable=!1};e_.exports=Uc});var r_=le((bq,t_)=>{"use strict";var vl=require("buffer").Buffer,h0=require("buffer").SlowBuffer;t_.exports=Fc;function Fc(e,t){if(!vl.isBuffer(e)||!vl.isBuffer(t)||e.length!==t.length)return!1;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}Fc.install=function(){vl.prototype.equal=h0.prototype.equal=function(t){return Fc(this,t)}};var zD=vl.prototype.equal,JD=h0.prototype.equal;Fc.restore=function(){vl.prototype.equal=zD,h0.prototype.equal=JD}});var m0=le((Sq,f_)=>{var QD=r_(),io=ro().Buffer,Ei=require("crypto"),n_=i0(),i_=require("util"),XD=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,_l="secret must be a string or buffer",ao="key must be a string or a buffer",ZD="key must be a string, a buffer or an object",p0=typeof Ei.createPublicKey=="function";p0&&(ao+=" or a KeyObject",_l+="or a KeyObject");function a_(e){if(!io.isBuffer(e)&&typeof e!="string"&&(!p0||typeof e!="object"||typeof e.type!="string"||typeof e.asymmetricKeyType!="string"||typeof e.export!="function"))throw ii(ao)}function s_(e){if(!io.isBuffer(e)&&typeof e!="string"&&typeof e!="object")throw ii(ZD)}function $D(e){if(!io.isBuffer(e)){if(typeof e=="string")return e;if(!p0||typeof e!="object"||e.type!=="secret"||typeof e.export!="function")throw ii(_l)}}function g0(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function o_(e){e=e.toString();var t=4-e.length%4;if(t!==4)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function ii(e){var t=[].slice.call(arguments,1),r=i_.format.bind(i_,e).apply(null,t);return new TypeError(r)}function eL(e){return io.isBuffer(e)||typeof e=="string"}function El(e){return eL(e)||(e=JSON.stringify(e)),e}function l_(e){return function(r,n){$D(n),r=El(r);var i=Ei.createHmac("sha"+e,n),a=(i.update(r),i.digest("base64"));return g0(a)}}function tL(e){return function(r,n,i){var a=l_(e)(r,i);return QD(io.from(n),io.from(a))}}function u_(e){return function(r,n){s_(n),r=El(r);var i=Ei.createSign("RSA-SHA"+e),a=(i.update(r),i.sign(n,"base64"));return g0(a)}}function c_(e){return function(r,n,i){a_(i),r=El(r),n=o_(n);var a=Ei.createVerify("RSA-SHA"+e);return a.update(r),a.verify(i,n,"base64")}}function rL(e){return function(r,n){s_(n),r=El(r);var i=Ei.createSign("RSA-SHA"+e),a=(i.update(r),i.sign({key:n,padding:Ei.constants.RSA_PKCS1_PSS_PADDING,saltLength:Ei.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return g0(a)}}function nL(e){return function(r,n,i){a_(i),r=El(r),n=o_(n);var a=Ei.createVerify("RSA-SHA"+e);return a.update(r),a.verify({key:i,padding:Ei.constants.RSA_PKCS1_PSS_PADDING,saltLength:Ei.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function iL(e){var t=u_(e);return function(){var n=t.apply(null,arguments);return n=n_.derToJose(n,"ES"+e),n}}function aL(e){var t=c_(e);return function(n,i,a){i=n_.joseToDer(i,"ES"+e).toString("base64");var s=t(n,i,a);return s}}function sL(){return function(){return""}}function oL(){return function(t,r){return r===""}}f_.exports=function(t){var r={hs:l_,rs:u_,ps:rL,es:iL,none:sL},n={hs:tL,rs:c_,ps:nL,es:aL,none:oL},i=t.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!i)throw ii(XD,t);var a=(i[1]||i[3]).toLowerCase(),s=i[2];return{sign:r[a](s),verify:n[a](s)}}});var y0=le((Tq,d_)=>{var lL=require("buffer").Buffer;d_.exports=function(t){return typeof t=="string"?t:typeof t=="number"||lL.isBuffer(t)?t.toString():JSON.stringify(t)}});var v_=le((xq,y_)=>{var uL=ro().Buffer,h_=d0(),cL=m0(),fL=require("stream"),p_=y0(),v0=require("util");function g_(e,t){return uL.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dL(e,t,r){r=r||"utf8";var n=g_(p_(e),"binary"),i=g_(p_(t),r);return v0.format("%s.%s",n,i)}function m_(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,i=e.encoding,a=cL(t.alg),s=dL(t,r,i),l=a.sign(s,n);return v0.format("%s.%s",s,l)}function qc(e){var t=e.secret||e.privateKey||e.key,r=new h_(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new h_(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}v0.inherits(qc,fL);qc.prototype.sign=function(){try{var t=m_({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",t),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}};qc.sign=m_;y_.exports=qc});var I_=le((Iq,x_)=>{var __=ro().Buffer,E_=d0(),hL=m0(),pL=require("stream"),C_=y0(),gL=require("util"),mL=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function yL(e){return Object.prototype.toString.call(e)==="[object Object]"}function vL(e){if(yL(e))return e;try{return JSON.parse(e)}catch(t){return}}function A_(e){var t=e.split(".",1)[0];return vL(__.from(t,"base64").toString("binary"))}function _L(e){return e.split(".",2).join(".")}function w_(e){return e.split(".")[2]}function EL(e,t){t=t||"utf8";var r=e.split(".")[1];return __.from(r,"base64").toString(t)}function b_(e){return mL.test(e)&&!!A_(e)}function S_(e,t,r){if(!t){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}e=C_(e);var i=w_(e),a=_L(e),s=hL(t);return s.verify(a,i,r)}function T_(e,t){if(t=t||{},e=C_(e),!b_(e))return null;var r=A_(e);if(!r)return null;var n=EL(e);return(r.typ==="JWT"||t.json)&&(n=JSON.parse(n,t.encoding)),{header:r,payload:n,signature:w_(e)}}function so(e){e=e||{};var t=e.secret||e.publicKey||e.key,r=new E_(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=r,this.signature=new E_(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}gL.inherits(so,pL);so.prototype.verify=function(){try{var t=S_(this.signature.buffer,this.algorithm,this.key.buffer),r=T_(this.signature.buffer,this.encoding);return this.emit("done",t,r),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}};so.decode=T_;so.isValid=b_;so.verify=S_;x_.exports=so});var _0=le(Aa=>{var k_=v_(),Gc=I_(),CL=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];Aa.ALGORITHMS=CL;Aa.sign=k_.sign;Aa.verify=Gc.verify;Aa.decode=Gc.decode;Aa.isValid=Gc.isValid;Aa.createSign=function(t){return new k_(t)};Aa.createVerify=function(t){return new Gc(t)}});var ft=le((Rq,R_)=>{R_.exports={options:{usePureJavaScript:!1}}});var D_=le((Bq,N_)=>{var E0={};N_.exports=E0;var B_={};E0.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=AL(e,t);else{var i=0,a=t.length,s=t.charAt(0),l=[0];for(i=0;i<e.length;++i){for(var c=0,f=e[i];c<l.length;++c)f+=l[c]<<8,l[c]=f%a,f=f/a|0;for(;f>0;)l.push(f%a),f=f/a|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=s;for(i=l.length-1;i>=0;--i)n+=t[l[i]]}if(r){var d=new RegExp(".{1,"+r+"}","g");n=n.match(d).join(`\r
`)}return n};E0.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=B_[t];if(!r){r=B_[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,a=t.charAt(0),s=[0],n=0;n<e.length;n++){var l=r[e.charCodeAt(n)];if(l===void 0)return;for(var c=0,f=l;c<s.length;++c)f+=s[c]*i,s[c]=f&255,f>>=8;for(;f>0;)s.push(f&255),f>>=8}for(var d=0;e[d]===a&&d<e.length-1;++d)s.push(0);return typeof Buffer!="undefined"?Buffer.from(s.reverse()):new Uint8Array(s.reverse())};function AL(e,t){var r=0,n=t.length,i=t.charAt(0),a=[0];for(r=0;r<e.length();++r){for(var s=0,l=e.at(r);s<a.length;++s)l+=a[s]<<8,a[s]=l%n,l=l/n|0;for(;l>0;)a.push(l%n),l=l/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=i;for(r=a.length-1;r>=0;--r)c+=t[a[r]];return c}});var Rt=le((Nq,M_)=>{var L_=ft(),P_=D_(),K=M_.exports=L_.util=L_.util||{};(function(){if(typeof process!="undefined"&&process.nextTick&&!process.browser){K.nextTick=process.nextTick,typeof setImmediate=="function"?K.setImmediate=setImmediate:K.setImmediate=K.nextTick;return}if(typeof setImmediate=="function"){K.setImmediate=function(){return setImmediate.apply(void 0,arguments)},K.nextTick=function(l){return setImmediate(l)};return}if(K.setImmediate=function(l){setTimeout(l,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){let l=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var f=t.slice();t.length=0,f.forEach(function(d){d()})}};var s=l,e="forge.setImmediate",t=[];K.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",l,!0)}if(typeof MutationObserver!="undefined"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(f){f()})}).observe(i,{attributes:!0});var a=K.setImmediate;K.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),a(c)):(t.push(c),t.length===1&&i.setAttribute("a",n=!n))}}K.nextTick=K.setImmediate})();K.isNodejs=typeof process!="undefined"&&process.versions&&process.versions.node;K.globalScope=function(){return K.isNodejs?global:typeof self=="undefined"?window:self}();K.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};K.isArrayBuffer=function(e){return typeof ArrayBuffer!="undefined"&&e instanceof ArrayBuffer};K.isArrayBufferView=function(e){return e&&K.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function Cl(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}K.ByteBuffer=C0;function C0(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(K.isArrayBuffer(e)||K.isArrayBufferView(e))if(typeof Buffer!="undefined"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(n){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof C0||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}K.ByteStringBuffer=C0;var wL=4096;K.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>wL&&(this.data.substr(0,1),this._constructedStringLength=0)};K.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};K.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};K.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};K.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};K.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};K.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(K.encodeUtf8(e))};K.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};K.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};K.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};K.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};K.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};K.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};K.ByteStringBuffer.prototype.putInt=function(e,t){Cl(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};K.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};K.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};K.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};K.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};K.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};K.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};K.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};K.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};K.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};K.ByteStringBuffer.prototype.getInt=function(e){Cl(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};K.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};K.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};K.ByteStringBuffer.prototype.bytes=function(e){return typeof e=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};K.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};K.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};K.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};K.ByteStringBuffer.prototype.copy=function(){var e=K.createBuffer(this.data);return e.read=this.read,e};K.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};K.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};K.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};K.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};K.ByteStringBuffer.prototype.toString=function(){return K.decodeUtf8(this.bytes())};function bL(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=K.isArrayBuffer(e),n=K.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}K.DataBuffer=bL;K.DataBuffer.prototype.length=function(){return this.write-this.read};K.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};K.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};K.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};K.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};K.DataBuffer.prototype.putBytes=function(e,t){if(K.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(K.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof K.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&K.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof K.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var a;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=K.binary.hex.decode(e,a,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),a=new Uint8Array(this.data.buffer,this.write),this.write+=K.binary.base64.decode(e,a,this.write),this;if(t==="utf8"&&(e=K.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=K.binary.raw.decode(a),this;if(t==="utf16")return this.accommodate(e.length*2),a=new Uint16Array(this.data.buffer,this.write),this.write+=K.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};K.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};K.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};K.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};K.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};K.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};K.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};K.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};K.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};K.DataBuffer.prototype.putInt=function(e,t){Cl(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};K.DataBuffer.prototype.putSignedInt=function(e,t){return Cl(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};K.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};K.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};K.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};K.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};K.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};K.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};K.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};K.DataBuffer.prototype.getInt=function(e){Cl(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};K.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};K.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};K.DataBuffer.prototype.bytes=function(e){return typeof e=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};K.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};K.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};K.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};K.DataBuffer.prototype.copy=function(){return new K.DataBuffer(this)};K.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};K.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};K.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};K.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};K.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return K.binary.raw.encode(t);if(e==="hex")return K.binary.hex.encode(t);if(e==="base64")return K.binary.base64.encode(t);if(e==="utf8")return K.text.utf8.decode(t);if(e==="utf16")return K.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};K.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=K.encodeUtf8(e)),new K.ByteBuffer(e)};K.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};K.xorBytes=function(e,t,r){for(var n="",i="",a="",s=0,l=0;r>0;--r,++s)i=e.charCodeAt(s)^t.charCodeAt(s),l>=10&&(n+=a,a="",l=0),a+=String.fromCharCode(i),++l;return n+=a,n};K.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};K.bytesToHex=function(e){return K.createBuffer(e).toHex()};K.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var wa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ba=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],O_="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";K.encode64=function(e,t){for(var r="",n="",i,a,s,l=0;l<e.length;)i=e.charCodeAt(l++),a=e.charCodeAt(l++),s=e.charCodeAt(l++),r+=wa.charAt(i>>2),r+=wa.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=wa.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":wa.charAt(s&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};K.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,a,s=0;s<e.length;)r=ba[e.charCodeAt(s++)-43],n=ba[e.charCodeAt(s++)-43],i=ba[e.charCodeAt(s++)-43],a=ba[e.charCodeAt(s++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),a!==64&&(t+=String.fromCharCode((i&3)<<6|a)));return t};K.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};K.decodeUtf8=function(e){return decodeURIComponent(escape(e))};K.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:P_.encode,decode:P_.decode}};K.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};K.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,a=0;a<e.length;++a)n[i++]=e.charCodeAt(a);return t?i-r:n};K.binary.hex.encode=K.bytesToHex;K.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,a=r;for(e.length&1&&(i=1,n[a++]=parseInt(e[0],16));i<e.length;i+=2)n[a++]=parseInt(e.substr(i,2),16);return t?a-r:n};K.binary.base64.encode=function(e,t){for(var r="",n="",i,a,s,l=0;l<e.byteLength;)i=e[l++],a=e[l++],s=e[l++],r+=wa.charAt(i>>2),r+=wa.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=wa.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":wa.charAt(s&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};K.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,a,s,l,c=0,f=r;c<e.length;)i=ba[e.charCodeAt(c++)-43],a=ba[e.charCodeAt(c++)-43],s=ba[e.charCodeAt(c++)-43],l=ba[e.charCodeAt(c++)-43],n[f++]=i<<2|a>>4,s!==64&&(n[f++]=(a&15)<<4|s>>2,l!==64&&(n[f++]=(s&3)<<6|l));return t?f-r:n.subarray(0,f)};K.binary.base58.encode=function(e,t){return K.binary.baseN.encode(e,O_,t)};K.binary.base58.decode=function(e,t){return K.binary.baseN.decode(e,O_,t)};K.text={utf8:{},utf16:{}};K.text.utf8.encode=function(e,t,r){e=K.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,a=0;a<e.length;++a)n[i++]=e.charCodeAt(a);return t?i-r:n};K.text.utf8.decode=function(e){return K.decodeUtf8(String.fromCharCode.apply(null,e))};K.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var a=r,s=r,l=0;l<e.length;++l)i[s++]=e.charCodeAt(l),a+=2;return t?a-r:n};K.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};K.deflate=function(e,t,r){if(t=K.decode64(e.deflate(K.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};K.inflate=function(e,t,r){var n=e.inflate(K.encode64(t)).rval;return n===null?null:K.decode64(n)};var A0=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=K.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n!="undefined"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},w0=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(K.decode64(r))),r},SL=function(e,t,r,n){var i=w0(e,t);i===null&&(i={}),i[r]=n,A0(e,t,i)},TL=function(e,t,r){var n=w0(e,t);return n!==null&&(n=r in n?n[r]:null),n},xL=function(e,t,r){var n=w0(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var a in n){i=!1;break}i&&(n=null),A0(e,t,n)}},IL=function(e,t){A0(e,t,null)},Kc=function(e,t,r){var n=null;typeof r=="undefined"&&(r=["web","flash"]);var i,a=!1,s=null;for(var l in r){i=r[l];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),a=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),a=!0)}catch(c){s=c}if(a)break}if(!a)throw s;return n};K.setItem=function(e,t,r,n,i){Kc(SL,arguments,i)};K.getItem=function(e,t,r,n){return Kc(TL,arguments,n)};K.removeItem=function(e,t,r,n){Kc(xL,arguments,n)};K.clearItems=function(e,t,r){Kc(IL,arguments,r)};K.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};K.format=function(e){for(var t=/%./g,r,n,i=0,a=[],s=0;r=t.exec(e);){n=e.substring(s,t.lastIndex-2),n.length>0&&a.push(n),s=t.lastIndex;var l=r[0][1];switch(l){case"s":case"o":i<arguments.length?a.push(arguments[i+++1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+l+"?>")}}return a.push(e.substring(s)),a.join("")};K.formatNumber=function(e,t,r,n){var i=e,a=isNaN(t=Math.abs(t))?2:t,s=r===void 0?",":r,l=n===void 0?".":n,c=i<0?"-":"",f=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",d=f.length>3?f.length%3:0;return c+(d?f.substr(0,d)+l:"")+f.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+l)+(a?s+Math.abs(i-f).toFixed(a).slice(2):"")};K.formatSize=function(e){return e>=1073741824?e=K.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=K.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=K.formatNumber(e/1024,0)+" KiB":e=K.formatNumber(e,0)+" bytes",e};K.bytesFromIP=function(e){return e.indexOf(".")!==-1?K.bytesFromIPv4(e):e.indexOf(":")!==-1?K.bytesFromIPv6(e):null};K.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=K.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};K.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(s){return s.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=K.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var a=K.hexToBytes(e[i]);a.length<2&&n.putByte(0),n.putBytes(a)}return n.getBytes()};K.bytesToIP=function(e){return e.length===4?K.bytesToIPv4(e):e.length===16?K.bytesToIPv6(e):null};K.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};K.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var a=K.bytesToHex(e[i]+e[i+1]);a[0]==="0"&&a!=="0";)a=a.substr(1);if(a==="0"){var s=r[r.length-1],l=t.length;!s||l!==s.end+1?r.push({start:l,end:l}):(s.end=l,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(a)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};K.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in K&&!e.update)return t(null,K.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return K.cores=navigator.hardwareConcurrency,t(null,K.cores);if(typeof Worker=="undefined")return K.cores=1,t(null,K.cores);if(typeof Blob=="undefined")return K.cores=2,t(null,K.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(s){for(var l=Date.now(),c=l+4;Date.now()<c;);self.postMessage({st:l,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(s,l,c){if(l===0){var f=Math.floor(s.reduce(function(d,p){return d+p},0)/s.length);return K.cores=Math.max(1,f),URL.revokeObjectURL(r),t(null,K.cores)}i(c,function(d,p){s.push(a(c,p)),n(s,l-1,c)})}function i(s,l){for(var c=[],f=[],d=0;d<s;++d){var p=new Worker(r);p.addEventListener("message",function(g){if(f.push(g.data),f.length===s){for(var v=0;v<s;++v)c[v].terminate();l(null,f)}}),c.push(p)}for(var d=0;d<s;++d)c[d].postMessage(d)}function a(s,l){for(var c=[],f=0;f<s;++f)for(var d=l[f],p=c[f]=[],g=0;g<s;++g)if(f!==g){var v=l[g];(d.st>v.st&&d.st<v.et||v.st>d.st&&v.st<d.et)&&p.push(g)}return c.reduce(function(m,_){return Math.max(m,_.length)},0)}}});var Vc=le((Dq,U_)=>{var Tr=ft();Rt();U_.exports=Tr.cipher=Tr.cipher||{};Tr.cipher.algorithms=Tr.cipher.algorithms||{};Tr.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Tr.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Tr.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Tr.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Tr.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Tr.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Tr.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Tr.cipher.algorithms[e]=t};Tr.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Tr.cipher.algorithms?Tr.cipher.algorithms[e]:null};var b0=Tr.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};b0.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Tr.util.createBuffer(),this.output=e.output||Tr.util.createBuffer(),this.mode.start(t)};b0.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};b0.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var T0=le((Lq,F_)=>{var xr=ft();Rt();xr.cipher=xr.cipher||{};var mt=F_.exports=xr.cipher.modes=xr.cipher.modes||{};mt.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};mt.ecb.prototype.start=function(e){};mt.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};mt.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};mt.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};mt.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};mt.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};mt.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=Hc(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};mt.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};mt.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};mt.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};mt.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};mt.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=xr.util.createBuffer(),this._partialBytes=0};mt.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Hc(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};mt.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(a>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};mt.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(a>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};mt.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=xr.util.createBuffer(),this._partialBytes=0};mt.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Hc(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};mt.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};mt.ofb.prototype.decrypt=mt.ofb.prototype.encrypt;mt.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=xr.util.createBuffer(),this._partialBytes=0};mt.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Hc(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};mt.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Yc(this._inBlock)};mt.ctr.prototype.decrypt=mt.ctr.prototype.encrypt;mt.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=xr.util.createBuffer(),this._partialBytes=0,this._R=3774873600};mt.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=xr.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=xr.util.createBuffer(e.additionalData):r=xr.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=xr.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(S0(n*8)))}this._inBlock=this._j0.slice(0),Yc(this._inBlock),this._partialBytes=0,r=xr.util.createBuffer(r),this._aDataLength=S0(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};mt.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a<=0||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Yc(this._inBlock)};mt.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Yc(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};mt.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=xr.util.createBuffer();var n=this._aDataLength.concat(S0(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^i[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};mt.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var a=e[i/32|0]&1<<31-i%32;a&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};mt.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};mt.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,a=this._m[r][i];t[0]^=a[0],t[1]^=a[1],t[2]^=a[2],t[3]^=a[3]}return t};mt.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};mt.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,a=new Array(i),s=0;s<i;++s){var l=[0,0,0,0],c=s/n|0,f=(n-1-s%n)*t;l[c]=1<<t-1<<f,a[s]=this.generateSubHashTable(this.multiply(l,e),t)}return a};mt.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var a=n>>>1;a>0;)this.pow(i[2*a],i[a]=[]),a>>=1;for(a=2;a<n;){for(var s=1;s<a;++s){var l=i[a],c=i[s];i[a+s]=[l[0]^c[0],l[1]^c[1],l[2]^c[2],l[3]^c[3]]}a*=2}for(i[0]=[0,0,0,0],a=n+1;a<r;++a){var f=i[a^n];i[a]=[e[0]^f[0],e[1]^f[1],e[2]^f[2],e[3]^f[3]]}return i};function Hc(e,t){if(typeof e=="string"&&(e=xr.util.createBuffer(e)),xr.util.isArray(e)&&e.length>4){var r=e;e=xr.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!xr.util.isArray(e)){for(var i=[],a=t/4,n=0;n<a;++n)i.push(e.getInt32());e=i}return e}function Yc(e){e[e.length-1]=e[e.length-1]+1&4294967295}function S0(e){return[e/4294967296|0,e&4294967295]}});var Sa=le((Pq,V_)=>{var Wt=ft();Vc();T0();Rt();V_.exports=Wt.aes=Wt.aes||{};Wt.aes.startEncrypting=function(e,t,r,n){var i=jc({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};Wt.aes.createEncryptionCipher=function(e,t){return jc({key:e,output:null,decrypt:!1,mode:t})};Wt.aes.startDecrypting=function(e,t,r,n){var i=jc({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};Wt.aes.createDecryptionCipher=function(e,t){return jc({key:e,output:null,decrypt:!0,mode:t})};Wt.aes.Algorithm=function(e,t){x0||G_();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,i){return k0(r._w,n,i,!1)},decrypt:function(n,i){return k0(r._w,n,i,!0)}}}),r._init=!1};Wt.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=Wt.util.createBuffer(t);else if(Wt.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=Wt.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!Wt.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!Wt.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var a=this.mode.name,s=["CFB","OFB","CTR","GCM"].indexOf(a)!==-1;this._w=K_(t,e.decrypt&&!s),this._init=!0}};Wt.aes._expandKey=function(e,t){return x0||G_(),K_(e,t)};Wt.aes._updateBlock=k0;oo("AES-ECB",Wt.cipher.modes.ecb);oo("AES-CBC",Wt.cipher.modes.cbc);oo("AES-CFB",Wt.cipher.modes.cfb);oo("AES-OFB",Wt.cipher.modes.ofb);oo("AES-CTR",Wt.cipher.modes.ctr);oo("AES-GCM",Wt.cipher.modes.gcm);function oo(e,t){var r=function(){return new Wt.aes.Algorithm(e,t)};Wt.cipher.registerAlgorithm(e,r)}var x0=!1,lo=4,Xr,I0,q_,is,ai;function G_(){x0=!0,q_=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;Xr=new Array(256),I0=new Array(256),is=new Array(4),ai=new Array(4);for(var t=0;t<4;++t)is[t]=new Array(256),ai[t]=new Array(256);for(var r=0,n=0,i,a,s,l,c,f,d,t=0;t<256;++t){l=n^n<<1^n<<2^n<<3^n<<4,l=l>>8^l&255^99,Xr[r]=l,I0[l]=r,c=e[l],i=e[r],a=e[i],s=e[a],f=c<<24^l<<16^l<<8^(l^c),d=(i^a^s)<<24^(r^s)<<16^(r^a^s)<<8^(r^i^s);for(var p=0;p<4;++p)is[p][r]=f,ai[p][l]=d,f=f<<24|f>>>8,d=d<<24|d>>>8;r===0?r=n=1:(r=i^e[e[e[i^s]]],n^=e[e[n]])}}function K_(e,t){for(var r=e.slice(0),n,i=1,a=r.length,s=a+6+1,l=lo*s,c=a;c<l;++c)n=r[c-1],c%a==0?(n=Xr[n>>>16&255]<<24^Xr[n>>>8&255]<<16^Xr[n&255]<<8^Xr[n>>>24]^q_[i]<<24,i++):a>6&&c%a==4&&(n=Xr[n>>>24]<<24^Xr[n>>>16&255]<<16^Xr[n>>>8&255]<<8^Xr[n&255]),r[c]=r[c-a]^n;if(t){var f,d=ai[0],p=ai[1],g=ai[2],v=ai[3],m=r.slice(0);l=r.length;for(var c=0,_=l-lo;c<l;c+=lo,_-=lo)if(c===0||c===l-lo)m[c]=r[_],m[c+1]=r[_+3],m[c+2]=r[_+2],m[c+3]=r[_+1];else for(var E=0;E<lo;++E)f=r[_+E],m[c+(3&-E)]=d[Xr[f>>>24]]^p[Xr[f>>>16&255]]^g[Xr[f>>>8&255]]^v[Xr[f&255]];r=m}return r}function k0(e,t,r,n){var i=e.length/4-1,a,s,l,c,f;n?(a=ai[0],s=ai[1],l=ai[2],c=ai[3],f=I0):(a=is[0],s=is[1],l=is[2],c=is[3],f=Xr);var d,p,g,v,m,_,E;d=t[0]^e[0],p=t[n?3:1]^e[1],g=t[2]^e[2],v=t[n?1:3]^e[3];for(var A=3,x=1;x<i;++x)m=a[d>>>24]^s[p>>>16&255]^l[g>>>8&255]^c[v&255]^e[++A],_=a[p>>>24]^s[g>>>16&255]^l[v>>>8&255]^c[d&255]^e[++A],E=a[g>>>24]^s[v>>>16&255]^l[d>>>8&255]^c[p&255]^e[++A],v=a[v>>>24]^s[d>>>16&255]^l[p>>>8&255]^c[g&255]^e[++A],d=m,p=_,g=E;r[0]=f[d>>>24]<<24^f[p>>>16&255]<<16^f[g>>>8&255]<<8^f[v&255]^e[++A],r[n?3:1]=f[p>>>24]<<24^f[g>>>16&255]<<16^f[v>>>8&255]<<8^f[d&255]^e[++A],r[2]=f[g>>>24]<<24^f[v>>>16&255]<<16^f[d>>>8&255]<<8^f[p&255]^e[++A],r[n?1:3]=f[v>>>24]<<24^f[d>>>16&255]<<16^f[p>>>8&255]<<8^f[g&255]^e[++A]}function jc(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=Wt.cipher.createDecipher(r,e.key):n=Wt.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(a,s){var l=null;s instanceof Wt.util.ByteBuffer&&(l=s,s={}),s=s||{},s.output=l,s.iv=a,i.call(n,s)},n}});var Ta=le((Oq,H_)=>{var Al=ft();Al.pki=Al.pki||{};var R0=H_.exports=Al.pki.oids=Al.oids=Al.oids||{};function ve(e,t){R0[e]=t,R0[t]=e}function Ft(e,t){R0[e]=t}ve("1.2.840.113549.1.1.1","rsaEncryption");ve("1.2.840.113549.1.1.4","md5WithRSAEncryption");ve("1.2.840.113549.1.1.5","sha1WithRSAEncryption");ve("1.2.840.113549.1.1.7","RSAES-OAEP");ve("1.2.840.113549.1.1.8","mgf1");ve("1.2.840.113549.1.1.9","pSpecified");ve("1.2.840.113549.1.1.10","RSASSA-PSS");ve("1.2.840.113549.1.1.11","sha256WithRSAEncryption");ve("1.2.840.113549.1.1.12","sha384WithRSAEncryption");ve("1.2.840.113549.1.1.13","sha512WithRSAEncryption");ve("1.3.101.112","EdDSA25519");ve("1.2.840.10040.4.3","dsa-with-sha1");ve("1.3.14.3.2.7","desCBC");ve("1.3.14.3.2.26","sha1");ve("1.3.14.3.2.29","sha1WithRSASignature");ve("2.16.840.1.101.3.4.2.1","sha256");ve("2.16.840.1.101.3.4.2.2","sha384");ve("2.16.840.1.101.3.4.2.3","sha512");ve("2.16.840.1.101.3.4.2.4","sha224");ve("2.16.840.1.101.3.4.2.5","sha512-224");ve("2.16.840.1.101.3.4.2.6","sha512-256");ve("1.2.840.113549.2.2","md2");ve("1.2.840.113549.2.5","md5");ve("1.2.840.113549.1.7.1","data");ve("1.2.840.113549.1.7.2","signedData");ve("1.2.840.113549.1.7.3","envelopedData");ve("1.2.840.113549.1.7.4","signedAndEnvelopedData");ve("1.2.840.113549.1.7.5","digestedData");ve("1.2.840.113549.1.7.6","encryptedData");ve("1.2.840.113549.1.9.1","emailAddress");ve("1.2.840.113549.1.9.2","unstructuredName");ve("1.2.840.113549.1.9.3","contentType");ve("1.2.840.113549.1.9.4","messageDigest");ve("1.2.840.113549.1.9.5","signingTime");ve("1.2.840.113549.1.9.6","counterSignature");ve("1.2.840.113549.1.9.7","challengePassword");ve("1.2.840.113549.1.9.8","unstructuredAddress");ve("1.2.840.113549.1.9.14","extensionRequest");ve("1.2.840.113549.1.9.20","friendlyName");ve("1.2.840.113549.1.9.21","localKeyId");ve("1.2.840.113549.1.9.22.1","x509Certificate");ve("1.2.840.113549.1.12.10.1.1","keyBag");ve("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");ve("1.2.840.113549.1.12.10.1.3","certBag");ve("1.2.840.113549.1.12.10.1.4","crlBag");ve("1.2.840.113549.1.12.10.1.5","secretBag");ve("1.2.840.113549.1.12.10.1.6","safeContentsBag");ve("1.2.840.113549.1.5.13","pkcs5PBES2");ve("1.2.840.113549.1.5.12","pkcs5PBKDF2");ve("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");ve("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");ve("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");ve("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");ve("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");ve("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");ve("1.2.840.113549.2.7","hmacWithSHA1");ve("1.2.840.113549.2.8","hmacWithSHA224");ve("1.2.840.113549.2.9","hmacWithSHA256");ve("1.2.840.113549.2.10","hmacWithSHA384");ve("1.2.840.113549.2.11","hmacWithSHA512");ve("1.2.840.113549.3.7","des-EDE3-CBC");ve("2.16.840.1.101.3.4.1.2","aes128-CBC");ve("2.16.840.1.101.3.4.1.22","aes192-CBC");ve("2.16.840.1.101.3.4.1.42","aes256-CBC");ve("2.5.4.3","commonName");ve("2.5.4.4","surname");ve("2.5.4.5","serialNumber");ve("2.5.4.6","countryName");ve("2.5.4.7","localityName");ve("2.5.4.8","stateOrProvinceName");ve("2.5.4.9","streetAddress");ve("2.5.4.10","organizationName");ve("2.5.4.11","organizationalUnitName");ve("2.5.4.12","title");ve("2.5.4.13","description");ve("2.5.4.15","businessCategory");ve("2.5.4.17","postalCode");ve("2.5.4.42","givenName");ve("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");ve("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");ve("2.16.840.1.113730.1.1","nsCertType");ve("2.16.840.1.113730.1.13","nsComment");Ft("2.5.29.1","authorityKeyIdentifier");Ft("2.5.29.2","keyAttributes");Ft("2.5.29.3","certificatePolicies");Ft("2.5.29.4","keyUsageRestriction");Ft("2.5.29.5","policyMapping");Ft("2.5.29.6","subtreesConstraint");Ft("2.5.29.7","subjectAltName");Ft("2.5.29.8","issuerAltName");Ft("2.5.29.9","subjectDirectoryAttributes");Ft("2.5.29.10","basicConstraints");Ft("2.5.29.11","nameConstraints");Ft("2.5.29.12","policyConstraints");Ft("2.5.29.13","basicConstraints");ve("2.5.29.14","subjectKeyIdentifier");ve("2.5.29.15","keyUsage");Ft("2.5.29.16","privateKeyUsagePeriod");ve("2.5.29.17","subjectAltName");ve("2.5.29.18","issuerAltName");ve("2.5.29.19","basicConstraints");Ft("2.5.29.20","cRLNumber");Ft("2.5.29.21","cRLReason");Ft("2.5.29.22","expirationDate");Ft("2.5.29.23","instructionCode");Ft("2.5.29.24","invalidityDate");Ft("2.5.29.25","cRLDistributionPoints");Ft("2.5.29.26","issuingDistributionPoint");Ft("2.5.29.27","deltaCRLIndicator");Ft("2.5.29.28","issuingDistributionPoint");Ft("2.5.29.29","certificateIssuer");Ft("2.5.29.30","nameConstraints");ve("2.5.29.31","cRLDistributionPoints");ve("2.5.29.32","certificatePolicies");Ft("2.5.29.33","policyMappings");Ft("2.5.29.34","policyConstraints");ve("2.5.29.35","authorityKeyIdentifier");Ft("2.5.29.36","policyConstraints");ve("2.5.29.37","extKeyUsage");Ft("2.5.29.46","freshestCRL");Ft("2.5.29.54","inhibitAnyPolicy");ve("1.3.6.1.4.1.11129.2.4.2","timestampList");ve("1.3.6.1.5.5.7.1.1","authorityInfoAccess");ve("1.3.6.1.5.5.7.3.1","serverAuth");ve("1.3.6.1.5.5.7.3.2","clientAuth");ve("1.3.6.1.5.5.7.3.3","codeSigning");ve("1.3.6.1.5.5.7.3.4","emailProtection");ve("1.3.6.1.5.5.7.3.8","timeStamping")});var si=le((Mq,j_)=>{var $t=ft();Rt();Ta();var Te=j_.exports=$t.asn1=$t.asn1||{};Te.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Te.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Te.create=function(e,t,r,n,i){if($t.util.isArray(n)){for(var a=[],s=0;s<n.length;++s)n[s]!==void 0&&a.push(n[s]);n=a}var l={tagClass:e,type:t,constructed:r,composed:r||$t.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(l.bitStringContents=i.bitStringContents,l.original=Te.copy(l)),l};Te.copy=function(e,t){var r;if($t.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(Te.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:Te.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};Te.equals=function(e,t,r){if($t.util.isArray(e)){if(!$t.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Te.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&Te.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};Te.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function wl(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}var kL=function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var a=r&127;wl(e,t,a),n=e.getInt(a<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};Te.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=$t.util.createBuffer(e));var r=e.length(),n=Wc(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function Wc(e,t,r,n){var i;wl(e,t,2);var a=e.getByte();t--;var s=a&192,l=a&31;i=e.length();var c=kL(e,t);if(t-=i-e.length(),c!==void 0&&c>t){if(n.strict){var f=new Error("Too few bytes to read ASN.1 value.");throw f.available=e.length(),f.remaining=t,f.requested=c,f}c=t}var d,p,g=(a&32)==32;if(g)if(d=[],c===void 0)for(;;){if(wl(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}i=e.length(),d.push(Wc(e,t,r+1,n)),t-=i-e.length()}else for(;c>0;)i=e.length(),d.push(Wc(e,c,r+1,n)),t-=i-e.length(),c-=i-e.length();if(d===void 0&&s===Te.Class.UNIVERSAL&&l===Te.Type.BITSTRING&&(p=e.bytes(c)),d===void 0&&n.decodeBitStrings&&s===Te.Class.UNIVERSAL&&l===Te.Type.BITSTRING&&c>1){var v=e.read,m=t,_=0;if(l===Te.Type.BITSTRING&&(wl(e,t,1),_=e.getByte(),t--),_===0)try{i=e.length();var E={strict:!0,decodeBitStrings:!0},A=Wc(e,t,r+1,E),x=i-e.length();t-=x,l==Te.Type.BITSTRING&&x++;var B=A.tagClass;x===c&&(B===Te.Class.UNIVERSAL||B===Te.Class.CONTEXT_SPECIFIC)&&(d=[A])}catch(N){}d===void 0&&(e.read=v,t=m)}if(d===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(l===Te.Type.BMPSTRING)for(d="";c>0;c-=2)wl(e,t,2),d+=String.fromCharCode(e.getInt16()),t-=2;else d=e.getBytes(c),t-=c}var L=p===void 0?null:{bitStringContents:p};return Te.create(s,l,g,d,L)}Te.toDer=function(e){var t=$t.util.createBuffer(),r=e.tagClass|e.type,n=$t.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=Te.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var a=0;a<e.value.length;++a)e.value[a]!==void 0&&n.putBuffer(Te.toDer(e.value[a]))}else if(e.type===Te.Type.BMPSTRING)for(var a=0;a<e.value.length;++a)n.putInt16(e.value.charCodeAt(a));else e.type===Te.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&(e.value.charCodeAt(1)&128)==0||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)==128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var s=n.length(),l="";do l+=String.fromCharCode(s&255),s=s>>>8;while(s>0);t.putByte(l.length|128);for(var a=l.length-1;a>=0;--a)t.putByte(l.charCodeAt(a))}return t.putBuffer(n),t};Te.oidToDer=function(e){var t=e.split("."),r=$t.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,a,s,l=2;l<t.length;++l){n=!0,i=[],a=parseInt(t[l],10);do s=a&127,a=a>>>7,n||(s|=128),i.push(s),n=!1;while(a>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};Te.derToOid=function(e){var t;typeof e=="string"&&(e=$t.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};Te.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),a=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),l=0;if(e.length>11){var c=e.charAt(10),f=10;c!=="+"&&c!=="-"&&(l=parseInt(e.substr(10,2),10),f+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(a,s,l,0),f&&(c=e.charAt(f),c==="+"||c==="-")){var d=parseInt(e.substr(f+1,2),10),p=parseInt(e.substr(f+4,2),10),g=d*60+p;g*=6e4,c==="+"?t.setTime(+t-g):t.setTime(+t+g)}return t};Te.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),l=parseInt(e.substr(12,2),10),c=0,f=0,d=!1;e.charAt(e.length-1)==="Z"&&(d=!0);var p=e.length-5,g=e.charAt(p);if(g==="+"||g==="-"){var v=parseInt(e.substr(p+1,2),10),m=parseInt(e.substr(p+4,2),10);f=v*60+m,f*=6e4,g==="+"&&(f*=-1),d=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),d?(t.setUTCFullYear(r,n,i),t.setUTCHours(a,s,l,c),t.setTime(+t+f)):(t.setFullYear(r,n,i),t.setHours(a,s,l,c)),t};Te.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Te.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Te.integerToDer=function(e){var t=$t.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};Te.derToInteger=function(e){typeof e=="string"&&(e=$t.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};Te.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass=="undefined")&&(e.type===t.type||typeof t.type=="undefined"))if(e.constructed===t.constructed||typeof t.constructed=="undefined"){if(i=!0,t.value&&$t.util.isArray(t.value))for(var a=0,s=0;i&&s<t.value.length;++s)i=t.value[s].optional||!1,e.value[a]&&(i=Te.validate(e.value[a],t.value[s],r,n),i?++a:t.value[s].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var l;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var Y_=/[^\\u0000-\\u00ff]/;Te.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",a=0;a<t*r;++a)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case Te.Class.UNIVERSAL:n+="Universal:";break;case Te.Class.APPLICATION:n+="Application:";break;case Te.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case Te.Class.PRIVATE:n+="Private:";break}if(e.tagClass===Te.Class.UNIVERSAL)switch(n+=e.type,e.type){case Te.Type.NONE:n+=" (None)";break;case Te.Type.BOOLEAN:n+=" (Boolean)";break;case Te.Type.INTEGER:n+=" (Integer)";break;case Te.Type.BITSTRING:n+=" (Bit string)";break;case Te.Type.OCTETSTRING:n+=" (Octet string)";break;case Te.Type.NULL:n+=" (Null)";break;case Te.Type.OID:n+=" (Object Identifier)";break;case Te.Type.ODESC:n+=" (Object Descriptor)";break;case Te.Type.EXTERNAL:n+=" (External or Instance of)";break;case Te.Type.REAL:n+=" (Real)";break;case Te.Type.ENUMERATED:n+=" (Enumerated)";break;case Te.Type.EMBEDDED:n+=" (Embedded PDV)";break;case Te.Type.UTF8:n+=" (UTF8)";break;case Te.Type.ROID:n+=" (Relative Object Identifier)";break;case Te.Type.SEQUENCE:n+=" (Sequence)";break;case Te.Type.SET:n+=" (Set)";break;case Te.Type.PRINTABLESTRING:n+=" (Printable String)";break;case Te.Type.IA5String:n+=" (IA5String (ASCII))";break;case Te.Type.UTCTIME:n+=" (UTC time)";break;case Te.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case Te.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var s=0,l="",a=0;a<e.value.length;++a)e.value[a]!==void 0&&(s+=1,l+=Te.prettyPrint(e.value[a],t+1,r),a+1<e.value.length&&(l+=","));n+=i+"Sub values: "+s+l}else{if(n+=i+"Value: ",e.type===Te.Type.OID){var c=Te.derToOid(e.value);n+=c,$t.pki&&$t.pki.oids&&c in $t.pki.oids&&(n+=" ("+$t.pki.oids[c]+") ")}if(e.type===Te.Type.INTEGER)try{n+=Te.derToInteger(e.value)}catch(d){n+="0x"+$t.util.bytesToHex(e.value)}else if(e.type===Te.Type.BITSTRING){if(e.value.length>1?n+="0x"+$t.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var f=e.value.charCodeAt(0);f==1?n+=" (1 unused bit shown)":f>1&&(n+=" ("+f+" unused bits shown)")}}else if(e.type===Te.Type.OCTETSTRING)Y_.test(e.value)||(n+="("+e.value+") "),n+="0x"+$t.util.bytesToHex(e.value);else if(e.type===Te.Type.UTF8)try{n+=$t.util.decodeUtf8(e.value)}catch(d){if(d.message==="URI malformed")n+="0x"+$t.util.bytesToHex(e.value)+" (malformed UTF8)";else throw d}else e.type===Te.Type.PRINTABLESTRING||e.type===Te.Type.IA5String?n+=e.value:Y_.test(e.value)?n+="0x"+$t.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var Ci=le((Uq,W_)=>{var zc=ft();W_.exports=zc.md=zc.md||{};zc.md.algorithms=zc.md.algorithms||{}});var uo=le((Fq,z_)=>{var Ji=ft();Ci();Rt();var RL=z_.exports=Ji.hmac=Ji.hmac||{};RL.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(a,s){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in Ji.md.algorithms)t=Ji.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else t=a;if(s===null)s=e;else{if(typeof s=="string")s=Ji.util.createBuffer(s);else if(Ji.util.isArray(s)){var l=s;s=Ji.util.createBuffer();for(var c=0;c<l.length;++c)s.putByte(l[c])}var f=s.length();f>t.blockLength&&(t.start(),t.update(s.bytes()),s=t.digest()),r=Ji.util.createBuffer(),n=Ji.util.createBuffer(),f=s.length();for(var c=0;c<f;++c){var l=s.at(c);r.putByte(54^l),n.putByte(92^l)}if(f<t.blockLength)for(var l=t.blockLength-f,c=0;c<l;++c)r.putByte(54),n.putByte(92);e=s,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(a){t.update(a)},i.getMac=function(){var a=t.digest().bytes();return t.start(),t.update(n),t.update(a),t.digest()},i.digest=i.getMac,i}});var Qc=le((qq,Z_)=>{var Ai=ft();Ci();Rt();var J_=Z_.exports=Ai.md5=Ai.md5||{};Ai.md.md5=Ai.md.algorithms.md5=J_;J_.create=function(){Q_||BL();var e=null,t=Ai.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return t=Ai.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=Ai.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=s[1],s[1]=s[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),X_(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Ai.util.createBuffer();i.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(B0.substr(0,n.blockLength-s));for(var l,c=0,f=n.fullMessageLength.length-1;f>=0;--f)l=n.fullMessageLength[f]*8+c,c=l/4294967296>>>0,i.putInt32Le(l>>>0);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};X_(d,r,i);var p=Ai.util.createBuffer();return p.putInt32Le(d.h0),p.putInt32Le(d.h1),p.putInt32Le(d.h2),p.putInt32Le(d.h3),p},n};var B0=null,Jc=null,bl=null,co=null,Q_=!1;function BL(){B0=String.fromCharCode(128),B0+=Ai.util.fillString(String.fromCharCode(0),64),Jc=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],bl=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],co=new Array(64);for(var e=0;e<64;++e)co[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);Q_=!0}function X_(e,t,r){for(var n,i,a,s,l,c,f,d,p=r.length();p>=64;){for(i=e.h0,a=e.h1,s=e.h2,l=e.h3,d=0;d<16;++d)t[d]=r.getInt32Le(),c=l^a&(s^l),n=i+c+co[d]+t[d],f=bl[d],i=l,l=s,s=a,a+=n<<f|n>>>32-f;for(;d<32;++d)c=s^l&(a^s),n=i+c+co[d]+t[Jc[d]],f=bl[d],i=l,l=s,s=a,a+=n<<f|n>>>32-f;for(;d<48;++d)c=a^s^l,n=i+c+co[d]+t[Jc[d]],f=bl[d],i=l,l=s,s=a,a+=n<<f|n>>>32-f;for(;d<64;++d)c=s^(a|~l),n=i+c+co[d]+t[Jc[d]],f=bl[d],i=l,l=s,s=a,a+=n<<f|n>>>32-f;e.h0=e.h0+i|0,e.h1=e.h1+a|0,e.h2=e.h2+s|0,e.h3=e.h3+l|0,p-=64}}});var as=le((Gq,eE)=>{var Xc=ft();Rt();var $_=eE.exports=Xc.pem=Xc.pem||{};$_.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=Zc(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=Zc(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=Zc(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=Zc(e.headers[i]);return e.procType&&(r+=`\r
`),r+=Xc.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};$_.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,a;a=r.exec(e),!!a;){var s=a[1];s==="NEW CERTIFICATE REQUEST"&&(s="CERTIFICATE REQUEST");var l={type:s,procType:null,contentDomain:null,dekInfo:null,headers:[],body:Xc.util.decode64(a[3])};if(t.push(l),!!a[2]){for(var c=a[2].split(i),f=0;a&&f<c.length;){for(var d=c[f].replace(/\s+$/,""),p=f+1;p<c.length;++p){var g=c[p];if(!/\s/.test(g[0]))break;d+=g,f=p}if(a=d.match(n),a){for(var v={name:a[1],values:[]},m=a[2].split(","),_=0;_<m.length;++_)v.values.push(NL(m[_]));if(l.procType)if(!l.contentDomain&&v.name==="Content-Domain")l.contentDomain=m[0]||"";else if(!l.dekInfo&&v.name==="DEK-Info"){if(v.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');l.dekInfo={algorithm:m[0],parameters:m[1]||null}}else l.headers.push(v);else{if(v.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(v.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');l.procType={version:m[0],type:m[1]}}}++f}if(l.procType==="ENCRYPTED"&&!l.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function Zc(e){for(var t=e.name+": ",r=[],n=function(c,f){return" "+f},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var a=0,s=-1,i=0;i<t.length;++i,++a)if(a>65&&s!==-1){var l=t[s];l===","?(++s,t=t.substr(0,s)+`\r
 `+t.substr(s)):t=t.substr(0,s)+`\r
`+l+t.substr(s+1),a=i-s-1,s=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(s=i);return t}function NL(e){return e.replace(/^\s+/,"")}});var Sl=le((Kq,rE)=>{var ir=ft();Vc();T0();Rt();rE.exports=ir.des=ir.des||{};ir.des.startEncrypting=function(e,t,r,n){var i=$c({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};ir.des.createEncryptionCipher=function(e,t){return $c({key:e,output:null,decrypt:!1,mode:t})};ir.des.startDecrypting=function(e,t,r,n){var i=$c({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};ir.des.createDecryptionCipher=function(e,t){return $c({key:e,output:null,decrypt:!0,mode:t})};ir.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,i){return tE(r._keys,n,i,!1)},decrypt:function(n,i){return tE(r._keys,n,i,!0)}}}),r._init=!1};ir.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=ir.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=GL(t),this._init=!0}};wi("DES-ECB",ir.cipher.modes.ecb);wi("DES-CBC",ir.cipher.modes.cbc);wi("DES-CFB",ir.cipher.modes.cfb);wi("DES-OFB",ir.cipher.modes.ofb);wi("DES-CTR",ir.cipher.modes.ctr);wi("3DES-ECB",ir.cipher.modes.ecb);wi("3DES-CBC",ir.cipher.modes.cbc);wi("3DES-CFB",ir.cipher.modes.cfb);wi("3DES-OFB",ir.cipher.modes.ofb);wi("3DES-CTR",ir.cipher.modes.ctr);function wi(e,t){var r=function(){return new ir.des.Algorithm(e,t)};ir.cipher.registerAlgorithm(e,r)}var DL=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],LL=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],PL=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],OL=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],ML=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],UL=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],FL=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],qL=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function GL(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],p=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],g=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],v=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],m=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],_=e.length()>8?3:1,E=[],A=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],x=0,B,L=0;L<_;L++){var N=e.getInt32(),P=e.getInt32();B=(N>>>4^P)&252645135,P^=B,N^=B<<4,B=(P>>>-16^N)&65535,N^=B,P^=B<<-16,B=(N>>>2^P)&858993459,P^=B,N^=B<<2,B=(P>>>-16^N)&65535,N^=B,P^=B<<-16,B=(N>>>1^P)&1431655765,P^=B,N^=B<<1,B=(P>>>8^N)&16711935,N^=B,P^=B<<8,B=(N>>>1^P)&1431655765,P^=B,N^=B<<1,B=N<<8|P>>>20&240,N=P<<24|P<<8&16711680|P>>>8&65280|P>>>24&240,P=B;for(var ae=0;ae<A.length;++ae){A[ae]?(N=N<<2|N>>>26,P=P<<2|P>>>26):(N=N<<1|N>>>27,P=P<<1|P>>>27),N&=-15,P&=-15;var j=t[N>>>28]|r[N>>>24&15]|n[N>>>20&15]|i[N>>>16&15]|a[N>>>12&15]|s[N>>>8&15]|l[N>>>4&15],V=c[P>>>28]|f[P>>>24&15]|d[P>>>20&15]|p[P>>>16&15]|g[P>>>12&15]|v[P>>>8&15]|m[P>>>4&15];B=(V>>>16^j)&65535,E[x++]=j^B,E[x++]=V^B<<16}}return E}function tE(e,t,r,n){var i=e.length===32?3:9,a;i===3?a=n?[30,-2,-2]:[0,32,2]:a=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var s,l=t[0],c=t[1];s=(l>>>4^c)&252645135,c^=s,l^=s<<4,s=(l>>>16^c)&65535,c^=s,l^=s<<16,s=(c>>>2^l)&858993459,l^=s,c^=s<<2,s=(c>>>8^l)&16711935,l^=s,c^=s<<8,s=(l>>>1^c)&1431655765,c^=s,l^=s<<1,l=l<<1|l>>>31,c=c<<1|c>>>31;for(var f=0;f<i;f+=3){for(var d=a[f+1],p=a[f+2],g=a[f];g!=d;g+=p){var v=c^e[g],m=(c>>>4|c<<28)^e[g+1];s=l,l=c,c=s^(LL[v>>>24&63]|OL[v>>>16&63]|UL[v>>>8&63]|qL[v&63]|DL[m>>>24&63]|PL[m>>>16&63]|ML[m>>>8&63]|FL[m&63])}s=l,l=c,c=s}l=l>>>1|l<<31,c=c>>>1|c<<31,s=(l>>>1^c)&1431655765,c^=s,l^=s<<1,s=(c>>>8^l)&16711935,l^=s,c^=s<<8,s=(c>>>2^l)&858993459,l^=s,c^=s<<2,s=(l>>>16^c)&65535,c^=s,l^=s<<16,s=(l>>>4^c)&252645135,c^=s,l^=s<<4,r[0]=l,r[1]=c}function $c(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=ir.cipher.createDecipher(r,e.key):n=ir.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(a,s){var l=null;s instanceof ir.util.ByteBuffer&&(l=s,s={}),s=s||{},s.output=l,s.iv=a,i.call(n,s)},n}});var ef=le((Vq,nE)=>{var Zr=ft();uo();Ci();Rt();var KL=Zr.pkcs5=Zr.pkcs5||{},Qi;Zr.util.isNodejs&&!Zr.options.usePureJavaScript&&(Qi=require("crypto"));nE.exports=Zr.pbkdf2=KL.pbkdf2=function(e,t,r,n,i,a){if(typeof i=="function"&&(a=i,i=null),Zr.util.isNodejs&&!Zr.options.usePureJavaScript&&Qi.pbkdf2&&(i===null||typeof i!="object")&&(Qi.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),a?Qi.pbkdf2Sync.length===4?Qi.pbkdf2(e,t,r,n,function(B,L){if(B)return a(B);a(null,L.toString("binary"))}):Qi.pbkdf2(e,t,r,n,i,function(B,L){if(B)return a(B);a(null,L.toString("binary"))}):Qi.pbkdf2Sync.length===4?Qi.pbkdf2Sync(e,t,r,n).toString("binary"):Qi.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i=="undefined"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Zr.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Zr.md[i].create()}var s=i.digestLength;if(n>4294967295*s){var l=new Error("Derived key is too long.");if(a)return a(l);throw l}var c=Math.ceil(n/s),f=n-(c-1)*s,d=Zr.hmac.create();d.start(i,e);var p="",g,v,m;if(!a){for(var _=1;_<=c;++_){d.start(null,null),d.update(t),d.update(Zr.util.int32ToBytes(_)),g=m=d.digest().getBytes();for(var E=2;E<=r;++E)d.start(null,null),d.update(m),v=d.digest().getBytes(),g=Zr.util.xorBytes(g,v,s),m=v;p+=_<c?g:g.substr(0,f)}return p}var _=1,E;function A(){if(_>c)return a(null,p);d.start(null,null),d.update(t),d.update(Zr.util.int32ToBytes(_)),g=m=d.digest().getBytes(),E=2,x()}function x(){if(E<=r)return d.start(null,null),d.update(m),v=d.digest().getBytes(),g=Zr.util.xorBytes(g,v,s),m=v,++E,Zr.util.setImmediate(x);p+=_<c?g:g.substr(0,f),++_,A()}A()}});var D0=le((Hq,lE)=>{var bi=ft();Ci();Rt();var iE=lE.exports=bi.sha256=bi.sha256||{};bi.md.sha256=bi.md.algorithms.sha256=iE;iE.create=function(){aE||VL();var e=null,t=bi.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return t=bi.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=bi.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=s[1],s[1]=s[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),oE(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=bi.util.createBuffer();i.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(N0.substr(0,n.blockLength-s));for(var l,c,f=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)l=n.fullMessageLength[d+1]*8,c=l/4294967296>>>0,f+=c,i.putInt32(f>>>0),f=l>>>0;i.putInt32(f);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};oE(p,r,i);var g=bi.util.createBuffer();return g.putInt32(p.h0),g.putInt32(p.h1),g.putInt32(p.h2),g.putInt32(p.h3),g.putInt32(p.h4),g.putInt32(p.h5),g.putInt32(p.h6),g.putInt32(p.h7),g},n};var N0=null,aE=!1,sE=null;function VL(){N0=String.fromCharCode(128),N0+=bi.util.fillString(String.fromCharCode(0),64),sE=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],aE=!0}function oE(e,t,r){for(var n,i,a,s,l,c,f,d,p,g,v,m,_,E,A,x=r.length();x>=64;){for(f=0;f<16;++f)t[f]=r.getInt32();for(;f<64;++f)n=t[f-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[f-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[f]=n+t[f-7]+i+t[f-16]|0;for(d=e.h0,p=e.h1,g=e.h2,v=e.h3,m=e.h4,_=e.h5,E=e.h6,A=e.h7,f=0;f<64;++f)s=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),l=E^m&(_^E),a=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),c=d&p|g&(d^p),n=A+s+l+sE[f]+t[f],i=a+c,A=E,E=_,_=m,m=v+n>>>0,v=g,g=p,p=d,d=n+i>>>0;e.h0=e.h0+d|0,e.h1=e.h1+p|0,e.h2=e.h2+g|0,e.h3=e.h3+v|0,e.h4=e.h4+m|0,e.h5=e.h5+_|0,e.h6=e.h6+E|0,e.h7=e.h7+A|0,x-=64}}});var L0=le((Yq,uE)=>{var Si=ft();Rt();var tf=null;Si.util.isNodejs&&!Si.options.usePureJavaScript&&!process.versions["node-webkit"]&&(tf=require("crypto"));var HL=uE.exports=Si.prng=Si.prng||{};HL.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(f,d){if(!d)return t.generateSync(f);var p=t.plugin.cipher,g=t.plugin.increment,v=t.plugin.formatKey,m=t.plugin.formatSeed,_=Si.util.createBuffer();t.key=null,E();function E(A){if(A)return d(A);if(_.length()>=f)return d(null,_.getBytes(f));if(t.generated>1048575&&(t.key=null),t.key===null)return Si.util.nextTick(function(){a(E)});var x=p(t.key,t.seed);t.generated+=x.length,_.putBytes(x),t.key=v(p(t.key,g(t.seed))),t.seed=m(p(t.key,t.seed)),Si.util.setImmediate(E)}},t.generateSync=function(f){var d=t.plugin.cipher,p=t.plugin.increment,g=t.plugin.formatKey,v=t.plugin.formatSeed;t.key=null;for(var m=Si.util.createBuffer();m.length()<f;){t.generated>1048575&&(t.key=null),t.key===null&&s();var _=d(t.key,t.seed);t.generated+=_.length,m.putBytes(_),t.key=g(d(t.key,p(t.seed))),t.seed=v(d(t.key,t.seed))}return m.getBytes(f)};function a(f){if(t.pools[0].messageLength>=32)return l(),f();var d=32-t.pools[0].messageLength<<5;t.seedFile(d,function(p,g){if(p)return f(p);t.collect(g),l(),f()})}function s(){if(t.pools[0].messageLength>=32)return l();var f=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(f)),l()}function l(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var f=t.plugin.md.create();f.update(t.keyBytes);for(var d=1,p=0;p<32;++p)t.reseeds%d==0&&(f.update(t.pools[p].digest().getBytes()),t.pools[p].start()),d=d<<1;t.keyBytes=f.digest().getBytes(),f.start(),f.update(t.keyBytes);var g=f.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(g),t.generated=0}function c(f){var d=null,p=Si.util.globalScope,g=p.crypto||p.msCrypto;g&&g.getRandomValues&&(d=function(N){return g.getRandomValues(N)});var v=Si.util.createBuffer();if(d)for(;v.length()<f;){var m=Math.max(1,Math.min(f-v.length(),65536)/4),_=new Uint32Array(Math.floor(m));try{d(_);for(var E=0;E<_.length;++E)v.putInt32(_[E])}catch(N){if(!(typeof QuotaExceededError!="undefined"&&N instanceof QuotaExceededError))throw N}}if(v.length()<f)for(var A,x,B,L=Math.floor(Math.random()*65536);v.length()<f;){x=16807*(L&65535),A=16807*(L>>16),x+=(A&32767)<<16,x+=A>>15,x=(x&2147483647)+(x>>31),L=x&4294967295;for(var E=0;E<3;++E)B=L>>>(E<<3),B^=Math.floor(Math.random()*256),v.putByte(B&255)}return v.getBytes(f)}return tf?(t.seedFile=function(f,d){tf.randomBytes(f,function(p,g){if(p)return d(p);d(null,g.toString())})},t.seedFileSync=function(f){return tf.randomBytes(f).toString()}):(t.seedFile=function(f,d){try{d(null,c(f))}catch(p){d(p)}},t.seedFileSync=c),t.collect=function(f){for(var d=f.length,p=0;p<d;++p)t.pools[t.pool].update(f.substr(p,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(f,d){for(var p="",g=0;g<d;g+=8)p+=String.fromCharCode(f>>g&255);t.collect(p)},t.registerWorker=function(f){if(f===self)t.seedFile=function(p,g){function v(m){var _=m.data;_.forge&&_.forge.prng&&(self.removeEventListener("message",v),g(_.forge.prng.err,_.forge.prng.bytes))}self.addEventListener("message",v),self.postMessage({forge:{prng:{needed:p}}})};else{var d=function(p){var g=p.data;g.forge&&g.forge.prng&&t.seedFile(g.forge.prng.needed,function(v,m){f.postMessage({forge:{prng:{err:v,bytes:m}}})})};f.addEventListener("message",d)}},t}});var Un=le((jq,P0)=>{var Ir=ft();Sa();D0();L0();Rt();(function(){if(Ir.random&&Ir.random.getBytes){P0.exports=Ir.random;return}(function(e){var t={},r=new Array(4),n=Ir.util.createBuffer();t.formatKey=function(p){var g=Ir.util.createBuffer(p);return p=new Array(4),p[0]=g.getInt32(),p[1]=g.getInt32(),p[2]=g.getInt32(),p[3]=g.getInt32(),Ir.aes._expandKey(p,!1)},t.formatSeed=function(p){var g=Ir.util.createBuffer(p);return p=new Array(4),p[0]=g.getInt32(),p[1]=g.getInt32(),p[2]=g.getInt32(),p[3]=g.getInt32(),p},t.cipher=function(p,g){return Ir.aes._updateBlock(p,g,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(p){return++p[3],p},t.md=Ir.md.sha256;function i(){var p=Ir.prng.create(t);return p.getBytes=function(g,v){return p.generate(g,v)},p.getBytesSync=function(g){return p.generate(g)},p}var a=i(),s=null,l=Ir.util.globalScope,c=l.crypto||l.msCrypto;if(c&&c.getRandomValues&&(s=function(p){return c.getRandomValues(p)}),Ir.options.usePureJavaScript||!Ir.util.isNodejs&&!s){if(typeof window=="undefined"||window.document===void 0,a.collectInt(+new Date,32),typeof navigator!="undefined"){var f="";for(var d in navigator)try{typeof navigator[d]=="string"&&(f+=navigator[d])}catch(p){}a.collect(f),f=null}e&&(e().mousemove(function(p){a.collectInt(p.clientX,16),a.collectInt(p.clientY,16)}),e().keypress(function(p){a.collectInt(p.charCode,8)}))}if(!Ir.random)Ir.random=a;else for(var d in a)Ir.random[d]=a[d];Ir.random.createInstance=i,P0.exports=Ir.random})(typeof jQuery!="undefined"?jQuery:null)})()});var M0=le((Wq,dE)=>{var fn=ft();Rt();var O0=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],cE=[1,2,3,5],YL=function(e,t){return e<<t&65535|(e&65535)>>16-t},jL=function(e,t){return(e&65535)>>t|e<<16-t&65535};dE.exports=fn.rc2=fn.rc2||{};fn.rc2.expandKey=function(e,t){typeof e=="string"&&(e=fn.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,a=Math.ceil(i/8),s=255>>(i&7),l;for(l=n;l<128;l++)r.putByte(O0[r.at(l-1)+r.at(l-n)&255]);for(r.setAt(128-a,O0[r.at(128-a)&s]),l=127-a;l>=0;l--)r.setAt(l,O0[r.at(l+1)^r.at(l+a)]);return r};var fE=function(e,t,r){var n=!1,i=null,a=null,s=null,l,c,f,d,p=[];for(e=fn.rc2.expandKey(e,t),f=0;f<64;f++)p.push(e.getInt16Le());r?(l=function(m){for(f=0;f<4;f++)m[f]+=p[d]+(m[(f+3)%4]&m[(f+2)%4])+(~m[(f+3)%4]&m[(f+1)%4]),m[f]=YL(m[f],cE[f]),d++},c=function(m){for(f=0;f<4;f++)m[f]+=p[m[(f+3)%4]&63]}):(l=function(m){for(f=3;f>=0;f--)m[f]=jL(m[f],cE[f]),m[f]-=p[d]+(m[(f+3)%4]&m[(f+2)%4])+(~m[(f+3)%4]&m[(f+1)%4]),d--},c=function(m){for(f=3;f>=0;f--)m[f]-=p[m[(f+3)%4]&63]});var g=function(m){var _=[];for(f=0;f<4;f++){var E=i.getInt16Le();s!==null&&(r?E^=s.getInt16Le():s.putInt16Le(E)),_.push(E&65535)}d=r?0:63;for(var A=0;A<m.length;A++)for(var x=0;x<m[A][0];x++)m[A][1](_);for(f=0;f<4;f++)s!==null&&(r?s.putInt16Le(_[f]):_[f]^=s.getInt16Le()),a.putInt16Le(_[f])},v=null;return v={start:function(m,_){m&&typeof m=="string"&&(m=fn.util.createBuffer(m)),n=!1,i=fn.util.createBuffer(),a=_||new fn.util.createBuffer,s=m,v.output=a},update:function(m){for(n||i.putBuffer(m);i.length()>=8;)g([[5,l],[1,c],[6,l],[1,c],[5,l]])},finish:function(m){var _=!0;if(r)if(m)_=m(8,i,!r);else{var E=i.length()===8?8:8-i.length();i.fillWithByte(E,E)}if(_&&(n=!0,v.update()),!r&&(_=i.length()===0,_))if(m)_=m(8,a,!r);else{var A=a.length(),x=a.at(A-1);x>A?_=!1:a.truncate(x)}return _}},v};fn.rc2.startEncrypting=function(e,t,r){var n=fn.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};fn.rc2.createEncryptionCipher=function(e,t){return fE(e,t,!0)};fn.rc2.startDecrypting=function(e,t,r){var n=fn.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};fn.rc2.createDecryptionCipher=function(e,t){return fE(e,t,!1)}});var xl=le((zq,EE)=>{var U0=ft();EE.exports=U0.jsbn=U0.jsbn||{};var Xi,WL=244837814094590,hE=(WL&16777215)==15715070;function he(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}U0.jsbn.BigInteger=he;function Bt(){return new he(null)}function zL(e,t,r,n,i,a){for(;--a>=0;){var s=t*this.data[e++]+r.data[n]+i;i=Math.floor(s/67108864),r.data[n++]=s&67108863}return i}function JL(e,t,r,n,i,a){for(var s=t&32767,l=t>>15;--a>=0;){var c=this.data[e]&32767,f=this.data[e++]>>15,d=l*c+f*s;c=s*c+((d&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(d>>>15)+l*f+(i>>>30),r.data[n++]=c&1073741823}return i}function pE(e,t,r,n,i,a){for(var s=t&16383,l=t>>14;--a>=0;){var c=this.data[e]&16383,f=this.data[e++]>>14,d=l*c+f*s;c=s*c+((d&16383)<<14)+r.data[n]+i,i=(c>>28)+(d>>14)+l*f,r.data[n++]=c&268435455}return i}typeof navigator=="undefined"?(he.prototype.am=pE,Xi=28):hE&&navigator.appName=="Microsoft Internet Explorer"?(he.prototype.am=JL,Xi=30):hE&&navigator.appName!="Netscape"?(he.prototype.am=zL,Xi=26):(he.prototype.am=pE,Xi=28);he.prototype.DB=Xi;he.prototype.DM=(1<<Xi)-1;he.prototype.DV=1<<Xi;var F0=52;he.prototype.FV=Math.pow(2,F0);he.prototype.F1=F0-Xi;he.prototype.F2=2*Xi-F0;var QL="0123456789abcdefghijklmnopqrstuvwxyz",rf=new Array,fo,Fn;fo="0".charCodeAt(0);for(Fn=0;Fn<=9;++Fn)rf[fo++]=Fn;fo="a".charCodeAt(0);for(Fn=10;Fn<36;++Fn)rf[fo++]=Fn;fo="A".charCodeAt(0);for(Fn=10;Fn<36;++Fn)rf[fo++]=Fn;function gE(e){return QL.charAt(e)}function mE(e,t){var r=rf[e.charCodeAt(t)];return r==null?-1:r}function XL(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function ZL(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function xa(e){var t=Bt();return t.fromInt(e),t}function $L(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,a=0;--n>=0;){var s=r==8?e[n]&255:mE(e,n);if(s<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,a==0?this.data[this.t++]=s:a+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this.data[this.t++]=s>>this.DB-a):this.data[this.t-1]|=s<<a,a+=r,a>=this.DB&&(a-=this.DB)}r==8&&(e[0]&128)!=0&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&he.ZERO.subTo(this,this)}function e6(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}function t6(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,a="",s=this.t,l=this.DB-s*this.DB%t;if(s-- >0)for(l<this.DB&&(n=this.data[s]>>l)>0&&(i=!0,a=gE(n));s>=0;)l<t?(n=(this.data[s]&(1<<l)-1)<<t-l,n|=this.data[--s]>>(l+=this.DB-t)):(n=this.data[s]>>(l-=t)&r,l<=0&&(l+=this.DB,--s)),n>0&&(i=!0),i&&(a+=gE(n));return i?a:"0"}function r6(){var e=Bt();return he.ZERO.subTo(this,e),e}function n6(){return this.s<0?this.negate():this}function i6(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}function nf(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function a6(){return this.t<=0?0:this.DB*(this.t-1)+nf(this.data[this.t-1]^this.s&this.DM)}function s6(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}function o6(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}function l6(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM,l;for(l=this.t-1;l>=0;--l)t.data[l+a+1]=this.data[l]>>n|s,s=(this.data[l]&i)<<r;for(l=a-1;l>=0;--l)t.data[l]=0;t.data[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()}function u6(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,a=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var s=r+1;s<this.t;++s)t.data[s-r-1]|=(this.data[s]&a)<<i,t.data[s-r]=this.data[s]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&a)<<i),t.t=this.t-r,t.clamp()}function c6(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}function f6(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&he.ZERO.subTo(t,t)}function d6(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}function h6(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Bt());var a=Bt(),s=this.s,l=e.s,c=this.DB-nf(n.data[n.t-1]);c>0?(n.lShiftTo(c,a),i.lShiftTo(c,r)):(n.copyTo(a),i.copyTo(r));var f=a.t,d=a.data[f-1];if(d!=0){var p=d*(1<<this.F1)+(f>1?a.data[f-2]>>this.F2:0),g=this.FV/p,v=(1<<this.F1)/p,m=1<<this.F2,_=r.t,E=_-f,A=t==null?Bt():t;for(a.dlShiftTo(E,A),r.compareTo(A)>=0&&(r.data[r.t++]=1,r.subTo(A,r)),he.ONE.dlShiftTo(f,A),A.subTo(a,a);a.t<f;)a.data[a.t++]=0;for(;--E>=0;){var x=r.data[--_]==d?this.DM:Math.floor(r.data[_]*g+(r.data[_-1]+m)*v);if((r.data[_]+=a.am(0,x,r,E,0,f))<x)for(a.dlShiftTo(E,A),r.subTo(A,r);r.data[_]<--x;)r.subTo(A,r)}t!=null&&(r.drShiftTo(f,t),s!=l&&he.ZERO.subTo(t,t)),r.t=f,r.clamp(),c>0&&r.rShiftTo(c,r),s<0&&he.ZERO.subTo(r,r)}}}function p6(e){var t=Bt();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(he.ZERO)>0&&e.subTo(t,t),t}function ss(e){this.m=e}function g6(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function m6(e){return e}function y6(e){e.divRemTo(this.m,null,e)}function v6(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function _6(e,t){e.squareTo(t),this.reduce(t)}ss.prototype.convert=g6;ss.prototype.revert=m6;ss.prototype.reduce=y6;ss.prototype.mulTo=v6;ss.prototype.sqrTo=_6;function E6(){if(this.t<1)return 0;var e=this.data[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function os(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function C6(e){var t=Bt();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(he.ZERO)>0&&this.m.subTo(t,t),t}function A6(e){var t=Bt();return e.copyTo(t),this.reduce(t),t}function w6(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function b6(e,t){e.squareTo(t),this.reduce(t)}function S6(e,t,r){e.multiplyTo(t,r),this.reduce(r)}os.prototype.convert=C6;os.prototype.revert=A6;os.prototype.reduce=w6;os.prototype.mulTo=S6;os.prototype.sqrTo=b6;function T6(){return(this.t>0?this.data[0]&1:this.s)==0}function x6(e,t){if(e>4294967295||e<1)return he.ONE;var r=Bt(),n=Bt(),i=t.convert(this),a=nf(e)-1;for(i.copyTo(r);--a>=0;)if(t.sqrTo(r,n),(e&1<<a)>0)t.mulTo(n,i,r);else{var s=r;r=n,n=s}return t.revert(r)}function I6(e,t){var r;return e<256||t.isEven()?r=new ss(t):r=new os(t),this.exp(e,r)}he.prototype.copyTo=XL;he.prototype.fromInt=ZL;he.prototype.fromString=$L;he.prototype.clamp=e6;he.prototype.dlShiftTo=s6;he.prototype.drShiftTo=o6;he.prototype.lShiftTo=l6;he.prototype.rShiftTo=u6;he.prototype.subTo=c6;he.prototype.multiplyTo=f6;he.prototype.squareTo=d6;he.prototype.divRemTo=h6;he.prototype.invDigit=E6;he.prototype.isEven=T6;he.prototype.exp=x6;he.prototype.toString=t6;he.prototype.negate=r6;he.prototype.abs=n6;he.prototype.compareTo=i6;he.prototype.bitLength=a6;he.prototype.mod=p6;he.prototype.modPowInt=I6;he.ZERO=xa(0);he.ONE=xa(1);function k6(){var e=Bt();return this.copyTo(e),e}function R6(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function B6(){return this.t==0?this.s:this.data[0]<<24>>24}function N6(){return this.t==0?this.s:this.data[0]<<16>>16}function D6(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function L6(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function P6(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=xa(r),i=Bt(),a=Bt(),s="";for(this.divRemTo(n,i,a);i.signum()>0;)s=(r+a.intValue()).toString(e).substr(1)+s,i.divRemTo(n,i,a);return a.intValue().toString(e)+s}function O6(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,a=0,s=0,l=0;l<e.length;++l){var c=mE(e,l);if(c<0){e.charAt(l)=="-"&&this.signum()==0&&(i=!0);continue}s=t*s+c,++a>=r&&(this.dMultiply(n),this.dAddOffset(s,0),a=0,s=0)}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(s,0)),i&&he.ZERO.subTo(this,this)}function M6(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(he.ONE.shiftLeft(e-1),q0,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(he.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function U6(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function F6(e){return this.compareTo(e)==0}function q6(e){return this.compareTo(e)<0?this:e}function G6(e){return this.compareTo(e)>0?this:e}function K6(e,t,r){var n,i,a=Math.min(e.t,this.t);for(n=0;n<a;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=a;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=a;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function V6(e,t){return e&t}function H6(e){var t=Bt();return this.bitwiseTo(e,V6,t),t}function q0(e,t){return e|t}function Y6(e){var t=Bt();return this.bitwiseTo(e,q0,t),t}function yE(e,t){return e^t}function j6(e){var t=Bt();return this.bitwiseTo(e,yE,t),t}function vE(e,t){return e&~t}function W6(e){var t=Bt();return this.bitwiseTo(e,vE,t),t}function z6(){for(var e=Bt(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}function J6(e){var t=Bt();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function Q6(e){var t=Bt();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function X6(e){if(e==0)return-1;var t=0;return(e&65535)==0&&(e>>=16,t+=16),(e&255)==0&&(e>>=8,t+=8),(e&15)==0&&(e>>=4,t+=4),(e&3)==0&&(e>>=2,t+=2),(e&1)==0&&++t,t}function Z6(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+X6(this.data[e]);return this.s<0?this.t*this.DB:-1}function $6(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function eP(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=$6(this.data[r]^t);return e}function tP(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}function rP(e,t){var r=he.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function nP(e){return this.changeBit(e,q0)}function iP(e){return this.changeBit(e,vE)}function aP(e){return this.changeBit(e,yE)}function sP(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}function oP(e){var t=Bt();return this.addTo(e,t),t}function lP(e){var t=Bt();return this.subTo(e,t),t}function uP(e){var t=Bt();return this.multiplyTo(e,t),t}function cP(e){var t=Bt();return this.divRemTo(e,t,null),t}function fP(e){var t=Bt();return this.divRemTo(e,null,t),t}function dP(e){var t=Bt(),r=Bt();return this.divRemTo(e,t,r),new Array(t,r)}function hP(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function pP(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function Tl(){}function _E(e){return e}function gP(e,t,r){e.multiplyTo(t,r)}function mP(e,t){e.squareTo(t)}Tl.prototype.convert=_E;Tl.prototype.revert=_E;Tl.prototype.mulTo=gP;Tl.prototype.sqrTo=mP;function yP(e){return this.exp(e,new Tl)}function vP(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}function _P(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}function ho(e){this.r2=Bt(),this.q3=Bt(),he.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function EP(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Bt();return e.copyTo(t),this.reduce(t),t}function CP(e){return e}function AP(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function wP(e,t){e.squareTo(t),this.reduce(t)}function bP(e,t,r){e.multiplyTo(t,r),this.reduce(r)}ho.prototype.convert=EP;ho.prototype.revert=CP;ho.prototype.reduce=AP;ho.prototype.mulTo=bP;ho.prototype.sqrTo=wP;function SP(e,t){var r=e.bitLength(),n,i=xa(1),a;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?a=new ss(t):t.isEven()?a=new ho(t):a=new os(t);var s=new Array,l=3,c=n-1,f=(1<<n)-1;if(s[1]=a.convert(this),n>1){var d=Bt();for(a.sqrTo(s[1],d);l<=f;)s[l]=Bt(),a.mulTo(d,s[l-2],s[l]),l+=2}var p=e.t-1,g,v=!0,m=Bt(),_;for(r=nf(e.data[p])-1;p>=0;){for(r>=c?g=e.data[p]>>r-c&f:(g=(e.data[p]&(1<<r+1)-1)<<c-r,p>0&&(g|=e.data[p-1]>>this.DB+r-c)),l=n;(g&1)==0;)g>>=1,--l;if((r-=l)<0&&(r+=this.DB,--p),v)s[g].copyTo(i),v=!1;else{for(;l>1;)a.sqrTo(i,m),a.sqrTo(m,i),l-=2;l>0?a.sqrTo(i,m):(_=i,i=m,m=_),a.mulTo(m,s[g],i)}for(;p>=0&&(e.data[p]&1<<r)==0;)a.sqrTo(i,m),_=i,i=m,m=_,--r<0&&(r=this.DB-1,--p)}return a.revert(i)}function TP(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return t;for(i<a&&(a=i),a>0&&(t.rShiftTo(a,t),r.rShiftTo(a,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}function xP(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}function IP(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return he.ZERO;for(var r=e.clone(),n=this.clone(),i=xa(1),a=xa(0),s=xa(0),l=xa(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!a.isEven())&&(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),t?((!s.isEven()||!l.isEven())&&(s.addTo(this,s),l.subTo(e,l)),s.rShiftTo(1,s)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(s,i),a.subTo(l,a)):(n.subTo(r,n),t&&s.subTo(i,s),l.subTo(a,l))}if(n.compareTo(he.ONE)!=0)return he.ZERO;if(l.compareTo(e)>=0)return l.subtract(e);if(l.signum()<0)l.addTo(e,l);else return l;return l.signum()<0?l.add(e):l}var oi=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],kP=(1<<26)/oi[oi.length-1];function RP(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=oi[oi.length-1]){for(t=0;t<oi.length;++t)if(r.data[0]==oi[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<oi.length;){for(var n=oi[t],i=t+1;i<oi.length&&n<kP;)n*=oi[i++];for(n=r.modInt(n);t<i;)if(n%oi[t++]==0)return!1}return r.millerRabin(e)}function BP(e){var t=this.subtract(he.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=NP(),a,s=0;s<e;++s){do a=new he(this.bitLength(),i);while(a.compareTo(he.ONE)<=0||a.compareTo(t)>=0);var l=a.modPow(n,this);if(l.compareTo(he.ONE)!=0&&l.compareTo(t)!=0){for(var c=1;c++<r&&l.compareTo(t)!=0;)if(l=l.modPowInt(2,this),l.compareTo(he.ONE)==0)return!1;if(l.compareTo(t)!=0)return!1}}return!0}function NP(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}he.prototype.chunkSize=D6;he.prototype.toRadix=P6;he.prototype.fromRadix=O6;he.prototype.fromNumber=M6;he.prototype.bitwiseTo=K6;he.prototype.changeBit=rP;he.prototype.addTo=sP;he.prototype.dMultiply=hP;he.prototype.dAddOffset=pP;he.prototype.multiplyLowerTo=vP;he.prototype.multiplyUpperTo=_P;he.prototype.modInt=xP;he.prototype.millerRabin=BP;he.prototype.clone=k6;he.prototype.intValue=R6;he.prototype.byteValue=B6;he.prototype.shortValue=N6;he.prototype.signum=L6;he.prototype.toByteArray=U6;he.prototype.equals=F6;he.prototype.min=q6;he.prototype.max=G6;he.prototype.and=H6;he.prototype.or=Y6;he.prototype.xor=j6;he.prototype.andNot=W6;he.prototype.not=z6;he.prototype.shiftLeft=J6;he.prototype.shiftRight=Q6;he.prototype.getLowestSetBit=Z6;he.prototype.bitCount=eP;he.prototype.testBit=tP;he.prototype.setBit=nP;he.prototype.clearBit=iP;he.prototype.flipBit=aP;he.prototype.add=oP;he.prototype.subtract=lP;he.prototype.multiply=uP;he.prototype.divide=cP;he.prototype.remainder=fP;he.prototype.divideAndRemainder=dP;he.prototype.modPow=SP;he.prototype.modInverse=IP;he.prototype.pow=yP;he.prototype.gcd=TP;he.prototype.isProbablePrime=RP});var po=le((Jq,bE)=>{var Ti=ft();Ci();Rt();var CE=bE.exports=Ti.sha1=Ti.sha1||{};Ti.md.sha1=Ti.md.algorithms.sha1=CE;CE.create=function(){AE||DP();var e=null,t=Ti.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return t=Ti.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=Ti.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=s[1],s[1]=s[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),wE(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Ti.util.createBuffer();i.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(G0.substr(0,n.blockLength-s));for(var l,c,f=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)l=n.fullMessageLength[d+1]*8,c=l/4294967296>>>0,f+=c,i.putInt32(f>>>0),f=l>>>0;i.putInt32(f);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};wE(p,r,i);var g=Ti.util.createBuffer();return g.putInt32(p.h0),g.putInt32(p.h1),g.putInt32(p.h2),g.putInt32(p.h3),g.putInt32(p.h4),g},n};var G0=null,AE=!1;function DP(){G0=String.fromCharCode(128),G0+=Ti.util.fillString(String.fromCharCode(0),64),AE=!0}function wE(e,t,r){for(var n,i,a,s,l,c,f,d,p=r.length();p>=64;){for(i=e.h0,a=e.h1,s=e.h2,l=e.h3,c=e.h4,d=0;d<16;++d)n=r.getInt32(),t[d]=n,f=l^a&(s^l),n=(i<<5|i>>>27)+f+c+1518500249+n,c=l,l=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;d<20;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,f=l^a&(s^l),n=(i<<5|i>>>27)+f+c+1518500249+n,c=l,l=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;d<32;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,f=a^s^l,n=(i<<5|i>>>27)+f+c+1859775393+n,c=l,l=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;d<40;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,f=a^s^l,n=(i<<5|i>>>27)+f+c+1859775393+n,c=l,l=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;d<60;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,f=a&s|l&(a^s),n=(i<<5|i>>>27)+f+c+2400959708+n,c=l,l=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;d<80;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,f=a^s^l,n=(i<<5|i>>>27)+f+c+3395469782+n,c=l,l=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+a|0,e.h2=e.h2+s|0,e.h3=e.h3+l|0,e.h4=e.h4+c|0,p-=64}}});var K0=le((Qq,TE)=>{var xi=ft();Rt();Un();po();var SE=TE.exports=xi.pkcs1=xi.pkcs1||{};SE.encode_rsa_oaep=function(e,t,r){var n,i,a,s;typeof r=="string"?(n=r,i=arguments[3]||void 0,a=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md)),a?a.start():a=xi.md.sha1.create(),s||(s=a);var l=Math.ceil(e.n.bitLength()/8),c=l-2*a.digestLength-2;if(t.length>c){var f=new Error("RSAES-OAEP input message length is too long.");throw f.length=t.length,f.maxLength=c,f}n||(n=""),a.update(n,"raw");for(var d=a.digest(),p="",g=c-t.length,v=0;v<g;v++)p+="\0";var m=d.getBytes()+p+""+t;if(!i)i=xi.random.getBytes(a.digestLength);else if(i.length!==a.digestLength){var f=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw f.seedLength=i.length,f.digestLength=a.digestLength,f}var _=af(i,l-a.digestLength-1,s),E=xi.util.xorBytes(m,_,m.length),A=af(E,a.digestLength,s),x=xi.util.xorBytes(i,A,i.length);return"\0"+x+E};SE.decode_rsa_oaep=function(e,t,r){var n,i,a;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var s=Math.ceil(e.n.bitLength()/8);if(t.length!==s){var E=new Error("RSAES-OAEP encoded message length is invalid.");throw E.length=t.length,E.expectedLength=s,E}if(i===void 0?i=xi.md.sha1.create():i.start(),a||(a=i),s<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var l=i.digest().getBytes(),c=t.charAt(0),f=t.substring(1,i.digestLength+1),d=t.substring(1+i.digestLength),p=af(d,i.digestLength,a),g=xi.util.xorBytes(f,p,f.length),v=af(g,s-i.digestLength-1,a),m=xi.util.xorBytes(d,v,d.length),_=m.substring(0,i.digestLength),E=c!=="\0",A=0;A<i.digestLength;++A)E|=l.charAt(A)!==_.charAt(A);for(var x=1,B=i.digestLength,L=i.digestLength;L<m.length;L++){var N=m.charCodeAt(L),P=N&1^1,ae=x?65534:0;E|=N&ae,x=x&P,B+=x}if(E||m.charCodeAt(B)!==1)throw new Error("Invalid RSAES-OAEP padding.");return m.substring(B+1)};function af(e,t,r){r||(r=xi.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),a=0;a<i;++a){var s=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255);r.start(),r.update(e+s),n+=r.digest().getBytes()}return n.substring(0,t)}});var H0=le((Xq,V0)=>{var Ia=ft();Rt();xl();Un();(function(){if(Ia.prime){V0.exports=Ia.prime;return}var e=V0.exports=Ia.prime=Ia.prime||{},t=Ia.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=function(p,g){return p|g};e.generateProbablePrime=function(p,g,v){typeof g=="function"&&(v=g,g={}),g=g||{};var m=g.algorithm||"PRIMEINC";typeof m=="string"&&(m={name:m}),m.options=m.options||{};var _=g.prng||Ia.random,E={nextBytes:function(A){for(var x=_.getBytesSync(A.length),B=0;B<A.length;++B)A[B]=x.charCodeAt(B)}};if(m.name==="PRIMEINC")return a(p,E,m.options,v);throw new Error("Invalid prime generation algorithm: "+m.name)};function a(p,g,v,m){return"workers"in v?c(p,g,v,m):s(p,g,v,m)}function s(p,g,v,m){var _=f(p,g),E=0,A=d(_.bitLength());"millerRabinTests"in v&&(A=v.millerRabinTests);var x=10;"maxBlockTime"in v&&(x=v.maxBlockTime),l(_,p,g,E,A,x,m)}function l(p,g,v,m,_,E,A){var x=+new Date;do{if(p.bitLength()>g&&(p=f(g,v)),p.isProbablePrime(_))return A(null,p);p.dAddOffset(r[m++%8],0)}while(E<0||+new Date-x<E);Ia.util.setImmediate(function(){l(p,g,v,m,_,E,A)})}function c(p,g,v,m){if(typeof Worker=="undefined")return s(p,g,v,m);var _=f(p,g),E=v.workers,A=v.workLoad||100,x=A*30/8,B=v.workerScript||"forge/prime.worker.js";if(E===-1)return Ia.util.estimateCores(function(N,P){N&&(P=2),E=P-1,L()});L();function L(){E=Math.max(1,E);for(var N=[],P=0;P<E;++P)N[P]=new Worker(B);for(var ae=E,P=0;P<E;++P)N[P].addEventListener("message",V);var j=!1;function V(me){if(!j){--ae;var ye=me.data;if(ye.found){for(var we=0;we<N.length;++we)N[we].terminate();return j=!0,m(null,new t(ye.prime,16))}_.bitLength()>p&&(_=f(p,g));var Ke=_.toString(16);me.target.postMessage({hex:Ke,workLoad:A}),_.dAddOffset(x,0)}}}}function f(p,g){var v=new t(p,g),m=p-1;return v.testBit(m)||v.bitwiseTo(t.ONE.shiftLeft(m),i,v),v.dAddOffset(31-v.mod(n).byteValue(),0),v}function d(p){return p<=100?27:p<=150?18:p<=200?15:p<=250?12:p<=300?9:p<=350?8:p<=400?7:p<=500?6:p<=600?5:p<=800?4:p<=1250?3:2}})()});var Il=le((Zq,DE)=>{var qe=ft();si();xl();Ta();K0();H0();Un();Rt();typeof xt=="undefined"&&(xt=qe.jsbn.BigInteger);var xt,Y0=qe.util.isNodejs?require("crypto"):null,$=qe.asn1,qn=qe.util;qe.pki=qe.pki||{};DE.exports=qe.pki.rsa=qe.rsa=qe.rsa||{};var rt=qe.pki,LP=[6,4,2,4,2,4,6,2],PP={name:"PrivateKeyInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},OP={name:"RSAPrivateKey",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},MP={name:"RSAPublicKey",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},UP=qe.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},FP={name:"DigestInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:$.Class.UNIVERSAL,type:$.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:$.Class.UNIVERSAL,type:$.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},qP=function(e){var t;if(e.algorithm in rt.oids)t=rt.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=$.oidToDer(t).getBytes(),i=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),a=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);a.value.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,n)),a.value.push($.create($.Class.UNIVERSAL,$.Type.NULL,!1,""));var s=$.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(a),i.value.push(s),$.toDer(i).getBytes()},xE=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(xt.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(xt.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new xt(qe.util.bytesToHex(qe.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(xt.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),a=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(a)<0;)i=i.add(t.p);var s=i.subtract(a).multiply(t.qInv).mod(t.p).multiply(t.q).add(a);return s=s.multiply(n.modInverse(t.n)).mod(t.n),s};rt.rsa.encrypt=function(e,t,r){var n=r,i,a=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=IE(e,t,r)):(i=qe.util.createBuffer(),i.putBytes(e));for(var s=new xt(i.toHex(),16),l=xE(s,t,n),c=l.toString(16),f=qe.util.createBuffer(),d=a-Math.ceil(c.length/2);d>0;)f.putByte(0),--d;return f.putBytes(qe.util.hexToBytes(c)),f.getBytes()};rt.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var a=new Error("Encrypted message length is invalid.");throw a.length=e.length,a.expected=i,a}var s=new xt(qe.util.createBuffer(e).toHex(),16);if(s.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=xE(s,t,r),c=l.toString(16),f=qe.util.createBuffer(),d=i-Math.ceil(c.length/2);d>0;)f.putByte(0),--d;return f.putBytes(qe.util.hexToBytes(c)),n!==!1?sf(f.getBytes(),t,r):f.getBytes()};rt.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||qe.random,i={nextBytes:function(l){for(var c=n.getBytesSync(l.length),f=0;f<l.length;++f)l[f]=c.charCodeAt(f)}},a=r.algorithm||"PRIMEINC",s;if(a==="PRIMEINC")s={algorithm:a,state:0,bits:e,rng:i,eInt:t||65537,e:new xt(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},s.e.fromInt(s.eInt);else throw new Error("Invalid key generation algorithm: "+a);return s};rt.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new xt(null);r.fromInt(30);for(var n=0,i=function(p,g){return p|g},a=+new Date,s,l=0;e.keys===null&&(t<=0||l<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,f=c-1;e.pqState===0?(e.num=new xt(c,e.rng),e.num.testBit(f)||e.num.bitwiseTo(xt.ONE.shiftLeft(f),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(KP(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(LP[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(xt.ONE).gcd(e.e).compareTo(xt.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(xt.ONE),e.q1=e.q.subtract(xt.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(xt.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var d=e.e.modInverse(e.phi);e.keys={privateKey:rt.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:rt.rsa.setPublicKey(e.n,e.e)}}s=+new Date,l+=s-a,a=s}return e.keys!==null};rt.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!qe.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(kE("generateKeyPair"))return Y0.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(l,c,f){if(l)return n(l);n(null,{privateKey:rt.privateKeyFromPem(f),publicKey:rt.publicKeyFromPem(c)})});if(RE("generateKey")&&RE("exportKey"))return qn.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:NE(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(l){return qn.globalScope.crypto.subtle.exportKey("pkcs8",l.privateKey)}).then(void 0,function(l){n(l)}).then(function(l){if(l){var c=rt.privateKeyFromAsn1($.fromDer(qe.util.createBuffer(l)));n(null,{privateKey:c,publicKey:rt.setRsaPublicKey(c.n,c.e)})}});if(BE("generateKey")&&BE("exportKey")){var i=qn.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:NE(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(l){var c=l.target.result,f=qn.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);f.oncomplete=function(d){var p=d.target.result,g=rt.privateKeyFromAsn1($.fromDer(qe.util.createBuffer(p)));n(null,{privateKey:g,publicKey:rt.setRsaPublicKey(g.n,g.e)})},f.onerror=function(d){n(d)}},i.onerror=function(l){n(l)};return}}else if(kE("generateKeyPairSync")){var a=Y0.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:rt.privateKeyFromPem(a.privateKey),publicKey:rt.publicKeyFromPem(a.publicKey)}}}var s=rt.rsa.createKeyPairGenerationState(e,t,r);if(!n)return rt.rsa.stepKeyPairGenerationState(s,0),s.keys;GP(s,r,n)};rt.setRsaPublicKey=rt.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,a){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(l,c,f){return IE(l,c,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(l,c){return qe.pkcs1.encode_rsa_oaep(c,l,a)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(l){return l}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var s=i.encode(n,r,!0);return rt.rsa.encrypt(s,r,!0)},r.verify=function(n,i,a,s){typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSASSA-PKCS1-V1_5"),s===void 0&&(s={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in s||(s._parseAllDigestBytes=!0),a==="RSASSA-PKCS1-V1_5"?a={verify:function(c,f){f=sf(f,r,!0);var d=$.fromDer(f,{parseAllBytes:s._parseAllDigestBytes}),p={},g=[];if(!$.validate(d,FP,p,g)){var v=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw v.errors=g,v}var m=$.derToOid(p.algorithmIdentifier);if(!(m===qe.oids.md2||m===qe.oids.md5||m===qe.oids.sha1||m===qe.oids.sha224||m===qe.oids.sha256||m===qe.oids.sha384||m===qe.oids.sha512||m===qe.oids["sha512-224"]||m===qe.oids["sha512-256"])){var v=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw v.oid=m,v}if((m===qe.oids.md2||m===qe.oids.md5)&&!("parameters"in p))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===p.digest}}:(a==="NONE"||a==="NULL"||a===null)&&(a={verify:function(c,f){return f=sf(f,r,!0),c===f}});var l=rt.rsa.decrypt(i,r,!0,!1);return a.verify(n,l,r.n.bitLength())},r};rt.setRsaPrivateKey=rt.rsa.setPrivateKey=function(e,t,r,n,i,a,s,l){var c={n:e,e:t,d:r,p:n,q:i,dP:a,dQ:s,qInv:l};return c.decrypt=function(f,d,p){typeof d=="string"?d=d.toUpperCase():d===void 0&&(d="RSAES-PKCS1-V1_5");var g=rt.rsa.decrypt(f,c,!1,!1);if(d==="RSAES-PKCS1-V1_5")d={decode:sf};else if(d==="RSA-OAEP"||d==="RSAES-OAEP")d={decode:function(v,m){return qe.pkcs1.decode_rsa_oaep(m,v,p)}};else if(["RAW","NONE","NULL",null].indexOf(d)!==-1)d={decode:function(v){return v}};else throw new Error('Unsupported encryption scheme: "'+d+'".');return d.decode(g,c,!1)},c.sign=function(f,d){var p=!1;typeof d=="string"&&(d=d.toUpperCase()),d===void 0||d==="RSASSA-PKCS1-V1_5"?(d={encode:qP},p=1):(d==="NONE"||d==="NULL"||d===null)&&(d={encode:function(){return f}},p=1);var g=d.encode(f,c.n.bitLength());return rt.rsa.encrypt(g,c,p)},c};rt.wrapRsaPrivateKey=function(e){return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(0).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(rt.oids.rsaEncryption).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")]),$.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,$.toDer(e).getBytes())])};rt.privateKeyFromAsn1=function(e){var t={},r=[];if($.validate(e,PP,t,r)&&(e=$.fromDer(qe.util.createBuffer(t.privateKey))),t={},r=[],!$.validate(e,OP,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,a,s,l,c,f,d,p;return i=qe.util.createBuffer(t.privateKeyModulus).toHex(),a=qe.util.createBuffer(t.privateKeyPublicExponent).toHex(),s=qe.util.createBuffer(t.privateKeyPrivateExponent).toHex(),l=qe.util.createBuffer(t.privateKeyPrime1).toHex(),c=qe.util.createBuffer(t.privateKeyPrime2).toHex(),f=qe.util.createBuffer(t.privateKeyExponent1).toHex(),d=qe.util.createBuffer(t.privateKeyExponent2).toHex(),p=qe.util.createBuffer(t.privateKeyCoefficient).toHex(),rt.setRsaPrivateKey(new xt(i,16),new xt(a,16),new xt(s,16),new xt(l,16),new xt(c,16),new xt(f,16),new xt(d,16),new xt(p,16))};rt.privateKeyToAsn1=rt.privateKeyToRSAPrivateKey=function(e){return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(0).getBytes()),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.n)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.e)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.d)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.p)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.q)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.dP)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.dQ)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.qInv))])};rt.publicKeyFromAsn1=function(e){var t={},r=[];if($.validate(e,UP,t,r)){var n=$.derToOid(t.publicKeyOid);if(n!==rt.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!$.validate(e,MP,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var a=qe.util.createBuffer(t.publicKeyModulus).toHex(),s=qe.util.createBuffer(t.publicKeyExponent).toHex();return rt.setRsaPublicKey(new xt(a,16),new xt(s,16))};rt.publicKeyToAsn1=rt.publicKeyToSubjectPublicKeyInfo=function(e){return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(rt.oids.rsaEncryption).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,[rt.publicKeyToRSAPublicKey(e)])])};rt.publicKeyToRSAPublicKey=function(e){return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.n)),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Ii(e.e))])};function IE(e,t,r){var n=qe.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=e.length,a.max=i-11,a}n.putByte(0),n.putByte(r);var s=i-3-e.length,l;if(r===0||r===1){l=r===0?0:255;for(var c=0;c<s;++c)n.putByte(l)}else for(;s>0;){for(var f=0,d=qe.random.getBytes(s),c=0;c<s;++c)l=d.charCodeAt(c),l===0?++f:n.putByte(l);s=f}return n.putByte(0),n.putBytes(e),n}function sf(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),a=qe.util.createBuffer(e),s=a.getByte(),l=a.getByte();if(s!==0||r&&l!==0&&l!==1||!r&&l!=2||r&&l===0&&typeof n=="undefined")throw new Error("Encryption block is invalid.");var c=0;if(l===0){c=i-3-n;for(var f=0;f<c;++f)if(a.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(l===1)for(c=0;a.length()>1;){if(a.getByte()!==255){--a.read;break}++c}else if(l===2)for(c=0;a.length()>1;){if(a.getByte()===0){--a.read;break}++c}var d=a.getByte();if(d!==0||c!==i-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function GP(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){a(e.pBits,function(l,c){if(l)return r(l);if(e.p=c,e.q!==null)return s(l,e.q);a(e.qBits,s)})}function a(l,c){qe.prime.generateProbablePrime(l,n,c)}function s(l,c){if(l)return r(l);if(e.q=c,e.p.compareTo(e.q)<0){var f=e.p;e.p=e.q,e.q=f}if(e.p.subtract(xt.ONE).gcd(e.e).compareTo(xt.ONE)!==0){e.p=null,i();return}if(e.q.subtract(xt.ONE).gcd(e.e).compareTo(xt.ONE)!==0){e.q=null,a(e.qBits,s);return}if(e.p1=e.p.subtract(xt.ONE),e.q1=e.q.subtract(xt.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(xt.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,a(e.qBits,s);return}var d=e.e.modInverse(e.phi);e.keys={privateKey:rt.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:rt.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}}function Ii(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=qe.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)==0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)==128)?r.substr(1):r}function KP(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function kE(e){return qe.util.isNodejs&&typeof Y0[e]=="function"}function RE(e){return typeof qn.globalScope!="undefined"&&typeof qn.globalScope.crypto=="object"&&typeof qn.globalScope.crypto.subtle=="object"&&typeof qn.globalScope.crypto.subtle[e]=="function"}function BE(e){return typeof qn.globalScope!="undefined"&&typeof qn.globalScope.msCrypto=="object"&&typeof qn.globalScope.msCrypto.subtle=="object"&&typeof qn.globalScope.msCrypto.subtle[e]=="function"}function NE(e){for(var t=qe.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}});var j0=le(($q,UE)=>{var ke=ft();Sa();si();Sl();Ci();Ta();ef();as();Un();M0();Il();Rt();typeof LE=="undefined"&&(LE=ke.jsbn.BigInteger);var LE,se=ke.asn1,lt=ke.pki=ke.pki||{};UE.exports=lt.pbe=ke.pbe=ke.pbe||{};var ls=lt.oids,VP={name:"EncryptedPrivateKeyInfo",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:se.Class.UNIVERSAL,type:se.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},HP={name:"PBES2Algorithms",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:se.Class.UNIVERSAL,type:se.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:se.Class.UNIVERSAL,type:se.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:se.Class.UNIVERSAL,type:se.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:se.Class.UNIVERSAL,type:se.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},YP={name:"pkcs-12PbeParams",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:se.Class.UNIVERSAL,type:se.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:se.Class.UNIVERSAL,type:se.Type.INTEGER,constructed:!1,capture:"iterations"}]};lt.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=ke.random.getBytesSync(r.saltSize),i=r.count,a=se.integerToDer(i),s,l,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var f,d,p;switch(r.algorithm){case"aes128":s=16,f=16,d=ls["aes128-CBC"],p=ke.aes.createEncryptionCipher;break;case"aes192":s=24,f=16,d=ls["aes192-CBC"],p=ke.aes.createEncryptionCipher;break;case"aes256":s=32,f=16,d=ls["aes256-CBC"],p=ke.aes.createEncryptionCipher;break;case"des":s=8,f=8,d=ls.desCBC,p=ke.des.createEncryptionCipher;break;default:var g=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw g.algorithm=r.algorithm,g}var v="hmacWith"+r.prfAlgorithm.toUpperCase(),m=ME(v),_=ke.pkcs5.pbkdf2(t,n,i,s,m),E=ke.random.getBytesSync(f),A=p(_);A.start(E),A.update(se.toDer(e)),A.finish(),c=A.output.getBytes();var x=jP(n,a,s,v);l=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(ls.pkcs5PBES2).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(ls.pkcs5PBKDF2).getBytes()),x]),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(d).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,E)])])])}else if(r.algorithm==="3des"){s=24;var B=new ke.util.ByteBuffer(n),_=lt.pbe.generatePkcs12Key(t,B,1,i,s),E=lt.pbe.generatePkcs12Key(t,B,2,i,s),A=ke.des.createEncryptionCipher(_);A.start(E),A.update(se.toDer(e)),A.finish(),c=A.output.getBytes(),l=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(ls["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,n),se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,a.getBytes())])])}else{var g=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw g.algorithm=r.algorithm,g}var L=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[l,se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,c)]);return L};lt.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!se.validate(e,VP,n,i)){var a=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var s=se.derToOid(n.encryptionOid),l=lt.pbe.getCipher(s,n.encryptionParams,t),c=ke.util.createBuffer(n.encryptedData);return l.update(c),l.finish()&&(r=se.fromDer(l.output)),r};lt.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:se.toDer(e).getBytes()};return ke.pem.encode(r,{maxline:t})};lt.encryptedPrivateKeyFromPem=function(e){var t=ke.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return se.fromDer(t.body)};lt.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=lt.wrapRsaPrivateKey(lt.privateKeyToAsn1(e));return n=lt.encryptPrivateKeyInfo(n,t,r),lt.encryptedPrivateKeyToPem(n)}var i,a,s,l;switch(r.algorithm){case"aes128":i="AES-128-CBC",s=16,a=ke.random.getBytesSync(16),l=ke.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",s=24,a=ke.random.getBytesSync(16),l=ke.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",s=32,a=ke.random.getBytesSync(16),l=ke.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",s=24,a=ke.random.getBytesSync(8),l=ke.des.createEncryptionCipher;break;case"des":i="DES-CBC",s=8,a=ke.random.getBytesSync(8),l=ke.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var f=ke.pbe.opensslDeriveBytes(t,a.substr(0,8),s),d=l(f);d.start(a),d.update(se.toDer(lt.privateKeyToAsn1(e))),d.finish();var p={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:ke.util.bytesToHex(a).toUpperCase()},body:d.output.getBytes()};return ke.pem.encode(p)};lt.decryptRsaPrivateKey=function(e,t){var r=null,n=ke.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var a,s;switch(n.dekInfo.algorithm){case"DES-CBC":a=8,s=ke.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,s=ke.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,s=ke.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,s=ke.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,s=ke.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,s=function(p){return ke.rc2.createDecryptionCipher(p,40)};break;case"RC2-64-CBC":a=8,s=function(p){return ke.rc2.createDecryptionCipher(p,64)};break;case"RC2-128-CBC":a=16,s=function(p){return ke.rc2.createDecryptionCipher(p,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var l=ke.util.hexToBytes(n.dekInfo.parameters),c=ke.pbe.opensslDeriveBytes(t,l.substr(0,8),a),f=s(c);if(f.start(l),f.update(ke.util.createBuffer(n.body)),f.finish())r=f.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=lt.decryptPrivateKeyInfo(se.fromDer(r),t):r=se.fromDer(r),r!==null&&(r=lt.privateKeyFromAsn1(r)),r};lt.pbe.generatePkcs12Key=function(e,t,r,n,i,a){var s,l;if(typeof a=="undefined"||a===null){if(!("sha1"in ke.md))throw new Error('"sha1" hash algorithm unavailable.');a=ke.md.sha1.create()}var c=a.digestLength,f=a.blockLength,d=new ke.util.ByteBuffer,p=new ke.util.ByteBuffer;if(e!=null){for(l=0;l<e.length;l++)p.putInt16(e.charCodeAt(l));p.putInt16(0)}var g=p.length(),v=t.length(),m=new ke.util.ByteBuffer;m.fillWithByte(r,f);var _=f*Math.ceil(v/f),E=new ke.util.ByteBuffer;for(l=0;l<_;l++)E.putByte(t.at(l%v));var A=f*Math.ceil(g/f),x=new ke.util.ByteBuffer;for(l=0;l<A;l++)x.putByte(p.at(l%g));var B=E;B.putBuffer(x);for(var L=Math.ceil(i/c),N=1;N<=L;N++){var P=new ke.util.ByteBuffer;P.putBytes(m.bytes()),P.putBytes(B.bytes());for(var ae=0;ae<n;ae++)a.start(),a.update(P.getBytes()),P=a.digest();var j=new ke.util.ByteBuffer;for(l=0;l<f;l++)j.putByte(P.at(l%c));var V=Math.ceil(v/f)+Math.ceil(g/f),me=new ke.util.ByteBuffer;for(s=0;s<V;s++){var ye=new ke.util.ByteBuffer(B.getBytes(f)),we=511;for(l=j.length()-1;l>=0;l--)we=we>>8,we+=j.at(l)+ye.at(l),ye.setAt(l,we&255);me.putBuffer(ye)}B=me,d.putBuffer(P)}return d.truncate(d.length()-i),d};lt.pbe.getCipher=function(e,t,r){switch(e){case lt.oids.pkcs5PBES2:return lt.pbe.getCipherForPBES2(e,t,r);case lt.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case lt.oids["pbewithSHAAnd40BitRC2-CBC"]:return lt.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};lt.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!se.validate(t,HP,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}if(e=se.derToOid(n.kdfOid),e!==lt.oids.pkcs5PBKDF2){var a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw a.oid=e,a.supportedOids=["pkcs5PBKDF2"],a}if(e=se.derToOid(n.encOid),e!==lt.oids["aes128-CBC"]&&e!==lt.oids["aes192-CBC"]&&e!==lt.oids["aes256-CBC"]&&e!==lt.oids["des-EDE3-CBC"]&&e!==lt.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=e,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var s=n.kdfSalt,l=ke.util.createBuffer(n.kdfIterationCount);l=l.getInt(l.length()<<3);var c,f;switch(lt.oids[e]){case"aes128-CBC":c=16,f=ke.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,f=ke.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,f=ke.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,f=ke.des.createDecryptionCipher;break;case"desCBC":c=8,f=ke.des.createDecryptionCipher;break}var d=OE(n.prfOid),p=ke.pkcs5.pbkdf2(r,s,l,c,d),g=n.encIv,v=f(p);return v.start(g),v};lt.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!se.validate(t,YP,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var s=ke.util.createBuffer(n.salt),l=ke.util.createBuffer(n.iterations);l=l.getInt(l.length()<<3);var c,f,d;switch(e){case lt.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,f=8,d=ke.des.startDecrypting;break;case lt.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,f=8,d=function(_,E){var A=ke.rc2.createDecryptionCipher(_,40);return A.start(E,null),A};break;default:var a=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw a.oid=e,a}var p=OE(n.prfOid),g=lt.pbe.generatePkcs12Key(r,s,1,l,c,p);p.start();var v=lt.pbe.generatePkcs12Key(r,s,2,l,f,p);return d(g,v)};lt.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n=="undefined"||n===null){if(!("md5"in ke.md))throw new Error('"md5" hash algorithm unavailable.');n=ke.md.md5.create()}t===null&&(t="");for(var i=[PE(n,e+t)],a=16,s=1;a<r;++s,a+=16)i.push(PE(n,i[s-1]+e+t));return i.join("").substr(0,r)};function PE(e,t){return e.start().update(t).digest().getBytes()}function OE(e){var t;if(!e)t="hmacWithSHA1";else if(t=lt.oids[se.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return ME(t)}function ME(e){var t=ke.md;switch(e){case"hmacWithSHA224":t=ke.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}function jP(e,t,r,n){var i=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,e),se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,ke.util.hexToBytes(r.toString(16))),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(lt.oids[n]).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.NULL,!1,"")])),i}});var W0=le((eG,GE)=>{var go=ft();si();Rt();var xe=go.asn1,mo=GE.exports=go.pkcs7asn1=go.pkcs7asn1||{};go.pkcs7=go.pkcs7||{};go.pkcs7.asn1=mo;var FE={name:"ContentInfo",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:xe.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};mo.contentInfoValidator=FE;var qE={name:"EncryptedContentInfo",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:xe.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:xe.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};mo.envelopedDataValidator={name:"EnvelopedData",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(qE)};mo.encryptedDataValidator={name:"EncryptedData",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"version"}].concat(qE)};var WP={name:"SignerInfo",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:xe.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:xe.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:xe.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};mo.signedDataValidator={name:"SignedData",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},FE,{name:"SignedData.Certificates",tagClass:xe.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:xe.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SET,capture:"signerInfos",optional:!0,value:[WP]}]};mo.recipientInfoValidator={name:"RecipientInfo",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:xe.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var z0=le((tG,KE)=>{var us=ft();Rt();us.mgf=us.mgf||{};var zP=KE.exports=us.mgf.mgf1=us.mgf1=us.mgf1||{};zP.create=function(e){var t={generate:function(r,n){for(var i=new us.util.ByteBuffer,a=Math.ceil(n/e.digestLength),s=0;s<a;s++){var l=new us.util.ByteBuffer;l.putInt32(s),e.start(),e.update(r+l.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()}};return t}});var HE=le((rG,VE)=>{var of=ft();z0();VE.exports=of.mgf=of.mgf||{};of.mgf.mgf1=of.mgf1});var lf=le((nG,YE)=>{var cs=ft();Un();Rt();var JP=YE.exports=cs.pss=cs.pss||{};JP.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=cs.util.createBuffer(i));var a;if("saltLength"in e)a=e.saltLength;else if(i!==null)a=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==a)throw new Error("Given salt length does not match length of given salt.");var s=e.prng||cs.random,l={};return l.encode=function(c,f){var d,p=f-1,g=Math.ceil(p/8),v=c.digest().getBytes();if(g<n+a+2)throw new Error("Message is too long to encrypt.");var m;i===null?m=s.getBytesSync(a):m=i.bytes();var _=new cs.util.ByteBuffer;_.fillWithByte(0,8),_.putBytes(v),_.putBytes(m),t.start(),t.update(_.getBytes());var E=t.digest().getBytes(),A=new cs.util.ByteBuffer;A.fillWithByte(0,g-a-n-2),A.putByte(1),A.putBytes(m);var x=A.getBytes(),B=g-n-1,L=r.generate(E,B),N="";for(d=0;d<B;d++)N+=String.fromCharCode(x.charCodeAt(d)^L.charCodeAt(d));var P=65280>>8*g-p&255;return N=String.fromCharCode(N.charCodeAt(0)&~P)+N.substr(1),N+E+String.fromCharCode(188)},l.verify=function(c,f,d){var p,g=d-1,v=Math.ceil(g/8);if(f=f.substr(-v),v<n+a+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(f.charCodeAt(v-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var m=v-n-1,_=f.substr(0,m),E=f.substr(m,n),A=65280>>8*v-g&255;if((_.charCodeAt(0)&A)!=0)throw new Error("Bits beyond keysize not zero as expected.");var x=r.generate(E,m),B="";for(p=0;p<m;p++)B+=String.fromCharCode(_.charCodeAt(p)^x.charCodeAt(p));B=String.fromCharCode(B.charCodeAt(0)&~A)+B.substr(1);var L=v-n-a-2;for(p=0;p<L;p++)if(B.charCodeAt(p)!==0)throw new Error("Leftmost octets not zero as expected");if(B.charCodeAt(L)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var N=B.substr(-a),P=new cs.util.ByteBuffer;P.fillWithByte(0,8),P.putBytes(c),P.putBytes(N),t.start(),t.update(P.getBytes());var ae=t.digest().getBytes();return E===ae},l}});var ff=le((iG,QE)=>{var Ge=ft();Sa();si();Sl();Ci();HE();Ta();as();lf();Il();Rt();var w=Ge.asn1,Ce=QE.exports=Ge.pki=Ge.pki||{},It=Ce.oids,ur={};ur.CN=It.commonName;ur.commonName="CN";ur.C=It.countryName;ur.countryName="C";ur.L=It.localityName;ur.localityName="L";ur.ST=It.stateOrProvinceName;ur.stateOrProvinceName="ST";ur.O=It.organizationName;ur.organizationName="O";ur.OU=It.organizationalUnitName;ur.organizationalUnitName="OU";ur.E=It.emailAddress;ur.emailAddress="E";var jE=Ge.pki.rsa.publicKeyValidator,QP={name:"Certificate",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:w.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:w.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:w.Class.UNIVERSAL,type:w.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:w.Class.UNIVERSAL,type:w.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:w.Class.UNIVERSAL,type:w.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:w.Class.UNIVERSAL,type:w.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},jE,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:w.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:w.Class.UNIVERSAL,type:w.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:w.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:w.Class.UNIVERSAL,type:w.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:w.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:w.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:w.Class.UNIVERSAL,type:w.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},XP={name:"rsapss",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:w.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:w.Class.UNIVERSAL,type:w.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:w.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:w.Class.UNIVERSAL,type:w.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:w.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:w.Class.UNIVERSAL,type:w.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:w.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:w.Class.UNIVERSAL,type:w.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},ZP={name:"CertificationRequestInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},jE,{name:"CertificationRequestInfo.attributes",tagClass:w.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:w.Class.UNIVERSAL,type:w.Type.SET,constructed:!0}]}]}]},$P={name:"CertificationRequest",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[ZP,{name:"CertificationRequest.signatureAlgorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:w.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:w.Class.UNIVERSAL,type:w.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};Ce.RDNAttributesAsArray=function(e,t){for(var r=[],n,i,a,s=0;s<e.value.length;++s){n=e.value[s];for(var l=0;l<n.value.length;++l)a={},i=n.value[l],a.type=w.derToOid(i.value[0].value),a.value=i.value[1].value,a.valueTagClass=i.value[1].type,a.type in It&&(a.name=It[a.type],a.name in ur&&(a.shortName=ur[a.name])),t&&(t.update(a.type),t.update(a.value)),r.push(a)}return r};Ce.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=w.derToOid(n.value[0].value),a=n.value[1].value,s=0;s<a.length;++s){var l={};if(l.type=i,l.value=a[s].value,l.valueTagClass=a[s].type,l.type in It&&(l.name=It[l.type],l.name in ur&&(l.shortName=ur[l.name])),l.type===It.extensionRequest){l.extensions=[];for(var c=0;c<l.value.length;++c)l.extensions.push(Ce.certificateExtensionFromAsn1(l.value[c]))}t.push(l)}return t};function ka(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,i=0;r===null&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}var uf=function(e,t,r){var n={};if(e!==It["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:It.sha1},mgf:{algorithmOid:It.mgf1,hash:{algorithmOid:It.sha1}},saltLength:20});var i={},a=[];if(!w.validate(t,XP,i,a)){var s=new Error("Cannot read RSASSA-PSS parameter block.");throw s.errors=a,s}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=w.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=w.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=w.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},cf=function(e){switch(It[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return Ge.md.sha1.create();case"md5WithRSAEncryption":return Ge.md.md5.create();case"sha256WithRSAEncryption":return Ge.md.sha256.create();case"sha384WithRSAEncryption":return Ge.md.sha384.create();case"sha512WithRSAEncryption":return Ge.md.sha512.create();case"RSASSA-PSS":return Ge.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},WE=function(e){var t=e.certificate,r;switch(t.signatureOid){case It.sha1WithRSAEncryption:case It.sha1WithRSASignature:break;case It["RSASSA-PSS"]:var n,i;if(n=It[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||Ge.md[n]===void 0){var a=new Error("Unsupported MGF hash function.");throw a.oid=t.signatureParameters.mgf.hash.algorithmOid,a.name=n,a}if(i=It[t.signatureParameters.mgf.algorithmOid],i===void 0||Ge.mgf[i]===void 0){var a=new Error("Unsupported MGF function.");throw a.oid=t.signatureParameters.mgf.algorithmOid,a.name=i,a}if(i=Ge.mgf[i].create(Ge.md[n].create()),n=It[t.signatureParameters.hash.algorithmOid],n===void 0||Ge.md[n]===void 0){var a=new Error("Unsupported RSASSA-PSS hash function.");throw a.oid=t.signatureParameters.hash.algorithmOid,a.name=n,a}r=Ge.pss.create(Ge.md[n].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)};Ce.certificateFromPem=function(e,t,r){var n=Ge.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var a=w.fromDer(n.body,r);return Ce.certificateFromAsn1(a,t)};Ce.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:w.toDer(Ce.certificateToAsn1(e)).getBytes()};return Ge.pem.encode(r,{maxline:t})};Ce.publicKeyFromPem=function(e){var t=Ge.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=w.fromDer(t.body);return Ce.publicKeyFromAsn1(n)};Ce.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:w.toDer(Ce.publicKeyToAsn1(e)).getBytes()};return Ge.pem.encode(r,{maxline:t})};Ce.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:w.toDer(Ce.publicKeyToRSAPublicKey(e)).getBytes()};return Ge.pem.encode(r,{maxline:t})};Ce.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Ge.md.sha1.create(),n=t.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=w.toDer(Ce.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=w.toDer(Ce.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(i);var a=r.digest();if(t.encoding==="hex"){var s=a.toHex();return t.delimiter?s.match(/.{2}/g).join(t.delimiter):s}else{if(t.encoding==="binary")return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return a};Ce.certificationRequestFromPem=function(e,t,r){var n=Ge.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var a=w.fromDer(n.body,r);return Ce.certificationRequestFromAsn1(a,t)};Ce.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:w.toDer(Ce.certificationRequestToAsn1(e)).getBytes()};return Ge.pem.encode(r,{maxline:t})};Ce.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return ka(e.issuer,t)},e.issuer.addField=function(t){Gn([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return ka(e.subject,t)},e.subject.addField=function(t){Gn([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){Gn(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){Gn(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)zE(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,i=0;r===null&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||Ge.md.sha1.create();var n=It[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=Ce.getTBSCertificate(e);var a=w.toDer(e.tbsCertificate);e.md.update(a.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,i=e.subject,a=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw a.expectedIssuer=i.attributes,a.actualIssuer=n.attributes,a}var s=t.md;if(s===null){s=cf({signatureOid:t.signatureOid,type:"certificate"});var l=t.tbsCertificate||Ce.getTBSCertificate(t),c=w.toDer(l);s.update(c.getBytes())}return s!==null&&(r=WE({certificate:e,md:s,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var a,s,l=0;r&&l<n.attributes.length;++l)a=n.attributes[l],s=i.attributes[l],(a.type!==s.type||a.value!==s.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return Ce.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=It.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return Ge.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},e};Ce.certificateFromAsn1=function(e,t){var r={},n=[];if(!w.validate(e,QP,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var a=w.derToOid(r.publicKeyOid);if(a!==Ce.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var s=Ce.createCertificate();s.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=Ge.util.createBuffer(r.certSerialNumber);s.serialNumber=l.toHex(),s.signatureOid=Ge.asn1.derToOid(r.certSignatureOid),s.signatureParameters=uf(s.signatureOid,r.certSignatureParams,!0),s.siginfo.algorithmOid=Ge.asn1.derToOid(r.certinfoSignatureOid),s.siginfo.parameters=uf(s.siginfo.algorithmOid,r.certinfoSignatureParams,!1),s.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push(w.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push(w.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push(w.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push(w.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(s.validity.notBefore=c[0],s.validity.notAfter=c[1],s.tbsCertificate=r.tbsCertificate,t){s.md=cf({signatureOid:s.signatureOid,type:"certificate"});var f=w.toDer(s.tbsCertificate);s.md.update(f.getBytes())}var d=Ge.md.sha1.create(),p=w.toDer(r.certIssuer);d.update(p.getBytes()),s.issuer.getField=function(m){return ka(s.issuer,m)},s.issuer.addField=function(m){Gn([m]),s.issuer.attributes.push(m)},s.issuer.attributes=Ce.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(s.issuer.uniqueId=r.certIssuerUniqueId),s.issuer.hash=d.digest().toHex();var g=Ge.md.sha1.create(),v=w.toDer(r.certSubject);return g.update(v.getBytes()),s.subject.getField=function(m){return ka(s.subject,m)},s.subject.addField=function(m){Gn([m]),s.subject.attributes.push(m)},s.subject.attributes=Ce.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(s.subject.uniqueId=r.certSubjectUniqueId),s.subject.hash=g.digest().toHex(),r.certExtensions?s.extensions=Ce.certificateExtensionsFromAsn1(r.certExtensions):s.extensions=[],s.publicKey=Ce.publicKeyFromAsn1(r.subjectPublicKeyInfo),s};Ce.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(Ce.certificateExtensionFromAsn1(n.value[i]));return t};Ce.certificateExtensionFromAsn1=function(e){var t={};if(t.id=w.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===w.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in It){if(t.name=It[t.id],t.name==="keyUsage"){var r=w.fromDer(t.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)==128,t.nonRepudiation=(n&64)==64,t.keyEncipherment=(n&32)==32,t.dataEncipherment=(n&16)==16,t.keyAgreement=(n&8)==8,t.keyCertSign=(n&4)==4,t.cRLSign=(n&2)==2,t.encipherOnly=(n&1)==1,t.decipherOnly=(i&128)==128}else if(t.name==="basicConstraints"){var r=w.fromDer(t.value);r.value.length>0&&r.value[0].type===w.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var a=null;r.value.length>0&&r.value[0].type===w.Type.INTEGER?a=r.value[0].value:r.value.length>1&&(a=r.value[1].value),a!==null&&(t.pathLenConstraint=w.derToInteger(a))}else if(t.name==="extKeyUsage")for(var r=w.fromDer(t.value),s=0;s<r.value.length;++s){var l=w.derToOid(r.value[s].value);l in It?t[It[l]]=!0:t[l]=!0}else if(t.name==="nsCertType"){var r=w.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)==128,t.server=(n&64)==64,t.email=(n&32)==32,t.objsign=(n&16)==16,t.reserved=(n&8)==8,t.sslCA=(n&4)==4,t.emailCA=(n&2)==2,t.objCA=(n&1)==1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=w.fromDer(t.value),f=0;f<r.value.length;++f){c=r.value[f];var d={type:c.type,value:c.value};switch(t.altNames.push(d),c.type){case 1:case 2:case 6:break;case 7:d.ip=Ge.util.bytesToIP(c.value);break;case 8:d.oid=w.derToOid(c.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=w.fromDer(t.value);t.subjectKeyIdentifier=Ge.util.bytesToHex(r.value)}}return t};Ce.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!w.validate(e,$P,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var a=w.derToOid(r.publicKeyOid);if(a!==Ce.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var s=Ce.createCertificationRequest();if(s.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,s.signatureOid=Ge.asn1.derToOid(r.csrSignatureOid),s.signatureParameters=uf(s.signatureOid,r.csrSignatureParams,!0),s.siginfo.algorithmOid=Ge.asn1.derToOid(r.csrSignatureOid),s.siginfo.parameters=uf(s.siginfo.algorithmOid,r.csrSignatureParams,!1),s.signature=r.csrSignature,s.certificationRequestInfo=r.certificationRequestInfo,t){s.md=cf({signatureOid:s.signatureOid,type:"certification request"});var l=w.toDer(s.certificationRequestInfo);s.md.update(l.getBytes())}var c=Ge.md.sha1.create();return s.subject.getField=function(f){return ka(s.subject,f)},s.subject.addField=function(f){Gn([f]),s.subject.attributes.push(f)},s.subject.attributes=Ce.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),s.subject.hash=c.digest().toHex(),s.publicKey=Ce.publicKeyFromAsn1(r.subjectPublicKeyInfo),s.getAttribute=function(f){return ka(s,f)},s.addAttribute=function(f){Gn([f]),s.attributes.push(f)},s.attributes=Ce.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),s};Ce.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return ka(e.subject,t)},e.subject.addField=function(t){Gn([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return ka(e,t)},e.addAttribute=function(t){Gn([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){Gn(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){Gn(t),e.attributes=t},e.sign=function(t,r){e.md=r||Ge.md.sha1.create();var n=It[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=Ce.getCertificationRequestInfo(e);var a=w.toDer(e.certificationRequestInfo);e.md.update(a.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=cf({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||Ce.getCertificationRequestInfo(e),i=w.toDer(n);r.update(i.getBytes())}return r!==null&&(t=WE({certificate:e,md:r,signature:e.signature})),t},e};function yo(e){for(var t=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]),r,n,i=e.attributes,a=0;a<i.length;++a){r=i[a];var s=r.value,l=w.Type.PRINTABLESTRING;"valueTagClass"in r&&(l=r.valueTagClass,l===w.Type.UTF8&&(s=Ge.util.encodeUtf8(s))),n=w.create(w.Class.UNIVERSAL,w.Type.SET,!0,[w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(r.type).getBytes()),w.create(w.Class.UNIVERSAL,l,!1,s)])]),t.value.push(n)}return t}function Gn(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name=="undefined"&&(t.type&&t.type in Ce.oids?t.name=Ce.oids[t.type]:t.shortName&&t.shortName in ur&&(t.name=Ce.oids[ur[t.shortName]])),typeof t.type=="undefined")if(t.name&&t.name in Ce.oids)t.type=Ce.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName=="undefined"&&t.name&&t.name in ur&&(t.shortName=ur[t.name]),t.type===It.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=w.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(Ce.certificateExtensionToAsn1(zE(t.extensions[i])))}if(typeof t.value=="undefined"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}function zE(e,t){if(t=t||{},typeof e.name=="undefined"&&e.id&&e.id in Ce.oids&&(e.name=Ce.oids[e.id]),typeof e.id=="undefined")if(e.name&&e.name in Ce.oids)e.id=Ce.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value!="undefined")return e;if(e.name==="keyUsage"){var n=0,i=0,a=0;e.digitalSignature&&(i|=128,n=7),e.nonRepudiation&&(i|=64,n=6),e.keyEncipherment&&(i|=32,n=5),e.dataEncipherment&&(i|=16,n=4),e.keyAgreement&&(i|=8,n=3),e.keyCertSign&&(i|=4,n=2),e.cRLSign&&(i|=2,n=1),e.encipherOnly&&(i|=1,n=0),e.decipherOnly&&(a|=128,n=7);var s=String.fromCharCode(n);a!==0?s+=String.fromCharCode(i)+String.fromCharCode(a):i!==0&&(s+=String.fromCharCode(i)),e.value=w.create(w.Class.UNIVERSAL,w.Type.BITSTRING,!1,s)}else if(e.name==="basicConstraints")e.value=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(w.create(w.Class.UNIVERSAL,w.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,w.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var c in e)e[c]===!0&&(c in It?l.push(w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(It[c]).getBytes())):c.indexOf(".")!==-1&&l.push(w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,i=0;e.client&&(i|=128,n=7),e.server&&(i|=64,n=6),e.email&&(i|=32,n=5),e.objsign&&(i|=16,n=4),e.reserved&&(i|=8,n=3),e.sslCA&&(i|=4,n=2),e.emailCA&&(i|=2,n=1),e.objCA&&(i|=1,n=0);var s=String.fromCharCode(n);i!==0&&(s+=String.fromCharCode(i)),e.value=w.create(w.Class.UNIVERSAL,w.Type.BITSTRING,!1,s)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]);for(var f,d=0;d<e.altNames.length;++d){f=e.altNames[d];var s=f.value;if(f.type===7&&f.ip){if(s=Ge.util.bytesFromIP(f.ip),s===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else f.type===8&&(f.oid?s=w.oidToDer(w.oidToDer(f.oid)):s=w.oidToDer(s));e.value.value.push(w.create(w.Class.CONTEXT_SPECIFIC,f.type,!1,s))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=w.create(w.Class.UNIVERSAL,w.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var p=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=p.toHex(),e.value=w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,p.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]);var l=e.value.value;if(e.keyIdentifier){var g=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push(w.create(w.Class.CONTEXT_SPECIFIC,0,!1,g))}if(e.authorityCertIssuer){var v=[w.create(w.Class.CONTEXT_SPECIFIC,4,!0,[yo(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];l.push(w.create(w.Class.CONTEXT_SPECIFIC,1,!0,v))}if(e.serialNumber){var m=Ge.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);l.push(w.create(w.Class.CONTEXT_SPECIFIC,2,!1,m))}}else if(e.name==="cRLDistributionPoints"){e.value=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]);for(var l=e.value.value,_=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]),E=w.create(w.Class.CONTEXT_SPECIFIC,0,!0,[]),f,d=0;d<e.altNames.length;++d){f=e.altNames[d];var s=f.value;if(f.type===7&&f.ip){if(s=Ge.util.bytesFromIP(f.ip),s===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else f.type===8&&(f.oid?s=w.oidToDer(w.oidToDer(f.oid)):s=w.oidToDer(s));E.value.push(w.create(w.Class.CONTEXT_SPECIFIC,f.type,!1,s))}_.value.push(w.create(w.Class.CONTEXT_SPECIFIC,0,!0,[E])),l.push(_)}if(typeof e.value=="undefined"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}function J0(e,t){switch(e){case It["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push(w.create(w.Class.CONTEXT_SPECIFIC,0,!0,[w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(t.hash.algorithmOid).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push(w.create(w.Class.CONTEXT_SPECIFIC,1,!0,[w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(t.mgf.algorithmOid).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(t.mgf.hash.algorithmOid).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push(w.create(w.Class.CONTEXT_SPECIFIC,2,!0,[w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,w.integerToDer(t.saltLength).getBytes())])),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,r);default:return w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,"")}}function eO(e){var t=w.create(w.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],a=i.value,s=w.Type.UTF8;"valueTagClass"in i&&(s=i.valueTagClass),s===w.Type.UTF8&&(a=Ge.util.encodeUtf8(a));var l=!1;"valueConstructed"in i&&(l=i.valueConstructed);var c=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(i.type).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.SET,!0,[w.create(w.Class.UNIVERSAL,s,l,a)])]);t.value.push(c)}return t}var tO=new Date("1950-01-01T00:00:00Z"),rO=new Date("2050-01-01T00:00:00Z");function JE(e){return e>=tO&&e<rO?w.create(w.Class.UNIVERSAL,w.Type.UTCTIME,!1,w.dateToUtcTime(e)):w.create(w.Class.UNIVERSAL,w.Type.GENERALIZEDTIME,!1,w.dateToGeneralizedTime(e))}Ce.getTBSCertificate=function(e){var t=JE(e.validity.notBefore),r=JE(e.validity.notAfter),n=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.CONTEXT_SPECIFIC,0,!0,[w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,w.integerToDer(e.version).getBytes())]),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,Ge.util.hexToBytes(e.serialNumber)),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(e.siginfo.algorithmOid).getBytes()),J0(e.siginfo.algorithmOid,e.siginfo.parameters)]),yo(e.issuer),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[t,r]),yo(e.subject),Ce.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push(w.create(w.Class.CONTEXT_SPECIFIC,1,!0,[w.create(w.Class.UNIVERSAL,w.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push(w.create(w.Class.CONTEXT_SPECIFIC,2,!0,[w.create(w.Class.UNIVERSAL,w.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(Ce.certificateExtensionsToAsn1(e.extensions)),n};Ce.getCertificationRequestInfo=function(e){var t=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,w.integerToDer(e.version).getBytes()),yo(e.subject),Ce.publicKeyToAsn1(e.publicKey),eO(e)]);return t};Ce.distinguishedNameToAsn1=function(e){return yo(e)};Ce.certificateToAsn1=function(e){var t=e.tbsCertificate||Ce.getTBSCertificate(e);return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[t,w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(e.signatureOid).getBytes()),J0(e.signatureOid,e.signatureParameters)]),w.create(w.Class.UNIVERSAL,w.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])};Ce.certificateExtensionsToAsn1=function(e){var t=w.create(w.Class.CONTEXT_SPECIFIC,3,!0,[]),r=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(Ce.certificateExtensionToAsn1(e[n]));return t};Ce.certificateExtensionToAsn1=function(e){var t=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]);t.value.push(w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(e.id).getBytes())),e.critical&&t.value.push(w.create(w.Class.UNIVERSAL,w.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return typeof e.value!="string"&&(r=w.toDer(r).getBytes()),t.value.push(w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,r)),t};Ce.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||Ce.getCertificationRequestInfo(e);return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[t,w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(e.signatureOid).getBytes()),J0(e.signatureOid,e.signatureParameters)]),w.create(w.Class.UNIVERSAL,w.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])};Ce.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(s){var l=r(s.issuer);return l},t.addCertificate=function(s){if(typeof s=="string"&&(s=Ge.pki.certificateFromPem(s)),n(s.subject),!t.hasCertificate(s))if(s.subject.hash in t.certs){var l=t.certs[s.subject.hash];Ge.util.isArray(l)||(l=[l]),l.push(s),t.certs[s.subject.hash]=l}else t.certs[s.subject.hash]=s},t.hasCertificate=function(s){typeof s=="string"&&(s=Ge.pki.certificateFromPem(s));var l=r(s.subject);if(!l)return!1;Ge.util.isArray(l)||(l=[l]);for(var c=w.toDer(Ce.certificateToAsn1(s)).getBytes(),f=0;f<l.length;++f){var d=w.toDer(Ce.certificateToAsn1(l[f])).getBytes();if(c===d)return!0}return!1},t.listAllCertificates=function(){var s=[];for(var l in t.certs)if(t.certs.hasOwnProperty(l)){var c=t.certs[l];if(!Ge.util.isArray(c))s.push(c);else for(var f=0;f<c.length;++f)s.push(c[f])}return s},t.removeCertificate=function(s){var l;if(typeof s=="string"&&(s=Ge.pki.certificateFromPem(s)),n(s.subject),!t.hasCertificate(s))return null;var c=r(s.subject);if(!Ge.util.isArray(c))return l=t.certs[s.subject.hash],delete t.certs[s.subject.hash],l;for(var f=w.toDer(Ce.certificateToAsn1(s)).getBytes(),d=0;d<c.length;++d){var p=w.toDer(Ce.certificateToAsn1(c[d])).getBytes();f===p&&(l=c[d],c.splice(d,1))}return c.length===0&&delete t.certs[s.subject.hash],l};function r(s){return n(s),t.certs[s.hash]||null}function n(s){if(!s.hash){var l=Ge.md.sha1.create();s.attributes=Ce.RDNAttributesAsArray(yo(s),l),s.hash=l.digest().toHex()}}if(e)for(var i=0;i<e.length;++i){var a=e[i];t.addCertificate(a)}return t};Ce.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};Ce.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),i=r.validityCheckDate;typeof i=="undefined"&&(i=new Date);var a=!0,s=null,l=0;do{var c=t.shift(),f=null,d=!1;if(i&&(i<c.validity.notBefore||i>c.validity.notAfter)&&(s={message:"Certificate is not valid yet or has expired.",error:Ce.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:i}),s===null){if(f=t[0]||e.getIssuer(c),f===null&&c.isIssuer(c)&&(d=!0,f=c),f){var p=f;Ge.util.isArray(p)||(p=[p]);for(var g=!1;!g&&p.length>0;){f=p.shift();try{g=f.verify(c)}catch(N){}}g||(s={message:"Certificate signature is invalid.",error:Ce.certificateError.bad_certificate})}s===null&&(!f||d)&&!e.hasCertificate(c)&&(s={message:"Certificate is not trusted.",error:Ce.certificateError.unknown_ca})}if(s===null&&f&&!c.isIssuer(f)&&(s={message:"Certificate issuer is invalid.",error:Ce.certificateError.bad_certificate}),s===null)for(var v={keyUsage:!0,basicConstraints:!0},m=0;s===null&&m<c.extensions.length;++m){var _=c.extensions[m];_.critical&&!(_.name in v)&&(s={message:"Certificate has an unsupported critical extension.",error:Ce.certificateError.unsupported_certificate})}if(s===null&&(!a||t.length===0&&(!f||d))){var E=c.getExtension("basicConstraints"),A=c.getExtension("keyUsage");if(A!==null&&(!A.keyCertSign||E===null)&&(s={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:Ce.certificateError.bad_certificate}),s===null&&E!==null&&!E.cA&&(s={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:Ce.certificateError.bad_certificate}),s===null&&A!==null&&"pathLenConstraint"in E){var x=l-1;x>E.pathLenConstraint&&(s={message:"Certificate basicConstraints pathLenConstraint violated.",error:Ce.certificateError.bad_certificate})}}var B=s===null?!0:s.error,L=r.verify?r.verify(B,l,n):B;if(L===!0)s=null;else throw B===!0&&(s={message:"The application rejected the certificate.",error:Ce.certificateError.bad_certificate}),(L||L===0)&&(typeof L=="object"&&!Ge.util.isArray(L)?(L.message&&(s.message=L.message),L.error&&(s.error=L.error)):typeof L=="string"&&(s.error=L)),s;a=!1,++l}while(t.length>0);return!0}});var X0=le((aG,ZE)=>{var zt=ft();si();uo();Ta();W0();j0();Un();Il();po();Rt();ff();var M=zt.asn1,yt=zt.pki,kl=ZE.exports=zt.pkcs12=zt.pkcs12||{},XE={name:"ContentInfo",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:M.Class.UNIVERSAL,type:M.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:M.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},nO={name:"PFX",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:M.Class.UNIVERSAL,type:M.Type.INTEGER,constructed:!1,capture:"version"},XE,{name:"PFX.macData",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:M.Class.UNIVERSAL,type:M.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:M.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:M.Class.UNIVERSAL,type:M.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:M.Class.UNIVERSAL,type:M.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:M.Class.UNIVERSAL,type:M.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},iO={name:"SafeBag",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:M.Class.UNIVERSAL,type:M.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:M.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:M.Class.UNIVERSAL,type:M.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},aO={name:"Attribute",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:M.Class.UNIVERSAL,type:M.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:M.Class.UNIVERSAL,type:M.Type.SET,constructed:!0,capture:"values"}]},sO={name:"CertBag",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:M.Class.UNIVERSAL,type:M.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:M.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:M.Class.UNIVERSAL,type:M.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function Rl(e,t,r,n){for(var i=[],a=0;a<e.length;a++)for(var s=0;s<e[a].safeBags.length;s++){var l=e[a].safeBags[s];if(!(n!==void 0&&l.type!==n)){if(t===null){i.push(l);continue}l.attributes[t]!==void 0&&l.attributes[t].indexOf(r)>=0&&i.push(l)}}return i}kl.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},i=[];if(!M.validate(e,nO,n,i)){var a=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw a.errors=a,a}var s={version:n.version.charCodeAt(0),safeContents:[],getBags:function(E){var A={},x;return"localKeyId"in E?x=E.localKeyId:"localKeyIdHex"in E&&(x=zt.util.hexToBytes(E.localKeyIdHex)),x===void 0&&!("friendlyName"in E)&&"bagType"in E&&(A[E.bagType]=Rl(s.safeContents,null,null,E.bagType)),x!==void 0&&(A.localKeyId=Rl(s.safeContents,"localKeyId",x,E.bagType)),"friendlyName"in E&&(A.friendlyName=Rl(s.safeContents,"friendlyName",E.friendlyName,E.bagType)),A},getBagsByFriendlyName:function(E,A){return Rl(s.safeContents,"friendlyName",E,A)},getBagsByLocalKeyId:function(E,A){return Rl(s.safeContents,"localKeyId",E,A)}};if(n.version.charCodeAt(0)!==3){var a=new Error("PKCS#12 PFX of version other than 3 not supported.");throw a.version=n.version.charCodeAt(0),a}if(M.derToOid(n.contentType)!==yt.oids.data){var a=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw a.oid=M.derToOid(n.contentType),a}var l=n.content.value[0];if(l.tagClass!==M.Class.UNIVERSAL||l.type!==M.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(l=Q0(l),n.mac){var c=null,f=0,d=M.derToOid(n.macAlgorithm);switch(d){case yt.oids.sha1:c=zt.md.sha1.create(),f=20;break;case yt.oids.sha256:c=zt.md.sha256.create(),f=32;break;case yt.oids.sha384:c=zt.md.sha384.create(),f=48;break;case yt.oids.sha512:c=zt.md.sha512.create(),f=64;break;case yt.oids.md5:c=zt.md.md5.create(),f=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+d);var p=new zt.util.ByteBuffer(n.macSalt),g="macIterations"in n?parseInt(zt.util.bytesToHex(n.macIterations),16):1,v=kl.generateKey(r,p,3,g,f,c),m=zt.hmac.create();m.start(c,v),m.update(l.value);var _=m.getMac();if(_.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return oO(s,l.value,t,r),s};function Q0(e){if(e.composed||e.constructed){for(var t=zt.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function oO(e,t,r,n){if(t=M.fromDer(t,r),t.tagClass!==M.Class.UNIVERSAL||t.type!==M.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var a=t.value[i],s={},l=[];if(!M.validate(a,XE,s,l)){var c=new Error("Cannot read ContentInfo.");throw c.errors=l,c}var f={encrypted:!1},d=null,p=s.content.value[0];switch(M.derToOid(s.contentType)){case yt.oids.data:if(p.tagClass!==M.Class.UNIVERSAL||p.type!==M.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");d=Q0(p).value;break;case yt.oids.encryptedData:d=lO(p,n),f.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=M.derToOid(s.contentType),c}f.safeBags=uO(d,r,n),e.safeContents.push(f)}}function lO(e,t){var r={},n=[];if(!M.validate(e,zt.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var a=M.derToOid(r.contentType);if(a!==yt.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=a,i}a=M.derToOid(r.encAlgorithm);var s=yt.pbe.getCipher(a,r.encParameter,t),l=Q0(r.encryptedContentAsn1),c=zt.util.createBuffer(l.value);if(s.update(c),!s.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return s.output.getBytes()}function uO(e,t,r){if(!t&&e.length===0)return[];if(e=M.fromDer(e,t),e.tagClass!==M.Class.UNIVERSAL||e.type!==M.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var a=e.value[i],s={},l=[];if(!M.validate(a,iO,s,l)){var c=new Error("Cannot read SafeBag.");throw c.errors=l,c}var f={type:M.derToOid(s.bagId),attributes:cO(s.bagAttributes)};n.push(f);var d,p,g=s.bagValue.value[0];switch(f.type){case yt.oids.pkcs8ShroudedKeyBag:if(g=yt.decryptPrivateKeyInfo(g,r),g===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case yt.oids.keyBag:try{f.key=yt.privateKeyFromAsn1(g)}catch(m){f.key=null,f.asn1=g}continue;case yt.oids.certBag:d=sO,p=function(){if(M.derToOid(s.certId)!==yt.oids.x509Certificate){var m=new Error("Unsupported certificate type, only X.509 supported.");throw m.oid=M.derToOid(s.certId),m}var _=M.fromDer(s.cert,t);try{f.cert=yt.certificateFromAsn1(_,!0)}catch(E){f.cert=null,f.asn1=_}};break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=f.type,c}if(d!==void 0&&!M.validate(g,d,s,l)){var c=new Error("Cannot read PKCS#12 "+d.name);throw c.errors=l,c}p()}return n}function cO(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},i=[];if(!M.validate(e[r],aO,n,i)){var a=new Error("Cannot read PKCS#12 BagAttribute.");throw a.errors=i,a}var s=M.derToOid(n.oid);if(yt.oids[s]!==void 0){t[yt.oids[s]]=[];for(var l=0;l<n.values.length;++l)t[yt.oids[s]].push(n.values[l].value)}}return t}kl.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,a;if(i!==null)i=zt.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var s=zt.util.isArray(t)?t[0]:t;typeof s=="string"&&(s=yt.certificateFromPem(s));var l=zt.md.sha1.create();l.update(M.toDer(yt.certificateToAsn1(s)).getBytes()),i=l.digest().getBytes()}else i=zt.random.getBytes(20);var c=[];i!==null&&c.push(M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.localKeyId).getBytes()),M.create(M.Class.UNIVERSAL,M.Type.SET,!0,[M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&c.push(M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.friendlyName).getBytes()),M.create(M.Class.UNIVERSAL,M.Type.SET,!0,[M.create(M.Class.UNIVERSAL,M.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(a=M.create(M.Class.UNIVERSAL,M.Type.SET,!0,c));var f=[],d=[];t!==null&&(zt.util.isArray(t)?d=t:d=[t]);for(var p=[],g=0;g<d.length;++g){t=d[g],typeof t=="string"&&(t=yt.certificateFromPem(t));var v=g===0?a:void 0,m=yt.certificateToAsn1(t),_=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.certBag).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.x509Certificate).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,M.toDer(m).getBytes())])])]),v]);p.push(_)}if(p.length>0){var E=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,p),A=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.data).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,M.toDer(E).getBytes())])]);f.push(A)}var x=null;if(e!==null){var B=yt.wrapRsaPrivateKey(yt.privateKeyToAsn1(e));r===null?x=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.keyBag).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[B]),a]):x=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.pkcs8ShroudedKeyBag).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[yt.encryptPrivateKeyInfo(B,r,n)]),a]);var L=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[x]),N=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.data).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,M.toDer(L).getBytes())])]);f.push(N)}var P=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,f),ae;if(n.useMac){var l=zt.md.sha1.create(),j=new zt.util.ByteBuffer(zt.random.getBytes(n.saltSize)),V=n.count,e=kl.generateKey(r,j,3,V,20),me=zt.hmac.create();me.start(l,e),me.update(M.toDer(P).getBytes());var ye=me.getMac();ae=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.sha1).getBytes()),M.create(M.Class.UNIVERSAL,M.Type.NULL,!1,"")]),M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,ye.getBytes())]),M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,j.getBytes()),M.create(M.Class.UNIVERSAL,M.Type.INTEGER,!1,M.integerToDer(V).getBytes())])}return M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.INTEGER,!1,M.integerToDer(3).getBytes()),M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(yt.oids.data).getBytes()),M.create(M.Class.CONTEXT_SPECIFIC,0,!0,[M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,M.toDer(P).getBytes())])]),ae])};kl.generateKey=zt.pbe.generatePkcs12Key});var $0=le((sG,$E)=>{var Ra=ft();si();Ta();j0();as();ef();X0();lf();Il();Rt();ff();var Z0=Ra.asn1,vo=$E.exports=Ra.pki=Ra.pki||{};vo.pemToDer=function(e){var t=Ra.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return Ra.util.createBuffer(t.body)};vo.privateKeyFromPem=function(e){var t=Ra.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=Z0.fromDer(t.body);return vo.privateKeyFromAsn1(n)};vo.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:Z0.toDer(vo.privateKeyToAsn1(e)).getBytes()};return Ra.pem.encode(r,{maxline:t})};vo.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:Z0.toDer(e).getBytes()};return Ra.pem.encode(r,{maxline:t})}});var ap=le((oG,oC)=>{var pe=ft();si();uo();Qc();as();$0();Un();po();Rt();var df=function(e,t,r,n){var i=pe.util.createBuffer(),a=e.length>>1,s=a+(e.length&1),l=e.substr(0,s),c=e.substr(a,s),f=pe.util.createBuffer(),d=pe.hmac.create();r=t+r;var p=Math.ceil(n/16),g=Math.ceil(n/20);d.start("MD5",l);var v=pe.util.createBuffer();f.putBytes(r);for(var m=0;m<p;++m)d.start(null,null),d.update(f.getBytes()),f.putBuffer(d.digest()),d.start(null,null),d.update(f.bytes()+r),v.putBuffer(d.digest());d.start("SHA1",c);var _=pe.util.createBuffer();f.clear(),f.putBytes(r);for(var m=0;m<g;++m)d.start(null,null),d.update(f.getBytes()),f.putBuffer(d.digest()),d.start(null,null),d.update(f.bytes()+r),_.putBuffer(d.digest());return i.putBytes(pe.util.xorBytes(v.getBytes(),_.getBytes(),n)),i},fO=function(e,t,r){var n=pe.hmac.create();n.start("SHA1",e);var i=pe.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},dO=function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=pe.util.createBuffer(i),t.length=i.length,n=!0}catch(a){}return n},hO=function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=pe.util.createBuffer(i),t.length=i.length,n=!0}catch(a){}return n},wn=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return pe.util.createBuffer(e.getBytes(r))},Kn=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},S={};S.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};S.SupportedVersions=[S.Versions.TLS_1_1,S.Versions.TLS_1_0];S.Version=S.SupportedVersions[0];S.MaxFragment=16384-1024;S.ConnectionEnd={server:0,client:1};S.PRFAlgorithm={tls_prf_sha256:0};S.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};S.CipherType={stream:0,block:1,aead:2};S.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};S.CompressionMethod={none:0,deflate:1};S.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};S.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};S.Alert={};S.Alert.Level={warning:1,fatal:2};S.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};S.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};S.CipherSuites={};S.getCipherSuite=function(e){var t=null;for(var r in S.CipherSuites){var n=S.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};S.handleUnexpected=function(e,t){var r=!e.open&&e.entity===S.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unexpected_message}})};S.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(S.queue(e,S.createAlert(e,{level:S.Alert.Level.warning,description:S.Alert.Description.no_renegotiation})),S.flush(e)),e.process()};S.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===S.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});else{var a=t.fragment,s=a.length();if(n={version:{major:a.getByte(),minor:a.getByte()},random:pe.util.createBuffer(a.getBytes(32)),session_id:wn(a,1),extensions:[]},i?(n.cipher_suite=a.getBytes(2),n.compression_method=a.getByte()):(n.cipher_suites=wn(a,2),n.compression_methods=wn(a,1)),s=r-(s-a.length()),s>0){for(var l=wn(a,2);l.length()>0;)n.extensions.push({type:[l.getByte(),l.getByte()],data:wn(l,2)});if(!i)for(var c=0;c<n.extensions.length;++c){var f=n.extensions[c];if(f.type[0]===0&&f.type[1]===0)for(var d=wn(f.data,2);d.length()>0;){var p=d.getByte();if(p!==0)break;e.session.extensions.server_name.serverNameList.push(wn(d,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=S.getCipherSuite(n.cipher_suite);else for(var g=pe.util.createBuffer(n.cipher_suites.bytes());g.length()>0&&(e.session.cipherSuite=S.getCipherSuite(g.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.handshake_failure},cipherSuite:pe.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=S.CompressionMethod.none}return n};S.createSecurityParameters=function(e,t){var r=e.entity===S.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,a=r?n:S.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:S.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:a}};S.handleServerHello=function(e,t,r){var n=S.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.protocol_version}});e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=tC,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=gO,e.session.resuming=!1,S.createSecurityParameters(e,n)),e.session.id=i,e.process()}};S.handleClientHello=function(e,t,r){var n=S.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),a=null;if(e.sessionCache&&(a=e.sessionCache.getSession(i),a===null?i="":(a.version.major!==n.version.major||a.version.minor>n.version.minor)&&(a=null,i="")),i.length===0&&(i=pe.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},a)e.version=e.session.version=a.version,e.session.sp=a.sp;else{for(var s,l=1;l<S.SupportedVersions.length&&(s=S.SupportedVersions[l],!(s.minor<=n.version.minor));++l);e.version={major:s.major,minor:s.minor},e.session.version=e.version}a!==null?(e.expect=tp,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?AO:ep,e.session.resuming=!1,S.createSecurityParameters(e,n)),e.open=!0,S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createServerHello(e)})),e.session.resuming?(S.queue(e,S.createRecord(e,{type:S.ContentType.change_cipher_spec,data:S.createChangeCipherSpec()})),e.state.pending=S.createConnectionState(e),e.state.current.write=e.state.pending.write,S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createFinished(e)}))):(S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createCertificate(e)})),e.fail||(S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createServerKeyExchange(e)})),e.verifyClient!==!1&&S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createCertificateRequest(e)})),S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createServerHelloDone(e)})))),S.flush(e),e.process()}};S.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_list:wn(n,3)},a,s,l=[];try{for(;i.certificate_list.length()>0;)a=wn(i.certificate_list,3),s=pe.asn1.fromDer(a),a=pe.pki.certificateFromAsn1(s,!0),l.push(a)}catch(f){return e.error(e,{message:"Could not parse certificate list.",cause:f,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.bad_certificate}})}var c=e.entity===S.ConnectionEnd.client;(c||e.verifyClient===!0)&&l.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}}):l.length===0?e.expect=c?eC:ep:(c?e.session.serverCertificate=l[0]:e.session.clientCertificate=l[0],S.verifyCertificateChain(e,l)&&(e.expect=c?eC:ep)),e.process()};S.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unsupported_certificate}});e.expect=mO,e.process()};S.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:wn(n,2).getBytes()},a=null;if(e.getPrivateKey)try{a=e.getPrivateKey(e,e.session.serverCertificate),a=pe.pki.privateKeyFromPem(a)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}})}if(a===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}});try{var s=e.session.sp;s.pre_master_secret=a.decrypt(i.enc_pre_master_secret);var l=e.session.clientHelloVersion;if(l.major!==s.pre_master_secret.charCodeAt(0)||l.minor!==s.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(c){s.pre_master_secret=pe.random.getBytes(48)}e.expect=tp,e.session.clientCertificate!==null&&(e.expect=wO),e.process()};S.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:wn(n,1),certificate_authorities:wn(n,2)};e.session.certificateRequest=i,e.expect=yO,e.process()};S.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var a={signature:wn(n,2).getBytes()},s=pe.util.createBuffer();s.putBuffer(e.session.md5.digest()),s.putBuffer(e.session.sha1.digest()),s=s.getBytes();try{var l=e.session.clientCertificate;if(!l.publicKey.verify(s,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch(c){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.handshake_failure}})}e.expect=tp,e.process()};S.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.insufficient_security}},i=0,a=e.verify(e,n.alert.description,i,[]);if(a!==!0)return(a||a===0)&&(typeof a=="object"&&!pe.util.isArray(a)?(a.message&&(n.message=a.message),a.alert&&(n.alert.description=a.alert)):typeof a=="number"&&(n.alert.description=a)),e.error(e,n)}e.session.certificateRequest!==null&&(t=S.createRecord(e,{type:S.ContentType.handshake,data:S.createCertificate(e)}),S.queue(e,t)),t=S.createRecord(e,{type:S.ContentType.handshake,data:S.createClientKeyExchange(e)}),S.queue(e,t),e.expect=EO;var s=function(l,c){l.session.certificateRequest!==null&&l.session.clientCertificate!==null&&S.queue(l,S.createRecord(l,{type:S.ContentType.handshake,data:S.createCertificateVerify(l,c)})),S.queue(l,S.createRecord(l,{type:S.ContentType.change_cipher_spec,data:S.createChangeCipherSpec()})),l.state.pending=S.createConnectionState(l),l.state.current.write=l.state.pending.write,S.queue(l,S.createRecord(l,{type:S.ContentType.handshake,data:S.createFinished(l)})),l.expect=tC,S.flush(l),l.process()};if(e.session.certificateRequest===null||e.session.clientCertificate===null)return s(e,null);S.getClientSignature(e,s)};S.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.illegal_parameter}});var r=e.entity===S.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=S.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?vO:bO,e.process()};S.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var a=t.fragment.getBytes();n=pe.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var s=e.entity===S.ConnectionEnd.client,l=s?"server finished":"client finished",c=e.session.sp,f=12,d=df;if(n=d(c.master_secret,l,n.getBytes(),f),n.getBytes()!==a)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&s||!e.session.resuming&&!s)&&(S.queue(e,S.createRecord(e,{type:S.ContentType.change_cipher_spec,data:S.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,S.queue(e,S.createRecord(e,{type:S.ContentType.handshake,data:S.createFinished(e)}))),e.expect=s?_O:SO,e.handshaking=!1,++e.handshakes,e.peerCertificate=s?e.session.serverCertificate:e.session.clientCertificate,S.flush(e),e.isConnected=!0,e.connected(e),e.process()};S.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case S.Alert.Description.close_notify:i="Connection closed.";break;case S.Alert.Description.unexpected_message:i="Unexpected message.";break;case S.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case S.Alert.Description.decryption_failed:i="Decryption failed.";break;case S.Alert.Description.record_overflow:i="Record overflow.";break;case S.Alert.Description.decompression_failure:i="Decompression failed.";break;case S.Alert.Description.handshake_failure:i="Handshake failure.";break;case S.Alert.Description.bad_certificate:i="Bad certificate.";break;case S.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case S.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case S.Alert.Description.certificate_expired:i="Certificate expired.";break;case S.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case S.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case S.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case S.Alert.Description.access_denied:i="Access denied.";break;case S.Alert.Description.decode_error:i="Decode error.";break;case S.Alert.Description.decrypt_error:i="Decrypt error.";break;case S.Alert.Description.export_restriction:i="Export restriction.";break;case S.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case S.Alert.Description.insufficient_security:i="Insufficient security.";break;case S.Alert.Description.internal_error:i="Internal error.";break;case S.Alert.Description.user_canceled:i="User canceled.";break;case S.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===S.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===S.ConnectionEnd.client?"server":"client",alert:n}),e.process()};S.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=pe.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var a=r.bytes(i+4);r.read+=4,n in pf[e.entity][e.expect]?(e.entity===S.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:pe.md.md5.create(),sha1:pe.md.sha1.create()}),n!==S.HandshakeType.hello_request&&n!==S.HandshakeType.certificate_verify&&n!==S.HandshakeType.finished&&(e.session.md5.update(a),e.session.sha1.update(a)),pf[e.entity][e.expect][n](e,t,i)):S.handleUnexpected(e,t)};S.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};S.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),a=r.getBytes(i);if(n===S.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>a.length)return e.process();S.queue(e,S.createRecord(e,{type:S.ContentType.heartbeat,data:S.createHeartbeat(S.HeartbeatMessageType.heartbeat_response,a)})),S.flush(e)}else if(n===S.HeartbeatMessageType.heartbeat_response){if(a!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,pe.util.createBuffer(a))}e.process()};var pO=0,gO=1,eC=2,mO=3,yO=4,tC=5,vO=6,_O=7,EO=8,CO=0,AO=1,ep=2,wO=3,tp=4,bO=5,SO=6,b=S.handleUnexpected,rC=S.handleChangeCipherSpec,Lr=S.handleAlert,$r=S.handleHandshake,nC=S.handleApplicationData,Pr=S.handleHeartbeat,rp=[];rp[S.ConnectionEnd.client]=[[b,Lr,$r,b,Pr],[b,Lr,$r,b,Pr],[b,Lr,$r,b,Pr],[b,Lr,$r,b,Pr],[b,Lr,$r,b,Pr],[rC,Lr,b,b,Pr],[b,Lr,$r,b,Pr],[b,Lr,$r,nC,Pr],[b,Lr,$r,b,Pr]];rp[S.ConnectionEnd.server]=[[b,Lr,$r,b,Pr],[b,Lr,$r,b,Pr],[b,Lr,$r,b,Pr],[b,Lr,$r,b,Pr],[rC,Lr,b,b,Pr],[b,Lr,$r,b,Pr],[b,Lr,$r,nC,Pr],[b,Lr,$r,b,Pr]];var Ba=S.handleHelloRequest,TO=S.handleServerHello,iC=S.handleCertificate,aC=S.handleServerKeyExchange,np=S.handleCertificateRequest,hf=S.handleServerHelloDone,sC=S.handleFinished,pf=[];pf[S.ConnectionEnd.client]=[[b,b,TO,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[Ba,b,b,b,b,b,b,b,b,b,b,iC,aC,np,hf,b,b,b,b,b,b],[Ba,b,b,b,b,b,b,b,b,b,b,b,aC,np,hf,b,b,b,b,b,b],[Ba,b,b,b,b,b,b,b,b,b,b,b,b,np,hf,b,b,b,b,b,b],[Ba,b,b,b,b,b,b,b,b,b,b,b,b,b,hf,b,b,b,b,b,b],[Ba,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[Ba,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,sC],[Ba,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[Ba,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b]];var xO=S.handleClientHello,IO=S.handleClientKeyExchange,kO=S.handleCertificateVerify;pf[S.ConnectionEnd.server]=[[b,xO,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,iC,b,b,b,b,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,IO,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,kO,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,sC],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b]];S.generateKeys=function(e,t){var r=df,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,a=e.version.major===S.Versions.TLS_1_0.major&&e.version.minor===S.Versions.TLS_1_0.minor;a&&(i+=2*t.fixed_iv_length);var s=r(t.master_secret,"key expansion",n,i),l={client_write_MAC_key:s.getBytes(t.mac_key_length),server_write_MAC_key:s.getBytes(t.mac_key_length),client_write_key:s.getBytes(t.enc_key_length),server_write_key:s.getBytes(t.enc_key_length)};return a&&(l.client_write_IV=s.getBytes(t.fixed_iv_length),l.server_write_IV=s.getBytes(t.fixed_iv_length)),l};S.createConnectionState=function(e){var t=e.entity===S.ConnectionEnd.client,r=function(){var a={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(s){return!0},compressionState:null,compressFunction:function(s){return!0},updateSequenceNumber:function(){a.sequenceNumber[1]===4294967295?(a.sequenceNumber[1]=0,++a.sequenceNumber[0]):++a.sequenceNumber[1]}};return a},n={read:r(),write:r()};if(n.read.update=function(a,s){return n.read.cipherFunction(s,n.read)?n.read.compressFunction(a,s,n.read)||a.error(a,{message:"Could not decompress record.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.decompression_failure}}):a.error(a,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.bad_record_mac}}),!a.fail},n.write.update=function(a,s){return n.write.compressFunction(a,s,n.write)?n.write.cipherFunction(s,n.write)||a.error(a,{message:"Could not encrypt record.",send:!1,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}}):a.error(a,{message:"Could not compress record.",send:!1,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}}),!a.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=S.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case S.CompressionMethod.none:break;case S.CompressionMethod.deflate:n.read.compressFunction=hO,n.write.compressFunction=dO;break;default:throw new Error("Unsupported compression algorithm.")}}return n};S.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=pe.util.createBuffer();return r.putInt32(t),r.putBytes(pe.random.getBytes(28)),r};S.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};S.createAlert=function(e,t){var r=pe.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),S.createRecord(e,{type:S.ContentType.alert,data:r})};S.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=pe.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),a=pe.util.createBuffer();a.putByte(S.CompressionMethod.none);var s=a.length(),l=pe.util.createBuffer();if(e.virtualHost){var c=pe.util.createBuffer();c.putByte(0),c.putByte(0);var f=pe.util.createBuffer();f.putByte(0),Kn(f,2,pe.util.createBuffer(e.virtualHost));var d=pe.util.createBuffer();Kn(d,2,f),Kn(c,2,d),l.putBuffer(c)}var p=l.length();p>0&&(p+=2);var g=e.session.id,v=g.length+1+2+4+28+2+i+1+s+p,m=pe.util.createBuffer();return m.putByte(S.HandshakeType.client_hello),m.putInt24(v),m.putByte(e.version.major),m.putByte(e.version.minor),m.putBytes(e.session.sp.client_random),Kn(m,1,pe.util.createBuffer(g)),Kn(m,2,t),Kn(m,1,a),p>0&&Kn(m,2,l),m};S.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=pe.util.createBuffer();return n.putByte(S.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),Kn(n,1,pe.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};S.createCertificate=function(e){var t=e.entity===S.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=pe.util.createBuffer();if(r!==null)try{pe.util.isArray(r)||(r=[r]);for(var a=null,s=0;s<r.length;++s){var l=pe.pem.decode(r[s])[0];if(l.type!=="CERTIFICATE"&&l.type!=="X509 CERTIFICATE"&&l.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=l.type,c}if(l.procType&&l.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var f=pe.util.createBuffer(l.body);a===null&&(a=pe.asn1.fromDer(f.bytes(),!1));var d=pe.util.createBuffer();Kn(d,3,f),i.putBuffer(d)}r=pe.pki.certificateFromAsn1(a),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(v){return e.error(e,{message:"Could not send certificate list.",cause:v,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.bad_certificate}})}var p=3+i.length(),g=pe.util.createBuffer();return g.putByte(S.HandshakeType.certificate),g.putInt24(p),Kn(g,3,i),g};S.createClientKeyExchange=function(e){var t=pe.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(pe.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,a=pe.util.createBuffer();return a.putByte(S.HandshakeType.client_key_exchange),a.putInt24(i),a.putInt16(t.length),a.putBytes(t),a};S.createServerKeyExchange=function(e){var t=0,r=pe.util.createBuffer();return t>0&&(r.putByte(S.HandshakeType.server_key_exchange),r.putInt24(t)),r};S.getClientSignature=function(e,t){var r=pe.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,i,a){var s=null;if(n.getPrivateKey)try{s=n.getPrivateKey(n,n.session.clientCertificate),s=pe.pki.privateKeyFromPem(s)}catch(l){n.error(n,{message:"Could not get private key.",cause:l,send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}})}s===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.internal_error}}):i=s.sign(i,null),a(n,i)},e.getSignature(e,r,t)};S.createCertificateVerify=function(e,t){var r=t.length+2,n=pe.util.createBuffer();return n.putByte(S.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};S.createCertificateRequest=function(e){var t=pe.util.createBuffer();t.putByte(1);var r=pe.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],a=pe.pki.distinguishedNameToAsn1(i.subject),s=pe.asn1.toDer(a);r.putInt16(s.length()),r.putBuffer(s)}var l=1+t.length()+2+r.length(),c=pe.util.createBuffer();return c.putByte(S.HandshakeType.certificate_request),c.putInt24(l),Kn(c,1,t),Kn(c,2,r),c};S.createServerHelloDone=function(e){var t=pe.util.createBuffer();return t.putByte(S.HandshakeType.server_hello_done),t.putInt24(0),t};S.createChangeCipherSpec=function(){var e=pe.util.createBuffer();return e.putByte(1),e};S.createFinished=function(e){var t=pe.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===S.ConnectionEnd.client,n=e.session.sp,i=12,a=df,s=r?"client finished":"server finished";t=a(n.master_secret,s,t.getBytes(),i);var l=pe.util.createBuffer();return l.putByte(S.HandshakeType.finished),l.putInt24(t.length()),l.putBuffer(t),l};S.createHeartbeat=function(e,t,r){typeof r=="undefined"&&(r=t.length);var n=pe.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),a=Math.max(16,i-r-3);return n.putBytes(pe.random.getBytes(a)),n};S.queue=function(e,t){if(!!t&&!(t.fragment.length()===0&&(t.type===S.ContentType.handshake||t.type===S.ContentType.alert||t.type===S.ContentType.change_cipher_spec))){if(t.type===S.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=S.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>S.MaxFragment;)n.push(S.createRecord(e,{type:t.type,data:pe.util.createBuffer(i.slice(0,S.MaxFragment))})),i=i.slice(S.MaxFragment);i.length>0&&n.push(S.createRecord(e,{type:t.type,data:pe.util.createBuffer(i)}))}for(var a=0;a<n.length&&!e.fail;++a){var s=n[a],l=e.state.current.write;l.update(e,s)&&e.records.push(s)}}};S.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var ip=function(e){switch(e){case!0:return!0;case pe.pki.certificateError.bad_certificate:return S.Alert.Description.bad_certificate;case pe.pki.certificateError.unsupported_certificate:return S.Alert.Description.unsupported_certificate;case pe.pki.certificateError.certificate_revoked:return S.Alert.Description.certificate_revoked;case pe.pki.certificateError.certificate_expired:return S.Alert.Description.certificate_expired;case pe.pki.certificateError.certificate_unknown:return S.Alert.Description.certificate_unknown;case pe.pki.certificateError.unknown_ca:return S.Alert.Description.unknown_ca;default:return S.Alert.Description.bad_certificate}},RO=function(e){switch(e){case!0:return!0;case S.Alert.Description.bad_certificate:return pe.pki.certificateError.bad_certificate;case S.Alert.Description.unsupported_certificate:return pe.pki.certificateError.unsupported_certificate;case S.Alert.Description.certificate_revoked:return pe.pki.certificateError.certificate_revoked;case S.Alert.Description.certificate_expired:return pe.pki.certificateError.certificate_expired;case S.Alert.Description.certificate_unknown:return pe.pki.certificateError.certificate_unknown;case S.Alert.Description.unknown_ca:return pe.pki.certificateError.unknown_ca;default:return pe.pki.certificateError.bad_certificate}};S.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(a,s,l){var c=ip(a),f=e.verify(e,a,s,l);if(f!==!0){if(typeof f=="object"&&!pe.util.isArray(f)){var d=new Error("The application rejected the certificate.");throw d.send=!0,d.alert={level:S.Alert.Level.fatal,description:S.Alert.Description.bad_certificate},f.message&&(d.message=f.message),f.alert&&(d.alert.description=f.alert),d}f!==a&&(f=RO(f))}return f},pe.pki.verifyCertificateChain(e.caStore,t,r)}catch(a){var i=a;(typeof i!="object"||pe.util.isArray(i))&&(i={send:!0,alert:{level:S.Alert.Level.fatal,description:ip(a)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:S.Alert.Level.fatal,description:ip(i.error)}),e.error(e,i)}return!e.fail};S.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(i){var a=null,s=null;if(i?s=pe.util.bytesToHex(i):r.order.length>0&&(s=r.order[0]),s!==null&&s in r.cache){a=r.cache[s],delete r.cache[s];for(var l in r.order)if(r.order[l]===s){r.order.splice(l,1);break}}return a},r.setSession=function(i,a){if(r.order.length===r.capacity){var s=r.order.shift();delete r.cache[s]}var s=pe.util.bytesToHex(i);r.order.push(s),r.cache[s]=a}}return r};S.createConnection=function(e){var t=null;e.caStore?pe.util.isArray(e.caStore)?t=pe.pki.createCaStore(e.caStore):t=e.caStore:t=pe.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in S.CipherSuites)r.push(S.CipherSuites[n])}var i=e.server?S.ConnectionEnd.server:S.ConnectionEnd.client,a=e.sessionCache?S.createSessionCache(e.sessionCache):null,s={version:{major:S.Version.major,minor:S.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:a,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(d,p,g,v){return p},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:pe.util.createBuffer(),tlsData:pe.util.createBuffer(),data:pe.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(d,p){p.origin=p.origin||(d.entity===S.ConnectionEnd.client?"client":"server"),p.send&&(S.queue(d,S.createAlert(d,p.alert)),S.flush(d));var g=p.fatal!==!1;g&&(d.fail=!0),e.error(d,p),g&&d.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};s.reset=function(d){s.version={major:S.Version.major,minor:S.Version.minor},s.record=null,s.session=null,s.peerCertificate=null,s.state={pending:null,current:null},s.expect=s.entity===S.ConnectionEnd.client?pO:CO,s.fragmented=null,s.records=[],s.open=!1,s.handshakes=0,s.handshaking=!1,s.isConnected=!1,s.fail=!(d||typeof d=="undefined"),s.input.clear(),s.tlsData.clear(),s.data.clear(),s.state.current=S.createConnectionState(s)},s.reset();var l=function(d,p){var g=p.type-S.ContentType.change_cipher_spec,v=rp[d.entity][d.expect];g in v?v[g](d,p):S.handleUnexpected(d,p)},c=function(d){var p=0,g=d.input,v=g.length();if(v<5)p=5-v;else{d.record={type:g.getByte(),version:{major:g.getByte(),minor:g.getByte()},length:g.getInt16(),fragment:pe.util.createBuffer(),ready:!1};var m=d.record.version.major===d.version.major;m&&d.session&&d.session.version&&(m=d.record.version.minor===d.version.minor),m||d.error(d,{message:"Incompatible TLS version.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.protocol_version}})}return p},f=function(d){var p=0,g=d.input,v=g.length();if(v<d.record.length)p=d.record.length-v;else{d.record.fragment.putBytes(g.getBytes(d.record.length)),g.compact();var m=d.state.current.read;m.update(d,d.record)&&(d.fragmented!==null&&(d.fragmented.type===d.record.type?(d.fragmented.fragment.putBuffer(d.record.fragment),d.record=d.fragmented):d.error(d,{message:"Invalid fragmented record.",send:!0,alert:{level:S.Alert.Level.fatal,description:S.Alert.Description.unexpected_message}})),d.record.ready=!0)}return p};return s.handshake=function(d){if(s.entity!==S.ConnectionEnd.client)s.error(s,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(s.handshaking)s.error(s,{message:"Handshake already in progress.",fatal:!1});else{s.fail&&!s.open&&s.handshakes===0&&(s.fail=!1),s.handshaking=!0,d=d||"";var p=null;d.length>0&&(s.sessionCache&&(p=s.sessionCache.getSession(d)),p===null&&(d="")),d.length===0&&s.sessionCache&&(p=s.sessionCache.getSession(),p!==null&&(d=p.id)),s.session={id:d,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:pe.md.md5.create(),sha1:pe.md.sha1.create()},p&&(s.version=p.version,s.session.sp=p.sp),s.session.sp.client_random=S.createRandom().getBytes(),s.open=!0,S.queue(s,S.createRecord(s,{type:S.ContentType.handshake,data:S.createClientHello(s)})),S.flush(s)}},s.process=function(d){var p=0;return d&&s.input.putBytes(d),s.fail||(s.record!==null&&s.record.ready&&s.record.fragment.isEmpty()&&(s.record=null),s.record===null&&(p=c(s)),!s.fail&&s.record!==null&&!s.record.ready&&(p=f(s)),!s.fail&&s.record!==null&&s.record.ready&&l(s,s.record)),p},s.prepare=function(d){return S.queue(s,S.createRecord(s,{type:S.ContentType.application_data,data:pe.util.createBuffer(d)})),S.flush(s)},s.prepareHeartbeatRequest=function(d,p){return d instanceof pe.util.ByteBuffer&&(d=d.bytes()),typeof p=="undefined"&&(p=d.length),s.expectedHeartbeatPayload=d,S.queue(s,S.createRecord(s,{type:S.ContentType.heartbeat,data:S.createHeartbeat(S.HeartbeatMessageType.heartbeat_request,d,p)})),S.flush(s)},s.close=function(d){if(!s.fail&&s.sessionCache&&s.session){var p={id:s.session.id,version:s.session.version,sp:s.session.sp};p.sp.keys=null,s.sessionCache.setSession(p.id,p)}s.open&&(s.open=!1,s.input.clear(),(s.isConnected||s.handshaking)&&(s.isConnected=s.handshaking=!1,S.queue(s,S.createAlert(s,{level:S.Alert.Level.warning,description:S.Alert.Description.close_notify})),S.flush(s)),s.closed(s)),s.reset(d)},s};oC.exports=pe.tls=pe.tls||{};for(gf in S)typeof S[gf]!="function"&&(pe.tls[gf]=S[gf]);var gf;pe.tls.prf_tls1=df;pe.tls.hmac_sha1=fO;pe.tls.createSessionCache=S.createSessionCache;pe.tls.createConnection=S.createConnection});var cC=le((lG,uC)=>{var Na=ft();Sa();ap();var Vn=uC.exports=Na.tls;Vn.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Vn.BulkCipherAlgorithm.aes,e.cipher_type=Vn.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Vn.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:lC};Vn.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Vn.BulkCipherAlgorithm.aes,e.cipher_type=Vn.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Vn.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:lC};function lC(e,t,r){var n=t.entity===Na.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:Na.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:Na.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=LO,e.write.cipherFunction=BO,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=Vn.hmac_sha1}function BO(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var i;e.version.minor===Vn.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=Na.random.getBytesSync(16),t.cipherState.init=!0;var a=t.cipherState.cipher;return a.start({iv:i}),e.version.minor>=Vn.Versions.TLS_1_1.minor&&a.output.putBytes(i),a.update(e.fragment),a.finish(NO)&&(e.fragment=a.output,e.length=e.fragment.length(),r=!0),r}function NO(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}function DO(e,t,r){var n=!0;if(r){for(var i=t.length(),a=t.last(),s=i-1-a;s<i-1;++s)n=n&&t.at(s)==a;n&&t.truncate(a+1)}return n}function LO(e,t){var r=!1,n;e.version.minor===Vn.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),r=i.finish(DO);var a=t.macLength,s=Na.random.getBytesSync(a),l=i.output.length();l>=a?(e.fragment=i.output.getBytes(l-a),s=i.output.getBytes(a)):e.fragment=i.output.getBytes(),e.fragment=Na.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=PO(t.macKey,s,c)&&r,r}function PO(e,t,r){var n=Na.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}});var lp=le((uG,pC)=>{var er=ft();Ci();Rt();var Bl=pC.exports=er.sha512=er.sha512||{};er.md.sha512=er.md.algorithms.sha512=Bl;var fC=er.sha384=er.sha512.sha384=er.sha512.sha384||{};fC.create=function(){return Bl.create("SHA-384")};er.md.sha384=er.md.algorithms.sha384=fC;er.sha512.sha256=er.sha512.sha256||{create:function(){return Bl.create("SHA-512/256")}};er.md["sha512/256"]=er.md.algorithms["sha512/256"]=er.sha512.sha256;er.sha512.sha224=er.sha512.sha224||{create:function(){return Bl.create("SHA-512/224")}};er.md["sha512/224"]=er.md.algorithms["sha512/224"]=er.sha512.sha224;Bl.create=function(e){if(dC||OO(),typeof e=="undefined"&&(e="SHA-512"),!(e in fs))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=fs[e],r=null,n=er.util.createBuffer(),i=new Array(80),a=0;a<80;++a)i[a]=new Array(2);var s=64;switch(e){case"SHA-384":s=48;break;case"SHA-512/256":s=32;break;case"SHA-512/224":s=28;break}var l={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:s,messageLength:0,fullMessageLength:null,messageLengthSize:16};return l.start=function(){l.messageLength=0,l.fullMessageLength=l.messageLength128=[];for(var c=l.messageLengthSize/4,f=0;f<c;++f)l.fullMessageLength.push(0);n=er.util.createBuffer(),r=new Array(t.length);for(var f=0;f<t.length;++f)r[f]=t[f].slice(0);return l},l.start(),l.update=function(c,f){f==="utf8"&&(c=er.util.encodeUtf8(c));var d=c.length;l.messageLength+=d,d=[d/4294967296>>>0,d>>>0];for(var p=l.fullMessageLength.length-1;p>=0;--p)l.fullMessageLength[p]+=d[1],d[1]=d[0]+(l.fullMessageLength[p]/4294967296>>>0),l.fullMessageLength[p]=l.fullMessageLength[p]>>>0,d[0]=d[1]/4294967296>>>0;return n.putBytes(c),hC(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),l},l.digest=function(){var c=er.util.createBuffer();c.putBytes(n.bytes());var f=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize,d=f&l.blockLength-1;c.putBytes(sp.substr(0,l.blockLength-d));for(var p,g,v=l.fullMessageLength[0]*8,m=0;m<l.fullMessageLength.length-1;++m)p=l.fullMessageLength[m+1]*8,g=p/4294967296>>>0,v+=g,c.putInt32(v>>>0),v=p>>>0;c.putInt32(v);for(var _=new Array(r.length),m=0;m<r.length;++m)_[m]=r[m].slice(0);hC(_,i,c);var E=er.util.createBuffer(),A;e==="SHA-512"?A=_.length:e==="SHA-384"?A=_.length-2:A=_.length-4;for(var m=0;m<A;++m)E.putInt32(_[m][0]),(m!==A-1||e!=="SHA-512/224")&&E.putInt32(_[m][1]);return E},l};var sp=null,dC=!1,op=null,fs=null;function OO(){sp=String.fromCharCode(128),sp+=er.util.fillString(String.fromCharCode(0),128),op=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],fs={},fs["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],fs["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],fs["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],fs["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],dC=!0}function hC(e,t,r){for(var n,i,a,s,l,c,f,d,p,g,v,m,_,E,A,x,B,L,N,P,ae,j,V,me,ye,we,Ke,Oe,Ie,Pe,_e,nt,Xe,Nt,At,it=r.length();it>=128;){for(Ie=0;Ie<16;++Ie)t[Ie][0]=r.getInt32()>>>0,t[Ie][1]=r.getInt32()>>>0;for(;Ie<80;++Ie)nt=t[Ie-2],Pe=nt[0],_e=nt[1],n=((Pe>>>19|_e<<13)^(_e>>>29|Pe<<3)^Pe>>>6)>>>0,i=((Pe<<13|_e>>>19)^(_e<<3|Pe>>>29)^(Pe<<26|_e>>>6))>>>0,Nt=t[Ie-15],Pe=Nt[0],_e=Nt[1],a=((Pe>>>1|_e<<31)^(Pe>>>8|_e<<24)^Pe>>>7)>>>0,s=((Pe<<31|_e>>>1)^(Pe<<24|_e>>>8)^(Pe<<25|_e>>>7))>>>0,Xe=t[Ie-7],At=t[Ie-16],_e=i+Xe[1]+s+At[1],t[Ie][0]=n+Xe[0]+a+At[0]+(_e/4294967296>>>0)>>>0,t[Ie][1]=_e>>>0;for(_=e[0][0],E=e[0][1],A=e[1][0],x=e[1][1],B=e[2][0],L=e[2][1],N=e[3][0],P=e[3][1],ae=e[4][0],j=e[4][1],V=e[5][0],me=e[5][1],ye=e[6][0],we=e[6][1],Ke=e[7][0],Oe=e[7][1],Ie=0;Ie<80;++Ie)f=((ae>>>14|j<<18)^(ae>>>18|j<<14)^(j>>>9|ae<<23))>>>0,d=((ae<<18|j>>>14)^(ae<<14|j>>>18)^(j<<23|ae>>>9))>>>0,p=(ye^ae&(V^ye))>>>0,g=(we^j&(me^we))>>>0,l=((_>>>28|E<<4)^(E>>>2|_<<30)^(E>>>7|_<<25))>>>0,c=((_<<4|E>>>28)^(E<<30|_>>>2)^(E<<25|_>>>7))>>>0,v=(_&A|B&(_^A))>>>0,m=(E&x|L&(E^x))>>>0,_e=Oe+d+g+op[Ie][1]+t[Ie][1],n=Ke+f+p+op[Ie][0]+t[Ie][0]+(_e/4294967296>>>0)>>>0,i=_e>>>0,_e=c+m,a=l+v+(_e/4294967296>>>0)>>>0,s=_e>>>0,Ke=ye,Oe=we,ye=V,we=me,V=ae,me=j,_e=P+i,ae=N+n+(_e/4294967296>>>0)>>>0,j=_e>>>0,N=B,P=L,B=A,L=x,A=_,x=E,_e=i+s,_=n+a+(_e/4294967296>>>0)>>>0,E=_e>>>0;_e=e[0][1]+E,e[0][0]=e[0][0]+_+(_e/4294967296>>>0)>>>0,e[0][1]=_e>>>0,_e=e[1][1]+x,e[1][0]=e[1][0]+A+(_e/4294967296>>>0)>>>0,e[1][1]=_e>>>0,_e=e[2][1]+L,e[2][0]=e[2][0]+B+(_e/4294967296>>>0)>>>0,e[2][1]=_e>>>0,_e=e[3][1]+P,e[3][0]=e[3][0]+N+(_e/4294967296>>>0)>>>0,e[3][1]=_e>>>0,_e=e[4][1]+j,e[4][0]=e[4][0]+ae+(_e/4294967296>>>0)>>>0,e[4][1]=_e>>>0,_e=e[5][1]+me,e[5][0]=e[5][0]+V+(_e/4294967296>>>0)>>>0,e[5][1]=_e>>>0,_e=e[6][1]+we,e[6][0]=e[6][0]+ye+(_e/4294967296>>>0)>>>0,e[6][1]=_e>>>0,_e=e[7][1]+Oe,e[7][0]=e[7][0]+Ke+(_e/4294967296>>>0)>>>0,e[7][1]=_e>>>0,it-=128}}});var gC=le(up=>{var MO=ft();si();var kr=MO.asn1;up.privateKeyValidator={name:"PrivateKeyInfo",tagClass:kr.Class.UNIVERSAL,type:kr.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:kr.Class.UNIVERSAL,type:kr.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:kr.Class.UNIVERSAL,type:kr.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:kr.Class.UNIVERSAL,type:kr.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:kr.Class.UNIVERSAL,type:kr.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};up.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:kr.Class.UNIVERSAL,type:kr.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:kr.Class.UNIVERSAL,type:kr.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:kr.Class.UNIVERSAL,type:kr.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:kr.Class.UNIVERSAL,type:kr.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var IC=le((fG,xC)=>{var Or=ft();xl();Un();lp();Rt();var mC=gC(),UO=mC.publicKeyValidator,FO=mC.privateKeyValidator;typeof yC=="undefined"&&(yC=Or.jsbn.BigInteger);var yC,cp=Or.util.ByteBuffer,dn=typeof Buffer=="undefined"?Uint8Array:Buffer;Or.pki=Or.pki||{};xC.exports=Or.pki.ed25519=Or.ed25519=Or.ed25519||{};var vt=Or.ed25519;vt.constants={};vt.constants.PUBLIC_KEY_BYTE_LENGTH=32;vt.constants.PRIVATE_KEY_BYTE_LENGTH=64;vt.constants.SEED_BYTE_LENGTH=32;vt.constants.SIGN_BYTE_LENGTH=64;vt.constants.HASH_BYTE_LENGTH=64;vt.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=Or.random.getBytesSync(vt.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==vt.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+vt.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=Zi({message:t,encoding:"binary"});for(var r=new dn(vt.constants.PUBLIC_KEY_BYTE_LENGTH),n=new dn(vt.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return VO(r,n),{publicKey:r,privateKey:n}};vt.privateKeyFromAsn1=function(e){var t={},r=[],n=Or.asn1.validate(e,FO,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var a=Or.asn1.derToOid(t.privateKeyOid),s=Or.oids.EdDSA25519;if(a!==s)throw new Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var l=t.privateKey,c=Zi({message:Or.asn1.fromDer(l).value,encoding:"binary"});return{privateKeyBytes:c}};vt.publicKeyFromAsn1=function(e){var t={},r=[],n=Or.asn1.validate(e,UO,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var a=Or.asn1.derToOid(t.publicKeyOid),s=Or.oids.EdDSA25519;if(a!==s)throw new Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var l=t.ed25519PublicKey;if(l.length!==vt.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return Zi({message:l,encoding:"binary"})};vt.publicKeyFromPrivateKey=function(e){e=e||{};var t=Zi({message:e.privateKey,encoding:"binary"});if(t.length!==vt.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+vt.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new dn(vt.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};vt.sign=function(e){e=e||{};var t=Zi(e),r=Zi({message:e.privateKey,encoding:"binary"});if(r.length===vt.constants.SEED_BYTE_LENGTH){var n=vt.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==vt.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+vt.constants.SEED_BYTE_LENGTH+" or "+vt.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new dn(vt.constants.SIGN_BYTE_LENGTH+t.length);HO(i,t,t.length,r);for(var a=new dn(vt.constants.SIGN_BYTE_LENGTH),s=0;s<a.length;++s)a[s]=i[s];return a};vt.verify=function(e){e=e||{};var t=Zi(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=Zi({message:e.signature,encoding:"binary"});if(r.length!==vt.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+vt.constants.SIGN_BYTE_LENGTH);var n=Zi({message:e.publicKey,encoding:"binary"});if(n.length!==vt.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+vt.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new dn(vt.constants.SIGN_BYTE_LENGTH+t.length),a=new dn(vt.constants.SIGN_BYTE_LENGTH+t.length),s;for(s=0;s<vt.constants.SIGN_BYTE_LENGTH;++s)i[s]=r[s];for(s=0;s<t.length;++s)i[s+vt.constants.SIGN_BYTE_LENGTH]=t[s];return YO(a,i,i.length,n)>=0};function Zi(e){var t=e.message;if(t instanceof Uint8Array||t instanceof dn)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer!="undefined")return Buffer.from(t,r);t=new cp(t,r)}else if(!(t instanceof cp))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new dn(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}var fp=We(),mf=We([1]),qO=We([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),GO=We([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),vC=We([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),_C=We([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),dp=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),KO=We([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Nl(e,t){var r=Or.md.sha512.create(),n=new cp(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if(typeof Buffer!="undefined")return Buffer.from(i,"binary");for(var a=new dn(vt.constants.HASH_BYTE_LENGTH),s=0;s<64;++s)a[s]=i.charCodeAt(s);return a}function VO(e,t){var r=[We(),We(),We(),We()],n,i=Nl(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,mp(r,i),gp(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}function HO(e,t,r,n){var i,a,s=new Float64Array(64),l=[We(),We(),We(),We()],c=Nl(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var f=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=c[32+i];var d=Nl(e.subarray(32),r+32);for(hp(d),mp(l,d),gp(e,l),i=32;i<64;++i)e[i]=n[i];var p=Nl(e,r+64);for(hp(p),i=32;i<64;++i)s[i]=0;for(i=0;i<32;++i)s[i]=d[i];for(i=0;i<32;++i)for(a=0;a<32;a++)s[i+a]+=p[i]*c[a];return EC(e.subarray(32),s),f}function YO(e,t,r,n){var i,a,s=new dn(32),l=[We(),We(),We(),We()],c=[We(),We(),We(),We()];if(a=-1,r<64||jO(c,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var f=Nl(e,r);if(hp(f),SC(l,c,f),mp(c,t.subarray(32)),pp(l,c),gp(s,l),r-=64,wC(t,0,s,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return a=r,a}function EC(e,t){var r,n,i,a;for(n=63;n>=32;--n){for(r=0,i=n-32,a=n-12;i<a;++i)t[i]+=r-16*t[n]*dp[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*dp[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*dp[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}function hp(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;EC(e,t)}function pp(e,t){var r=We(),n=We(),i=We(),a=We(),s=We(),l=We(),c=We(),f=We(),d=We();Eo(r,e[1],e[0]),Eo(d,t[1],t[0]),Ht(r,r,d),_o(n,e[0],e[1]),_o(d,t[0],t[1]),Ht(n,n,d),Ht(i,e[3],t[3]),Ht(i,i,GO),Ht(a,e[2],t[2]),_o(a,a,a),Eo(s,n,r),Eo(l,a,i),_o(c,a,i),_o(f,n,r),Ht(e[0],s,l),Ht(e[1],f,c),Ht(e[2],c,l),Ht(e[3],s,f)}function CC(e,t,r){for(var n=0;n<4;++n)TC(e[n],t[n],r)}function gp(e,t){var r=We(),n=We(),i=We();QO(i,t[2]),Ht(r,t[0],i),Ht(n,t[1],i),yf(e,n),e[31]^=bC(r)<<7}function yf(e,t){var r,n,i,a=We(),s=We();for(r=0;r<16;++r)s[r]=t[r];for(yp(s),yp(s),yp(s),n=0;n<2;++n){for(a[0]=s[0]-65517,r=1;r<15;++r)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),i=a[15]>>16&1,a[14]&=65535,TC(s,a,1-i)}for(r=0;r<16;r++)e[2*r]=s[r]&255,e[2*r+1]=s[r]>>8}function jO(e,t){var r=We(),n=We(),i=We(),a=We(),s=We(),l=We(),c=We();return Da(e[2],mf),WO(e[1],t),ds(i,e[1]),Ht(a,i,qO),Eo(i,i,e[2]),_o(a,e[2],a),ds(s,a),ds(l,s),Ht(c,l,s),Ht(r,c,i),Ht(r,r,a),zO(r,r),Ht(r,r,i),Ht(r,r,a),Ht(r,r,a),Ht(e[0],r,a),ds(n,e[0]),Ht(n,n,a),AC(n,i)&&Ht(e[0],e[0],KO),ds(n,e[0]),Ht(n,n,a),AC(n,i)?-1:(bC(e[0])===t[31]>>7&&Eo(e[0],fp,e[0]),Ht(e[3],e[0],e[1]),0)}function WO(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function zO(e,t){var r=We(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)ds(r,r),n!==1&&Ht(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}function AC(e,t){var r=new dn(32),n=new dn(32);return yf(r,e),yf(n,t),wC(r,0,n,0)}function wC(e,t,r,n){return JO(e,t,r,n,32)}function JO(e,t,r,n,i){var a,s=0;for(a=0;a<i;++a)s|=e[t+a]^r[n+a];return(1&s-1>>>8)-1}function bC(e){var t=new dn(32);return yf(t,e),t[0]&1}function SC(e,t,r){var n,i;for(Da(e[0],fp),Da(e[1],mf),Da(e[2],mf),Da(e[3],fp),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,CC(e,t,n),pp(t,e),pp(e,e),CC(e,t,n)}function mp(e,t){var r=[We(),We(),We(),We()];Da(r[0],vC),Da(r[1],_C),Da(r[2],mf),Ht(r[3],vC,_C),SC(e,r,t)}function Da(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}function QO(e,t){var r=We(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)ds(r,r),n!==2&&n!==4&&Ht(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}function yp(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}function TC(e,t,r){for(var n,i=~(r-1),a=0;a<16;++a)n=i&(e[a]^t[a]),e[a]^=n,t[a]^=n}function We(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function _o(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}function Eo(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}function ds(e,t){Ht(e,t,t)}function Ht(e,t,r){var n,i,a=0,s=0,l=0,c=0,f=0,d=0,p=0,g=0,v=0,m=0,_=0,E=0,A=0,x=0,B=0,L=0,N=0,P=0,ae=0,j=0,V=0,me=0,ye=0,we=0,Ke=0,Oe=0,Ie=0,Pe=0,_e=0,nt=0,Xe=0,Nt=r[0],At=r[1],it=r[2],fe=r[3],Dt=r[4],Tt=r[5],Be=r[6],Le=r[7],He=r[8],I=r[9],R=r[10],D=r[11],W=r[12],G=r[13],J=r[14],X=r[15];n=t[0],a+=n*Nt,s+=n*At,l+=n*it,c+=n*fe,f+=n*Dt,d+=n*Tt,p+=n*Be,g+=n*Le,v+=n*He,m+=n*I,_+=n*R,E+=n*D,A+=n*W,x+=n*G,B+=n*J,L+=n*X,n=t[1],s+=n*Nt,l+=n*At,c+=n*it,f+=n*fe,d+=n*Dt,p+=n*Tt,g+=n*Be,v+=n*Le,m+=n*He,_+=n*I,E+=n*R,A+=n*D,x+=n*W,B+=n*G,L+=n*J,N+=n*X,n=t[2],l+=n*Nt,c+=n*At,f+=n*it,d+=n*fe,p+=n*Dt,g+=n*Tt,v+=n*Be,m+=n*Le,_+=n*He,E+=n*I,A+=n*R,x+=n*D,B+=n*W,L+=n*G,N+=n*J,P+=n*X,n=t[3],c+=n*Nt,f+=n*At,d+=n*it,p+=n*fe,g+=n*Dt,v+=n*Tt,m+=n*Be,_+=n*Le,E+=n*He,A+=n*I,x+=n*R,B+=n*D,L+=n*W,N+=n*G,P+=n*J,ae+=n*X,n=t[4],f+=n*Nt,d+=n*At,p+=n*it,g+=n*fe,v+=n*Dt,m+=n*Tt,_+=n*Be,E+=n*Le,A+=n*He,x+=n*I,B+=n*R,L+=n*D,N+=n*W,P+=n*G,ae+=n*J,j+=n*X,n=t[5],d+=n*Nt,p+=n*At,g+=n*it,v+=n*fe,m+=n*Dt,_+=n*Tt,E+=n*Be,A+=n*Le,x+=n*He,B+=n*I,L+=n*R,N+=n*D,P+=n*W,ae+=n*G,j+=n*J,V+=n*X,n=t[6],p+=n*Nt,g+=n*At,v+=n*it,m+=n*fe,_+=n*Dt,E+=n*Tt,A+=n*Be,x+=n*Le,B+=n*He,L+=n*I,N+=n*R,P+=n*D,ae+=n*W,j+=n*G,V+=n*J,me+=n*X,n=t[7],g+=n*Nt,v+=n*At,m+=n*it,_+=n*fe,E+=n*Dt,A+=n*Tt,x+=n*Be,B+=n*Le,L+=n*He,N+=n*I,P+=n*R,ae+=n*D,j+=n*W,V+=n*G,me+=n*J,ye+=n*X,n=t[8],v+=n*Nt,m+=n*At,_+=n*it,E+=n*fe,A+=n*Dt,x+=n*Tt,B+=n*Be,L+=n*Le,N+=n*He,P+=n*I,ae+=n*R,j+=n*D,V+=n*W,me+=n*G,ye+=n*J,we+=n*X,n=t[9],m+=n*Nt,_+=n*At,E+=n*it,A+=n*fe,x+=n*Dt,B+=n*Tt,L+=n*Be,N+=n*Le,P+=n*He,ae+=n*I,j+=n*R,V+=n*D,me+=n*W,ye+=n*G,we+=n*J,Ke+=n*X,n=t[10],_+=n*Nt,E+=n*At,A+=n*it,x+=n*fe,B+=n*Dt,L+=n*Tt,N+=n*Be,P+=n*Le,ae+=n*He,j+=n*I,V+=n*R,me+=n*D,ye+=n*W,we+=n*G,Ke+=n*J,Oe+=n*X,n=t[11],E+=n*Nt,A+=n*At,x+=n*it,B+=n*fe,L+=n*Dt,N+=n*Tt,P+=n*Be,ae+=n*Le,j+=n*He,V+=n*I,me+=n*R,ye+=n*D,we+=n*W,Ke+=n*G,Oe+=n*J,Ie+=n*X,n=t[12],A+=n*Nt,x+=n*At,B+=n*it,L+=n*fe,N+=n*Dt,P+=n*Tt,ae+=n*Be,j+=n*Le,V+=n*He,me+=n*I,ye+=n*R,we+=n*D,Ke+=n*W,Oe+=n*G,Ie+=n*J,Pe+=n*X,n=t[13],x+=n*Nt,B+=n*At,L+=n*it,N+=n*fe,P+=n*Dt,ae+=n*Tt,j+=n*Be,V+=n*Le,me+=n*He,ye+=n*I,we+=n*R,Ke+=n*D,Oe+=n*W,Ie+=n*G,Pe+=n*J,_e+=n*X,n=t[14],B+=n*Nt,L+=n*At,N+=n*it,P+=n*fe,ae+=n*Dt,j+=n*Tt,V+=n*Be,me+=n*Le,ye+=n*He,we+=n*I,Ke+=n*R,Oe+=n*D,Ie+=n*W,Pe+=n*G,_e+=n*J,nt+=n*X,n=t[15],L+=n*Nt,N+=n*At,P+=n*it,ae+=n*fe,j+=n*Dt,V+=n*Tt,me+=n*Be,ye+=n*Le,we+=n*He,Ke+=n*I,Oe+=n*R,Ie+=n*D,Pe+=n*W,_e+=n*G,nt+=n*J,Xe+=n*X,a+=38*N,s+=38*P,l+=38*ae,c+=38*j,f+=38*V,d+=38*me,p+=38*ye,g+=38*we,v+=38*Ke,m+=38*Oe,_+=38*Ie,E+=38*Pe,A+=38*_e,x+=38*nt,B+=38*Xe,i=1,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=L+i+65535,i=Math.floor(n/65536),L=n-i*65536,a+=i-1+37*(i-1),i=1,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=L+i+65535,i=Math.floor(n/65536),L=n-i*65536,a+=i-1+37*(i-1),e[0]=a,e[1]=s,e[2]=l,e[3]=c,e[4]=f,e[5]=d,e[6]=p,e[7]=g,e[8]=v,e[9]=m,e[10]=_,e[11]=E,e[12]=A,e[13]=x,e[14]=B,e[15]=L}});var NC=le((dG,BC)=>{var bn=ft();Rt();Un();xl();BC.exports=bn.kem=bn.kem||{};var kC=bn.jsbn.BigInteger;bn.kem.rsa={};bn.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||bn.random,n={};return n.encrypt=function(i,a){var s=Math.ceil(i.n.bitLength()/8),l;do l=new kC(bn.util.bytesToHex(r.getBytesSync(s)),16).mod(i.n);while(l.compareTo(kC.ONE)<=0);l=bn.util.hexToBytes(l.toString(16));var c=s-l.length;c>0&&(l=bn.util.fillString(String.fromCharCode(0),c)+l);var f=i.encrypt(l,"NONE"),d=e.generate(l,a);return{encapsulation:f,key:d}},n.decrypt=function(i,a,s){var l=i.decrypt(a,"NONE");return e.generate(l,s)},n};bn.kem.kdf1=function(e,t){RC(this,e,0,t||e.digestLength)};bn.kem.kdf2=function(e,t){RC(this,e,1,t||e.digestLength)};function RC(e,t,r,n){e.generate=function(i,a){for(var s=new bn.util.ByteBuffer,l=Math.ceil(a/n)+r,c=new bn.util.ByteBuffer,f=r;f<l;++f){c.putInt32(f),t.start(),t.update(i+c.getBytes());var d=t.digest();s.putBytes(d.getBytes(n))}return s.truncate(s.length()-a),s.getBytes()}}});var OC=le((hG,PC)=>{var Et=ft();Rt();PC.exports=Et.log=Et.log||{};Et.log.levels=["none","error","warning","info","debug","verbose","max"];var vf={},vp=[],Dl=null;Et.log.LEVEL_LOCKED=1<<1;Et.log.NO_LEVEL_CHECK=1<<2;Et.log.INTERPOLATE=1<<3;for(ki=0;ki<Et.log.levels.length;++ki)_p=Et.log.levels[ki],vf[_p]={index:ki,name:_p.toUpperCase()};var _p,ki;Et.log.logMessage=function(e){for(var t=vf[e.level].index,r=0;r<vp.length;++r){var n=vp[r];if(n.flags&Et.log.NO_LEVEL_CHECK)n.f(e);else{var i=vf[n.level].index;t<=i&&n.f(n,e)}}};Et.log.prepareStandard=function(e){"standard"in e||(e.standard=vf[e.level].name+" ["+e.category+"] "+e.message)};Et.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=Et.util.format.apply(this,t)}};Et.log.prepareStandardFull=function(e){"standardFull"in e||(Et.log.prepareStandard(e),e.standardFull=e.standard)};for(Ep=["error","warning","info","debug","verbose"],ki=0;ki<Ep.length;++ki)(function(t){Et.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),a={timestamp:new Date,level:t,category:r,message:n,arguments:i};Et.log.logMessage(a)}})(Ep[ki]);var Ep,ki;Et.log.makeLogger=function(e){var t={flags:0,f:e};return Et.log.setLevel(t,"none"),t};Et.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&Et.log.LEVEL_LOCKED))for(var n=0;n<Et.log.levels.length;++n){var i=Et.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r};Et.log.lock=function(e,t){typeof t=="undefined"||t?e.flags|=Et.log.LEVEL_LOCKED:e.flags&=~Et.log.LEVEL_LOCKED};Et.log.addLogger=function(e){vp.push(e)};typeof console!="undefined"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(DC={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},Ll=function(e,t){Et.log.prepareStandard(t);var r=DC[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},Co=Et.log.makeLogger(Ll)):(Ll=function(t,r){Et.log.prepareStandardFull(r),console.log(r.standardFull)},Co=Et.log.makeLogger(Ll)),Et.log.setLevel(Co,"debug"),Et.log.addLogger(Co),Dl=Co):console={log:function(){}};var Co,DC,Ll;Dl!==null&&typeof window!="undefined"&&window.location&&(Pl=new URL(window.location.href).searchParams,Pl.has("console.level")&&Et.log.setLevel(Dl,Pl.get("console.level").slice(-1)[0]),Pl.has("console.lock")&&(LC=Pl.get("console.lock").slice(-1)[0],LC=="true"&&Et.log.lock(Dl)));var Pl,LC;Et.log.consoleLogger=Dl});var UC=le((pG,MC)=>{MC.exports=Ci();Qc();po();D0();lp()});var GC=le((gG,qC)=>{var be=ft();Sa();si();Sl();Ta();as();W0();Un();Rt();ff();var q=be.asn1,en=qC.exports=be.pkcs7=be.pkcs7||{};en.messageFromPem=function(e){var t=be.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=q.fromDer(t.body);return en.messageFromAsn1(n)};en.messageToPem=function(e,t){var r={type:"PKCS7",body:q.toDer(e.toAsn1()).getBytes()};return be.pem.encode(r,{maxline:t})};en.messageFromAsn1=function(e){var t={},r=[];if(!q.validate(e,en.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=q.derToOid(t.contentType),a;switch(i){case be.pki.oids.envelopedData:a=en.createEnvelopedData();break;case be.pki.oids.encryptedData:a=en.createEncryptedData();break;case be.pki.oids.signedData:a=en.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return a.fromAsn1(t.content.value[0]),a};en.createSignedData=function(){var e=null;return e={type:be.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(Ap(e,n,en.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,a=0;a<i.length;++a)e.certificates.push(be.pki.certificateFromAsn1(i[a]))},toAsn1:function(){e.contentInfo||e.sign();for(var n=[],i=0;i<e.certificates.length;++i)n.push(be.pki.certificateToAsn1(e.certificates[i]));var a=[],s=q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.version).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&s.value[0].value.push(q.create(q.Class.CONTEXT_SPECIFIC,0,!0,n)),a.length>0&&s.value[0].value.push(q.create(q.Class.CONTEXT_SPECIFIC,1,!0,a)),s.value[0].value.push(q.create(q.Class.UNIVERSAL,q.Type.SET,!0,e.signerInfos)),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.type).getBytes()),s])},addSigner:function(n){var i=n.issuer,a=n.serialNumber;if(n.certificate){var s=n.certificate;typeof s=="string"&&(s=be.pki.certificateFromPem(s)),i=s.issuer.attributes,a=s.serialNumber}var l=n.key;if(!l)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof l=="string"&&(l=be.pki.privateKeyFromPem(l));var c=n.digestAlgorithm||be.pki.oids.sha1;switch(c){case be.pki.oids.sha1:case be.pki.oids.sha256:case be.pki.oids.sha384:case be.pki.oids.sha512:case be.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var f=n.authenticatedAttributes||[];if(f.length>0){for(var d=!1,p=!1,g=0;g<f.length;++g){var v=f[g];if(!d&&v.type===be.pki.oids.contentType){if(d=!0,p)break;continue}if(!p&&v.type===be.pki.oids.messageDigest){if(p=!0,d)break;continue}}if(!d||!p)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:l,version:1,issuer:i,serialNumber:a,digestAlgorithm:c,signatureAlgorithm:be.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:f,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(be.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof be.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=be.util.encodeUtf8(e.content)),n.detached?e.detachedContent=q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var a=t();r(a)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=be.pki.certificateFromPem(n)),e.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function t(){for(var n={},i=0;i<e.signers.length;++i){var a=e.signers[i],s=a.digestAlgorithm;s in n||(n[s]=be.md[be.pki.oids[s]].create()),a.authenticatedAttributes.length===0?a.md=n[s]:a.md=be.md[be.pki.oids[s]].create()}e.digestAlgorithmIdentifiers=[];for(var s in n)e.digestAlgorithmIdentifiers.push(q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(s).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")]));return n}function r(n){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var a=q.derToOid(e.contentInfo.value[0].value),s=q.toDer(i);s.getByte(),q.getBerValueLength(s),s=s.getBytes();for(var l in n)n[l].start().update(s);for(var c=new Date,f=0;f<e.signers.length;++f){var d=e.signers[f];if(d.authenticatedAttributes.length===0){if(a!==be.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{d.authenticatedAttributesAsn1=q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var p=q.create(q.Class.UNIVERSAL,q.Type.SET,!0,[]),g=0;g<d.authenticatedAttributes.length;++g){var v=d.authenticatedAttributes[g];v.type===be.pki.oids.messageDigest?v.value=n[d.digestAlgorithm].digest():v.type===be.pki.oids.signingTime&&(v.value||(v.value=c)),p.value.push(Cp(v)),d.authenticatedAttributesAsn1.value.push(Cp(v))}s=q.toDer(p).getBytes(),d.md.start().update(s)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=r5(e.signers)}};en.createEncryptedData=function(){var e=null;return e={type:be.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:be.pki.oids["aes256-CBC"]},fromAsn1:function(t){Ap(e,t,en.asn1.encryptedDataValidator)},decrypt:function(t){t!==void 0&&(e.encryptedContent.key=t),FC(e)}},e};en.createEnvelopedData=function(){var e=null;return e={type:be.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:be.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=Ap(e,t,en.asn1.envelopedDataValidator);e.recipients=$O(r.recipientInfos.value)},toAsn1:function(){return q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.type).getBytes()),q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.version).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SET,!0,e5(e.recipients)),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,n5(e.encryptedContent))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],a=i.issuer;if(i.serialNumber===t.serialNumber&&a.length===r.length){for(var s=!0,l=0;l<r.length;++l)if(a[l].type!==r[l].type||a[l].value!==r[l].value){s=!1;break}if(s)return i}}return null},decrypt:function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case be.pki.oids.rsaEncryption:case be.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=be.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}FC(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:be.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,i,a;switch(r){case be.pki.oids["aes128-CBC"]:n=16,i=16,a=be.aes.createEncryptionCipher;break;case be.pki.oids["aes192-CBC"]:n=24,i=16,a=be.aes.createEncryptionCipher;break;case be.pki.oids["aes256-CBC"]:n=32,i=16,a=be.aes.createEncryptionCipher;break;case be.pki.oids["des-EDE3-CBC"]:n=24,i=8,a=be.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=be.util.createBuffer(be.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=be.util.createBuffer(be.random.getBytes(i));var s=a(t);if(s.start(e.encryptedContent.parameter.copy()),s.update(e.content),!s.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=s.output}for(var l=0;l<e.recipients.length;++l){var c=e.recipients[l];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case be.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}},e};function XO(e){var t={},r=[];if(!q.validate(e,en.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:be.pki.RDNAttributesAsArray(t.issuer),serialNumber:be.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:q.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}function ZO(e){return q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.version).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[be.pki.distinguishedNameToAsn1({attributes:e.issuer}),q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,be.util.hexToBytes(e.serialNumber))]),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.encryptedContent.algorithm).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")]),q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,e.encryptedContent.content)])}function $O(e){for(var t=[],r=0;r<e.length;++r)t.push(XO(e[r]));return t}function e5(e){for(var t=[],r=0;r<e.length;++r)t.push(ZO(e[r]));return t}function t5(e){var t=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.version).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[be.pki.distinguishedNameToAsn1({attributes:e.issuer}),q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,be.util.hexToBytes(e.serialNumber))]),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.digestAlgorithm).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.signatureAlgorithm).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")])),t.value.push(q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=q.create(q.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push(Cp(i))}t.value.push(r)}return t}function r5(e){for(var t=[],r=0;r<e.length;++r)t.push(t5(e[r]));return t}function Cp(e){var t;if(e.type===be.pki.oids.contentType)t=q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.value).getBytes());else if(e.type===be.pki.oids.messageDigest)t=q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===be.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var a=Date.parse(i);isNaN(a)?i.length===13?i=q.utcTimeToDate(i):i=q.generalizedTimeToDate(i):i=new Date(a)}i>=r&&i<n?t=q.create(q.Class.UNIVERSAL,q.Type.UTCTIME,!1,q.dateToUtcTime(i)):t=q.create(q.Class.UNIVERSAL,q.Type.GENERALIZEDTIME,!1,q.dateToGeneralizedTime(i))}return q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.type).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SET,!0,[t])])}function n5(e){return[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(be.pki.oids.data).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.algorithm).getBytes()),e.parameter?q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,e.content.getBytes())])]}function Ap(e,t,r){var n={},i=[];if(!q.validate(t,r,n,i)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}var s=q.derToOid(n.contentType);if(s!==be.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var l="";if(be.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==q.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");l+=n.encryptedContent[c].value}else l=n.encryptedContent;e.encryptedContent={algorithm:q.derToOid(n.encAlgorithm),parameter:be.util.createBuffer(n.encParameter.value),content:be.util.createBuffer(l)}}if(n.content){var l="";if(be.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==q.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");l+=n.content[c].value}else l=n.content;e.content=be.util.createBuffer(l)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}function FC(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case be.pki.oids["aes128-CBC"]:case be.pki.oids["aes192-CBC"]:case be.pki.oids["aes256-CBC"]:t=be.aes.createDecryptionCipher(e.encryptedContent.key);break;case be.pki.oids.desCBC:case be.pki.oids["des-EDE3-CBC"]:t=be.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}});var VC=le((mG,KC)=>{var yr=ft();Sa();uo();Qc();po();Rt();var _f=KC.exports=yr.ssh=yr.ssh||{};_f.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",i=t===""?"none":"aes256-cbc",a="PuTTY-User-Key-File-2: "+n+`\r
`;a+="Encryption: "+i+`\r
`,a+="Comment: "+r+`\r
`;var s=yr.util.createBuffer();Ao(s,n),Ri(s,e.e),Ri(s,e.n);var l=yr.util.encode64(s.bytes(),64),c=Math.floor(l.length/66)+1;a+="Public-Lines: "+c+`\r
`,a+=l;var f=yr.util.createBuffer();Ri(f,e.d),Ri(f,e.p),Ri(f,e.q),Ri(f,e.qInv);var d;if(!t)d=yr.util.encode64(f.bytes(),64);else{var p=f.length()+16-1;p-=p%16;var g=Ef(f.bytes());g.truncate(g.length()-p+f.length()),f.putBuffer(g);var v=yr.util.createBuffer();v.putBuffer(Ef("\0\0\0\0",t)),v.putBuffer(Ef("\0\0\0",t));var m=yr.aes.createEncryptionCipher(v.truncate(8),"CBC");m.start(yr.util.createBuffer().fillWithByte(0,16)),m.update(f.copy()),m.finish();var _=m.output;_.truncate(16),d=yr.util.encode64(_.bytes(),64)}c=Math.floor(d.length/66)+1,a+=`\r
Private-Lines: `+c+`\r
`,a+=d;var E=Ef("putty-private-key-file-mac-key",t),A=yr.util.createBuffer();Ao(A,n),Ao(A,i),Ao(A,r),A.putInt32(s.length()),A.putBuffer(s),A.putInt32(f.length()),A.putBuffer(f);var x=yr.hmac.create();return x.start("sha1",E),x.update(A.bytes()),a+=`\r
Private-MAC: `+x.digest().toHex()+`\r
`,a};_f.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=yr.util.createBuffer();return Ao(n,r),Ri(n,e.e),Ri(n,e.n),r+" "+yr.util.encode64(n.bytes())+" "+t};_f.privateKeyToOpenSSH=function(e,t){return t?yr.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):yr.pki.privateKeyToPem(e)};_f.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||yr.md.md5.create(),n="ssh-rsa",i=yr.util.createBuffer();Ao(i,n),Ri(i,e.e),Ri(i,e.n),r.start(),r.update(i.getBytes());var a=r.digest();if(t.encoding==="hex"){var s=a.toHex();return t.delimiter?s.match(/.{2}/g).join(t.delimiter):s}else{if(t.encoding==="binary")return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return a};function Ri(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=yr.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}function Ao(e,t){e.putInt32(t.length),e.putString(t)}function Ef(){for(var e=yr.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}});var YC=le((yG,HC)=>{HC.exports=ft();Sa();cC();si();Vc();Sl();IC();uo();NC();OC();UC();z0();ef();as();K0();X0();GC();$0();H0();L0();lf();Un();M0();VC();ap();Rt()});var WC=le(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.getPem=void 0;var i5=require("fs"),Cf=YC(),a5=require("util"),s5=a5.promisify(i5.readFile);function o5(e,t){if(t)jC(e).then(r=>t(null,r)).catch(r=>t(r,null));else return jC(e)}Af.getPem=o5;function jC(e){return s5(e,{encoding:"base64"}).then(t=>l5(t))}function l5(e){let t=Cf.util.decode64(e),r=Cf.asn1.fromDer(t),i=Cf.pkcs12.pkcs12FromAsn1(r,"notasecret").getBags({friendlyName:"privatekey"});if(i.friendlyName){let a=i.friendlyName[0].key;return Cf.pki.privateKeyToPem(a).replace(/\r\n/g,`
`)}else throw new Error("Unable to get friendly name.")}});var $C=le(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.GoogleToken=void 0;var zC=require("fs"),JC=$1(),u5=_0(),c5=require("path"),f5=require("util"),QC=zC.readFile?f5.promisify(zC.readFile):()=>U(Ml,null,function*(){throw new Ol("use key rather than keyFile.","MISSING_CREDENTIALS")}),XC="https://www.googleapis.com/oauth2/v4/token",d5="https://accounts.google.com/o/oauth2/revoke?token=",Ol=class extends Error{constructor(t,r){super(t);this.code=r}},wp,ZC=class{constructor(t){this.configure(t)}get accessToken(){return this.rawToken?this.rawToken.access_token:void 0}get idToken(){return this.rawToken?this.rawToken.id_token:void 0}get tokenType(){return this.rawToken?this.rawToken.token_type:void 0}get refreshToken(){return this.rawToken?this.rawToken.refresh_token:void 0}hasExpired(){let t=new Date().getTime();return this.rawToken&&this.expiresAt?t>=this.expiresAt:!0}isTokenExpiring(){var t;let r=new Date().getTime(),n=(t=this.eagerRefreshThresholdMillis)!==null&&t!==void 0?t:0;return this.rawToken&&this.expiresAt?this.expiresAt<=r+n:!0}getToken(t,r={}){if(typeof t=="object"&&(r=t,t=void 0),r=Object.assign({forceRefresh:!1},r),t){let n=t;this.getTokenAsync(r).then(i=>n(null,i),t);return}return this.getTokenAsync(r)}getCredentials(t){return U(this,null,function*(){switch(c5.extname(t)){case".json":{let n=yield QC(t,"utf8"),i=JSON.parse(n),a=i.private_key,s=i.client_email;if(!a||!s)throw new Ol("private_key and client_email are required.","MISSING_CREDENTIALS");return{privateKey:a,clientEmail:s}}case".der":case".crt":case".pem":return{privateKey:yield QC(t,"utf8")};case".p12":case".pfx":return wp||(wp=(yield Promise.resolve().then(()=>WC())).getPem),{privateKey:yield wp(t)};default:throw new Ol("Unknown certificate type. Type is determined based on file extension. Current supported extensions are *.json, *.pem, and *.p12.","UNKNOWN_CERTIFICATE_TYPE")}})}getTokenAsync(t){return U(this,null,function*(){if(this.inFlightRequest&&!t.forceRefresh)return this.inFlightRequest;try{return yield this.inFlightRequest=this.getTokenAsyncInner(t)}finally{this.inFlightRequest=void 0}})}getTokenAsyncInner(t){return U(this,null,function*(){if(this.isTokenExpiring()===!1&&t.forceRefresh===!1)return Promise.resolve(this.rawToken);if(!this.key&&!this.keyFile)throw new Error("No key or keyFile set.");if(!this.key&&this.keyFile){let r=yield this.getCredentials(this.keyFile);this.key=r.privateKey,this.iss=r.clientEmail||this.iss,r.clientEmail||this.ensureEmail()}return this.requestToken()})}ensureEmail(){if(!this.iss)throw new Ol("email is required.","MISSING_CREDENTIALS")}revokeToken(t){if(t){this.revokeTokenAsync().then(()=>t(),t);return}return this.revokeTokenAsync()}revokeTokenAsync(){return U(this,null,function*(){if(!this.accessToken)throw new Error("No token to revoke.");let t=d5+this.accessToken;yield JC.request({url:t}),this.configure({email:this.iss,sub:this.sub,key:this.key,keyFile:this.keyFile,scope:this.scope,additionalClaims:this.additionalClaims})})}configure(t={}){this.keyFile=t.keyFile,this.key=t.key,this.rawToken=void 0,this.iss=t.email||t.iss,this.sub=t.sub,this.additionalClaims=t.additionalClaims,typeof t.scope=="object"?this.scope=t.scope.join(" "):this.scope=t.scope,this.eagerRefreshThresholdMillis=t.eagerRefreshThresholdMillis}requestToken(){return U(this,null,function*(){let t=Math.floor(new Date().getTime()/1e3),r=this.additionalClaims||{},n=Object.assign({iss:this.iss,scope:this.scope,aud:XC,exp:t+3600,iat:t,sub:this.sub},r),i=u5.sign({header:{alg:"RS256"},payload:n,secret:this.key});try{let a=yield JC.request({method:"POST",url:XC,data:{grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:i},headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json"});return this.rawToken=a.data,this.expiresAt=a.data.expires_in===null||a.data.expires_in===void 0?void 0:(t+a.data.expires_in)*1e3,this.rawToken}catch(a){this.rawToken=void 0,this.tokenExpires=void 0;let s=a.response&&a.response.data?a.response.data:{};if(s.error){let l=s.error_description?`: ${s.error_description}`:"";a.message=`${s.error}${l}`}throw a}})}};Ml.GoogleToken=ZC});var tA=le((EG,eA)=>{"use strict";eA.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var nA=le((CG,rA)=>{"use strict";rA.exports=Ot;Ot.Node=hs;Ot.create=Ot;function Ot(e){var t=this;if(t instanceof Ot||(t=new Ot),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}Ot.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Ot.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Ot.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Ot.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)p5(this,arguments[e]);return this.length};Ot.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)g5(this,arguments[e]);return this.length};Ot.prototype.pop=function(){if(!!this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Ot.prototype.shift=function(){if(!!this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Ot.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};Ot.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};Ot.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};Ot.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};Ot.prototype.map=function(e,t){t=t||this;for(var r=new Ot,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};Ot.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Ot,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};Ot.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};Ot.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};Ot.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};Ot.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};Ot.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Ot;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};Ot.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Ot;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};Ot.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var a=[],n=0;i&&n<t;n++)a.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=h5(this,i,r[n]);return a};Ot.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function h5(e,t,r){var n=t===e.head?new hs(r,null,t,e):new hs(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function p5(e,t){e.tail=new hs(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function g5(e,t){e.head=new hs(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function hs(e,t,r,n){if(!(this instanceof hs))return new hs(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{tA()(Ot)}catch(e){}});var cA=le((AG,uA)=>{"use strict";var m5=nA(),ps=Symbol("max"),$i=Symbol("length"),wo=Symbol("lengthCalculator"),Ul=Symbol("allowStale"),gs=Symbol("maxAge"),ea=Symbol("dispose"),iA=Symbol("noDisposeOnSet"),Rr=Symbol("lruList"),li=Symbol("cache"),aA=Symbol("updateAgeOnGet"),bp=()=>1,sA=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let r=this[ps]=t.max||1/0,n=t.length||bp;if(this[wo]=typeof n!="function"?bp:n,this[Ul]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[gs]=t.maxAge||0,this[ea]=t.dispose,this[iA]=t.noDisposeOnSet||!1,this[aA]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[ps]=t||1/0,Fl(this)}get max(){return this[ps]}set allowStale(t){this[Ul]=!!t}get allowStale(){return this[Ul]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[gs]=t,Fl(this)}get maxAge(){return this[gs]}set lengthCalculator(t){typeof t!="function"&&(t=bp),t!==this[wo]&&(this[wo]=t,this[$i]=0,this[Rr].forEach(r=>{r.length=this[wo](r.value,r.key),this[$i]+=r.length})),Fl(this)}get lengthCalculator(){return this[wo]}get length(){return this[$i]}get itemCount(){return this[Rr].length}rforEach(t,r){r=r||this;for(let n=this[Rr].tail;n!==null;){let i=n.prev;lA(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[Rr].head;n!==null;){let i=n.next;lA(this,t,n,r),n=i}}keys(){return this[Rr].toArray().map(t=>t.key)}values(){return this[Rr].toArray().map(t=>t.value)}reset(){this[ea]&&this[Rr]&&this[Rr].length&&this[Rr].forEach(t=>this[ea](t.key,t.value)),this[li]=new Map,this[Rr]=new m5,this[$i]=0}dump(){return this[Rr].map(t=>wf(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Rr]}set(t,r,n){if(n=n||this[gs],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,a=this[wo](r,t);if(this[li].has(t)){if(a>this[ps])return bo(this,this[li].get(t)),!1;let c=this[li].get(t).value;return this[ea]&&(this[iA]||this[ea](t,c.value)),c.now=i,c.maxAge=n,c.value=r,this[$i]+=a-c.length,c.length=a,this.get(t),Fl(this),!0}let s=new oA(t,r,a,i,n);return s.length>this[ps]?(this[ea]&&this[ea](t,r),!1):(this[$i]+=s.length,this[Rr].unshift(s),this[li].set(t,this[Rr].head),Fl(this),!0)}has(t){if(!this[li].has(t))return!1;let r=this[li].get(t).value;return!wf(this,r)}get(t){return Sp(this,t,!0)}peek(t){return Sp(this,t,!1)}pop(){let t=this[Rr].tail;return t?(bo(this,t),t.value):null}del(t){bo(this,this[li].get(t))}load(t){this.reset();let r=Date.now();for(let n=t.length-1;n>=0;n--){let i=t[n],a=i.e||0;if(a===0)this.set(i.k,i.v);else{let s=a-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[li].forEach((t,r)=>Sp(this,r,!1))}},Sp=(e,t,r)=>{let n=e[li].get(t);if(n){let i=n.value;if(wf(e,i)){if(bo(e,n),!e[Ul])return}else r&&(e[aA]&&(n.value.now=Date.now()),e[Rr].unshiftNode(n));return i.value}},wf=(e,t)=>{if(!t||!t.maxAge&&!e[gs])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[gs]&&r>e[gs]},Fl=e=>{if(e[$i]>e[ps])for(let t=e[Rr].tail;e[$i]>e[ps]&&t!==null;){let r=t.prev;bo(e,t),t=r}},bo=(e,t)=>{if(t){let r=t.value;e[ea]&&e[ea](r.key,r.value),e[$i]-=r.length,e[li].delete(r.key),e[Rr].removeNode(t)}},oA=class{constructor(t,r,n,i,a){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=a||0}},lA=(e,t,r,n)=>{let i=r.value;wf(e,i)&&(bo(e,r),e[Ul]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};uA.exports=sA});var Tp=le(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.JWTAccess=void 0;var y5=_0(),v5=cA(),fA={alg:"RS256",typ:"JWT"},bf=class{constructor(t,r,n,i){this.cache=new v5({max:500,maxAge:60*60*1e3}),this.email=t,this.key=r,this.keyId=n,this.eagerRefreshThresholdMillis=i!=null?i:5*60*1e3}getCachedKey(t,r){let n=t;if(r&&Array.isArray(r)&&r.length?n=t?`${t}_${r.join("_")}`:`${r.join("_")}`:typeof r=="string"&&(n=t?`${t}_${r}`:r),!n)throw Error("Scopes or url must be provided");return n}getRequestHeaders(t,r,n){let i=this.getCachedKey(t,n),a=this.cache.get(i),s=Date.now();if(a&&a.expiration-s>this.eagerRefreshThresholdMillis)return a.headers;let l=Math.floor(Date.now()/1e3),c=bf.getExpirationTime(l),f;if(Array.isArray(n)&&(n=n.join(" ")),n?f={iss:this.email,sub:this.email,scope:n,exp:c,iat:l}:f={iss:this.email,sub:this.email,aud:t,exp:c,iat:l},r){for(let m in f)if(r[m])throw new Error(`The '${m}' property is not allowed when passing additionalClaims. This claim is included in the JWT by default.`)}let d=this.keyId?Qr(Kr({},fA),{kid:this.keyId}):fA,p=Object.assign(f,r),v={Authorization:`Bearer ${y5.sign({header:d,payload:p,secret:this.key})}`};return this.cache.set(i,{expiration:c*1e3,headers:v}),v}static getExpirationTime(t){return t+3600}fromJSON(t){if(!t)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!t.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!t.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=t.client_email,this.key=t.private_key,this.keyId=t.private_key_id,this.projectId=t.project_id}fromStream(t,r){if(r)this.fromStreamAsync(t).then(()=>r(),r);else return this.fromStreamAsync(t)}fromStreamAsync(t){return new Promise((r,n)=>{t||n(new Error("Must pass in a stream containing the service account auth settings."));let i="";t.setEncoding("utf8").on("data",a=>i+=a).on("error",n).on("end",()=>{try{let a=JSON.parse(i);this.fromJSON(a),r()}catch(a){n(a)}})})}};Sf.JWTAccess=bf});var xp=le(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.JWT=void 0;var dA=$C(),_5=Tp(),E5=ns(),Tf=class extends E5.OAuth2Client{constructor(t,r,n,i,a,s){let l=t&&typeof t=="object"?t:{email:t,keyFile:r,key:n,keyId:s,scopes:i,subject:a};super({eagerRefreshThresholdMillis:l.eagerRefreshThresholdMillis,forceRefreshOnFailure:l.forceRefreshOnFailure});this.email=l.email,this.keyFile=l.keyFile,this.key=l.key,this.keyId=l.keyId,this.scopes=l.scopes,this.subject=l.subject,this.additionalClaims=l.additionalClaims,this.credentials={refresh_token:"jwt-placeholder",expiry_date:1}}createScoped(t){return new Tf({email:this.email,keyFile:this.keyFile,key:this.key,keyId:this.keyId,scopes:t,subject:this.subject,additionalClaims:this.additionalClaims})}getRequestMetadataAsync(t){var r=n=>super[n];return U(this,null,function*(){t=this.defaultServicePath?`https://${this.defaultServicePath}/`:t;let i=!this.hasUserScopes()&&t||this.useJWTAccessWithScope&&this.hasAnyScopes();if(!this.apiKey&&i)if(this.additionalClaims&&this.additionalClaims.target_audience){let{tokens:a}=yield this.refreshToken();return{headers:this.addSharedMetadataHeaders({Authorization:`Bearer ${a.id_token}`})}}else{this.access||(this.access=new _5.JWTAccess(this.email,this.key,this.keyId,this.eagerRefreshThresholdMillis));let a;this.hasUserScopes()?a=this.scopes:t||(a=this.defaultScopes);let s=yield this.access.getRequestHeaders(t!=null?t:void 0,this.additionalClaims,this.useJWTAccessWithScope?a:void 0);return{headers:this.addSharedMetadataHeaders(s)}}else return this.hasAnyScopes()||this.apiKey?r("getRequestMetadataAsync").call(this,t):{headers:{}}})}fetchIdToken(t){return U(this,null,function*(){let r=new dA.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:{target_audience:t}});if(yield r.getToken({forceRefresh:!0}),!r.idToken)throw new Error("Unknown error: Failed to fetch ID token");return r.idToken})}hasUserScopes(){return this.scopes?this.scopes.length>0:!1}hasAnyScopes(){return!!(this.scopes&&this.scopes.length>0||this.defaultScopes&&this.defaultScopes.length>0)}authorize(t){if(t)this.authorizeAsync().then(r=>t(null,r),t);else return this.authorizeAsync()}authorizeAsync(){return U(this,null,function*(){let t=yield this.refreshToken();if(!t)throw new Error("No result returned");return this.credentials=t.tokens,this.credentials.refresh_token="jwt-placeholder",this.key=this.gtoken.key,this.email=this.gtoken.iss,t.tokens})}refreshTokenNoCache(t){return U(this,null,function*(){let r=this.createGToken(),i={access_token:(yield r.getToken({forceRefresh:this.isTokenExpiring()})).access_token,token_type:"Bearer",expiry_date:r.expiresAt,id_token:r.idToken};return this.emit("tokens",i),{res:null,tokens:i}})}createGToken(){return this.gtoken||(this.gtoken=new dA.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:this.additionalClaims})),this.gtoken}fromJSON(t){if(!t)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!t.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!t.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=t.client_email,this.key=t.private_key,this.keyId=t.private_key_id,this.projectId=t.project_id,this.quotaProjectId=t.quota_project_id}fromStream(t,r){if(r)this.fromStreamAsync(t).then(()=>r(),r);else return this.fromStreamAsync(t)}fromStreamAsync(t){return new Promise((r,n)=>{if(!t)throw new Error("Must pass in a stream containing the service account auth settings.");let i="";t.setEncoding("utf8").on("error",n).on("data",a=>i+=a).on("end",()=>{try{let a=JSON.parse(i);this.fromJSON(a),r()}catch(a){n(a)}})})}fromAPIKey(t){if(typeof t!="string")throw new Error("Must provide an API Key string.");this.apiKey=t}getCredentials(){return U(this,null,function*(){if(this.key)return{private_key:this.key,client_email:this.email};if(this.keyFile){let r=yield this.createGToken().getCredentials(this.keyFile);return{private_key:r.privateKey,client_email:r.clientEmail}}throw new Error("A key or a keyFile must be provided to getCredentials.")})}};xf.JWT=Tf});var Ip=le(If=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});If.UserRefreshClient=void 0;var C5=ns(),hA=class extends C5.OAuth2Client{constructor(t,r,n,i,a){let s=t&&typeof t=="object"?t:{clientId:t,clientSecret:r,refreshToken:n,eagerRefreshThresholdMillis:i,forceRefreshOnFailure:a};super({clientId:s.clientId,clientSecret:s.clientSecret,eagerRefreshThresholdMillis:s.eagerRefreshThresholdMillis,forceRefreshOnFailure:s.forceRefreshOnFailure});this._refreshToken=s.refreshToken,this.credentials.refresh_token=s.refreshToken}refreshTokenNoCache(t){var r=n=>super[n];return U(this,null,function*(){return r("refreshTokenNoCache").call(this,this._refreshToken)})}fromJSON(t){if(!t)throw new Error("Must pass in a JSON object containing the user refresh token");if(t.type!=="authorized_user")throw new Error('The incoming JSON object does not have the "authorized_user" type');if(!t.client_id)throw new Error("The incoming JSON object does not contain a client_id field");if(!t.client_secret)throw new Error("The incoming JSON object does not contain a client_secret field");if(!t.refresh_token)throw new Error("The incoming JSON object does not contain a refresh_token field");this._clientId=t.client_id,this._clientSecret=t.client_secret,this._refreshToken=t.refresh_token,this.credentials.refresh_token=t.refresh_token,this.quotaProjectId=t.quota_project_id}fromStream(t,r){if(r)this.fromStreamAsync(t).then(()=>r(),r);else return this.fromStreamAsync(t)}fromStreamAsync(t){return U(this,null,function*(){return new Promise((r,n)=>{if(!t)return n(new Error("Must pass in a stream containing the user refresh token."));let i="";t.setEncoding("utf8").on("error",n).on("data",a=>i+=a).on("end",()=>{try{let a=JSON.parse(i);return this.fromJSON(a),r()}catch(a){return n(a)}})})})}};If.UserRefreshClient=hA});var mA=le(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.getErrorFromOAuthErrorResponse=So.OAuthClientAuthHandler=void 0;var pA=require("querystring"),A5=$s(),w5=["PUT","POST","PATCH"],gA=class{constructor(t){this.clientAuthentication=t,this.crypto=(0,A5.createCrypto)()}applyClientAuthenticationOptions(t,r){this.injectAuthenticatedHeaders(t,r),r||this.injectAuthenticatedRequestBody(t)}injectAuthenticatedHeaders(t,r){var n;if(r)t.headers=t.headers||{},Object.assign(t.headers,{Authorization:`Bearer ${r}}`});else if(((n=this.clientAuthentication)===null||n===void 0?void 0:n.confidentialClientType)==="basic"){t.headers=t.headers||{};let i=this.clientAuthentication.clientId,a=this.clientAuthentication.clientSecret||"",s=this.crypto.encodeBase64StringUtf8(`${i}:${a}`);Object.assign(t.headers,{Authorization:`Basic ${s}`})}}injectAuthenticatedRequestBody(t){var r;if(((r=this.clientAuthentication)===null||r===void 0?void 0:r.confidentialClientType)==="request-body"){let n=(t.method||"GET").toUpperCase();if(w5.indexOf(n)!==-1){let i,a=t.headers||{};for(let s in a)if(s.toLowerCase()==="content-type"&&a[s]){i=a[s].toLowerCase();break}if(i==="application/x-www-form-urlencoded"){t.data=t.data||"";let s=pA.parse(t.data);Object.assign(s,{client_id:this.clientAuthentication.clientId,client_secret:this.clientAuthentication.clientSecret||""}),t.data=pA.stringify(s)}else if(i==="application/json")t.data=t.data||{},Object.assign(t.data,{client_id:this.clientAuthentication.clientId,client_secret:this.clientAuthentication.clientSecret||""});else throw new Error(`${i} content-types are not supported with ${this.clientAuthentication.confidentialClientType} client authentication`)}else throw new Error(`${n} HTTP method does not support ${this.clientAuthentication.confidentialClientType} client authentication`)}}};So.OAuthClientAuthHandler=gA;function b5(e,t){let r=e.error,n=e.error_description,i=e.error_uri,a=`Error code ${r}`;typeof n!="undefined"&&(a+=`: ${n}`),typeof i!="undefined"&&(a+=` - ${i}`);let s=new Error(a);if(t){let l=Object.keys(t);t.stack&&l.push("stack"),l.forEach(c=>{c!=="message"&&Object.defineProperty(s,c,{value:t[c],writable:!1,enumerable:!0})})}return s}So.getErrorFromOAuthErrorResponse=b5});var kp=le(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.StsCredentials=void 0;var S5=Xs(),T5=require("querystring"),x5=gl(),yA=mA(),vA=class extends yA.OAuthClientAuthHandler{constructor(t,r){super(r);this.tokenExchangeEndpoint=t,this.transporter=new x5.DefaultTransporter}exchangeToken(t,r,n){return U(this,null,function*(){var i,a,s;let l={grant_type:t.grantType,resource:t.resource,audience:t.audience,scope:(i=t.scope)===null||i===void 0?void 0:i.join(" "),requested_token_type:t.requestedTokenType,subject_token:t.subjectToken,subject_token_type:t.subjectTokenType,actor_token:(a=t.actingParty)===null||a===void 0?void 0:a.actorToken,actor_token_type:(s=t.actingParty)===null||s===void 0?void 0:s.actorTokenType,options:n&&JSON.stringify(n)};Object.keys(l).forEach(d=>{typeof l[d]=="undefined"&&delete l[d]});let c={"Content-Type":"application/x-www-form-urlencoded"};Object.assign(c,r||{});let f={url:this.tokenExchangeEndpoint,method:"POST",headers:c,data:T5.stringify(l),responseType:"json"};this.applyClientAuthenticationOptions(f);try{let d=yield this.transporter.request(f),p=d.data;return p.res=d,p}catch(d){throw d instanceof S5.GaxiosError&&d.response?(0,yA.getErrorFromOAuthErrorResponse)(d.response.data,d):d}})}};kf.StsCredentials=vA});var To=le(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.BaseExternalAccountClient=hn.CLOUD_RESOURCE_MANAGER=hn.EXTERNAL_ACCOUNT_TYPE=hn.EXPIRATION_TIME_OFFSET=void 0;var I5=require("stream"),k5=ml(),R5=kp(),B5="urn:ietf:params:oauth:grant-type:token-exchange",N5="urn:ietf:params:oauth:token-type:access_token",Rp="https://www.googleapis.com/auth/cloud-platform",Rf="\\.googleapis\\.com$",Bp="[^\\.\\s\\/\\\\]+";hn.EXPIRATION_TIME_OFFSET=5*60*1e3;hn.EXTERNAL_ACCOUNT_TYPE="external_account";hn.CLOUD_RESOURCE_MANAGER="https://cloudresourcemanager.googleapis.com/v1/projects/";var D5="//iam.googleapis.com/locations/[^/]+/workforcePools/[^/]+/providers/.+",_A=class extends k5.AuthClient{constructor(t,r){super();if(t.type!==hn.EXTERNAL_ACCOUNT_TYPE)throw new Error(`Expected "${hn.EXTERNAL_ACCOUNT_TYPE}" type but received "${t.type}"`);if(this.clientAuth=t.client_id?{confidentialClientType:"basic",clientId:t.client_id,clientSecret:t.client_secret}:void 0,!this.validateGoogleAPIsUrl("sts",t.token_url))throw new Error(`"${t.token_url}" is not a valid token url.`);this.stsCredential=new R5.StsCredentials(t.token_url,this.clientAuth),this.scopes=[Rp],this.cachedAccessToken=null,this.audience=t.audience,this.subjectTokenType=t.subject_token_type,this.quotaProjectId=t.quota_project_id,this.workforcePoolUserProject=t.workforce_pool_user_project;let n=new RegExp(D5);if(this.workforcePoolUserProject&&!this.audience.match(n))throw new Error("workforcePoolUserProject should not be set for non-workforce pool credentials.");if(typeof t.service_account_impersonation_url!="undefined"&&!this.validateGoogleAPIsUrl("iamcredentials",t.service_account_impersonation_url))throw new Error(`"${t.service_account_impersonation_url}" is not a valid service account impersonation url.`);this.serviceAccountImpersonationUrl=t.service_account_impersonation_url,typeof(r==null?void 0:r.eagerRefreshThresholdMillis)!="number"?this.eagerRefreshThresholdMillis=hn.EXPIRATION_TIME_OFFSET:this.eagerRefreshThresholdMillis=r.eagerRefreshThresholdMillis,this.forceRefreshOnFailure=!!(r==null?void 0:r.forceRefreshOnFailure),this.projectId=null,this.projectNumber=this.getProjectNumber(this.audience)}getServiceAccountEmail(){var t;if(this.serviceAccountImpersonationUrl){let n=/serviceAccounts\/(?<email>[^:]+):generateAccessToken$/.exec(this.serviceAccountImpersonationUrl);return((t=n==null?void 0:n.groups)===null||t===void 0?void 0:t.email)||null}return null}setCredentials(t){super.setCredentials(t),this.cachedAccessToken=t}getAccessToken(){return U(this,null,function*(){return(!this.cachedAccessToken||this.isExpired(this.cachedAccessToken))&&(yield this.refreshAccessTokenAsync()),{token:this.cachedAccessToken.access_token,res:this.cachedAccessToken.res}})}getRequestHeaders(){return U(this,null,function*(){let r={Authorization:`Bearer ${(yield this.getAccessToken()).token}`};return this.addSharedMetadataHeaders(r)})}request(t,r){if(r)this.requestAsync(t).then(n=>r(null,n),n=>r(n,n.response));else return this.requestAsync(t)}getProjectId(){return U(this,null,function*(){let t=this.projectNumber||this.workforcePoolUserProject;if(this.projectId)return this.projectId;if(t){let r=yield this.getRequestHeaders(),n=yield this.transporter.request({headers:r,url:`${hn.CLOUD_RESOURCE_MANAGER}${t}`,responseType:"json"});return this.projectId=n.data.projectId,this.projectId}return null})}requestAsync(t,r=!1){return U(this,null,function*(){let n;try{let i=yield this.getRequestHeaders();t.headers=t.headers||{},i&&i["x-goog-user-project"]&&(t.headers["x-goog-user-project"]=i["x-goog-user-project"]),i&&i.Authorization&&(t.headers.Authorization=i.Authorization),n=yield this.transporter.request(t)}catch(i){let a=i.response;if(a){let s=a.status,l=a.config.data instanceof I5.Readable;if(!r&&(s===401||s===403)&&!l&&this.forceRefreshOnFailure)return yield this.refreshAccessTokenAsync(),yield this.requestAsync(t,!0)}throw i}return n})}refreshAccessTokenAsync(){return U(this,null,function*(){let t=yield this.retrieveSubjectToken(),r={grantType:B5,audience:this.audience,requestedTokenType:N5,subjectToken:t,subjectTokenType:this.subjectTokenType,scope:this.serviceAccountImpersonationUrl?[Rp]:this.getScopesArray()},n=!this.clientAuth&&this.workforcePoolUserProject?{userProject:this.workforcePoolUserProject}:void 0,i=yield this.stsCredential.exchangeToken(r,void 0,n);return this.serviceAccountImpersonationUrl?this.cachedAccessToken=yield this.getImpersonatedAccessToken(i.access_token):i.expires_in?this.cachedAccessToken={access_token:i.access_token,expiry_date:new Date().getTime()+i.expires_in*1e3,res:i.res}:this.cachedAccessToken={access_token:i.access_token,res:i.res},this.credentials={},Object.assign(this.credentials,this.cachedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedAccessToken.expiry_date,access_token:this.cachedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedAccessToken})}getProjectNumber(t){let r=t.match(/\/projects\/([^/]+)/);return r?r[1]:null}getImpersonatedAccessToken(t){return U(this,null,function*(){let r={url:this.serviceAccountImpersonationUrl,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},data:{scope:this.getScopesArray()},responseType:"json"},n=yield this.transporter.request(r),i=n.data;return{access_token:i.accessToken,expiry_date:new Date(i.expireTime).getTime(),res:n}})}isExpired(t){let r=new Date().getTime();return t.expiry_date?r>=t.expiry_date-this.eagerRefreshThresholdMillis:!1}getScopesArray(){return typeof this.scopes=="string"?[this.scopes]:typeof this.scopes=="undefined"?[Rp]:this.scopes}validateGoogleAPIsUrl(t,r){let n;try{n=new URL(r)}catch(s){return!1}let i=n.hostname;if(n.protocol!=="https:")return!1;let a=[new RegExp("^"+Bp+"\\."+t+Rf),new RegExp("^"+t+Rf),new RegExp("^"+t+"\\."+Bp+Rf),new RegExp("^"+Bp+"\\-"+t+Rf)];for(let s of a)if(i.match(s))return!0;return!1}};hn.BaseExternalAccountClient=_A});var Mp=le(Bf=>{"use strict";var Np,Dp,Lp;Object.defineProperty(Bf,"__esModule",{value:!0});Bf.IdentityPoolClient=void 0;var Pp=require("fs"),Op=require("util"),L5=To(),P5=(0,Op.promisify)((Np=Pp.readFile)!==null&&Np!==void 0?Np:()=>{}),O5=(0,Op.promisify)((Dp=Pp.realpath)!==null&&Dp!==void 0?Dp:()=>{}),M5=(0,Op.promisify)((Lp=Pp.lstat)!==null&&Lp!==void 0?Lp:()=>{}),EA=class extends L5.BaseExternalAccountClient{constructor(t,r){var n,i;super(t,r);if(this.file=t.credential_source.file,this.url=t.credential_source.url,this.headers=t.credential_source.headers,!this.file&&!this.url)throw new Error('No valid Identity Pool "credential_source" provided');if(this.formatType=((n=t.credential_source.format)===null||n===void 0?void 0:n.type)||"text",this.formatSubjectTokenFieldName=(i=t.credential_source.format)===null||i===void 0?void 0:i.subject_token_field_name,this.formatType!=="json"&&this.formatType!=="text")throw new Error(`Invalid credential_source format "${this.formatType}"`);if(this.formatType==="json"&&!this.formatSubjectTokenFieldName)throw new Error("Missing subject_token_field_name for JSON credential_source format")}retrieveSubjectToken(){return U(this,null,function*(){return this.file?yield this.getTokenFromFile(this.file,this.formatType,this.formatSubjectTokenFieldName):yield this.getTokenFromUrl(this.url,this.formatType,this.formatSubjectTokenFieldName,this.headers)})}getTokenFromFile(t,r,n){return U(this,null,function*(){try{if(t=yield O5(t),!(yield M5(t)).isFile())throw new Error}catch(s){throw s instanceof Error&&(s.message=`The file at ${t} does not exist, or it is not a file. ${s.message}`),s}let i,a=yield P5(t,{encoding:"utf8"});if(r==="text"?i=a:r==="json"&&n&&(i=JSON.parse(a)[n]),!i)throw new Error("Unable to parse the subject_token from the credential_source file");return i})}getTokenFromUrl(t,r,n,i){return U(this,null,function*(){let a={url:t,method:"GET",headers:i,responseType:r},s;if(r==="text"?s=(yield this.transporter.request(a)).data:r==="json"&&n&&(s=(yield this.transporter.request(a)).data[n]),!s)throw new Error("Unable to parse the subject_token from the credential_source URL");return s})}};Bf.IdentityPoolClient=EA});var bA=le(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.AwsRequestSigner=void 0;var CA=$s(),AA="AWS4-HMAC-SHA256",U5="aws4_request",wA=class{constructor(t,r){this.getCredentials=t,this.region=r,this.crypto=(0,CA.createCrypto)()}getRequestOptions(t){return U(this,null,function*(){if(!t.url)throw new Error('"url" is required in "amzOptions"');let r=typeof t.data=="object"?JSON.stringify(t.data):t.data,n=t.url,i=t.method||"GET",a=t.body||r,s=t.headers,l=yield this.getCredentials(),c=new URL(n),f=yield q5({crypto:this.crypto,host:c.host,canonicalUri:c.pathname,canonicalQuerystring:c.search.substr(1),method:i,region:this.region,securityCredentials:l,requestPayload:a,additionalAmzHeaders:s}),d=Object.assign(f.amzDate?{"x-amz-date":f.amzDate}:{},{Authorization:f.authorizationHeader,host:c.host},s||{});l.token&&Object.assign(d,{"x-amz-security-token":l.token});let p={url:n,method:i,headers:d};return typeof a!="undefined"&&(p.body=a),p})}};Nf.AwsRequestSigner=wA;function ql(e,t,r){return U(this,null,function*(){return yield e.signWithHmacSha256(t,r)})}function F5(e,t,r,n,i){return U(this,null,function*(){let a=yield ql(e,`AWS4${t}`,r),s=yield ql(e,a,n),l=yield ql(e,s,i);return yield ql(e,l,"aws4_request")})}function q5(e){return U(this,null,function*(){let t=e.additionalAmzHeaders||{},r=e.requestPayload||"",n=e.host.split(".")[0],i=new Date,a=i.toISOString().replace(/[-:]/g,"").replace(/\.[0-9]+/,""),s=i.toISOString().replace(/[-]/g,"").replace(/T.*/,""),l={};Object.keys(t).forEach(B=>{l[B.toLowerCase()]=t[B]}),e.securityCredentials.token&&(l["x-amz-security-token"]=e.securityCredentials.token);let c=Object.assign({host:e.host},l.date?{}:{"x-amz-date":a},l),f="",d=Object.keys(c).sort();d.forEach(B=>{f+=`${B}:${c[B]}
`});let p=d.join(";"),g=yield e.crypto.sha256DigestHex(r),v=`${e.method}
${e.canonicalUri}
${e.canonicalQuerystring}
${f}
${p}
${g}`,m=`${s}/${e.region}/${n}/${U5}`,_=`${AA}
${a}
${m}
`+(yield e.crypto.sha256DigestHex(v)),E=yield F5(e.crypto,e.securityCredentials.secretAccessKey,s,e.region,n),A=yield ql(e.crypto,E,_),x=`${AA} Credential=${e.securityCredentials.accessKeyId}/${m}, SignedHeaders=${p}, Signature=${(0,CA.fromArrayBufferToHex)(A)}`;return{amzDate:l.date?void 0:a,authorizationHeader:x,canonicalQuerystring:e.canonicalQuerystring}})}});var Up=le(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.AwsClient=void 0;var G5=bA(),K5=To(),SA=class extends K5.BaseExternalAccountClient{constructor(t,r){var n;super(t,r);this.environmentId=t.credential_source.environment_id,this.regionUrl=t.credential_source.region_url,this.securityCredentialsUrl=t.credential_source.url,this.regionalCredVerificationUrl=t.credential_source.regional_cred_verification_url,this.imdsV2SessionTokenUrl=t.credential_source.imdsv2_session_token_url;let i=(n=this.environmentId)===null||n===void 0?void 0:n.match(/^(aws)(\d+)$/);if(!i||!this.regionalCredVerificationUrl)throw new Error('No valid AWS "credential_source" provided');if(parseInt(i[2],10)!==1)throw new Error(`aws version "${i[2]}" is not supported in the current build.`);this.awsRequestSigner=null,this.region=""}retrieveSubjectToken(){return U(this,null,function*(){if(!this.awsRequestSigner){let i={};this.imdsV2SessionTokenUrl&&(i["x-aws-ec2-metadata-token"]=yield this.getImdsV2SessionToken()),this.region=yield this.getAwsRegion(i),this.awsRequestSigner=new G5.AwsRequestSigner(()=>U(this,null,function*(){if(process.env.AWS_ACCESS_KEY_ID&&process.env.AWS_SECRET_ACCESS_KEY)return{accessKeyId:process.env.AWS_ACCESS_KEY_ID,secretAccessKey:process.env.AWS_SECRET_ACCESS_KEY,token:process.env.AWS_SESSION_TOKEN};let a=yield this.getAwsRoleName(i),s=yield this.getAwsSecurityCredentials(a,i);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,token:s.Token}}),this.region)}let t=yield this.awsRequestSigner.getRequestOptions({url:this.regionalCredVerificationUrl.replace("{region}",this.region),method:"POST"}),r=[],n=Object.assign({"x-goog-cloud-target-resource":this.audience},t.headers);for(let i in n)r.push({key:i,value:n[i]});return encodeURIComponent(JSON.stringify({url:t.url,method:t.method,headers:r}))})}getImdsV2SessionToken(){return U(this,null,function*(){let t={url:this.imdsV2SessionTokenUrl,method:"PUT",responseType:"text",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"300"}};return(yield this.transporter.request(t)).data})}getAwsRegion(t){return U(this,null,function*(){if(process.env.AWS_REGION||process.env.AWS_DEFAULT_REGION)return process.env.AWS_REGION||process.env.AWS_DEFAULT_REGION;if(!this.regionUrl)throw new Error('Unable to determine AWS region due to missing "options.credential_source.region_url"');let r={url:this.regionUrl,method:"GET",responseType:"text",headers:t},n=yield this.transporter.request(r);return n.data.substr(0,n.data.length-1)})}getAwsRoleName(t){return U(this,null,function*(){if(!this.securityCredentialsUrl)throw new Error('Unable to determine AWS role name due to missing "options.credential_source.url"');let r={url:this.securityCredentialsUrl,method:"GET",responseType:"text",headers:t};return(yield this.transporter.request(r)).data})}getAwsSecurityCredentials(t,r){return U(this,null,function*(){return(yield this.transporter.request({url:`${this.securityCredentialsUrl}/${t}`,responseType:"json",headers:r})).data})}};Df.AwsClient=SA});var Fp=le(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.ExternalAccountClient=void 0;var V5=To(),H5=Mp(),Y5=Up(),TA=class{constructor(){throw new Error("ExternalAccountClients should be initialized via: ExternalAccountClient.fromJSON(), directly via explicit constructors, eg. new AwsClient(options), new IdentityPoolClient(options) or via new GoogleAuth(options).getClient()")}static fromJSON(t,r){var n;return t&&t.type===V5.EXTERNAL_ACCOUNT_TYPE?((n=t.credential_source)===null||n===void 0?void 0:n.environment_id)?new Y5.AwsClient(t,r):new H5.IdentityPoolClient(t,r):null}};Lf.ExternalAccountClient=TA});var kA=le(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.GoogleAuth=Io.CLOUD_SDK_CLIENT_ID=void 0;var j5=require("child_process"),Gl=require("fs"),qp=_c(),W5=require("os"),Gp=require("path"),z5=$s(),J5=gl(),Q5=o0(),X5=l0(),Z5=u0(),ms=xp(),xA=Ip(),IA=Fp(),xo=To();Io.CLOUD_SDK_CLIENT_ID="764086051850-6qr4p6gpi6hn506pt8ejuq83di341hur.apps.googleusercontent.com";var Kp=class{constructor(t){this.checkIsGCE=void 0,this.jsonContent=null,this.cachedCredential=null,t=t||{},this._cachedProjectId=t.projectId||null,this.cachedCredential=t.authClient||null,this.keyFilename=t.keyFilename||t.keyFile,this.scopes=t.scopes,this.jsonContent=t.credentials||null,this.clientOptions=t.clientOptions}get isGCE(){return this.checkIsGCE}setGapicJWTValues(t){t.defaultServicePath=this.defaultServicePath,t.useJWTAccessWithScope=this.useJWTAccessWithScope,t.defaultScopes=this.defaultScopes}getProjectId(t){if(t)this.getProjectIdAsync().then(r=>t(null,r),t);else return this.getProjectIdAsync()}getProjectIdAsync(){return this._cachedProjectId?Promise.resolve(this._cachedProjectId):(this._getDefaultProjectIdPromise||(this._getDefaultProjectIdPromise=new Promise((t,r)=>U(this,null,function*(){try{let n=this.getProductionProjectId()||(yield this.getFileProjectId())||(yield this.getDefaultServiceProjectId())||(yield this.getGCEProjectId())||(yield this.getExternalAccountClientProjectId());if(this._cachedProjectId=n,!n)throw new Error(`Unable to detect a Project Id in the current environment. 
To learn more about authentication and Google APIs, visit: 
https://cloud.google.com/docs/authentication/getting-started`);t(n)}catch(n){r(n)}}))),this._getDefaultProjectIdPromise)}getAnyScopes(){return this.scopes||this.defaultScopes}getApplicationDefault(t={},r){let n;if(typeof t=="function"?r=t:n=t,r)this.getApplicationDefaultAsync(n).then(i=>r(null,i.credential,i.projectId),r);else return this.getApplicationDefaultAsync(n)}getApplicationDefaultAsync(){return U(this,arguments,function*(t={}){if(this.cachedCredential)return{credential:this.cachedCredential,projectId:yield this.getProjectIdAsync()};let r,n;if(r=yield this._tryGetApplicationCredentialsFromEnvironmentVariable(t),r)return r instanceof ms.JWT?r.scopes=this.scopes:r instanceof xo.BaseExternalAccountClient&&(r.scopes=this.getAnyScopes()),this.cachedCredential=r,n=yield this.getProjectId(),{credential:r,projectId:n};if(r=yield this._tryGetApplicationCredentialsFromWellKnownFile(t),r)return r instanceof ms.JWT?r.scopes=this.scopes:r instanceof xo.BaseExternalAccountClient&&(r.scopes=this.getAnyScopes()),this.cachedCredential=r,n=yield this.getProjectId(),{credential:r,projectId:n};let i;try{i=yield this._checkIsGCE()}catch(a){throw a instanceof Error&&(a.message=`Unexpected error determining execution environment: ${a.message}`),a}if(!i)throw new Error("Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.");return t.scopes=this.getAnyScopes(),this.cachedCredential=new Q5.Compute(t),n=yield this.getProjectId(),{projectId:n,credential:this.cachedCredential}})}_checkIsGCE(){return U(this,null,function*(){return this.checkIsGCE===void 0&&(this.checkIsGCE=yield qp.isAvailable()),this.checkIsGCE})}_tryGetApplicationCredentialsFromEnvironmentVariable(t){return U(this,null,function*(){let r=process.env.GOOGLE_APPLICATION_CREDENTIALS||process.env.google_application_credentials;if(!r||r.length===0)return null;try{return this._getApplicationCredentialsFromFilePath(r,t)}catch(n){throw n instanceof Error&&(n.message=`Unable to read the credential file specified by the GOOGLE_APPLICATION_CREDENTIALS environment variable: ${n.message}`),n}})}_tryGetApplicationCredentialsFromWellKnownFile(t){return U(this,null,function*(){let r=null;if(this._isWindows())r=process.env.APPDATA;else{let i=process.env.HOME;i&&(r=Gp.join(i,".config"))}return r&&(r=Gp.join(r,"gcloud","application_default_credentials.json"),Gl.existsSync(r)||(r=null)),r?yield this._getApplicationCredentialsFromFilePath(r,t):null})}_getApplicationCredentialsFromFilePath(n){return U(this,arguments,function*(t,r={}){if(!t||t.length===0)throw new Error("The file path is invalid.");try{if(t=Gl.realpathSync(t),!Gl.lstatSync(t).isFile())throw new Error}catch(a){throw a instanceof Error&&(a.message=`The file at ${t} does not exist, or it is not a file. ${a.message}`),a}let i=Gl.createReadStream(t);return this.fromStream(i,r)})}fromJSON(t,r){let n;if(!t)throw new Error("Must pass in a JSON object containing the Google auth settings.");return r=r||{},t.type==="authorized_user"?(n=new xA.UserRefreshClient(r),n.fromJSON(t)):t.type===xo.EXTERNAL_ACCOUNT_TYPE?(n=IA.ExternalAccountClient.fromJSON(t,r),n.scopes=this.getAnyScopes()):(r.scopes=this.scopes,n=new ms.JWT(r),this.setGapicJWTValues(n),n.fromJSON(t)),n}_cacheClientFromJSON(t,r){let n;return r=r||{},t.type==="authorized_user"?(n=new xA.UserRefreshClient(r),n.fromJSON(t)):t.type===xo.EXTERNAL_ACCOUNT_TYPE?(n=IA.ExternalAccountClient.fromJSON(t,r),n.scopes=this.getAnyScopes()):(r.scopes=this.scopes,n=new ms.JWT(r),this.setGapicJWTValues(n),n.fromJSON(t)),this.jsonContent=t,this.cachedCredential=n,n}fromStream(t,r={},n){let i={};if(typeof r=="function"?n=r:i=r,n)this.fromStreamAsync(t,i).then(a=>n(null,a),n);else return this.fromStreamAsync(t,i)}fromStreamAsync(t,r){return new Promise((n,i)=>{if(!t)throw new Error("Must pass in a stream containing the Google auth settings.");let a="";t.setEncoding("utf8").on("error",i).on("data",s=>a+=s).on("end",()=>{try{try{let s=JSON.parse(a),l=this._cacheClientFromJSON(s,r);return n(l)}catch(s){if(!this.keyFilename)throw s;let l=new ms.JWT(Qr(Kr({},this.clientOptions),{keyFile:this.keyFilename}));return this.cachedCredential=l,this.setGapicJWTValues(l),n(l)}}catch(s){return i(s)}})})}fromAPIKey(t,r){r=r||{};let n=new ms.JWT(r);return n.fromAPIKey(t),n}_isWindows(){let t=W5.platform();return!!(t&&t.length>=3&&t.substring(0,3).toLowerCase()==="win")}getDefaultServiceProjectId(){return U(this,null,function*(){return new Promise(t=>{(0,j5.exec)("gcloud config config-helper --format json",(r,n)=>{if(!r&&n)try{let i=JSON.parse(n).configuration.properties.core.project;t(i);return}catch(i){}t(null)})})})}getProductionProjectId(){return process.env.GCLOUD_PROJECT||process.env.GOOGLE_CLOUD_PROJECT||process.env.gcloud_project||process.env.google_cloud_project}getFileProjectId(){return U(this,null,function*(){if(this.cachedCredential)return this.cachedCredential.projectId;if(this.keyFilename){let r=yield this.getClient();if(r&&r.projectId)return r.projectId}let t=yield this._tryGetApplicationCredentialsFromEnvironmentVariable();return t?t.projectId:null})}getExternalAccountClientProjectId(){return U(this,null,function*(){return!this.jsonContent||this.jsonContent.type!==xo.EXTERNAL_ACCOUNT_TYPE?null:yield(yield this.getClient()).getProjectId()})}getGCEProjectId(){return U(this,null,function*(){try{return yield qp.project("project-id")}catch(t){return null}})}getCredentials(t){if(t)this.getCredentialsAsync().then(r=>t(null,r),t);else return this.getCredentialsAsync()}getCredentialsAsync(){return U(this,null,function*(){let t=yield this.getClient();if(t instanceof xo.BaseExternalAccountClient){let i=t.getServiceAccountEmail();if(i)return{client_email:i}}if(this.jsonContent)return{client_email:this.jsonContent.client_email,private_key:this.jsonContent.private_key};if(!(yield this._checkIsGCE()))throw new Error("Unknown error.");let n=yield qp.instance({property:"service-accounts/",params:{recursive:"true"}});if(!n||!n.default||!n.default.email)throw new Error("Failure from metadata server.");return{client_email:n.default.email}})}getClient(){return U(this,null,function*(){if(!this.cachedCredential)if(this.jsonContent)this._cacheClientFromJSON(this.jsonContent,this.clientOptions);else if(this.keyFilename){let t=Gp.resolve(this.keyFilename),r=Gl.createReadStream(t);yield this.fromStreamAsync(r,this.clientOptions)}else yield this.getApplicationDefaultAsync(this.clientOptions);return this.cachedCredential})}getIdTokenClient(t){return U(this,null,function*(){let r=yield this.getClient();if(!("fetchIdToken"in r))throw new Error("Cannot fetch ID token in this environment, use GCE or set the GOOGLE_APPLICATION_CREDENTIALS environment variable to a service account credentials JSON file.");return new X5.IdTokenClient({targetAudience:t,idTokenProvider:r})})}getAccessToken(){return U(this,null,function*(){return(yield(yield this.getClient()).getAccessToken()).token})}getRequestHeaders(t){return U(this,null,function*(){return(yield this.getClient()).getRequestHeaders(t)})}authorizeRequest(t){return U(this,null,function*(){t=t||{};let r=t.url||t.uri,i=yield(yield this.getClient()).getRequestHeaders(r);return t.headers=Object.assign(t.headers||{},i),t})}request(t){return U(this,null,function*(){return(yield this.getClient()).request(t)})}getEnv(){return(0,Z5.getEnv)()}sign(t){return U(this,null,function*(){let r=yield this.getClient(),n=(0,z5.createCrypto)();if(r instanceof ms.JWT&&r.key)return yield n.sign(r.key,t);if(!(yield this.getProjectId()))throw new Error("Cannot sign data without a project ID.");let a=yield this.getCredentials();if(!a.client_email)throw new Error("Cannot sign data without `client_email`.");return this.signBlob(n,a.client_email,t)})}signBlob(t,r,n){return U(this,null,function*(){let i=`https://iamcredentials.googleapis.com/v1/projects/-/serviceAccounts/${r}:signBlob`;return(yield this.request({method:"POST",url:i,data:{payload:t.encodeBase64StringUtf8(n)}})).data.signedBlob})}};Io.GoogleAuth=Kp;Kp.DefaultTransporter=J5.DefaultTransporter});var BA=le(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.IAMAuth=void 0;var RA=class{constructor(t,r){this.selector=t,this.token=r,this.selector=t,this.token=r}getRequestHeaders(){return{"x-goog-iam-authority-selector":this.selector,"x-goog-iam-authorization-token":this.token}}};Pf.IAMAuth=RA});var LA=le(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.Impersonated=void 0;var NA=ns(),$5=Xs(),DA=class extends NA.OAuth2Client{constructor(t={}){var r,n,i,a,s,l;super(t);this.credentials={expiry_date:1,refresh_token:"impersonated-placeholder"},this.sourceClient=(r=t.sourceClient)!==null&&r!==void 0?r:new NA.OAuth2Client,this.targetPrincipal=(n=t.targetPrincipal)!==null&&n!==void 0?n:"",this.delegates=(i=t.delegates)!==null&&i!==void 0?i:[],this.targetScopes=(a=t.targetScopes)!==null&&a!==void 0?a:[],this.lifetime=(s=t.lifetime)!==null&&s!==void 0?s:3600,this.endpoint=(l=t.endpoint)!==null&&l!==void 0?l:"https://iamcredentials.googleapis.com"}refreshToken(t){return U(this,null,function*(){var r,n,i,a,s,l;try{yield this.sourceClient.getAccessToken();let c="projects/-/serviceAccounts/"+this.targetPrincipal,f=`${this.endpoint}/v1/${c}:generateAccessToken`,d={delegates:this.delegates,scope:this.targetScopes,lifetime:this.lifetime+"s"},p=yield this.sourceClient.request({url:f,data:d,method:"POST"}),g=p.data;return this.credentials.access_token=g.accessToken,this.credentials.expiry_date=Date.parse(g.expireTime),{tokens:this.credentials,res:p}}catch(c){if(!(c instanceof Error))throw c;let f=0,d="";throw c instanceof $5.GaxiosError&&(f=(i=(n=(r=c==null?void 0:c.response)===null||r===void 0?void 0:r.data)===null||n===void 0?void 0:n.error)===null||i===void 0?void 0:i.status,d=(l=(s=(a=c==null?void 0:c.response)===null||a===void 0?void 0:a.data)===null||s===void 0?void 0:s.error)===null||l===void 0?void 0:l.message),f&&d?(c.message=`${f}: unable to impersonate: ${d}`,c):(c.message=`unable to impersonate: ${c}`,c)}})}};Of.Impersonated=DA});var OA=le(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.DownscopedClient=ui.EXPIRATION_TIME_OFFSET=ui.MAX_ACCESS_BOUNDARY_RULES_COUNT=void 0;var eM=require("stream"),tM=ml(),rM=kp(),nM="urn:ietf:params:oauth:grant-type:token-exchange",iM="urn:ietf:params:oauth:token-type:access_token",aM="urn:ietf:params:oauth:token-type:access_token",sM="https://sts.googleapis.com/v1/token";ui.MAX_ACCESS_BOUNDARY_RULES_COUNT=10;ui.EXPIRATION_TIME_OFFSET=5*60*1e3;var PA=class extends tM.AuthClient{constructor(t,r,n,i){super();if(this.authClient=t,this.credentialAccessBoundary=r,r.accessBoundary.accessBoundaryRules.length===0)throw new Error("At least one access boundary rule needs to be defined.");if(r.accessBoundary.accessBoundaryRules.length>ui.MAX_ACCESS_BOUNDARY_RULES_COUNT)throw new Error(`The provided access boundary has more than ${ui.MAX_ACCESS_BOUNDARY_RULES_COUNT} access boundary rules.`);for(let a of r.accessBoundary.accessBoundaryRules)if(a.availablePermissions.length===0)throw new Error("At least one permission should be defined in access boundary rules.");this.stsCredential=new rM.StsCredentials(sM),this.cachedDownscopedAccessToken=null,typeof(n==null?void 0:n.eagerRefreshThresholdMillis)!="number"?this.eagerRefreshThresholdMillis=ui.EXPIRATION_TIME_OFFSET:this.eagerRefreshThresholdMillis=n.eagerRefreshThresholdMillis,this.forceRefreshOnFailure=!!(n==null?void 0:n.forceRefreshOnFailure),this.quotaProjectId=i}setCredentials(t){if(!t.expiry_date)throw new Error("The access token expiry_date field is missing in the provided credentials.");super.setCredentials(t),this.cachedDownscopedAccessToken=t}getAccessToken(){return U(this,null,function*(){return(!this.cachedDownscopedAccessToken||this.isExpired(this.cachedDownscopedAccessToken))&&(yield this.refreshAccessTokenAsync()),{token:this.cachedDownscopedAccessToken.access_token,expirationTime:this.cachedDownscopedAccessToken.expiry_date,res:this.cachedDownscopedAccessToken.res}})}getRequestHeaders(){return U(this,null,function*(){let r={Authorization:`Bearer ${(yield this.getAccessToken()).token}`};return this.addSharedMetadataHeaders(r)})}request(t,r){if(r)this.requestAsync(t).then(n=>r(null,n),n=>r(n,n.response));else return this.requestAsync(t)}requestAsync(t,r=!1){return U(this,null,function*(){let n;try{let i=yield this.getRequestHeaders();t.headers=t.headers||{},i&&i["x-goog-user-project"]&&(t.headers["x-goog-user-project"]=i["x-goog-user-project"]),i&&i.Authorization&&(t.headers.Authorization=i.Authorization),n=yield this.transporter.request(t)}catch(i){let a=i.response;if(a){let s=a.status,l=a.config.data instanceof eM.Readable;if(!r&&(s===401||s===403)&&!l&&this.forceRefreshOnFailure)return yield this.refreshAccessTokenAsync(),yield this.requestAsync(t,!0)}throw i}return n})}refreshAccessTokenAsync(){return U(this,null,function*(){var t;let r=(yield this.authClient.getAccessToken()).token,n={grantType:nM,requestedTokenType:iM,subjectToken:r,subjectTokenType:aM},i=yield this.stsCredential.exchangeToken(n,void 0,this.credentialAccessBoundary),a=((t=this.authClient.credentials)===null||t===void 0?void 0:t.expiry_date)||null,s=i.expires_in?new Date().getTime()+i.expires_in*1e3:a;return this.cachedDownscopedAccessToken={access_token:i.access_token,expiry_date:s,res:i.res},this.credentials={},Object.assign(this.credentials,this.cachedDownscopedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedDownscopedAccessToken.expiry_date,access_token:this.cachedDownscopedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedDownscopedAccessToken})}isExpired(t){let r=new Date().getTime();return t.expiry_date?r>=t.expiry_date-this.eagerRefreshThresholdMillis:!1}};ui.DownscopedClient=PA});var FA=le(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.GoogleAuth=at.auth=at.DefaultTransporter=at.DownscopedClient=at.BaseExternalAccountClient=at.ExternalAccountClient=at.IdentityPoolClient=at.AwsClient=at.UserRefreshClient=at.LoginTicket=at.OAuth2Client=at.CodeChallengeMethod=at.Impersonated=at.JWT=at.JWTAccess=at.IdTokenClient=at.IAMAuth=at.GCPEnv=at.Compute=at.AuthClient=void 0;var MA=kA();Object.defineProperty(at,"GoogleAuth",{enumerable:!0,get:function(){return MA.GoogleAuth}});var oM=ml();Object.defineProperty(at,"AuthClient",{enumerable:!0,get:function(){return oM.AuthClient}});var lM=o0();Object.defineProperty(at,"Compute",{enumerable:!0,get:function(){return lM.Compute}});var uM=u0();Object.defineProperty(at,"GCPEnv",{enumerable:!0,get:function(){return uM.GCPEnv}});var cM=BA();Object.defineProperty(at,"IAMAuth",{enumerable:!0,get:function(){return cM.IAMAuth}});var fM=l0();Object.defineProperty(at,"IdTokenClient",{enumerable:!0,get:function(){return fM.IdTokenClient}});var dM=Tp();Object.defineProperty(at,"JWTAccess",{enumerable:!0,get:function(){return dM.JWTAccess}});var hM=xp();Object.defineProperty(at,"JWT",{enumerable:!0,get:function(){return hM.JWT}});var pM=LA();Object.defineProperty(at,"Impersonated",{enumerable:!0,get:function(){return pM.Impersonated}});var UA=ns();Object.defineProperty(at,"CodeChallengeMethod",{enumerable:!0,get:function(){return UA.CodeChallengeMethod}});Object.defineProperty(at,"OAuth2Client",{enumerable:!0,get:function(){return UA.OAuth2Client}});var gM=a0();Object.defineProperty(at,"LoginTicket",{enumerable:!0,get:function(){return gM.LoginTicket}});var mM=Ip();Object.defineProperty(at,"UserRefreshClient",{enumerable:!0,get:function(){return mM.UserRefreshClient}});var yM=Up();Object.defineProperty(at,"AwsClient",{enumerable:!0,get:function(){return yM.AwsClient}});var vM=Mp();Object.defineProperty(at,"IdentityPoolClient",{enumerable:!0,get:function(){return vM.IdentityPoolClient}});var _M=Fp();Object.defineProperty(at,"ExternalAccountClient",{enumerable:!0,get:function(){return _M.ExternalAccountClient}});var EM=To();Object.defineProperty(at,"BaseExternalAccountClient",{enumerable:!0,get:function(){return EM.BaseExternalAccountClient}});var CM=OA();Object.defineProperty(at,"DownscopedClient",{enumerable:!0,get:function(){return CM.DownscopedClient}});var AM=gl();Object.defineProperty(at,"DefaultTransporter",{enumerable:!0,get:function(){return AM.DefaultTransporter}});var wM=new MA.GoogleAuth;at.auth=wM});var Hp=le((UG,GA)=>{"use strict";var qA=require("fs"),Vp;function bM(){try{return qA.statSync("/.dockerenv"),!0}catch(e){return!1}}function SM(){try{return qA.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch(e){return!1}}GA.exports=()=>(Vp===void 0&&(Vp=bM()||SM()),Vp)});var HA=le((FG,Yp)=>{"use strict";var TM=require("os"),xM=require("fs"),KA=Hp(),VA=()=>{if(process.platform!=="linux")return!1;if(TM.release().toLowerCase().includes("microsoft"))return!KA();try{return xM.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!KA():!1}catch(e){return!1}};process.env.__IS_WSL_TEST__?Yp.exports=VA:Yp.exports=VA()});var jA=le((qG,YA)=>{"use strict";YA.exports=(e,t,r)=>{let n=i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0});return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let i=r();return n(i),i},set(i){n(i)}}),e}});var $A=le((Qp,ZA)=>{var IM=require("path"),kM=require("child_process"),{promises:jp,constants:WA}=require("fs"),Mf=HA(),RM=Hp(),Wp=jA(),zA=IM.join(__dirname,"xdg-open"),{platform:ko,arch:JA}=process,BM=(()=>{let e="/mnt/",t;return function(){return U(this,null,function*(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{yield jp.access(r,WA.F_OK),n=!0}catch(s){}if(!n)return e;let i=yield jp.readFile(r,{encoding:"utf8"}),a=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return a?(t=a.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e})}})(),QA=(e,t)=>U(Qp,null,function*(){let r;for(let n of e)try{return yield t(n)}catch(i){r=i}throw r}),Uf=e=>U(Qp,null,function*(){if(e=Kr({wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1},e),Array.isArray(e.app))return QA(e.app,l=>Uf(Qr(Kr({},e),{app:l})));let{name:t,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(t))return QA(t,l=>Uf(Qr(Kr({},e),{app:{name:l,arguments:r}})));let n,i=[],a={};if(ko==="darwin")n="open",e.wait&&i.push("--wait-apps"),e.background&&i.push("--background"),e.newInstance&&i.push("--new"),t&&i.push("-a",t);else if(ko==="win32"||Mf&&!RM()){let l=yield BM();n=Mf?`${l}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,i.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),Mf||(a.windowsVerbatimArguments=!0);let c=["Start"];e.wait&&c.push("-Wait"),t?(c.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&c.push(`"${e.target}"`),r.length>0&&(r=r.map(f=>`"\`"${f}\`""`),c.push(r.join(","))),e.target=Buffer.from(c.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let l=!__dirname||__dirname==="/",c=!1;try{yield jp.access(zA,WA.X_OK),c=!0}catch(d){}n=process.versions.electron||ko==="android"||l||!c?"xdg-open":zA}r.length>0&&i.push(...r),e.wait||(a.stdio="ignore",a.detached=!0)}e.target&&i.push(e.target),ko==="darwin"&&r.length>0&&i.push("--args",...r);let s=kM.spawn(n,i,a);return e.wait?new Promise((l,c)=>{s.once("error",c),s.once("close",f=>{if(e.allowNonzeroExitCode&&f>0){c(new Error(`Exited with code ${f}`));return}l(s)})}):(s.unref(),s)}),zp=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return Uf(Qr(Kr({},t),{target:e}))},NM=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return Uf(Qr(Kr({},t),{app:{name:e,arguments:r}}))};function XA(e){if(typeof e=="string"||Array.isArray(e))return e;let{[JA]:t}=e;if(!t)throw new Error(`${JA} is not supported`);return t}function Jp({[ko]:e},{wsl:t}){if(t&&Mf)return XA(t);if(!e)throw new Error(`${ko} is not supported`);return XA(e)}var Ff={};Wp(Ff,"chrome",()=>Jp({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));Wp(Ff,"firefox",()=>Jp({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));Wp(Ff,"edge",()=>Jp({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));zp.apps=Ff;zp.openApp=NM;ZA.exports=zp});var tw=le((GG,ew)=>{ew.exports=DM;function DM(e){var t={};e.on("connection",function(r){var n=r.remoteAddress+":"+r.remotePort;t[n]=r,r.on("close",function(){delete t[n]})}),e.destroy=function(r){e.close(r);for(var n in t)t[n].destroy()}}});var fg=le((AK,$f)=>{var Cw,Aw,ww,bw,Sw,Tw,xw,Iw,kw,Xf,cg,Rw,Bw,Nw,Lo,Dw,Lw,Pw,Ow,Mw,Uw,Fw,qw,Zf;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof $f=="object"&&typeof $f.exports=="object"?e(r(t,r($f.exports))):e(r(t));function r(n,i){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,s){return n[a]=i?i(a,s):s}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])};Cw=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)},Aw=Object.assign||function(n){for(var i,a=1,s=arguments.length;a<s;a++){i=arguments[a];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])}return n},ww=function(n,i){var a={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&i.indexOf(s)<0&&(a[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)i.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(a[s[l]]=n[s[l]]);return a},bw=function(n,i,a,s){var l=arguments.length,c=l<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,a):s,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,i,a,s);else for(var d=n.length-1;d>=0;d--)(f=n[d])&&(c=(l<3?f(c):l>3?f(i,a,c):f(i,a))||c);return l>3&&c&&Object.defineProperty(i,a,c),c},Sw=function(n,i){return function(a,s){i(a,s,n)}},Tw=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},xw=function(n,i,a,s){function l(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function d(v){try{g(s.next(v))}catch(m){f(m)}}function p(v){try{g(s.throw(v))}catch(m){f(m)}}function g(v){v.done?c(v.value):l(v.value).then(d,p)}g((s=s.apply(n,i||[])).next())})},Iw=function(n,i){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,l,c,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(g){return function(v){return p([g,v])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;a;)try{if(s=1,l&&(c=g[0]&2?l.return:g[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,g[1])).done)return c;switch(l=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return a.label++,{value:g[1],done:!1};case 5:a.label++,l=g[1],g=[0];continue;case 7:g=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){a=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){a.label=g[1];break}if(g[0]===6&&a.label<c[1]){a.label=c[1],c=g;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(g);break}c[2]&&a.ops.pop(),a.trys.pop();continue}g=i.call(n,a)}catch(v){g=[6,v],l=0}finally{s=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},kw=function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&Zf(i,n,a)},Zf=Object.create?function(n,i,a,s){s===void 0&&(s=a),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[a]}})}:function(n,i,a,s){s===void 0&&(s=a),n[s]=i[a]},Xf=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&n[i],s=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},cg=function(n,i){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var s=a.call(n),l,c=[],f;try{for(;(i===void 0||i-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(d){f={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(f)throw f.error}}return c},Rw=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(cg(arguments[i]));return n},Bw=function(){for(var n=0,i=0,a=arguments.length;i<a;i++)n+=arguments[i].length;for(var s=Array(n),l=0,i=0;i<a;i++)for(var c=arguments[i],f=0,d=c.length;f<d;f++,l++)s[l]=c[f];return s},Nw=function(n,i){for(var a=0,s=i.length,l=n.length;a<s;a++,l++)n[l]=i[a];return n},Lo=function(n){return this instanceof Lo?(this.v=n,this):new Lo(n)},Dw=function(n,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(n,i||[]),l,c=[];return l={},f("next"),f("throw"),f("return"),l[Symbol.asyncIterator]=function(){return this},l;function f(_){s[_]&&(l[_]=function(E){return new Promise(function(A,x){c.push([_,E,A,x])>1||d(_,E)})})}function d(_,E){try{p(s[_](E))}catch(A){m(c[0][3],A)}}function p(_){_.value instanceof Lo?Promise.resolve(_.value.v).then(g,v):m(c[0][2],_)}function g(_){d("next",_)}function v(_){d("throw",_)}function m(_,E){_(E),c.shift(),c.length&&d(c[0][0],c[0][1])}},Lw=function(n){var i,a;return i={},s("next"),s("throw",function(l){throw l}),s("return"),i[Symbol.iterator]=function(){return this},i;function s(l,c){i[l]=n[l]?function(f){return(a=!a)?{value:Lo(n[l](f)),done:l==="return"}:c?c(f):f}:c}},Pw=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],a;return i?i.call(n):(n=typeof Xf=="function"?Xf(n):n[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(c){a[c]=n[c]&&function(f){return new Promise(function(d,p){f=n[c](f),l(d,p,f.done,f.value)})}}function l(c,f,d,p){Promise.resolve(p).then(function(g){c({value:g,done:d})},f)}},Ow=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};Mw=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&Zf(i,n,a);return r(i,n),i},Uw=function(n){return n&&n.__esModule?n:{default:n}},Fw=function(n,i,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(n):s?s.value:i.get(n)},qw=function(n,i,a,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!l:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(n,a):l?l.value=a:i.set(n,a),a},e("__extends",Cw),e("__assign",Aw),e("__rest",ww),e("__decorate",bw),e("__param",Sw),e("__metadata",Tw),e("__awaiter",xw),e("__generator",Iw),e("__exportStar",kw),e("__createBinding",Zf),e("__values",Xf),e("__read",cg),e("__spread",Rw),e("__spreadArrays",Bw),e("__spreadArray",Nw),e("__await",Lo),e("__asyncGenerator",Dw),e("__asyncDelegator",Lw),e("__asyncValues",Pw),e("__makeTemplateObject",Ow),e("__importStar",Mw),e("__importDefault",Uw),e("__classPrivateFieldGet",Fw),e("__classPrivateFieldSet",qw)})});var rd=le((Po,$l)=>{(function(){var e,t="4.17.21",r=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",a="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",l=500,c="__lodash_placeholder__",f=1,d=2,p=4,g=1,v=2,m=1,_=2,E=4,A=8,x=16,B=32,L=64,N=128,P=256,ae=512,j=30,V="...",me=800,ye=16,we=1,Ke=2,Oe=3,Ie=1/0,Pe=9007199254740991,_e=17976931348623157e292,nt=0/0,Xe=4294967295,Nt=Xe-1,At=Xe>>>1,it=[["ary",N],["bind",m],["bindKey",_],["curry",A],["curryRight",x],["flip",ae],["partial",B],["partialRight",L],["rearg",P]],fe="[object Arguments]",Dt="[object Array]",Tt="[object AsyncFunction]",Be="[object Boolean]",Le="[object Date]",He="[object DOMException]",I="[object Error]",R="[object Function]",D="[object GeneratorFunction]",W="[object Map]",G="[object Number]",J="[object Null]",X="[object Object]",H="[object Promise]",Q="[object Proxy]",re="[object RegExp]",Z="[object Set]",de="[object String]",Me="[object Symbol]",Fe="[object Undefined]",pt="[object WeakMap]",tr="[object WeakSet]",Xt="[object ArrayBuffer]",ut="[object DataView]",Lt="[object Float32Array]",gr="[object Float64Array]",la="[object Int8Array]",Ka="[object Int16Array]",Va="[object Int32Array]",sn="[object Uint8Array]",Oi="[object Uint8ClampedArray]",Fr="[object Uint16Array]",Er="[object Uint32Array]",rr=/\b__p \+= '';/g,YT=/\b(__p \+=) '' \+/g,jT=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Fg=/&(?:amp|lt|gt|quot|#39);/g,qg=/[&<>"']/g,WT=RegExp(Fg.source),zT=RegExp(qg.source),JT=/<%-([\s\S]+?)%>/g,QT=/<%([\s\S]+?)%>/g,Gg=/<%=([\s\S]+?)%>/g,XT=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ZT=/^\w*$/,$T=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xd=/[\\^$.*+?()[\]{}|]/g,ex=RegExp(xd.source),Id=/^\s+/,tx=/\s/,rx=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,nx=/\{\n\/\* \[wrapped with (.+)\] \*/,ix=/,? & /,ax=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,sx=/[()=,{}\[\]\/\s]/,ox=/\\(\\)?/g,lx=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kg=/\w*$/,ux=/^[-+]0x[0-9a-f]+$/i,cx=/^0b[01]+$/i,fx=/^\[object .+?Constructor\]$/,dx=/^0o[0-7]+$/i,hx=/^(?:0|[1-9]\d*)$/,px=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vu=/($^)/,gx=/['\n\r\u2028\u2029\\]/g,_u="\\ud800-\\udfff",mx="\\u0300-\\u036f",yx="\\ufe20-\\ufe2f",vx="\\u20d0-\\u20ff",Vg=mx+yx+vx,Hg="\\u2700-\\u27bf",Yg="a-z\\xdf-\\xf6\\xf8-\\xff",_x="\\xac\\xb1\\xd7\\xf7",Ex="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Cx="\\u2000-\\u206f",Ax=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",jg="A-Z\\xc0-\\xd6\\xd8-\\xde",Wg="\\ufe0e\\ufe0f",zg=_x+Ex+Cx+Ax,kd="['\u2019]",wx="["+_u+"]",Jg="["+zg+"]",Eu="["+Vg+"]",Qg="\\d+",bx="["+Hg+"]",Xg="["+Yg+"]",Zg="[^"+_u+zg+Qg+Hg+Yg+jg+"]",Rd="\\ud83c[\\udffb-\\udfff]",Sx="(?:"+Eu+"|"+Rd+")",$g="[^"+_u+"]",Bd="(?:\\ud83c[\\udde6-\\uddff]){2}",Nd="[\\ud800-\\udbff][\\udc00-\\udfff]",Ns="["+jg+"]",em="\\u200d",tm="(?:"+Xg+"|"+Zg+")",Tx="(?:"+Ns+"|"+Zg+")",rm="(?:"+kd+"(?:d|ll|m|re|s|t|ve))?",nm="(?:"+kd+"(?:D|LL|M|RE|S|T|VE))?",im=Sx+"?",am="["+Wg+"]?",xx="(?:"+em+"(?:"+[$g,Bd,Nd].join("|")+")"+am+im+")*",Ix="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kx="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",sm=am+im+xx,Rx="(?:"+[bx,Bd,Nd].join("|")+")"+sm,Bx="(?:"+[$g+Eu+"?",Eu,Bd,Nd,wx].join("|")+")",Nx=RegExp(kd,"g"),Dx=RegExp(Eu,"g"),Dd=RegExp(Rd+"(?="+Rd+")|"+Bx+sm,"g"),Lx=RegExp([Ns+"?"+Xg+"+"+rm+"(?="+[Jg,Ns,"$"].join("|")+")",Tx+"+"+nm+"(?="+[Jg,Ns+tm,"$"].join("|")+")",Ns+"?"+tm+"+"+rm,Ns+"+"+nm,kx,Ix,Qg,Rx].join("|"),"g"),Px=RegExp("["+em+_u+Vg+Wg+"]"),Ox=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Mx=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ux=-1,Zt={};Zt[Lt]=Zt[gr]=Zt[la]=Zt[Ka]=Zt[Va]=Zt[sn]=Zt[Oi]=Zt[Fr]=Zt[Er]=!0,Zt[fe]=Zt[Dt]=Zt[Xt]=Zt[Be]=Zt[ut]=Zt[Le]=Zt[I]=Zt[R]=Zt[W]=Zt[G]=Zt[X]=Zt[re]=Zt[Z]=Zt[de]=Zt[pt]=!1;var Yt={};Yt[fe]=Yt[Dt]=Yt[Xt]=Yt[ut]=Yt[Be]=Yt[Le]=Yt[Lt]=Yt[gr]=Yt[la]=Yt[Ka]=Yt[Va]=Yt[W]=Yt[G]=Yt[X]=Yt[re]=Yt[Z]=Yt[de]=Yt[Me]=Yt[sn]=Yt[Oi]=Yt[Fr]=Yt[Er]=!0,Yt[I]=Yt[R]=Yt[pt]=!1;var Fx={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},qx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Gx={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Kx={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vx=parseFloat,Hx=parseInt,om=typeof global=="object"&&global&&global.Object===Object&&global,Yx=typeof self=="object"&&self&&self.Object===Object&&self,br=om||Yx||Function("return this")(),Ld=typeof Po=="object"&&Po&&!Po.nodeType&&Po,Ha=Ld&&typeof $l=="object"&&$l&&!$l.nodeType&&$l,lm=Ha&&Ha.exports===Ld,Pd=lm&&om.process,kn=function(){try{var Y=Ha&&Ha.require&&Ha.require("util").types;return Y||Pd&&Pd.binding&&Pd.binding("util")}catch(oe){}}(),um=kn&&kn.isArrayBuffer,cm=kn&&kn.isDate,fm=kn&&kn.isMap,dm=kn&&kn.isRegExp,hm=kn&&kn.isSet,pm=kn&&kn.isTypedArray;function mn(Y,oe,ne){switch(ne.length){case 0:return Y.call(oe);case 1:return Y.call(oe,ne[0]);case 2:return Y.call(oe,ne[0],ne[1]);case 3:return Y.call(oe,ne[0],ne[1],ne[2])}return Y.apply(oe,ne)}function jx(Y,oe,ne,Ne){for(var Ze=-1,Mt=Y==null?0:Y.length;++Ze<Mt;){var Cr=Y[Ze];oe(Ne,Cr,ne(Cr),Y)}return Ne}function Rn(Y,oe){for(var ne=-1,Ne=Y==null?0:Y.length;++ne<Ne&&oe(Y[ne],ne,Y)!==!1;);return Y}function Wx(Y,oe){for(var ne=Y==null?0:Y.length;ne--&&oe(Y[ne],ne,Y)!==!1;);return Y}function gm(Y,oe){for(var ne=-1,Ne=Y==null?0:Y.length;++ne<Ne;)if(!oe(Y[ne],ne,Y))return!1;return!0}function ua(Y,oe){for(var ne=-1,Ne=Y==null?0:Y.length,Ze=0,Mt=[];++ne<Ne;){var Cr=Y[ne];oe(Cr,ne,Y)&&(Mt[Ze++]=Cr)}return Mt}function Cu(Y,oe){var ne=Y==null?0:Y.length;return!!ne&&Ds(Y,oe,0)>-1}function Od(Y,oe,ne){for(var Ne=-1,Ze=Y==null?0:Y.length;++Ne<Ze;)if(ne(oe,Y[Ne]))return!0;return!1}function nr(Y,oe){for(var ne=-1,Ne=Y==null?0:Y.length,Ze=Array(Ne);++ne<Ne;)Ze[ne]=oe(Y[ne],ne,Y);return Ze}function ca(Y,oe){for(var ne=-1,Ne=oe.length,Ze=Y.length;++ne<Ne;)Y[Ze+ne]=oe[ne];return Y}function Md(Y,oe,ne,Ne){var Ze=-1,Mt=Y==null?0:Y.length;for(Ne&&Mt&&(ne=Y[++Ze]);++Ze<Mt;)ne=oe(ne,Y[Ze],Ze,Y);return ne}function zx(Y,oe,ne,Ne){var Ze=Y==null?0:Y.length;for(Ne&&Ze&&(ne=Y[--Ze]);Ze--;)ne=oe(ne,Y[Ze],Ze,Y);return ne}function Ud(Y,oe){for(var ne=-1,Ne=Y==null?0:Y.length;++ne<Ne;)if(oe(Y[ne],ne,Y))return!0;return!1}var Jx=Fd("length");function Qx(Y){return Y.split("")}function Xx(Y){return Y.match(ax)||[]}function mm(Y,oe,ne){var Ne;return ne(Y,function(Ze,Mt,Cr){if(oe(Ze,Mt,Cr))return Ne=Mt,!1}),Ne}function Au(Y,oe,ne,Ne){for(var Ze=Y.length,Mt=ne+(Ne?1:-1);Ne?Mt--:++Mt<Ze;)if(oe(Y[Mt],Mt,Y))return Mt;return-1}function Ds(Y,oe,ne){return oe===oe?u2(Y,oe,ne):Au(Y,ym,ne)}function Zx(Y,oe,ne,Ne){for(var Ze=ne-1,Mt=Y.length;++Ze<Mt;)if(Ne(Y[Ze],oe))return Ze;return-1}function ym(Y){return Y!==Y}function vm(Y,oe){var ne=Y==null?0:Y.length;return ne?Gd(Y,oe)/ne:nt}function Fd(Y){return function(oe){return oe==null?e:oe[Y]}}function qd(Y){return function(oe){return Y==null?e:Y[oe]}}function _m(Y,oe,ne,Ne,Ze){return Ze(Y,function(Mt,Cr,Vt){ne=Ne?(Ne=!1,Mt):oe(ne,Mt,Cr,Vt)}),ne}function $x(Y,oe){var ne=Y.length;for(Y.sort(oe);ne--;)Y[ne]=Y[ne].value;return Y}function Gd(Y,oe){for(var ne,Ne=-1,Ze=Y.length;++Ne<Ze;){var Mt=oe(Y[Ne]);Mt!==e&&(ne=ne===e?Mt:ne+Mt)}return ne}function Kd(Y,oe){for(var ne=-1,Ne=Array(Y);++ne<Y;)Ne[ne]=oe(ne);return Ne}function e2(Y,oe){return nr(oe,function(ne){return[ne,Y[ne]]})}function Em(Y){return Y&&Y.slice(0,bm(Y)+1).replace(Id,"")}function yn(Y){return function(oe){return Y(oe)}}function Vd(Y,oe){return nr(oe,function(ne){return Y[ne]})}function Yo(Y,oe){return Y.has(oe)}function Cm(Y,oe){for(var ne=-1,Ne=Y.length;++ne<Ne&&Ds(oe,Y[ne],0)>-1;);return ne}function Am(Y,oe){for(var ne=Y.length;ne--&&Ds(oe,Y[ne],0)>-1;);return ne}function t2(Y,oe){for(var ne=Y.length,Ne=0;ne--;)Y[ne]===oe&&++Ne;return Ne}var r2=qd(Fx),n2=qd(qx);function i2(Y){return"\\"+Kx[Y]}function a2(Y,oe){return Y==null?e:Y[oe]}function Ls(Y){return Px.test(Y)}function s2(Y){return Ox.test(Y)}function o2(Y){for(var oe,ne=[];!(oe=Y.next()).done;)ne.push(oe.value);return ne}function Hd(Y){var oe=-1,ne=Array(Y.size);return Y.forEach(function(Ne,Ze){ne[++oe]=[Ze,Ne]}),ne}function wm(Y,oe){return function(ne){return Y(oe(ne))}}function fa(Y,oe){for(var ne=-1,Ne=Y.length,Ze=0,Mt=[];++ne<Ne;){var Cr=Y[ne];(Cr===oe||Cr===c)&&(Y[ne]=c,Mt[Ze++]=ne)}return Mt}function wu(Y){var oe=-1,ne=Array(Y.size);return Y.forEach(function(Ne){ne[++oe]=Ne}),ne}function l2(Y){var oe=-1,ne=Array(Y.size);return Y.forEach(function(Ne){ne[++oe]=[Ne,Ne]}),ne}function u2(Y,oe,ne){for(var Ne=ne-1,Ze=Y.length;++Ne<Ze;)if(Y[Ne]===oe)return Ne;return-1}function c2(Y,oe,ne){for(var Ne=ne+1;Ne--;)if(Y[Ne]===oe)return Ne;return Ne}function Ps(Y){return Ls(Y)?d2(Y):Jx(Y)}function $n(Y){return Ls(Y)?h2(Y):Qx(Y)}function bm(Y){for(var oe=Y.length;oe--&&tx.test(Y.charAt(oe)););return oe}var f2=qd(Gx);function d2(Y){for(var oe=Dd.lastIndex=0;Dd.test(Y);)++oe;return oe}function h2(Y){return Y.match(Dd)||[]}function p2(Y){return Y.match(Lx)||[]}var g2=function Y(oe){oe=oe==null?br:da.defaults(br.Object(),oe,da.pick(br,Mx));var ne=oe.Array,Ne=oe.Date,Ze=oe.Error,Mt=oe.Function,Cr=oe.Math,Vt=oe.Object,Yd=oe.RegExp,m2=oe.String,Bn=oe.TypeError,bu=ne.prototype,y2=Mt.prototype,Os=Vt.prototype,Su=oe["__core-js_shared__"],Tu=y2.toString,Gt=Os.hasOwnProperty,v2=0,Sm=function(){var o=/[^.]+$/.exec(Su&&Su.keys&&Su.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),xu=Os.toString,_2=Tu.call(Vt),E2=br._,C2=Yd("^"+Tu.call(Gt).replace(xd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Iu=lm?oe.Buffer:e,ha=oe.Symbol,ku=oe.Uint8Array,Tm=Iu?Iu.allocUnsafe:e,Ru=wm(Vt.getPrototypeOf,Vt),xm=Vt.create,Im=Os.propertyIsEnumerable,Bu=bu.splice,km=ha?ha.isConcatSpreadable:e,jo=ha?ha.iterator:e,Ya=ha?ha.toStringTag:e,Nu=function(){try{var o=Qa(Vt,"defineProperty");return o({},"",{}),o}catch(u){}}(),A2=oe.clearTimeout!==br.clearTimeout&&oe.clearTimeout,w2=Ne&&Ne.now!==br.Date.now&&Ne.now,b2=oe.setTimeout!==br.setTimeout&&oe.setTimeout,Du=Cr.ceil,Lu=Cr.floor,jd=Vt.getOwnPropertySymbols,S2=Iu?Iu.isBuffer:e,Rm=oe.isFinite,T2=bu.join,x2=wm(Vt.keys,Vt),Ar=Cr.max,qr=Cr.min,I2=Ne.now,k2=oe.parseInt,Bm=Cr.random,R2=bu.reverse,Wd=Qa(oe,"DataView"),Wo=Qa(oe,"Map"),zd=Qa(oe,"Promise"),Ms=Qa(oe,"Set"),zo=Qa(oe,"WeakMap"),Jo=Qa(Vt,"create"),Pu=zo&&new zo,Us={},B2=Xa(Wd),N2=Xa(Wo),D2=Xa(zd),L2=Xa(Ms),P2=Xa(zo),Ou=ha?ha.prototype:e,Qo=Ou?Ou.valueOf:e,Nm=Ou?Ou.toString:e;function T(o){if(lr(o)&&!tt(o)&&!(o instanceof _t)){if(o instanceof Nn)return o;if(Gt.call(o,"__wrapped__"))return Dy(o)}return new Nn(o)}var Fs=function(){function o(){}return function(u){if(!sr(u))return{};if(xm)return xm(u);o.prototype=u;var h=new o;return o.prototype=e,h}}();function Mu(){}function Nn(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=e}T.templateSettings={escape:JT,evaluate:QT,interpolate:Gg,variable:"",imports:{_:T}},T.prototype=Mu.prototype,T.prototype.constructor=T,Nn.prototype=Fs(Mu.prototype),Nn.prototype.constructor=Nn;function _t(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Xe,this.__views__=[]}function O2(){var o=new _t(this.__wrapped__);return o.__actions__=on(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=on(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=on(this.__views__),o}function M2(){if(this.__filtered__){var o=new _t(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function U2(){var o=this.__wrapped__.value(),u=this.__dir__,h=tt(o),y=u<0,C=h?o.length:0,k=QI(0,C,this.__views__),O=k.start,F=k.end,z=F-O,ue=y?F:O-1,ce=this.__iteratees__,ge=ce.length,Se=0,Ue=qr(z,this.__takeCount__);if(!h||!y&&C==z&&Ue==z)return ry(o,this.__actions__);var Ye=[];e:for(;z--&&Se<Ue;){ue+=u;for(var ct=-1,je=o[ue];++ct<ge;){var gt=ce[ct],wt=gt.iteratee,En=gt.type,Jr=wt(je);if(En==Ke)je=Jr;else if(!Jr){if(En==we)continue e;break e}}Ye[Se++]=je}return Ye}_t.prototype=Fs(Mu.prototype),_t.prototype.constructor=_t;function ja(o){var u=-1,h=o==null?0:o.length;for(this.clear();++u<h;){var y=o[u];this.set(y[0],y[1])}}function F2(){this.__data__=Jo?Jo(null):{},this.size=0}function q2(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u}function G2(o){var u=this.__data__;if(Jo){var h=u[o];return h===s?e:h}return Gt.call(u,o)?u[o]:e}function K2(o){var u=this.__data__;return Jo?u[o]!==e:Gt.call(u,o)}function V2(o,u){var h=this.__data__;return this.size+=this.has(o)?0:1,h[o]=Jo&&u===e?s:u,this}ja.prototype.clear=F2,ja.prototype.delete=q2,ja.prototype.get=G2,ja.prototype.has=K2,ja.prototype.set=V2;function Mi(o){var u=-1,h=o==null?0:o.length;for(this.clear();++u<h;){var y=o[u];this.set(y[0],y[1])}}function H2(){this.__data__=[],this.size=0}function Y2(o){var u=this.__data__,h=Uu(u,o);if(h<0)return!1;var y=u.length-1;return h==y?u.pop():Bu.call(u,h,1),--this.size,!0}function j2(o){var u=this.__data__,h=Uu(u,o);return h<0?e:u[h][1]}function W2(o){return Uu(this.__data__,o)>-1}function z2(o,u){var h=this.__data__,y=Uu(h,o);return y<0?(++this.size,h.push([o,u])):h[y][1]=u,this}Mi.prototype.clear=H2,Mi.prototype.delete=Y2,Mi.prototype.get=j2,Mi.prototype.has=W2,Mi.prototype.set=z2;function Ui(o){var u=-1,h=o==null?0:o.length;for(this.clear();++u<h;){var y=o[u];this.set(y[0],y[1])}}function J2(){this.size=0,this.__data__={hash:new ja,map:new(Wo||Mi),string:new ja}}function Q2(o){var u=Qu(this,o).delete(o);return this.size-=u?1:0,u}function X2(o){return Qu(this,o).get(o)}function Z2(o){return Qu(this,o).has(o)}function $2(o,u){var h=Qu(this,o),y=h.size;return h.set(o,u),this.size+=h.size==y?0:1,this}Ui.prototype.clear=J2,Ui.prototype.delete=Q2,Ui.prototype.get=X2,Ui.prototype.has=Z2,Ui.prototype.set=$2;function Wa(o){var u=-1,h=o==null?0:o.length;for(this.__data__=new Ui;++u<h;)this.add(o[u])}function eI(o){return this.__data__.set(o,s),this}function tI(o){return this.__data__.has(o)}Wa.prototype.add=Wa.prototype.push=eI,Wa.prototype.has=tI;function ei(o){var u=this.__data__=new Mi(o);this.size=u.size}function rI(){this.__data__=new Mi,this.size=0}function nI(o){var u=this.__data__,h=u.delete(o);return this.size=u.size,h}function iI(o){return this.__data__.get(o)}function aI(o){return this.__data__.has(o)}function sI(o,u){var h=this.__data__;if(h instanceof Mi){var y=h.__data__;if(!Wo||y.length<r-1)return y.push([o,u]),this.size=++h.size,this;h=this.__data__=new Ui(y)}return h.set(o,u),this.size=h.size,this}ei.prototype.clear=rI,ei.prototype.delete=nI,ei.prototype.get=iI,ei.prototype.has=aI,ei.prototype.set=sI;function Dm(o,u){var h=tt(o),y=!h&&Za(o),C=!h&&!y&&va(o),k=!h&&!y&&!C&&Vs(o),O=h||y||C||k,F=O?Kd(o.length,m2):[],z=F.length;for(var ue in o)(u||Gt.call(o,ue))&&!(O&&(ue=="length"||C&&(ue=="offset"||ue=="parent")||k&&(ue=="buffer"||ue=="byteLength"||ue=="byteOffset")||Ki(ue,z)))&&F.push(ue);return F}function Lm(o){var u=o.length;return u?o[ah(0,u-1)]:e}function oI(o,u){return Xu(on(o),za(u,0,o.length))}function lI(o){return Xu(on(o))}function Jd(o,u,h){(h!==e&&!ti(o[u],h)||h===e&&!(u in o))&&Fi(o,u,h)}function Xo(o,u,h){var y=o[u];(!(Gt.call(o,u)&&ti(y,h))||h===e&&!(u in o))&&Fi(o,u,h)}function Uu(o,u){for(var h=o.length;h--;)if(ti(o[h][0],u))return h;return-1}function uI(o,u,h,y){return pa(o,function(C,k,O){u(y,C,h(C),O)}),y}function Pm(o,u){return o&&hi(u,Sr(u),o)}function cI(o,u){return o&&hi(u,un(u),o)}function Fi(o,u,h){u=="__proto__"&&Nu?Nu(o,u,{configurable:!0,enumerable:!0,value:h,writable:!0}):o[u]=h}function Qd(o,u){for(var h=-1,y=u.length,C=ne(y),k=o==null;++h<y;)C[h]=k?e:Rh(o,u[h]);return C}function za(o,u,h){return o===o&&(h!==e&&(o=o<=h?o:h),u!==e&&(o=o>=u?o:u)),o}function Dn(o,u,h,y,C,k){var O,F=u&f,z=u&d,ue=u&p;if(h&&(O=C?h(o,y,C,k):h(o)),O!==e)return O;if(!sr(o))return o;var ce=tt(o);if(ce){if(O=ZI(o),!F)return on(o,O)}else{var ge=Gr(o),Se=ge==R||ge==D;if(va(o))return ay(o,F);if(ge==X||ge==fe||Se&&!C){if(O=z||Se?{}:by(o),!F)return z?GI(o,cI(O,o)):qI(o,Pm(O,o))}else{if(!Yt[ge])return C?o:{};O=$I(o,ge,F)}}k||(k=new ei);var Ue=k.get(o);if(Ue)return Ue;k.set(o,O),$y(o)?o.forEach(function(je){O.add(Dn(je,u,h,je,o,k))}):Xy(o)&&o.forEach(function(je,gt){O.set(gt,Dn(je,u,h,gt,o,k))});var Ye=ue?z?mh:gh:z?un:Sr,ct=ce?e:Ye(o);return Rn(ct||o,function(je,gt){ct&&(gt=je,je=o[gt]),Xo(O,gt,Dn(je,u,h,gt,o,k))}),O}function fI(o){var u=Sr(o);return function(h){return Om(h,o,u)}}function Om(o,u,h){var y=h.length;if(o==null)return!y;for(o=Vt(o);y--;){var C=h[y],k=u[C],O=o[C];if(O===e&&!(C in o)||!k(O))return!1}return!0}function Mm(o,u,h){if(typeof o!="function")throw new Bn(i);return il(function(){o.apply(e,h)},u)}function Zo(o,u,h,y){var C=-1,k=Cu,O=!0,F=o.length,z=[],ue=u.length;if(!F)return z;h&&(u=nr(u,yn(h))),y?(k=Od,O=!1):u.length>=r&&(k=Yo,O=!1,u=new Wa(u));e:for(;++C<F;){var ce=o[C],ge=h==null?ce:h(ce);if(ce=y||ce!==0?ce:0,O&&ge===ge){for(var Se=ue;Se--;)if(u[Se]===ge)continue e;z.push(ce)}else k(u,ge,y)||z.push(ce)}return z}var pa=cy(di),Um=cy(Zd,!0);function dI(o,u){var h=!0;return pa(o,function(y,C,k){return h=!!u(y,C,k),h}),h}function Fu(o,u,h){for(var y=-1,C=o.length;++y<C;){var k=o[y],O=u(k);if(O!=null&&(F===e?O===O&&!_n(O):h(O,F)))var F=O,z=k}return z}function hI(o,u,h,y){var C=o.length;for(h=ot(h),h<0&&(h=-h>C?0:C+h),y=y===e||y>C?C:ot(y),y<0&&(y+=C),y=h>y?0:tv(y);h<y;)o[h++]=u;return o}function Fm(o,u){var h=[];return pa(o,function(y,C,k){u(y,C,k)&&h.push(y)}),h}function Dr(o,u,h,y,C){var k=-1,O=o.length;for(h||(h=tk),C||(C=[]);++k<O;){var F=o[k];u>0&&h(F)?u>1?Dr(F,u-1,h,y,C):ca(C,F):y||(C[C.length]=F)}return C}var Xd=fy(),qm=fy(!0);function di(o,u){return o&&Xd(o,u,Sr)}function Zd(o,u){return o&&qm(o,u,Sr)}function qu(o,u){return ua(u,function(h){return Vi(o[h])})}function Ja(o,u){u=ma(u,o);for(var h=0,y=u.length;o!=null&&h<y;)o=o[pi(u[h++])];return h&&h==y?o:e}function Gm(o,u,h){var y=u(o);return tt(o)?y:ca(y,h(o))}function Wr(o){return o==null?o===e?Fe:J:Ya&&Ya in Vt(o)?JI(o):lk(o)}function $d(o,u){return o>u}function pI(o,u){return o!=null&&Gt.call(o,u)}function gI(o,u){return o!=null&&u in Vt(o)}function mI(o,u,h){return o>=qr(u,h)&&o<Ar(u,h)}function eh(o,u,h){for(var y=h?Od:Cu,C=o[0].length,k=o.length,O=k,F=ne(k),z=1/0,ue=[];O--;){var ce=o[O];O&&u&&(ce=nr(ce,yn(u))),z=qr(ce.length,z),F[O]=!h&&(u||C>=120&&ce.length>=120)?new Wa(O&&ce):e}ce=o[0];var ge=-1,Se=F[0];e:for(;++ge<C&&ue.length<z;){var Ue=ce[ge],Ye=u?u(Ue):Ue;if(Ue=h||Ue!==0?Ue:0,!(Se?Yo(Se,Ye):y(ue,Ye,h))){for(O=k;--O;){var ct=F[O];if(!(ct?Yo(ct,Ye):y(o[O],Ye,h)))continue e}Se&&Se.push(Ye),ue.push(Ue)}}return ue}function yI(o,u,h,y){return di(o,function(C,k,O){u(y,h(C),k,O)}),y}function $o(o,u,h){u=ma(u,o),o=Iy(o,u);var y=o==null?o:o[pi(Pn(u))];return y==null?e:mn(y,o,h)}function Km(o){return lr(o)&&Wr(o)==fe}function vI(o){return lr(o)&&Wr(o)==Xt}function _I(o){return lr(o)&&Wr(o)==Le}function el(o,u,h,y,C){return o===u?!0:o==null||u==null||!lr(o)&&!lr(u)?o!==o&&u!==u:EI(o,u,h,y,el,C)}function EI(o,u,h,y,C,k){var O=tt(o),F=tt(u),z=O?Dt:Gr(o),ue=F?Dt:Gr(u);z=z==fe?X:z,ue=ue==fe?X:ue;var ce=z==X,ge=ue==X,Se=z==ue;if(Se&&va(o)){if(!va(u))return!1;O=!0,ce=!1}if(Se&&!ce)return k||(k=new ei),O||Vs(o)?Cy(o,u,h,y,C,k):WI(o,u,z,h,y,C,k);if(!(h&g)){var Ue=ce&&Gt.call(o,"__wrapped__"),Ye=ge&&Gt.call(u,"__wrapped__");if(Ue||Ye){var ct=Ue?o.value():o,je=Ye?u.value():u;return k||(k=new ei),C(ct,je,h,y,k)}}return Se?(k||(k=new ei),zI(o,u,h,y,C,k)):!1}function CI(o){return lr(o)&&Gr(o)==W}function th(o,u,h,y){var C=h.length,k=C,O=!y;if(o==null)return!k;for(o=Vt(o);C--;){var F=h[C];if(O&&F[2]?F[1]!==o[F[0]]:!(F[0]in o))return!1}for(;++C<k;){F=h[C];var z=F[0],ue=o[z],ce=F[1];if(O&&F[2]){if(ue===e&&!(z in o))return!1}else{var ge=new ei;if(y)var Se=y(ue,ce,z,o,u,ge);if(!(Se===e?el(ce,ue,g|v,y,ge):Se))return!1}}return!0}function Vm(o){if(!sr(o)||nk(o))return!1;var u=Vi(o)?C2:fx;return u.test(Xa(o))}function AI(o){return lr(o)&&Wr(o)==re}function wI(o){return lr(o)&&Gr(o)==Z}function bI(o){return lr(o)&&nc(o.length)&&!!Zt[Wr(o)]}function Hm(o){return typeof o=="function"?o:o==null?cn:typeof o=="object"?tt(o)?Wm(o[0],o[1]):jm(o):dv(o)}function rh(o){if(!nl(o))return x2(o);var u=[];for(var h in Vt(o))Gt.call(o,h)&&h!="constructor"&&u.push(h);return u}function SI(o){if(!sr(o))return ok(o);var u=nl(o),h=[];for(var y in o)y=="constructor"&&(u||!Gt.call(o,y))||h.push(y);return h}function nh(o,u){return o<u}function Ym(o,u){var h=-1,y=ln(o)?ne(o.length):[];return pa(o,function(C,k,O){y[++h]=u(C,k,O)}),y}function jm(o){var u=vh(o);return u.length==1&&u[0][2]?Ty(u[0][0],u[0][1]):function(h){return h===o||th(h,o,u)}}function Wm(o,u){return Eh(o)&&Sy(u)?Ty(pi(o),u):function(h){var y=Rh(h,o);return y===e&&y===u?Bh(h,o):el(u,y,g|v)}}function Gu(o,u,h,y,C){o!==u&&Xd(u,function(k,O){if(C||(C=new ei),sr(k))TI(o,u,O,h,Gu,y,C);else{var F=y?y(Ah(o,O),k,O+"",o,u,C):e;F===e&&(F=k),Jd(o,O,F)}},un)}function TI(o,u,h,y,C,k,O){var F=Ah(o,h),z=Ah(u,h),ue=O.get(z);if(ue){Jd(o,h,ue);return}var ce=k?k(F,z,h+"",o,u,O):e,ge=ce===e;if(ge){var Se=tt(z),Ue=!Se&&va(z),Ye=!Se&&!Ue&&Vs(z);ce=z,Se||Ue||Ye?tt(F)?ce=F:fr(F)?ce=on(F):Ue?(ge=!1,ce=ay(z,!0)):Ye?(ge=!1,ce=sy(z,!0)):ce=[]:al(z)||Za(z)?(ce=F,Za(F)?ce=rv(F):(!sr(F)||Vi(F))&&(ce=by(z))):ge=!1}ge&&(O.set(z,ce),C(ce,z,y,k,O),O.delete(z)),Jd(o,h,ce)}function zm(o,u){var h=o.length;if(!!h)return u+=u<0?h:0,Ki(u,h)?o[u]:e}function Jm(o,u,h){u.length?u=nr(u,function(k){return tt(k)?function(O){return Ja(O,k.length===1?k[0]:k)}:k}):u=[cn];var y=-1;u=nr(u,yn(Ve()));var C=Ym(o,function(k,O,F){var z=nr(u,function(ue){return ue(k)});return{criteria:z,index:++y,value:k}});return $x(C,function(k,O){return FI(k,O,h)})}function xI(o,u){return Qm(o,u,function(h,y){return Bh(o,y)})}function Qm(o,u,h){for(var y=-1,C=u.length,k={};++y<C;){var O=u[y],F=Ja(o,O);h(F,O)&&tl(k,ma(O,o),F)}return k}function II(o){return function(u){return Ja(u,o)}}function ih(o,u,h,y){var C=y?Zx:Ds,k=-1,O=u.length,F=o;for(o===u&&(u=on(u)),h&&(F=nr(o,yn(h)));++k<O;)for(var z=0,ue=u[k],ce=h?h(ue):ue;(z=C(F,ce,z,y))>-1;)F!==o&&Bu.call(F,z,1),Bu.call(o,z,1);return o}function Xm(o,u){for(var h=o?u.length:0,y=h-1;h--;){var C=u[h];if(h==y||C!==k){var k=C;Ki(C)?Bu.call(o,C,1):lh(o,C)}}return o}function ah(o,u){return o+Lu(Bm()*(u-o+1))}function kI(o,u,h,y){for(var C=-1,k=Ar(Du((u-o)/(h||1)),0),O=ne(k);k--;)O[y?k:++C]=o,o+=h;return O}function sh(o,u){var h="";if(!o||u<1||u>Pe)return h;do u%2&&(h+=o),u=Lu(u/2),u&&(o+=o);while(u);return h}function ht(o,u){return wh(xy(o,u,cn),o+"")}function RI(o){return Lm(Hs(o))}function BI(o,u){var h=Hs(o);return Xu(h,za(u,0,h.length))}function tl(o,u,h,y){if(!sr(o))return o;u=ma(u,o);for(var C=-1,k=u.length,O=k-1,F=o;F!=null&&++C<k;){var z=pi(u[C]),ue=h;if(z==="__proto__"||z==="constructor"||z==="prototype")return o;if(C!=O){var ce=F[z];ue=y?y(ce,z,F):e,ue===e&&(ue=sr(ce)?ce:Ki(u[C+1])?[]:{})}Xo(F,z,ue),F=F[z]}return o}var Zm=Pu?function(o,u){return Pu.set(o,u),o}:cn,NI=Nu?function(o,u){return Nu(o,"toString",{configurable:!0,enumerable:!1,value:Dh(u),writable:!0})}:cn;function DI(o){return Xu(Hs(o))}function Ln(o,u,h){var y=-1,C=o.length;u<0&&(u=-u>C?0:C+u),h=h>C?C:h,h<0&&(h+=C),C=u>h?0:h-u>>>0,u>>>=0;for(var k=ne(C);++y<C;)k[y]=o[y+u];return k}function LI(o,u){var h;return pa(o,function(y,C,k){return h=u(y,C,k),!h}),!!h}function Ku(o,u,h){var y=0,C=o==null?y:o.length;if(typeof u=="number"&&u===u&&C<=At){for(;y<C;){var k=y+C>>>1,O=o[k];O!==null&&!_n(O)&&(h?O<=u:O<u)?y=k+1:C=k}return C}return oh(o,u,cn,h)}function oh(o,u,h,y){var C=0,k=o==null?0:o.length;if(k===0)return 0;u=h(u);for(var O=u!==u,F=u===null,z=_n(u),ue=u===e;C<k;){var ce=Lu((C+k)/2),ge=h(o[ce]),Se=ge!==e,Ue=ge===null,Ye=ge===ge,ct=_n(ge);if(O)var je=y||Ye;else ue?je=Ye&&(y||Se):F?je=Ye&&Se&&(y||!Ue):z?je=Ye&&Se&&!Ue&&(y||!ct):Ue||ct?je=!1:je=y?ge<=u:ge<u;je?C=ce+1:k=ce}return qr(k,Nt)}function $m(o,u){for(var h=-1,y=o.length,C=0,k=[];++h<y;){var O=o[h],F=u?u(O):O;if(!h||!ti(F,z)){var z=F;k[C++]=O===0?0:O}}return k}function ey(o){return typeof o=="number"?o:_n(o)?nt:+o}function vn(o){if(typeof o=="string")return o;if(tt(o))return nr(o,vn)+"";if(_n(o))return Nm?Nm.call(o):"";var u=o+"";return u=="0"&&1/o==-Ie?"-0":u}function ga(o,u,h){var y=-1,C=Cu,k=o.length,O=!0,F=[],z=F;if(h)O=!1,C=Od;else if(k>=r){var ue=u?null:YI(o);if(ue)return wu(ue);O=!1,C=Yo,z=new Wa}else z=u?[]:F;e:for(;++y<k;){var ce=o[y],ge=u?u(ce):ce;if(ce=h||ce!==0?ce:0,O&&ge===ge){for(var Se=z.length;Se--;)if(z[Se]===ge)continue e;u&&z.push(ge),F.push(ce)}else C(z,ge,h)||(z!==F&&z.push(ge),F.push(ce))}return F}function lh(o,u){return u=ma(u,o),o=Iy(o,u),o==null||delete o[pi(Pn(u))]}function ty(o,u,h,y){return tl(o,u,h(Ja(o,u)),y)}function Vu(o,u,h,y){for(var C=o.length,k=y?C:-1;(y?k--:++k<C)&&u(o[k],k,o););return h?Ln(o,y?0:k,y?k+1:C):Ln(o,y?k+1:0,y?C:k)}function ry(o,u){var h=o;return h instanceof _t&&(h=h.value()),Md(u,function(y,C){return C.func.apply(C.thisArg,ca([y],C.args))},h)}function uh(o,u,h){var y=o.length;if(y<2)return y?ga(o[0]):[];for(var C=-1,k=ne(y);++C<y;)for(var O=o[C],F=-1;++F<y;)F!=C&&(k[C]=Zo(k[C]||O,o[F],u,h));return ga(Dr(k,1),u,h)}function ny(o,u,h){for(var y=-1,C=o.length,k=u.length,O={};++y<C;){var F=y<k?u[y]:e;h(O,o[y],F)}return O}function ch(o){return fr(o)?o:[]}function fh(o){return typeof o=="function"?o:cn}function ma(o,u){return tt(o)?o:Eh(o,u)?[o]:Ny(Ut(o))}var PI=ht;function ya(o,u,h){var y=o.length;return h=h===e?y:h,!u&&h>=y?o:Ln(o,u,h)}var iy=A2||function(o){return br.clearTimeout(o)};function ay(o,u){if(u)return o.slice();var h=o.length,y=Tm?Tm(h):new o.constructor(h);return o.copy(y),y}function dh(o){var u=new o.constructor(o.byteLength);return new ku(u).set(new ku(o)),u}function OI(o,u){var h=u?dh(o.buffer):o.buffer;return new o.constructor(h,o.byteOffset,o.byteLength)}function MI(o){var u=new o.constructor(o.source,Kg.exec(o));return u.lastIndex=o.lastIndex,u}function UI(o){return Qo?Vt(Qo.call(o)):{}}function sy(o,u){var h=u?dh(o.buffer):o.buffer;return new o.constructor(h,o.byteOffset,o.length)}function oy(o,u){if(o!==u){var h=o!==e,y=o===null,C=o===o,k=_n(o),O=u!==e,F=u===null,z=u===u,ue=_n(u);if(!F&&!ue&&!k&&o>u||k&&O&&z&&!F&&!ue||y&&O&&z||!h&&z||!C)return 1;if(!y&&!k&&!ue&&o<u||ue&&h&&C&&!y&&!k||F&&h&&C||!O&&C||!z)return-1}return 0}function FI(o,u,h){for(var y=-1,C=o.criteria,k=u.criteria,O=C.length,F=h.length;++y<O;){var z=oy(C[y],k[y]);if(z){if(y>=F)return z;var ue=h[y];return z*(ue=="desc"?-1:1)}}return o.index-u.index}function ly(o,u,h,y){for(var C=-1,k=o.length,O=h.length,F=-1,z=u.length,ue=Ar(k-O,0),ce=ne(z+ue),ge=!y;++F<z;)ce[F]=u[F];for(;++C<O;)(ge||C<k)&&(ce[h[C]]=o[C]);for(;ue--;)ce[F++]=o[C++];return ce}function uy(o,u,h,y){for(var C=-1,k=o.length,O=-1,F=h.length,z=-1,ue=u.length,ce=Ar(k-F,0),ge=ne(ce+ue),Se=!y;++C<ce;)ge[C]=o[C];for(var Ue=C;++z<ue;)ge[Ue+z]=u[z];for(;++O<F;)(Se||C<k)&&(ge[Ue+h[O]]=o[C++]);return ge}function on(o,u){var h=-1,y=o.length;for(u||(u=ne(y));++h<y;)u[h]=o[h];return u}function hi(o,u,h,y){var C=!h;h||(h={});for(var k=-1,O=u.length;++k<O;){var F=u[k],z=y?y(h[F],o[F],F,h,o):e;z===e&&(z=o[F]),C?Fi(h,F,z):Xo(h,F,z)}return h}function qI(o,u){return hi(o,_h(o),u)}function GI(o,u){return hi(o,Ay(o),u)}function Hu(o,u){return function(h,y){var C=tt(h)?jx:uI,k=u?u():{};return C(h,o,Ve(y,2),k)}}function qs(o){return ht(function(u,h){var y=-1,C=h.length,k=C>1?h[C-1]:e,O=C>2?h[2]:e;for(k=o.length>3&&typeof k=="function"?(C--,k):e,O&&zr(h[0],h[1],O)&&(k=C<3?e:k,C=1),u=Vt(u);++y<C;){var F=h[y];F&&o(u,F,y,k)}return u})}function cy(o,u){return function(h,y){if(h==null)return h;if(!ln(h))return o(h,y);for(var C=h.length,k=u?C:-1,O=Vt(h);(u?k--:++k<C)&&y(O[k],k,O)!==!1;);return h}}function fy(o){return function(u,h,y){for(var C=-1,k=Vt(u),O=y(u),F=O.length;F--;){var z=O[o?F:++C];if(h(k[z],z,k)===!1)break}return u}}function KI(o,u,h){var y=u&m,C=rl(o);function k(){var O=this&&this!==br&&this instanceof k?C:o;return O.apply(y?h:this,arguments)}return k}function dy(o){return function(u){u=Ut(u);var h=Ls(u)?$n(u):e,y=h?h[0]:u.charAt(0),C=h?ya(h,1).join(""):u.slice(1);return y[o]()+C}}function Gs(o){return function(u){return Md(cv(uv(u).replace(Nx,"")),o,"")}}function rl(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var h=Fs(o.prototype),y=o.apply(h,u);return sr(y)?y:h}}function VI(o,u,h){var y=rl(o);function C(){for(var k=arguments.length,O=ne(k),F=k,z=Ks(C);F--;)O[F]=arguments[F];var ue=k<3&&O[0]!==z&&O[k-1]!==z?[]:fa(O,z);if(k-=ue.length,k<h)return yy(o,u,Yu,C.placeholder,e,O,ue,e,e,h-k);var ce=this&&this!==br&&this instanceof C?y:o;return mn(ce,this,O)}return C}function hy(o){return function(u,h,y){var C=Vt(u);if(!ln(u)){var k=Ve(h,3);u=Sr(u),h=function(F){return k(C[F],F,C)}}var O=o(u,h,y);return O>-1?C[k?u[O]:O]:e}}function py(o){return Gi(function(u){var h=u.length,y=h,C=Nn.prototype.thru;for(o&&u.reverse();y--;){var k=u[y];if(typeof k!="function")throw new Bn(i);if(C&&!O&&Ju(k)=="wrapper")var O=new Nn([],!0)}for(y=O?y:h;++y<h;){k=u[y];var F=Ju(k),z=F=="wrapper"?yh(k):e;z&&Ch(z[0])&&z[1]==(N|A|B|P)&&!z[4].length&&z[9]==1?O=O[Ju(z[0])].apply(O,z[3]):O=k.length==1&&Ch(k)?O[F]():O.thru(k)}return function(){var ue=arguments,ce=ue[0];if(O&&ue.length==1&&tt(ce))return O.plant(ce).value();for(var ge=0,Se=h?u[ge].apply(this,ue):ce;++ge<h;)Se=u[ge].call(this,Se);return Se}})}function Yu(o,u,h,y,C,k,O,F,z,ue){var ce=u&N,ge=u&m,Se=u&_,Ue=u&(A|x),Ye=u&ae,ct=Se?e:rl(o);function je(){for(var gt=arguments.length,wt=ne(gt),En=gt;En--;)wt[En]=arguments[En];if(Ue)var Jr=Ks(je),Cn=t2(wt,Jr);if(y&&(wt=ly(wt,y,C,Ue)),k&&(wt=uy(wt,k,O,Ue)),gt-=Cn,Ue&&gt<ue){var dr=fa(wt,Jr);return yy(o,u,Yu,je.placeholder,h,wt,dr,F,z,ue-gt)}var ri=ge?h:this,Yi=Se?ri[o]:o;return gt=wt.length,F?wt=uk(wt,F):Ye&&gt>1&&wt.reverse(),ce&&z<gt&&(wt.length=z),this&&this!==br&&this instanceof je&&(Yi=ct||rl(Yi)),Yi.apply(ri,wt)}return je}function gy(o,u){return function(h,y){return yI(h,o,u(y),{})}}function ju(o,u){return function(h,y){var C;if(h===e&&y===e)return u;if(h!==e&&(C=h),y!==e){if(C===e)return y;typeof h=="string"||typeof y=="string"?(h=vn(h),y=vn(y)):(h=ey(h),y=ey(y)),C=o(h,y)}return C}}function hh(o){return Gi(function(u){return u=nr(u,yn(Ve())),ht(function(h){var y=this;return o(u,function(C){return mn(C,y,h)})})})}function Wu(o,u){u=u===e?" ":vn(u);var h=u.length;if(h<2)return h?sh(u,o):u;var y=sh(u,Du(o/Ps(u)));return Ls(u)?ya($n(y),0,o).join(""):y.slice(0,o)}function HI(o,u,h,y){var C=u&m,k=rl(o);function O(){for(var F=-1,z=arguments.length,ue=-1,ce=y.length,ge=ne(ce+z),Se=this&&this!==br&&this instanceof O?k:o;++ue<ce;)ge[ue]=y[ue];for(;z--;)ge[ue++]=arguments[++F];return mn(Se,C?h:this,ge)}return O}function my(o){return function(u,h,y){return y&&typeof y!="number"&&zr(u,h,y)&&(h=y=e),u=Hi(u),h===e?(h=u,u=0):h=Hi(h),y=y===e?u<h?1:-1:Hi(y),kI(u,h,y,o)}}function zu(o){return function(u,h){return typeof u=="string"&&typeof h=="string"||(u=On(u),h=On(h)),o(u,h)}}function yy(o,u,h,y,C,k,O,F,z,ue){var ce=u&A,ge=ce?O:e,Se=ce?e:O,Ue=ce?k:e,Ye=ce?e:k;u|=ce?B:L,u&=~(ce?L:B),u&E||(u&=~(m|_));var ct=[o,u,C,Ue,ge,Ye,Se,F,z,ue],je=h.apply(e,ct);return Ch(o)&&ky(je,ct),je.placeholder=y,Ry(je,o,u)}function ph(o){var u=Cr[o];return function(h,y){if(h=On(h),y=y==null?0:qr(ot(y),292),y&&Rm(h)){var C=(Ut(h)+"e").split("e"),k=u(C[0]+"e"+(+C[1]+y));return C=(Ut(k)+"e").split("e"),+(C[0]+"e"+(+C[1]-y))}return u(h)}}var YI=Ms&&1/wu(new Ms([,-0]))[1]==Ie?function(o){return new Ms(o)}:Oh;function vy(o){return function(u){var h=Gr(u);return h==W?Hd(u):h==Z?l2(u):e2(u,o(u))}}function qi(o,u,h,y,C,k,O,F){var z=u&_;if(!z&&typeof o!="function")throw new Bn(i);var ue=y?y.length:0;if(ue||(u&=~(B|L),y=C=e),O=O===e?O:Ar(ot(O),0),F=F===e?F:ot(F),ue-=C?C.length:0,u&L){var ce=y,ge=C;y=C=e}var Se=z?e:yh(o),Ue=[o,u,h,y,C,ce,ge,k,O,F];if(Se&&sk(Ue,Se),o=Ue[0],u=Ue[1],h=Ue[2],y=Ue[3],C=Ue[4],F=Ue[9]=Ue[9]===e?z?0:o.length:Ar(Ue[9]-ue,0),!F&&u&(A|x)&&(u&=~(A|x)),!u||u==m)var Ye=KI(o,u,h);else u==A||u==x?Ye=VI(o,u,F):(u==B||u==(m|B))&&!C.length?Ye=HI(o,u,h,y):Ye=Yu.apply(e,Ue);var ct=Se?Zm:ky;return Ry(ct(Ye,Ue),o,u)}function _y(o,u,h,y){return o===e||ti(o,Os[h])&&!Gt.call(y,h)?u:o}function Ey(o,u,h,y,C,k){return sr(o)&&sr(u)&&(k.set(u,o),Gu(o,u,e,Ey,k),k.delete(u)),o}function jI(o){return al(o)?e:o}function Cy(o,u,h,y,C,k){var O=h&g,F=o.length,z=u.length;if(F!=z&&!(O&&z>F))return!1;var ue=k.get(o),ce=k.get(u);if(ue&&ce)return ue==u&&ce==o;var ge=-1,Se=!0,Ue=h&v?new Wa:e;for(k.set(o,u),k.set(u,o);++ge<F;){var Ye=o[ge],ct=u[ge];if(y)var je=O?y(ct,Ye,ge,u,o,k):y(Ye,ct,ge,o,u,k);if(je!==e){if(je)continue;Se=!1;break}if(Ue){if(!Ud(u,function(gt,wt){if(!Yo(Ue,wt)&&(Ye===gt||C(Ye,gt,h,y,k)))return Ue.push(wt)})){Se=!1;break}}else if(!(Ye===ct||C(Ye,ct,h,y,k))){Se=!1;break}}return k.delete(o),k.delete(u),Se}function WI(o,u,h,y,C,k,O){switch(h){case ut:if(o.byteLength!=u.byteLength||o.byteOffset!=u.byteOffset)return!1;o=o.buffer,u=u.buffer;case Xt:return!(o.byteLength!=u.byteLength||!k(new ku(o),new ku(u)));case Be:case Le:case G:return ti(+o,+u);case I:return o.name==u.name&&o.message==u.message;case re:case de:return o==u+"";case W:var F=Hd;case Z:var z=y&g;if(F||(F=wu),o.size!=u.size&&!z)return!1;var ue=O.get(o);if(ue)return ue==u;y|=v,O.set(o,u);var ce=Cy(F(o),F(u),y,C,k,O);return O.delete(o),ce;case Me:if(Qo)return Qo.call(o)==Qo.call(u)}return!1}function zI(o,u,h,y,C,k){var O=h&g,F=gh(o),z=F.length,ue=gh(u),ce=ue.length;if(z!=ce&&!O)return!1;for(var ge=z;ge--;){var Se=F[ge];if(!(O?Se in u:Gt.call(u,Se)))return!1}var Ue=k.get(o),Ye=k.get(u);if(Ue&&Ye)return Ue==u&&Ye==o;var ct=!0;k.set(o,u),k.set(u,o);for(var je=O;++ge<z;){Se=F[ge];var gt=o[Se],wt=u[Se];if(y)var En=O?y(wt,gt,Se,u,o,k):y(gt,wt,Se,o,u,k);if(!(En===e?gt===wt||C(gt,wt,h,y,k):En)){ct=!1;break}je||(je=Se=="constructor")}if(ct&&!je){var Jr=o.constructor,Cn=u.constructor;Jr!=Cn&&"constructor"in o&&"constructor"in u&&!(typeof Jr=="function"&&Jr instanceof Jr&&typeof Cn=="function"&&Cn instanceof Cn)&&(ct=!1)}return k.delete(o),k.delete(u),ct}function Gi(o){return wh(xy(o,e,Oy),o+"")}function gh(o){return Gm(o,Sr,_h)}function mh(o){return Gm(o,un,Ay)}var yh=Pu?function(o){return Pu.get(o)}:Oh;function Ju(o){for(var u=o.name+"",h=Us[u],y=Gt.call(Us,u)?h.length:0;y--;){var C=h[y],k=C.func;if(k==null||k==o)return C.name}return u}function Ks(o){var u=Gt.call(T,"placeholder")?T:o;return u.placeholder}function Ve(){var o=T.iteratee||Lh;return o=o===Lh?Hm:o,arguments.length?o(arguments[0],arguments[1]):o}function Qu(o,u){var h=o.__data__;return rk(u)?h[typeof u=="string"?"string":"hash"]:h.map}function vh(o){for(var u=Sr(o),h=u.length;h--;){var y=u[h],C=o[y];u[h]=[y,C,Sy(C)]}return u}function Qa(o,u){var h=a2(o,u);return Vm(h)?h:e}function JI(o){var u=Gt.call(o,Ya),h=o[Ya];try{o[Ya]=e;var y=!0}catch(k){}var C=xu.call(o);return y&&(u?o[Ya]=h:delete o[Ya]),C}var _h=jd?function(o){return o==null?[]:(o=Vt(o),ua(jd(o),function(u){return Im.call(o,u)}))}:Mh,Ay=jd?function(o){for(var u=[];o;)ca(u,_h(o)),o=Ru(o);return u}:Mh,Gr=Wr;(Wd&&Gr(new Wd(new ArrayBuffer(1)))!=ut||Wo&&Gr(new Wo)!=W||zd&&Gr(zd.resolve())!=H||Ms&&Gr(new Ms)!=Z||zo&&Gr(new zo)!=pt)&&(Gr=function(o){var u=Wr(o),h=u==X?o.constructor:e,y=h?Xa(h):"";if(y)switch(y){case B2:return ut;case N2:return W;case D2:return H;case L2:return Z;case P2:return pt}return u});function QI(o,u,h){for(var y=-1,C=h.length;++y<C;){var k=h[y],O=k.size;switch(k.type){case"drop":o+=O;break;case"dropRight":u-=O;break;case"take":u=qr(u,o+O);break;case"takeRight":o=Ar(o,u-O);break}}return{start:o,end:u}}function XI(o){var u=o.match(nx);return u?u[1].split(ix):[]}function wy(o,u,h){u=ma(u,o);for(var y=-1,C=u.length,k=!1;++y<C;){var O=pi(u[y]);if(!(k=o!=null&&h(o,O)))break;o=o[O]}return k||++y!=C?k:(C=o==null?0:o.length,!!C&&nc(C)&&Ki(O,C)&&(tt(o)||Za(o)))}function ZI(o){var u=o.length,h=new o.constructor(u);return u&&typeof o[0]=="string"&&Gt.call(o,"index")&&(h.index=o.index,h.input=o.input),h}function by(o){return typeof o.constructor=="function"&&!nl(o)?Fs(Ru(o)):{}}function $I(o,u,h){var y=o.constructor;switch(u){case Xt:return dh(o);case Be:case Le:return new y(+o);case ut:return OI(o,h);case Lt:case gr:case la:case Ka:case Va:case sn:case Oi:case Fr:case Er:return sy(o,h);case W:return new y;case G:case de:return new y(o);case re:return MI(o);case Z:return new y;case Me:return UI(o)}}function ek(o,u){var h=u.length;if(!h)return o;var y=h-1;return u[y]=(h>1?"& ":"")+u[y],u=u.join(h>2?", ":" "),o.replace(rx,`{
/* [wrapped with `+u+`] */
`)}function tk(o){return tt(o)||Za(o)||!!(km&&o&&o[km])}function Ki(o,u){var h=typeof o;return u=u==null?Pe:u,!!u&&(h=="number"||h!="symbol"&&hx.test(o))&&o>-1&&o%1==0&&o<u}function zr(o,u,h){if(!sr(h))return!1;var y=typeof u;return(y=="number"?ln(h)&&Ki(u,h.length):y=="string"&&u in h)?ti(h[u],o):!1}function Eh(o,u){if(tt(o))return!1;var h=typeof o;return h=="number"||h=="symbol"||h=="boolean"||o==null||_n(o)?!0:ZT.test(o)||!XT.test(o)||u!=null&&o in Vt(u)}function rk(o){var u=typeof o;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?o!=="__proto__":o===null}function Ch(o){var u=Ju(o),h=T[u];if(typeof h!="function"||!(u in _t.prototype))return!1;if(o===h)return!0;var y=yh(h);return!!y&&o===y[0]}function nk(o){return!!Sm&&Sm in o}var ik=Su?Vi:Uh;function nl(o){var u=o&&o.constructor,h=typeof u=="function"&&u.prototype||Os;return o===h}function Sy(o){return o===o&&!sr(o)}function Ty(o,u){return function(h){return h==null?!1:h[o]===u&&(u!==e||o in Vt(h))}}function ak(o){var u=tc(o,function(y){return h.size===l&&h.clear(),y}),h=u.cache;return u}function sk(o,u){var h=o[1],y=u[1],C=h|y,k=C<(m|_|N),O=y==N&&h==A||y==N&&h==P&&o[7].length<=u[8]||y==(N|P)&&u[7].length<=u[8]&&h==A;if(!(k||O))return o;y&m&&(o[2]=u[2],C|=h&m?0:E);var F=u[3];if(F){var z=o[3];o[3]=z?ly(z,F,u[4]):F,o[4]=z?fa(o[3],c):u[4]}return F=u[5],F&&(z=o[5],o[5]=z?uy(z,F,u[6]):F,o[6]=z?fa(o[5],c):u[6]),F=u[7],F&&(o[7]=F),y&N&&(o[8]=o[8]==null?u[8]:qr(o[8],u[8])),o[9]==null&&(o[9]=u[9]),o[0]=u[0],o[1]=C,o}function ok(o){var u=[];if(o!=null)for(var h in Vt(o))u.push(h);return u}function lk(o){return xu.call(o)}function xy(o,u,h){return u=Ar(u===e?o.length-1:u,0),function(){for(var y=arguments,C=-1,k=Ar(y.length-u,0),O=ne(k);++C<k;)O[C]=y[u+C];C=-1;for(var F=ne(u+1);++C<u;)F[C]=y[C];return F[u]=h(O),mn(o,this,F)}}function Iy(o,u){return u.length<2?o:Ja(o,Ln(u,0,-1))}function uk(o,u){for(var h=o.length,y=qr(u.length,h),C=on(o);y--;){var k=u[y];o[y]=Ki(k,h)?C[k]:e}return o}function Ah(o,u){if(!(u==="constructor"&&typeof o[u]=="function")&&u!="__proto__")return o[u]}var ky=By(Zm),il=b2||function(o,u){return br.setTimeout(o,u)},wh=By(NI);function Ry(o,u,h){var y=u+"";return wh(o,ek(y,ck(XI(y),h)))}function By(o){var u=0,h=0;return function(){var y=I2(),C=ye-(y-h);if(h=y,C>0){if(++u>=me)return arguments[0]}else u=0;return o.apply(e,arguments)}}function Xu(o,u){var h=-1,y=o.length,C=y-1;for(u=u===e?y:u;++h<u;){var k=ah(h,C),O=o[k];o[k]=o[h],o[h]=O}return o.length=u,o}var Ny=ak(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace($T,function(h,y,C,k){u.push(C?k.replace(ox,"$1"):y||h)}),u});function pi(o){if(typeof o=="string"||_n(o))return o;var u=o+"";return u=="0"&&1/o==-Ie?"-0":u}function Xa(o){if(o!=null){try{return Tu.call(o)}catch(u){}try{return o+""}catch(u){}}return""}function ck(o,u){return Rn(it,function(h){var y="_."+h[0];u&h[1]&&!Cu(o,y)&&o.push(y)}),o.sort()}function Dy(o){if(o instanceof _t)return o.clone();var u=new Nn(o.__wrapped__,o.__chain__);return u.__actions__=on(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}function fk(o,u,h){(h?zr(o,u,h):u===e)?u=1:u=Ar(ot(u),0);var y=o==null?0:o.length;if(!y||u<1)return[];for(var C=0,k=0,O=ne(Du(y/u));C<y;)O[k++]=Ln(o,C,C+=u);return O}function dk(o){for(var u=-1,h=o==null?0:o.length,y=0,C=[];++u<h;){var k=o[u];k&&(C[y++]=k)}return C}function hk(){var o=arguments.length;if(!o)return[];for(var u=ne(o-1),h=arguments[0],y=o;y--;)u[y-1]=arguments[y];return ca(tt(h)?on(h):[h],Dr(u,1))}var pk=ht(function(o,u){return fr(o)?Zo(o,Dr(u,1,fr,!0)):[]}),gk=ht(function(o,u){var h=Pn(u);return fr(h)&&(h=e),fr(o)?Zo(o,Dr(u,1,fr,!0),Ve(h,2)):[]}),mk=ht(function(o,u){var h=Pn(u);return fr(h)&&(h=e),fr(o)?Zo(o,Dr(u,1,fr,!0),e,h):[]});function yk(o,u,h){var y=o==null?0:o.length;return y?(u=h||u===e?1:ot(u),Ln(o,u<0?0:u,y)):[]}function vk(o,u,h){var y=o==null?0:o.length;return y?(u=h||u===e?1:ot(u),u=y-u,Ln(o,0,u<0?0:u)):[]}function _k(o,u){return o&&o.length?Vu(o,Ve(u,3),!0,!0):[]}function Ek(o,u){return o&&o.length?Vu(o,Ve(u,3),!0):[]}function Ck(o,u,h,y){var C=o==null?0:o.length;return C?(h&&typeof h!="number"&&zr(o,u,h)&&(h=0,y=C),hI(o,u,h,y)):[]}function Ly(o,u,h){var y=o==null?0:o.length;if(!y)return-1;var C=h==null?0:ot(h);return C<0&&(C=Ar(y+C,0)),Au(o,Ve(u,3),C)}function Py(o,u,h){var y=o==null?0:o.length;if(!y)return-1;var C=y-1;return h!==e&&(C=ot(h),C=h<0?Ar(y+C,0):qr(C,y-1)),Au(o,Ve(u,3),C,!0)}function Oy(o){var u=o==null?0:o.length;return u?Dr(o,1):[]}function Ak(o){var u=o==null?0:o.length;return u?Dr(o,Ie):[]}function wk(o,u){var h=o==null?0:o.length;return h?(u=u===e?1:ot(u),Dr(o,u)):[]}function bk(o){for(var u=-1,h=o==null?0:o.length,y={};++u<h;){var C=o[u];y[C[0]]=C[1]}return y}function My(o){return o&&o.length?o[0]:e}function Sk(o,u,h){var y=o==null?0:o.length;if(!y)return-1;var C=h==null?0:ot(h);return C<0&&(C=Ar(y+C,0)),Ds(o,u,C)}function Tk(o){var u=o==null?0:o.length;return u?Ln(o,0,-1):[]}var xk=ht(function(o){var u=nr(o,ch);return u.length&&u[0]===o[0]?eh(u):[]}),Ik=ht(function(o){var u=Pn(o),h=nr(o,ch);return u===Pn(h)?u=e:h.pop(),h.length&&h[0]===o[0]?eh(h,Ve(u,2)):[]}),kk=ht(function(o){var u=Pn(o),h=nr(o,ch);return u=typeof u=="function"?u:e,u&&h.pop(),h.length&&h[0]===o[0]?eh(h,e,u):[]});function Rk(o,u){return o==null?"":T2.call(o,u)}function Pn(o){var u=o==null?0:o.length;return u?o[u-1]:e}function Bk(o,u,h){var y=o==null?0:o.length;if(!y)return-1;var C=y;return h!==e&&(C=ot(h),C=C<0?Ar(y+C,0):qr(C,y-1)),u===u?c2(o,u,C):Au(o,ym,C,!0)}function Nk(o,u){return o&&o.length?zm(o,ot(u)):e}var Dk=ht(Uy);function Uy(o,u){return o&&o.length&&u&&u.length?ih(o,u):o}function Lk(o,u,h){return o&&o.length&&u&&u.length?ih(o,u,Ve(h,2)):o}function Pk(o,u,h){return o&&o.length&&u&&u.length?ih(o,u,e,h):o}var Ok=Gi(function(o,u){var h=o==null?0:o.length,y=Qd(o,u);return Xm(o,nr(u,function(C){return Ki(C,h)?+C:C}).sort(oy)),y});function Mk(o,u){var h=[];if(!(o&&o.length))return h;var y=-1,C=[],k=o.length;for(u=Ve(u,3);++y<k;){var O=o[y];u(O,y,o)&&(h.push(O),C.push(y))}return Xm(o,C),h}function bh(o){return o==null?o:R2.call(o)}function Uk(o,u,h){var y=o==null?0:o.length;return y?(h&&typeof h!="number"&&zr(o,u,h)?(u=0,h=y):(u=u==null?0:ot(u),h=h===e?y:ot(h)),Ln(o,u,h)):[]}function Fk(o,u){return Ku(o,u)}function qk(o,u,h){return oh(o,u,Ve(h,2))}function Gk(o,u){var h=o==null?0:o.length;if(h){var y=Ku(o,u);if(y<h&&ti(o[y],u))return y}return-1}function Kk(o,u){return Ku(o,u,!0)}function Vk(o,u,h){return oh(o,u,Ve(h,2),!0)}function Hk(o,u){var h=o==null?0:o.length;if(h){var y=Ku(o,u,!0)-1;if(ti(o[y],u))return y}return-1}function Yk(o){return o&&o.length?$m(o):[]}function jk(o,u){return o&&o.length?$m(o,Ve(u,2)):[]}function Wk(o){var u=o==null?0:o.length;return u?Ln(o,1,u):[]}function zk(o,u,h){return o&&o.length?(u=h||u===e?1:ot(u),Ln(o,0,u<0?0:u)):[]}function Jk(o,u,h){var y=o==null?0:o.length;return y?(u=h||u===e?1:ot(u),u=y-u,Ln(o,u<0?0:u,y)):[]}function Qk(o,u){return o&&o.length?Vu(o,Ve(u,3),!1,!0):[]}function Xk(o,u){return o&&o.length?Vu(o,Ve(u,3)):[]}var Zk=ht(function(o){return ga(Dr(o,1,fr,!0))}),$k=ht(function(o){var u=Pn(o);return fr(u)&&(u=e),ga(Dr(o,1,fr,!0),Ve(u,2))}),eR=ht(function(o){var u=Pn(o);return u=typeof u=="function"?u:e,ga(Dr(o,1,fr,!0),e,u)});function tR(o){return o&&o.length?ga(o):[]}function rR(o,u){return o&&o.length?ga(o,Ve(u,2)):[]}function nR(o,u){return u=typeof u=="function"?u:e,o&&o.length?ga(o,e,u):[]}function Sh(o){if(!(o&&o.length))return[];var u=0;return o=ua(o,function(h){if(fr(h))return u=Ar(h.length,u),!0}),Kd(u,function(h){return nr(o,Fd(h))})}function Fy(o,u){if(!(o&&o.length))return[];var h=Sh(o);return u==null?h:nr(h,function(y){return mn(u,e,y)})}var iR=ht(function(o,u){return fr(o)?Zo(o,u):[]}),aR=ht(function(o){return uh(ua(o,fr))}),sR=ht(function(o){var u=Pn(o);return fr(u)&&(u=e),uh(ua(o,fr),Ve(u,2))}),oR=ht(function(o){var u=Pn(o);return u=typeof u=="function"?u:e,uh(ua(o,fr),e,u)}),lR=ht(Sh);function uR(o,u){return ny(o||[],u||[],Xo)}function cR(o,u){return ny(o||[],u||[],tl)}var fR=ht(function(o){var u=o.length,h=u>1?o[u-1]:e;return h=typeof h=="function"?(o.pop(),h):e,Fy(o,h)});function qy(o){var u=T(o);return u.__chain__=!0,u}function dR(o,u){return u(o),o}function Zu(o,u){return u(o)}var hR=Gi(function(o){var u=o.length,h=u?o[0]:0,y=this.__wrapped__,C=function(k){return Qd(k,o)};return u>1||this.__actions__.length||!(y instanceof _t)||!Ki(h)?this.thru(C):(y=y.slice(h,+h+(u?1:0)),y.__actions__.push({func:Zu,args:[C],thisArg:e}),new Nn(y,this.__chain__).thru(function(k){return u&&!k.length&&k.push(e),k}))});function pR(){return qy(this)}function gR(){return new Nn(this.value(),this.__chain__)}function mR(){this.__values__===e&&(this.__values__=ev(this.value()));var o=this.__index__>=this.__values__.length,u=o?e:this.__values__[this.__index__++];return{done:o,value:u}}function yR(){return this}function vR(o){for(var u,h=this;h instanceof Mu;){var y=Dy(h);y.__index__=0,y.__values__=e,u?C.__wrapped__=y:u=y;var C=y;h=h.__wrapped__}return C.__wrapped__=o,u}function _R(){var o=this.__wrapped__;if(o instanceof _t){var u=o;return this.__actions__.length&&(u=new _t(this)),u=u.reverse(),u.__actions__.push({func:Zu,args:[bh],thisArg:e}),new Nn(u,this.__chain__)}return this.thru(bh)}function ER(){return ry(this.__wrapped__,this.__actions__)}var CR=Hu(function(o,u,h){Gt.call(o,h)?++o[h]:Fi(o,h,1)});function AR(o,u,h){var y=tt(o)?gm:dI;return h&&zr(o,u,h)&&(u=e),y(o,Ve(u,3))}function wR(o,u){var h=tt(o)?ua:Fm;return h(o,Ve(u,3))}var bR=hy(Ly),SR=hy(Py);function TR(o,u){return Dr($u(o,u),1)}function xR(o,u){return Dr($u(o,u),Ie)}function IR(o,u,h){return h=h===e?1:ot(h),Dr($u(o,u),h)}function Gy(o,u){var h=tt(o)?Rn:pa;return h(o,Ve(u,3))}function Ky(o,u){var h=tt(o)?Wx:Um;return h(o,Ve(u,3))}var kR=Hu(function(o,u,h){Gt.call(o,h)?o[h].push(u):Fi(o,h,[u])});function RR(o,u,h,y){o=ln(o)?o:Hs(o),h=h&&!y?ot(h):0;var C=o.length;return h<0&&(h=Ar(C+h,0)),ic(o)?h<=C&&o.indexOf(u,h)>-1:!!C&&Ds(o,u,h)>-1}var BR=ht(function(o,u,h){var y=-1,C=typeof u=="function",k=ln(o)?ne(o.length):[];return pa(o,function(O){k[++y]=C?mn(u,O,h):$o(O,u,h)}),k}),NR=Hu(function(o,u,h){Fi(o,h,u)});function $u(o,u){var h=tt(o)?nr:Ym;return h(o,Ve(u,3))}function DR(o,u,h,y){return o==null?[]:(tt(u)||(u=u==null?[]:[u]),h=y?e:h,tt(h)||(h=h==null?[]:[h]),Jm(o,u,h))}var LR=Hu(function(o,u,h){o[h?0:1].push(u)},function(){return[[],[]]});function PR(o,u,h){var y=tt(o)?Md:_m,C=arguments.length<3;return y(o,Ve(u,4),h,C,pa)}function OR(o,u,h){var y=tt(o)?zx:_m,C=arguments.length<3;return y(o,Ve(u,4),h,C,Um)}function MR(o,u){var h=tt(o)?ua:Fm;return h(o,rc(Ve(u,3)))}function UR(o){var u=tt(o)?Lm:RI;return u(o)}function FR(o,u,h){(h?zr(o,u,h):u===e)?u=1:u=ot(u);var y=tt(o)?oI:BI;return y(o,u)}function qR(o){var u=tt(o)?lI:DI;return u(o)}function GR(o){if(o==null)return 0;if(ln(o))return ic(o)?Ps(o):o.length;var u=Gr(o);return u==W||u==Z?o.size:rh(o).length}function KR(o,u,h){var y=tt(o)?Ud:LI;return h&&zr(o,u,h)&&(u=e),y(o,Ve(u,3))}var VR=ht(function(o,u){if(o==null)return[];var h=u.length;return h>1&&zr(o,u[0],u[1])?u=[]:h>2&&zr(u[0],u[1],u[2])&&(u=[u[0]]),Jm(o,Dr(u,1),[])}),ec=w2||function(){return br.Date.now()};function HR(o,u){if(typeof u!="function")throw new Bn(i);return o=ot(o),function(){if(--o<1)return u.apply(this,arguments)}}function Vy(o,u,h){return u=h?e:u,u=o&&u==null?o.length:u,qi(o,N,e,e,e,e,u)}function Hy(o,u){var h;if(typeof u!="function")throw new Bn(i);return o=ot(o),function(){return--o>0&&(h=u.apply(this,arguments)),o<=1&&(u=e),h}}var Th=ht(function(o,u,h){var y=m;if(h.length){var C=fa(h,Ks(Th));y|=B}return qi(o,y,u,h,C)}),Yy=ht(function(o,u,h){var y=m|_;if(h.length){var C=fa(h,Ks(Yy));y|=B}return qi(u,y,o,h,C)});function jy(o,u,h){u=h?e:u;var y=qi(o,A,e,e,e,e,e,u);return y.placeholder=jy.placeholder,y}function Wy(o,u,h){u=h?e:u;var y=qi(o,x,e,e,e,e,e,u);return y.placeholder=Wy.placeholder,y}function zy(o,u,h){var y,C,k,O,F,z,ue=0,ce=!1,ge=!1,Se=!0;if(typeof o!="function")throw new Bn(i);u=On(u)||0,sr(h)&&(ce=!!h.leading,ge="maxWait"in h,k=ge?Ar(On(h.maxWait)||0,u):k,Se="trailing"in h?!!h.trailing:Se);function Ue(dr){var ri=y,Yi=C;return y=C=e,ue=dr,O=o.apply(Yi,ri),O}function Ye(dr){return ue=dr,F=il(gt,u),ce?Ue(dr):O}function ct(dr){var ri=dr-z,Yi=dr-ue,hv=u-ri;return ge?qr(hv,k-Yi):hv}function je(dr){var ri=dr-z,Yi=dr-ue;return z===e||ri>=u||ri<0||ge&&Yi>=k}function gt(){var dr=ec();if(je(dr))return wt(dr);F=il(gt,ct(dr))}function wt(dr){return F=e,Se&&y?Ue(dr):(y=C=e,O)}function En(){F!==e&&iy(F),ue=0,y=z=C=F=e}function Jr(){return F===e?O:wt(ec())}function Cn(){var dr=ec(),ri=je(dr);if(y=arguments,C=this,z=dr,ri){if(F===e)return Ye(z);if(ge)return iy(F),F=il(gt,u),Ue(z)}return F===e&&(F=il(gt,u)),O}return Cn.cancel=En,Cn.flush=Jr,Cn}var YR=ht(function(o,u){return Mm(o,1,u)}),jR=ht(function(o,u,h){return Mm(o,On(u)||0,h)});function WR(o){return qi(o,ae)}function tc(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new Bn(i);var h=function(){var y=arguments,C=u?u.apply(this,y):y[0],k=h.cache;if(k.has(C))return k.get(C);var O=o.apply(this,y);return h.cache=k.set(C,O)||k,O};return h.cache=new(tc.Cache||Ui),h}tc.Cache=Ui;function rc(o){if(typeof o!="function")throw new Bn(i);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}function zR(o){return Hy(2,o)}var JR=PI(function(o,u){u=u.length==1&&tt(u[0])?nr(u[0],yn(Ve())):nr(Dr(u,1),yn(Ve()));var h=u.length;return ht(function(y){for(var C=-1,k=qr(y.length,h);++C<k;)y[C]=u[C].call(this,y[C]);return mn(o,this,y)})}),xh=ht(function(o,u){var h=fa(u,Ks(xh));return qi(o,B,e,u,h)}),Jy=ht(function(o,u){var h=fa(u,Ks(Jy));return qi(o,L,e,u,h)}),QR=Gi(function(o,u){return qi(o,P,e,e,e,u)});function XR(o,u){if(typeof o!="function")throw new Bn(i);return u=u===e?u:ot(u),ht(o,u)}function ZR(o,u){if(typeof o!="function")throw new Bn(i);return u=u==null?0:Ar(ot(u),0),ht(function(h){var y=h[u],C=ya(h,0,u);return y&&ca(C,y),mn(o,this,C)})}function $R(o,u,h){var y=!0,C=!0;if(typeof o!="function")throw new Bn(i);return sr(h)&&(y="leading"in h?!!h.leading:y,C="trailing"in h?!!h.trailing:C),zy(o,u,{leading:y,maxWait:u,trailing:C})}function eB(o){return Vy(o,1)}function tB(o,u){return xh(fh(u),o)}function rB(){if(!arguments.length)return[];var o=arguments[0];return tt(o)?o:[o]}function nB(o){return Dn(o,p)}function iB(o,u){return u=typeof u=="function"?u:e,Dn(o,p,u)}function aB(o){return Dn(o,f|p)}function sB(o,u){return u=typeof u=="function"?u:e,Dn(o,f|p,u)}function oB(o,u){return u==null||Om(o,u,Sr(u))}function ti(o,u){return o===u||o!==o&&u!==u}var lB=zu($d),uB=zu(function(o,u){return o>=u}),Za=Km(function(){return arguments}())?Km:function(o){return lr(o)&&Gt.call(o,"callee")&&!Im.call(o,"callee")},tt=ne.isArray,cB=um?yn(um):vI;function ln(o){return o!=null&&nc(o.length)&&!Vi(o)}function fr(o){return lr(o)&&ln(o)}function fB(o){return o===!0||o===!1||lr(o)&&Wr(o)==Be}var va=S2||Uh,dB=cm?yn(cm):_I;function hB(o){return lr(o)&&o.nodeType===1&&!al(o)}function pB(o){if(o==null)return!0;if(ln(o)&&(tt(o)||typeof o=="string"||typeof o.splice=="function"||va(o)||Vs(o)||Za(o)))return!o.length;var u=Gr(o);if(u==W||u==Z)return!o.size;if(nl(o))return!rh(o).length;for(var h in o)if(Gt.call(o,h))return!1;return!0}function gB(o,u){return el(o,u)}function mB(o,u,h){h=typeof h=="function"?h:e;var y=h?h(o,u):e;return y===e?el(o,u,e,h):!!y}function Ih(o){if(!lr(o))return!1;var u=Wr(o);return u==I||u==He||typeof o.message=="string"&&typeof o.name=="string"&&!al(o)}function yB(o){return typeof o=="number"&&Rm(o)}function Vi(o){if(!sr(o))return!1;var u=Wr(o);return u==R||u==D||u==Tt||u==Q}function Qy(o){return typeof o=="number"&&o==ot(o)}function nc(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=Pe}function sr(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}function lr(o){return o!=null&&typeof o=="object"}var Xy=fm?yn(fm):CI;function vB(o,u){return o===u||th(o,u,vh(u))}function _B(o,u,h){return h=typeof h=="function"?h:e,th(o,u,vh(u),h)}function EB(o){return Zy(o)&&o!=+o}function CB(o){if(ik(o))throw new Ze(n);return Vm(o)}function AB(o){return o===null}function wB(o){return o==null}function Zy(o){return typeof o=="number"||lr(o)&&Wr(o)==G}function al(o){if(!lr(o)||Wr(o)!=X)return!1;var u=Ru(o);if(u===null)return!0;var h=Gt.call(u,"constructor")&&u.constructor;return typeof h=="function"&&h instanceof h&&Tu.call(h)==_2}var kh=dm?yn(dm):AI;function bB(o){return Qy(o)&&o>=-Pe&&o<=Pe}var $y=hm?yn(hm):wI;function ic(o){return typeof o=="string"||!tt(o)&&lr(o)&&Wr(o)==de}function _n(o){return typeof o=="symbol"||lr(o)&&Wr(o)==Me}var Vs=pm?yn(pm):bI;function SB(o){return o===e}function TB(o){return lr(o)&&Gr(o)==pt}function xB(o){return lr(o)&&Wr(o)==tr}var IB=zu(nh),kB=zu(function(o,u){return o<=u});function ev(o){if(!o)return[];if(ln(o))return ic(o)?$n(o):on(o);if(jo&&o[jo])return o2(o[jo]());var u=Gr(o),h=u==W?Hd:u==Z?wu:Hs;return h(o)}function Hi(o){if(!o)return o===0?o:0;if(o=On(o),o===Ie||o===-Ie){var u=o<0?-1:1;return u*_e}return o===o?o:0}function ot(o){var u=Hi(o),h=u%1;return u===u?h?u-h:u:0}function tv(o){return o?za(ot(o),0,Xe):0}function On(o){if(typeof o=="number")return o;if(_n(o))return nt;if(sr(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=sr(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=Em(o);var h=cx.test(o);return h||dx.test(o)?Hx(o.slice(2),h?2:8):ux.test(o)?nt:+o}function rv(o){return hi(o,un(o))}function RB(o){return o?za(ot(o),-Pe,Pe):o===0?o:0}function Ut(o){return o==null?"":vn(o)}var BB=qs(function(o,u){if(nl(u)||ln(u)){hi(u,Sr(u),o);return}for(var h in u)Gt.call(u,h)&&Xo(o,h,u[h])}),nv=qs(function(o,u){hi(u,un(u),o)}),ac=qs(function(o,u,h,y){hi(u,un(u),o,y)}),NB=qs(function(o,u,h,y){hi(u,Sr(u),o,y)}),DB=Gi(Qd);function LB(o,u){var h=Fs(o);return u==null?h:Pm(h,u)}var PB=ht(function(o,u){o=Vt(o);var h=-1,y=u.length,C=y>2?u[2]:e;for(C&&zr(u[0],u[1],C)&&(y=1);++h<y;)for(var k=u[h],O=un(k),F=-1,z=O.length;++F<z;){var ue=O[F],ce=o[ue];(ce===e||ti(ce,Os[ue])&&!Gt.call(o,ue))&&(o[ue]=k[ue])}return o}),OB=ht(function(o){return o.push(e,Ey),mn(iv,e,o)});function MB(o,u){return mm(o,Ve(u,3),di)}function UB(o,u){return mm(o,Ve(u,3),Zd)}function FB(o,u){return o==null?o:Xd(o,Ve(u,3),un)}function qB(o,u){return o==null?o:qm(o,Ve(u,3),un)}function GB(o,u){return o&&di(o,Ve(u,3))}function KB(o,u){return o&&Zd(o,Ve(u,3))}function VB(o){return o==null?[]:qu(o,Sr(o))}function HB(o){return o==null?[]:qu(o,un(o))}function Rh(o,u,h){var y=o==null?e:Ja(o,u);return y===e?h:y}function YB(o,u){return o!=null&&wy(o,u,pI)}function Bh(o,u){return o!=null&&wy(o,u,gI)}var jB=gy(function(o,u,h){u!=null&&typeof u.toString!="function"&&(u=xu.call(u)),o[u]=h},Dh(cn)),WB=gy(function(o,u,h){u!=null&&typeof u.toString!="function"&&(u=xu.call(u)),Gt.call(o,u)?o[u].push(h):o[u]=[h]},Ve),zB=ht($o);function Sr(o){return ln(o)?Dm(o):rh(o)}function un(o){return ln(o)?Dm(o,!0):SI(o)}function JB(o,u){var h={};return u=Ve(u,3),di(o,function(y,C,k){Fi(h,u(y,C,k),y)}),h}function QB(o,u){var h={};return u=Ve(u,3),di(o,function(y,C,k){Fi(h,C,u(y,C,k))}),h}var XB=qs(function(o,u,h){Gu(o,u,h)}),iv=qs(function(o,u,h,y){Gu(o,u,h,y)}),ZB=Gi(function(o,u){var h={};if(o==null)return h;var y=!1;u=nr(u,function(k){return k=ma(k,o),y||(y=k.length>1),k}),hi(o,mh(o),h),y&&(h=Dn(h,f|d|p,jI));for(var C=u.length;C--;)lh(h,u[C]);return h});function $B(o,u){return av(o,rc(Ve(u)))}var e3=Gi(function(o,u){return o==null?{}:xI(o,u)});function av(o,u){if(o==null)return{};var h=nr(mh(o),function(y){return[y]});return u=Ve(u),Qm(o,h,function(y,C){return u(y,C[0])})}function t3(o,u,h){u=ma(u,o);var y=-1,C=u.length;for(C||(C=1,o=e);++y<C;){var k=o==null?e:o[pi(u[y])];k===e&&(y=C,k=h),o=Vi(k)?k.call(o):k}return o}function r3(o,u,h){return o==null?o:tl(o,u,h)}function n3(o,u,h,y){return y=typeof y=="function"?y:e,o==null?o:tl(o,u,h,y)}var sv=vy(Sr),ov=vy(un);function i3(o,u,h){var y=tt(o),C=y||va(o)||Vs(o);if(u=Ve(u,4),h==null){var k=o&&o.constructor;C?h=y?new k:[]:sr(o)?h=Vi(k)?Fs(Ru(o)):{}:h={}}return(C?Rn:di)(o,function(O,F,z){return u(h,O,F,z)}),h}function a3(o,u){return o==null?!0:lh(o,u)}function s3(o,u,h){return o==null?o:ty(o,u,fh(h))}function o3(o,u,h,y){return y=typeof y=="function"?y:e,o==null?o:ty(o,u,fh(h),y)}function Hs(o){return o==null?[]:Vd(o,Sr(o))}function l3(o){return o==null?[]:Vd(o,un(o))}function u3(o,u,h){return h===e&&(h=u,u=e),h!==e&&(h=On(h),h=h===h?h:0),u!==e&&(u=On(u),u=u===u?u:0),za(On(o),u,h)}function c3(o,u,h){return u=Hi(u),h===e?(h=u,u=0):h=Hi(h),o=On(o),mI(o,u,h)}function f3(o,u,h){if(h&&typeof h!="boolean"&&zr(o,u,h)&&(u=h=e),h===e&&(typeof u=="boolean"?(h=u,u=e):typeof o=="boolean"&&(h=o,o=e)),o===e&&u===e?(o=0,u=1):(o=Hi(o),u===e?(u=o,o=0):u=Hi(u)),o>u){var y=o;o=u,u=y}if(h||o%1||u%1){var C=Bm();return qr(o+C*(u-o+Vx("1e-"+((C+"").length-1))),u)}return ah(o,u)}var d3=Gs(function(o,u,h){return u=u.toLowerCase(),o+(h?lv(u):u)});function lv(o){return Nh(Ut(o).toLowerCase())}function uv(o){return o=Ut(o),o&&o.replace(px,r2).replace(Dx,"")}function h3(o,u,h){o=Ut(o),u=vn(u);var y=o.length;h=h===e?y:za(ot(h),0,y);var C=h;return h-=u.length,h>=0&&o.slice(h,C)==u}function p3(o){return o=Ut(o),o&&zT.test(o)?o.replace(qg,n2):o}function g3(o){return o=Ut(o),o&&ex.test(o)?o.replace(xd,"\\$&"):o}var m3=Gs(function(o,u,h){return o+(h?"-":"")+u.toLowerCase()}),y3=Gs(function(o,u,h){return o+(h?" ":"")+u.toLowerCase()}),v3=dy("toLowerCase");function _3(o,u,h){o=Ut(o),u=ot(u);var y=u?Ps(o):0;if(!u||y>=u)return o;var C=(u-y)/2;return Wu(Lu(C),h)+o+Wu(Du(C),h)}function E3(o,u,h){o=Ut(o),u=ot(u);var y=u?Ps(o):0;return u&&y<u?o+Wu(u-y,h):o}function C3(o,u,h){o=Ut(o),u=ot(u);var y=u?Ps(o):0;return u&&y<u?Wu(u-y,h)+o:o}function A3(o,u,h){return h||u==null?u=0:u&&(u=+u),k2(Ut(o).replace(Id,""),u||0)}function w3(o,u,h){return(h?zr(o,u,h):u===e)?u=1:u=ot(u),sh(Ut(o),u)}function b3(){var o=arguments,u=Ut(o[0]);return o.length<3?u:u.replace(o[1],o[2])}var S3=Gs(function(o,u,h){return o+(h?"_":"")+u.toLowerCase()});function T3(o,u,h){return h&&typeof h!="number"&&zr(o,u,h)&&(u=h=e),h=h===e?Xe:h>>>0,h?(o=Ut(o),o&&(typeof u=="string"||u!=null&&!kh(u))&&(u=vn(u),!u&&Ls(o))?ya($n(o),0,h):o.split(u,h)):[]}var x3=Gs(function(o,u,h){return o+(h?" ":"")+Nh(u)});function I3(o,u,h){return o=Ut(o),h=h==null?0:za(ot(h),0,o.length),u=vn(u),o.slice(h,h+u.length)==u}function k3(o,u,h){var y=T.templateSettings;h&&zr(o,u,h)&&(u=e),o=Ut(o),u=ac({},u,y,_y);var C=ac({},u.imports,y.imports,_y),k=Sr(C),O=Vd(C,k),F,z,ue=0,ce=u.interpolate||vu,ge="__p += '",Se=Yd((u.escape||vu).source+"|"+ce.source+"|"+(ce===Gg?lx:vu).source+"|"+(u.evaluate||vu).source+"|$","g"),Ue="//# sourceURL="+(Gt.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ux+"]")+`
`;o.replace(Se,function(je,gt,wt,En,Jr,Cn){return wt||(wt=En),ge+=o.slice(ue,Cn).replace(gx,i2),gt&&(F=!0,ge+=`' +
__e(`+gt+`) +
'`),Jr&&(z=!0,ge+=`';
`+Jr+`;
__p += '`),wt&&(ge+=`' +
((__t = (`+wt+`)) == null ? '' : __t) +
'`),ue=Cn+je.length,je}),ge+=`';
`;var Ye=Gt.call(u,"variable")&&u.variable;if(!Ye)ge=`with (obj) {
`+ge+`
}
`;else if(sx.test(Ye))throw new Ze(a);ge=(z?ge.replace(rr,""):ge).replace(YT,"$1").replace(jT,"$1;"),ge="function("+(Ye||"obj")+`) {
`+(Ye?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(F?", __e = _.escape":"")+(z?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ge+`return __p
}`;var ct=fv(function(){return Mt(k,Ue+"return "+ge).apply(e,O)});if(ct.source=ge,Ih(ct))throw ct;return ct}function R3(o){return Ut(o).toLowerCase()}function B3(o){return Ut(o).toUpperCase()}function N3(o,u,h){if(o=Ut(o),o&&(h||u===e))return Em(o);if(!o||!(u=vn(u)))return o;var y=$n(o),C=$n(u),k=Cm(y,C),O=Am(y,C)+1;return ya(y,k,O).join("")}function D3(o,u,h){if(o=Ut(o),o&&(h||u===e))return o.slice(0,bm(o)+1);if(!o||!(u=vn(u)))return o;var y=$n(o),C=Am(y,$n(u))+1;return ya(y,0,C).join("")}function L3(o,u,h){if(o=Ut(o),o&&(h||u===e))return o.replace(Id,"");if(!o||!(u=vn(u)))return o;var y=$n(o),C=Cm(y,$n(u));return ya(y,C).join("")}function P3(o,u){var h=j,y=V;if(sr(u)){var C="separator"in u?u.separator:C;h="length"in u?ot(u.length):h,y="omission"in u?vn(u.omission):y}o=Ut(o);var k=o.length;if(Ls(o)){var O=$n(o);k=O.length}if(h>=k)return o;var F=h-Ps(y);if(F<1)return y;var z=O?ya(O,0,F).join(""):o.slice(0,F);if(C===e)return z+y;if(O&&(F+=z.length-F),kh(C)){if(o.slice(F).search(C)){var ue,ce=z;for(C.global||(C=Yd(C.source,Ut(Kg.exec(C))+"g")),C.lastIndex=0;ue=C.exec(ce);)var ge=ue.index;z=z.slice(0,ge===e?F:ge)}}else if(o.indexOf(vn(C),F)!=F){var Se=z.lastIndexOf(C);Se>-1&&(z=z.slice(0,Se))}return z+y}function O3(o){return o=Ut(o),o&&WT.test(o)?o.replace(Fg,f2):o}var M3=Gs(function(o,u,h){return o+(h?" ":"")+u.toUpperCase()}),Nh=dy("toUpperCase");function cv(o,u,h){return o=Ut(o),u=h?e:u,u===e?s2(o)?p2(o):Xx(o):o.match(u)||[]}var fv=ht(function(o,u){try{return mn(o,e,u)}catch(h){return Ih(h)?h:new Ze(h)}}),U3=Gi(function(o,u){return Rn(u,function(h){h=pi(h),Fi(o,h,Th(o[h],o))}),o});function F3(o){var u=o==null?0:o.length,h=Ve();return o=u?nr(o,function(y){if(typeof y[1]!="function")throw new Bn(i);return[h(y[0]),y[1]]}):[],ht(function(y){for(var C=-1;++C<u;){var k=o[C];if(mn(k[0],this,y))return mn(k[1],this,y)}})}function q3(o){return fI(Dn(o,f))}function Dh(o){return function(){return o}}function G3(o,u){return o==null||o!==o?u:o}var K3=py(),V3=py(!0);function cn(o){return o}function Lh(o){return Hm(typeof o=="function"?o:Dn(o,f))}function H3(o){return jm(Dn(o,f))}function Y3(o,u){return Wm(o,Dn(u,f))}var j3=ht(function(o,u){return function(h){return $o(h,o,u)}}),W3=ht(function(o,u){return function(h){return $o(o,h,u)}});function Ph(o,u,h){var y=Sr(u),C=qu(u,y);h==null&&!(sr(u)&&(C.length||!y.length))&&(h=u,u=o,o=this,C=qu(u,Sr(u)));var k=!(sr(h)&&"chain"in h)||!!h.chain,O=Vi(o);return Rn(C,function(F){var z=u[F];o[F]=z,O&&(o.prototype[F]=function(){var ue=this.__chain__;if(k||ue){var ce=o(this.__wrapped__),ge=ce.__actions__=on(this.__actions__);return ge.push({func:z,args:arguments,thisArg:o}),ce.__chain__=ue,ce}return z.apply(o,ca([this.value()],arguments))})}),o}function z3(){return br._===this&&(br._=E2),this}function Oh(){}function J3(o){return o=ot(o),ht(function(u){return zm(u,o)})}var Q3=hh(nr),X3=hh(gm),Z3=hh(Ud);function dv(o){return Eh(o)?Fd(pi(o)):II(o)}function $3(o){return function(u){return o==null?e:Ja(o,u)}}var eN=my(),tN=my(!0);function Mh(){return[]}function Uh(){return!1}function rN(){return{}}function nN(){return""}function iN(){return!0}function aN(o,u){if(o=ot(o),o<1||o>Pe)return[];var h=Xe,y=qr(o,Xe);u=Ve(u),o-=Xe;for(var C=Kd(y,u);++h<o;)u(h);return C}function sN(o){return tt(o)?nr(o,pi):_n(o)?[o]:on(Ny(Ut(o)))}function oN(o){var u=++v2;return Ut(o)+u}var lN=ju(function(o,u){return o+u},0),uN=ph("ceil"),cN=ju(function(o,u){return o/u},1),fN=ph("floor");function dN(o){return o&&o.length?Fu(o,cn,$d):e}function hN(o,u){return o&&o.length?Fu(o,Ve(u,2),$d):e}function pN(o){return vm(o,cn)}function gN(o,u){return vm(o,Ve(u,2))}function mN(o){return o&&o.length?Fu(o,cn,nh):e}function yN(o,u){return o&&o.length?Fu(o,Ve(u,2),nh):e}var vN=ju(function(o,u){return o*u},1),_N=ph("round"),EN=ju(function(o,u){return o-u},0);function CN(o){return o&&o.length?Gd(o,cn):0}function AN(o,u){return o&&o.length?Gd(o,Ve(u,2)):0}return T.after=HR,T.ary=Vy,T.assign=BB,T.assignIn=nv,T.assignInWith=ac,T.assignWith=NB,T.at=DB,T.before=Hy,T.bind=Th,T.bindAll=U3,T.bindKey=Yy,T.castArray=rB,T.chain=qy,T.chunk=fk,T.compact=dk,T.concat=hk,T.cond=F3,T.conforms=q3,T.constant=Dh,T.countBy=CR,T.create=LB,T.curry=jy,T.curryRight=Wy,T.debounce=zy,T.defaults=PB,T.defaultsDeep=OB,T.defer=YR,T.delay=jR,T.difference=pk,T.differenceBy=gk,T.differenceWith=mk,T.drop=yk,T.dropRight=vk,T.dropRightWhile=_k,T.dropWhile=Ek,T.fill=Ck,T.filter=wR,T.flatMap=TR,T.flatMapDeep=xR,T.flatMapDepth=IR,T.flatten=Oy,T.flattenDeep=Ak,T.flattenDepth=wk,T.flip=WR,T.flow=K3,T.flowRight=V3,T.fromPairs=bk,T.functions=VB,T.functionsIn=HB,T.groupBy=kR,T.initial=Tk,T.intersection=xk,T.intersectionBy=Ik,T.intersectionWith=kk,T.invert=jB,T.invertBy=WB,T.invokeMap=BR,T.iteratee=Lh,T.keyBy=NR,T.keys=Sr,T.keysIn=un,T.map=$u,T.mapKeys=JB,T.mapValues=QB,T.matches=H3,T.matchesProperty=Y3,T.memoize=tc,T.merge=XB,T.mergeWith=iv,T.method=j3,T.methodOf=W3,T.mixin=Ph,T.negate=rc,T.nthArg=J3,T.omit=ZB,T.omitBy=$B,T.once=zR,T.orderBy=DR,T.over=Q3,T.overArgs=JR,T.overEvery=X3,T.overSome=Z3,T.partial=xh,T.partialRight=Jy,T.partition=LR,T.pick=e3,T.pickBy=av,T.property=dv,T.propertyOf=$3,T.pull=Dk,T.pullAll=Uy,T.pullAllBy=Lk,T.pullAllWith=Pk,T.pullAt=Ok,T.range=eN,T.rangeRight=tN,T.rearg=QR,T.reject=MR,T.remove=Mk,T.rest=XR,T.reverse=bh,T.sampleSize=FR,T.set=r3,T.setWith=n3,T.shuffle=qR,T.slice=Uk,T.sortBy=VR,T.sortedUniq=Yk,T.sortedUniqBy=jk,T.split=T3,T.spread=ZR,T.tail=Wk,T.take=zk,T.takeRight=Jk,T.takeRightWhile=Qk,T.takeWhile=Xk,T.tap=dR,T.throttle=$R,T.thru=Zu,T.toArray=ev,T.toPairs=sv,T.toPairsIn=ov,T.toPath=sN,T.toPlainObject=rv,T.transform=i3,T.unary=eB,T.union=Zk,T.unionBy=$k,T.unionWith=eR,T.uniq=tR,T.uniqBy=rR,T.uniqWith=nR,T.unset=a3,T.unzip=Sh,T.unzipWith=Fy,T.update=s3,T.updateWith=o3,T.values=Hs,T.valuesIn=l3,T.without=iR,T.words=cv,T.wrap=tB,T.xor=aR,T.xorBy=sR,T.xorWith=oR,T.zip=lR,T.zipObject=uR,T.zipObjectDeep=cR,T.zipWith=fR,T.entries=sv,T.entriesIn=ov,T.extend=nv,T.extendWith=ac,Ph(T,T),T.add=lN,T.attempt=fv,T.camelCase=d3,T.capitalize=lv,T.ceil=uN,T.clamp=u3,T.clone=nB,T.cloneDeep=aB,T.cloneDeepWith=sB,T.cloneWith=iB,T.conformsTo=oB,T.deburr=uv,T.defaultTo=G3,T.divide=cN,T.endsWith=h3,T.eq=ti,T.escape=p3,T.escapeRegExp=g3,T.every=AR,T.find=bR,T.findIndex=Ly,T.findKey=MB,T.findLast=SR,T.findLastIndex=Py,T.findLastKey=UB,T.floor=fN,T.forEach=Gy,T.forEachRight=Ky,T.forIn=FB,T.forInRight=qB,T.forOwn=GB,T.forOwnRight=KB,T.get=Rh,T.gt=lB,T.gte=uB,T.has=YB,T.hasIn=Bh,T.head=My,T.identity=cn,T.includes=RR,T.indexOf=Sk,T.inRange=c3,T.invoke=zB,T.isArguments=Za,T.isArray=tt,T.isArrayBuffer=cB,T.isArrayLike=ln,T.isArrayLikeObject=fr,T.isBoolean=fB,T.isBuffer=va,T.isDate=dB,T.isElement=hB,T.isEmpty=pB,T.isEqual=gB,T.isEqualWith=mB,T.isError=Ih,T.isFinite=yB,T.isFunction=Vi,T.isInteger=Qy,T.isLength=nc,T.isMap=Xy,T.isMatch=vB,T.isMatchWith=_B,T.isNaN=EB,T.isNative=CB,T.isNil=wB,T.isNull=AB,T.isNumber=Zy,T.isObject=sr,T.isObjectLike=lr,T.isPlainObject=al,T.isRegExp=kh,T.isSafeInteger=bB,T.isSet=$y,T.isString=ic,T.isSymbol=_n,T.isTypedArray=Vs,T.isUndefined=SB,T.isWeakMap=TB,T.isWeakSet=xB,T.join=Rk,T.kebabCase=m3,T.last=Pn,T.lastIndexOf=Bk,T.lowerCase=y3,T.lowerFirst=v3,T.lt=IB,T.lte=kB,T.max=dN,T.maxBy=hN,T.mean=pN,T.meanBy=gN,T.min=mN,T.minBy=yN,T.stubArray=Mh,T.stubFalse=Uh,T.stubObject=rN,T.stubString=nN,T.stubTrue=iN,T.multiply=vN,T.nth=Nk,T.noConflict=z3,T.noop=Oh,T.now=ec,T.pad=_3,T.padEnd=E3,T.padStart=C3,T.parseInt=A3,T.random=f3,T.reduce=PR,T.reduceRight=OR,T.repeat=w3,T.replace=b3,T.result=t3,T.round=_N,T.runInContext=Y,T.sample=UR,T.size=GR,T.snakeCase=S3,T.some=KR,T.sortedIndex=Fk,T.sortedIndexBy=qk,T.sortedIndexOf=Gk,T.sortedLastIndex=Kk,T.sortedLastIndexBy=Vk,T.sortedLastIndexOf=Hk,T.startCase=x3,T.startsWith=I3,T.subtract=EN,T.sum=CN,T.sumBy=AN,T.template=k3,T.times=aN,T.toFinite=Hi,T.toInteger=ot,T.toLength=tv,T.toLower=R3,T.toNumber=On,T.toSafeInteger=RB,T.toString=Ut,T.toUpper=B3,T.trim=N3,T.trimEnd=D3,T.trimStart=L3,T.truncate=P3,T.unescape=O3,T.uniqueId=oN,T.upperCase=M3,T.upperFirst=Nh,T.each=Gy,T.eachRight=Ky,T.first=My,Ph(T,function(){var o={};return di(T,function(u,h){Gt.call(T.prototype,h)||(o[h]=u)}),o}(),{chain:!1}),T.VERSION=t,Rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){T[o].placeholder=T}),Rn(["drop","take"],function(o,u){_t.prototype[o]=function(h){h=h===e?1:Ar(ot(h),0);var y=this.__filtered__&&!u?new _t(this):this.clone();return y.__filtered__?y.__takeCount__=qr(h,y.__takeCount__):y.__views__.push({size:qr(h,Xe),type:o+(y.__dir__<0?"Right":"")}),y},_t.prototype[o+"Right"]=function(h){return this.reverse()[o](h).reverse()}}),Rn(["filter","map","takeWhile"],function(o,u){var h=u+1,y=h==we||h==Oe;_t.prototype[o]=function(C){var k=this.clone();return k.__iteratees__.push({iteratee:Ve(C,3),type:h}),k.__filtered__=k.__filtered__||y,k}}),Rn(["head","last"],function(o,u){var h="take"+(u?"Right":"");_t.prototype[o]=function(){return this[h](1).value()[0]}}),Rn(["initial","tail"],function(o,u){var h="drop"+(u?"":"Right");_t.prototype[o]=function(){return this.__filtered__?new _t(this):this[h](1)}}),_t.prototype.compact=function(){return this.filter(cn)},_t.prototype.find=function(o){return this.filter(o).head()},_t.prototype.findLast=function(o){return this.reverse().find(o)},_t.prototype.invokeMap=ht(function(o,u){return typeof o=="function"?new _t(this):this.map(function(h){return $o(h,o,u)})}),_t.prototype.reject=function(o){return this.filter(rc(Ve(o)))},_t.prototype.slice=function(o,u){o=ot(o);var h=this;return h.__filtered__&&(o>0||u<0)?new _t(h):(o<0?h=h.takeRight(-o):o&&(h=h.drop(o)),u!==e&&(u=ot(u),h=u<0?h.dropRight(-u):h.take(u-o)),h)},_t.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},_t.prototype.toArray=function(){return this.take(Xe)},di(_t.prototype,function(o,u){var h=/^(?:filter|find|map|reject)|While$/.test(u),y=/^(?:head|last)$/.test(u),C=T[y?"take"+(u=="last"?"Right":""):u],k=y||/^find/.test(u);!C||(T.prototype[u]=function(){var O=this.__wrapped__,F=y?[1]:arguments,z=O instanceof _t,ue=F[0],ce=z||tt(O),ge=function(gt){var wt=C.apply(T,ca([gt],F));return y&&Se?wt[0]:wt};ce&&h&&typeof ue=="function"&&ue.length!=1&&(z=ce=!1);var Se=this.__chain__,Ue=!!this.__actions__.length,Ye=k&&!Se,ct=z&&!Ue;if(!k&&ce){O=ct?O:new _t(this);var je=o.apply(O,F);return je.__actions__.push({func:Zu,args:[ge],thisArg:e}),new Nn(je,Se)}return Ye&&ct?o.apply(this,F):(je=this.thru(ge),Ye?y?je.value()[0]:je.value():je)})}),Rn(["pop","push","shift","sort","splice","unshift"],function(o){var u=bu[o],h=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",y=/^(?:pop|shift)$/.test(o);T.prototype[o]=function(){var C=arguments;if(y&&!this.__chain__){var k=this.value();return u.apply(tt(k)?k:[],C)}return this[h](function(O){return u.apply(tt(O)?O:[],C)})}}),di(_t.prototype,function(o,u){var h=T[u];if(h){var y=h.name+"";Gt.call(Us,y)||(Us[y]=[]),Us[y].push({name:u,func:h})}}),Us[Yu(e,_).name]=[{name:"wrapper",func:e}],_t.prototype.clone=O2,_t.prototype.reverse=M2,_t.prototype.value=U2,T.prototype.at=hR,T.prototype.chain=pR,T.prototype.commit=gR,T.prototype.next=mR,T.prototype.plant=vR,T.prototype.reverse=_R,T.prototype.toJSON=T.prototype.valueOf=T.prototype.value=ER,T.prototype.first=T.prototype.head,jo&&(T.prototype[jo]=yR),T},da=g2();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(br._=da,define(function(){return da})):Ha?((Ha.exports=da)._=da,Ld._=da):br._=da}).call(Po)});var yb=le((x9,sd)=>{var Xw,Zw,$w,eb,tb,rb,nb,ib,ab,ad,pg,sb,ob,Oo,lb,ub,cb,fb,db,hb,pb,gb,mb;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof sd=="object"&&typeof sd.exports=="object"?e(r(t,r(sd.exports))):e(r(t));function r(n,i){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,s){return n[a]=i?i(a,s):s}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])};Xw=function(r,n){t(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)},Zw=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},$w=function(r,n){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&n.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)n.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(i[a[s]]=r[a[s]]);return i},eb=function(r,n,i,a){var s=arguments.length,l=s<3?n:a===null?a=Object.getOwnPropertyDescriptor(n,i):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(r,n,i,a);else for(var f=r.length-1;f>=0;f--)(c=r[f])&&(l=(s<3?c(l):s>3?c(n,i,l):c(n,i))||l);return s>3&&l&&Object.defineProperty(n,i,l),l},tb=function(r,n){return function(i,a){n(i,a,r)}},rb=function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},nb=function(r,n,i,a){function s(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function f(g){try{p(a.next(g))}catch(v){c(v)}}function d(g){try{p(a.throw(g))}catch(v){c(v)}}function p(g){g.done?l(g.value):s(g.value).then(f,d)}p((a=a.apply(r,n||[])).next())})},ib=function(r,n){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,s,l,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(g){return d([p,g])}}function d(p){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,s&&(l=p[0]&2?s.return:p[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,p[1])).done)return l;switch(s=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,s=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){i.label=p[1];break}if(p[0]===6&&i.label<l[1]){i.label=l[1],l=p;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(p);break}l[2]&&i.ops.pop(),i.trys.pop();continue}p=n.call(r,i)}catch(g){p=[6,g],s=0}finally{a=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},mb=function(r,n,i,a){a===void 0&&(a=i),r[a]=n[i]},ab=function(r,n){for(var i in r)i!=="default"&&!n.hasOwnProperty(i)&&(n[i]=r[i])},ad=function(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],a=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},pg=function(r,n){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var a=i.call(r),s,l=[],c;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(f){c={error:f}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(c)throw c.error}}return l},sb=function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(pg(arguments[n]));return r},ob=function(){for(var r=0,n=0,i=arguments.length;n<i;n++)r+=arguments[n].length;for(var a=Array(r),s=0,n=0;n<i;n++)for(var l=arguments[n],c=0,f=l.length;c<f;c++,s++)a[s]=l[c];return a},Oo=function(r){return this instanceof Oo?(this.v=r,this):new Oo(r)},lb=function(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(r,n||[]),s,l=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(m){a[m]&&(s[m]=function(_){return new Promise(function(E,A){l.push([m,_,E,A])>1||f(m,_)})})}function f(m,_){try{d(a[m](_))}catch(E){v(l[0][3],E)}}function d(m){m.value instanceof Oo?Promise.resolve(m.value.v).then(p,g):v(l[0][2],m)}function p(m){f("next",m)}function g(m){f("throw",m)}function v(m,_){m(_),l.shift(),l.length&&f(l[0][0],l[0][1])}},ub=function(r){var n,i;return n={},a("next"),a("throw",function(s){throw s}),a("return"),n[Symbol.iterator]=function(){return this},n;function a(s,l){n[s]=r[s]?function(c){return(i=!i)?{value:Oo(r[s](c)),done:s==="return"}:l?l(c):c}:l}},cb=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof ad=="function"?ad(r):r[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(l){i[l]=r[l]&&function(c){return new Promise(function(f,d){c=r[l](c),s(f,d,c.done,c.value)})}}function s(l,c,f,d){Promise.resolve(d).then(function(p){l({value:p,done:f})},c)}},fb=function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},db=function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i in r)Object.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n.default=r,n},hb=function(r){return r&&r.__esModule?r:{default:r}},pb=function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},gb=function(r,n,i){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,i),i},e("__extends",Xw),e("__assign",Zw),e("__rest",$w),e("__decorate",eb),e("__param",tb),e("__metadata",rb),e("__awaiter",nb),e("__generator",ib),e("__exportStar",ab),e("__createBinding",mb),e("__values",ad),e("__read",pg),e("__spread",sb),e("__spreadArrays",ob),e("__await",Oo),e("__asyncGenerator",lb),e("__asyncDelegator",ub),e("__asyncValues",cb),e("__makeTemplateObject",fb),e("__importStar",db),e("__importDefault",hb),e("__classPrivateFieldGet",pb),e("__classPrivateFieldSet",gb)})});var fS=le(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.isDate=Ua.isComparable=Ua.isIterable=void 0;Ua.isIterable=e=>!(e==null||e[Symbol.iterator]==null);Ua.isComparable=e=>{let t=Object.prototype.toString,r=e;return r.compare!=null&&t.call(r.compare).endsWith("Function]")};Ua.isDate=e=>Object.prototype.toString.call(e).endsWith("Date]")});var hS=le(dS=>{"use strict";Object.defineProperty(dS,"__esModule",{value:!0})});var pS=le(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});var i8=fg(),_g=fS(),a8=(e,t)=>e-t,s8=(e,t)=>Number(e-t),o8=(e,t)=>e.localeCompare(t),l8=(e,t)=>e.getTime()-t.getTime(),qo={number:a8,string:o8,Date:l8,bigInt:s8,none:()=>0},u8=e=>{if(typeof e=="number")return qo.number;if(typeof e=="string")return qo.string;if(typeof e=="bigint")return qo.bigInt;if(_g.isDate(e))return qo.Date;if(_g.isComparable(e))return(t,r)=>t.compare(r);throw new Error("Cannot sort keys in this map. You have to specify compareFn if the type of key in this map is not number, string, or Date.")},Ts=class extends Map{constructor(t,r){super();this.specifiedCompareFn=!1,this.isCompareFn=n=>typeof n=="function",this.compareFn=qo.none,this.sortedKeys=[],_g.isIterable(t)&&this._constructor(t,r),this.isCompareFn(t)&&this._constructor(null,t),t==null&&this._constructor(null,r)}get comparator(){return this.compareFn}compare(t,r){return Math.sign(this.compareFn(t,r))}_constructor(t,r){if(this.compareFn=r==null?qo.none:r,this.specifiedCompareFn=r!=null,t!=null)for(let n of t)this.set(...n)}static fromMap(t,r){let n=new Ts(r);return n.setAll(t),n}duplicate(){return Ts.fromMap(this,this.compareFn)}toMap(){let t=new Map,r=Array.from(super.entries());return r.sort((n,i)=>this.compareFn(n[0],i[0])),r.forEach(([n,i])=>{t.set(n,i)}),t}reverseKeys(){return[...this.sortedKeys].reverse().values()}get(t){let r=this.sortedKeys.find(n=>this.comparator(n,t)===0);if(r!=null)return super.get(r)}set(t,r){this.sortedKeys.length===0&&!this.specifiedCompareFn&&(this.compareFn=u8(t),this.specifiedCompareFn=!0);let n=this.sortedKeys.find(i=>this.compareFn(i,t)===0);return n==null?(this.sortedKeys.push(t),super.set(t,r)):super.set(n,r),this.sortedKeys.sort(this.compareFn),this}setAll(t){return t.forEach((r,n)=>{this.set(n,r)}),this}delete(t){return super.delete(t)?(this.sortedKeys=this.sortedKeys.filter(r=>this.compare(r,t)!==0),!0):!1}clear(){super.clear(),this.sortedKeys=[]}keys(){return this.sortedKeys.values()}values(){return this.sortedKeys.map(t=>super.get(t)).values()}entries(){return this.toMap().entries()}firstEntry(){let t=this.firstKey();if(t==null)return;let r=this.get(t);return r===void 0?void 0:[t,r]}firstKey(){return this.sortedKeys[0]}lastEntry(){let t=this.lastKey();if(t==null)return;let r=this.get(t);return r===void 0?void 0:[t,r]}lastKey(){return[...this.sortedKeys].reverse()[0]}shiftEntry(){let t=this.firstEntry();if(t!=null)return this.delete(t[0]),t}popEntry(){let t=this.lastEntry();if(t!=null)return this.delete(t[0]),t}floorEntry(t){let r=this.floorKey(t);if(r!=null){let n=this.get(r);return n===void 0?void 0:[r,n]}}floorKey(t){return this.sortedKeys.filter(n=>this.compare(n,t)<=0).reverse()[0]}ceilingEntry(t){let r=this.ceilingKey(t);if(r!=null){let n=this.get(r);return n===void 0?void 0:[r,n]}}ceilingKey(t){return this.sortedKeys.filter(n=>this.compare(n,t)>=0)[0]}lowerEntry(t){let r=this.lowerKey(t);if(r!=null){let n=this.get(r);return n===void 0?void 0:[r,n]}}lowerKey(t){return this.sortedKeys.filter(n=>this.compare(n,t)<0).reverse()[0]}higherEntry(t){let r=this.higherKey(t);if(r!=null){let n=this.get(r);return n===void 0?void 0:[r,n]}}higherKey(t){return this.sortedKeys.filter(n=>this.compare(n,t)>0)[0]}splitLower(t,r=!0){let n=Array.from(this.entries()).filter(i=>{let a=this.compare(i[0],t)<0;return r?a||this.compare(i[0],t)===0:a});return new Ts(n,this.compareFn)}splitHigher(t,r=!0){let n=Array.from(this.entries()).filter(i=>{let a=this.compare(i[0],t)>0;return r?a||this.compare(i[0],t)===0:a});return new Ts(n,this.compareFn)}forEach(t,r){Array.from(this.entries()).forEach(([n,i])=>{t(i,n,this)},r)}};cd.default=Ts;i8.__exportStar(hS(),cd)});RN(exports,{default:()=>$e});var yu=Pt(require("obsidian"));var vv=Pt(require("obsidian"));function mr(e,t=!0){$e.getInstance().settings.showNotice&&t&&new vv.Notice(e)}var or=Pt(require("obsidian"));var _v=()=>{var e;return(e=window.localStorage.getItem("googleCalendarAccessToken"))!=null?e:""},ji=()=>{var e;return(e=window.localStorage.getItem("googleCalendarRefreshToken"))!=null?e:""},sc=()=>{var t;let e=(t=window.localStorage.getItem("googleCalendarExpirationTime"))!=null?t:"0";return parseInt(e,10)},ol=e=>{window.localStorage.setItem("googleCalendarAccessToken",e)},ll=e=>{window.localStorage.setItem("googleCalendarRefreshToken",e)},ul=e=>{window.localStorage.setItem("googleCalendarExpirationTime",e+"")};var Ro=Pt(require("obsidian")),Xp=42813;function LM(){return!(!sc()||isNaN(sc())||sc()<+new Date)}function Hn(){return U(this,null,function*(){let e=$e.getInstance();if(!!Sn()){if(LM()==!1&&ji()!=""){let t={client_id:e.settings.googleClientId,client_secret:e.settings.googleClientSecret,grant_type:"refresh_token",refresh_token:ji()},n=yield(yield(0,Ro.requestUrl)({url:"https://oauth2.googleapis.com/token",method:"POST",contentType:"application/json",body:JSON.stringify(t)})).json;ol(n.access_token),ul(+new Date+n.expires_in*1e3)}return _v()}})}function Zp(){return U(this,null,function*(){let e=$e.getInstance();if(Ro.Platform.isDesktop){if(!$p())return;let{OAuth2Client:t}=FA(),r=require("http"),n=$A(),i=require("url"),a=tw(),s=new t(e.settings.googleClientId,e.settings.googleClientSecret,`http://127.0.0.1:${Xp}/callback`),l=s.generateAuthUrl({scope:["https://www.googleapis.com/auth/calendar"],access_type:"offline",prompt:"consent"}),c=r.createServer((f,d)=>U(this,null,function*(){try{if(f.url.indexOf("/callback")>-1){let g=new i.URL(f.url,`http://localhost:${Xp}`).searchParams.get("code");d.end("Authentication successful! Please return to obsidian."),c.destroy();let v=yield s.getToken(g);ll(v.tokens.refresh_token),ol(v.tokens.access_token),ul(v.tokens.expiry_date),console.info("Tokens acquired.")}}catch(p){console.log("Auth failed")}})).listen(Xp,()=>U(this,null,function*(){(yield n(l,{wait:!1})).unref()}));a(c)}else new Ro.Notice("Can't use OAuth on this device")})}function qf(e,t,r,n){let i=e.createDiv({cls:`setting-item ${n!=null?n:""}`}),a=i.createDiv({cls:"setting-item-info"});return a.createDiv({cls:"setting-item-name",text:t}),a.createDiv({cls:"setting-item-description",text:r}),i.createDiv({cls:"setting-item-control"})}var rw=Pt(require("obsidian")),eg=new Map,tg=new Map;function nw(){return U(this,null,function*(){var n,i;let e=$e.getInstance(),r=(yield(0,rw.requestUrl)({url:`https://www.googleapis.com/calendar/v3/colors?key=${e.settings.googleApiToken}`,method:"GET",contentType:"application/json"})).json;for(let a=1;;a++){let s=(n=r.calendar[a+""])==null?void 0:n.background;if(!s)break;eg.set(a+"",s)}for(let a=1;;a++){let s=(i=r.event[a+""])==null?void 0:i.background;if(!s)break;tg.set(a+"",s)}})}function Kl(e){return e.colorId&&tg.has(e.colorId)?tg.get(e.colorId):e.parent.colorId&&eg.has(e.parent.colorId)?eg.get(e.parent.colorId):"#a4bdfc"}var iw=Pt(require("obsidian")),rg=[];function aw(e,t){return t.filter(n=>e.settings.calendarBlackList.findIndex(a=>a[0]==n.id)==-1)}function tn(){return U(this,null,function*(){let e=$e.getInstance();if(rg.length)return aw(e,rg);yield nw();try{let r=yield(yield(0,iw.requestUrl)({url:`https://www.googleapis.com/calendar/v3/users/me/calendarList?key=${e.settings.googleApiToken}`,method:"GET",contentType:"application/json",headers:{Authorization:"Bearer "+(yield Hn())}})).json;return rg=r.items,aw(e,r.items)}catch(t){return mr("Could not load google calendars"),console.log(t),[]}})}var ng=class extends or.PluginSettingTab{constructor(t,r){super(t,r);this.plugin=r}display(){let{containerEl:t}=this;t.empty(),t.createEl("h2",{text:"Settings for Google Calendar"}),t.createEl("h4",{text:"Please restart Obsidian to let changes take effect"}),new or.Setting(t).setName("ClientId").setDesc("Google client id").addText(c=>c.setPlaceholder("Enter your client id").setValue(this.plugin.settings.googleClientId).onChange(f=>U(this,null,function*(){this.plugin.settings.googleClientId=f,yield this.plugin.saveSettings()}))),new or.Setting(t).setName("ClientSecret").setDesc("Google client secret").addText(c=>c.setPlaceholder("Enter your client secret").setValue(this.plugin.settings.googleClientSecret).onChange(f=>U(this,null,function*(){this.plugin.settings.googleClientSecret=f,yield this.plugin.saveSettings()}))),new or.Setting(t).setName("ApiToken").setDesc("Google Api Token").addText(c=>c.setPlaceholder("Enter your api token").setValue(this.plugin.settings.googleApiToken).onChange(f=>U(this,null,function*(){this.plugin.settings.googleApiToken=f,yield this.plugin.saveSettings()})));let r=new or.Setting(t),n=c=>{c.setButtonText("Logout"),c.onClick(()=>U(this,null,function*(){ll(""),ol(""),ul(0),c.buttonEl.remove(),r.setName("Login"),r.setDesc("Login to your Google Account"),r.addButton(f=>{f.setButtonText("Login"),f.onClick(()=>U(this,null,function*(){sw()&&Zp()}))})}))};or.Platform.isDesktop?ji()?(r.setName("Logout"),r.setDesc("Logout off your Google Account"),r.addButton(n)):(r.setName("Login"),r.setDesc("Login to your Google Account"),r.addButton(c=>{c.setButtonText("Login"),c.onClick(()=>U(this,null,function*(){if(sw()){Zp();let f=0,d=setInterval(()=>{f++,f>900?clearInterval(d):ji()&&(clearInterval(d),c.buttonEl.remove(),r.setName("Logout"),r.setDesc("Logout off your Google Account"),r.addButton(n))},200)}}))})):new or.Setting(t).setName("Refresh Token").setDesc("Google Refresh Token from OAuth").addText(c=>c.setPlaceholder("Enter refresh token").setValue(this.plugin.settings.googleRefreshToken).onChange(f=>U(this,null,function*(){this.plugin.settings.googleRefreshToken=f,ll(f)}))),new or.Setting(t).setName("Auto create Event Notes").setDesc("Will create new notes from a event if the description contains :obsidian:").addToggle(c=>{c.setValue(this.plugin.settings.autoCreateEventNotes),c.onChange(f=>U(this,null,function*(){this.plugin.settings.autoCreateEventNotes=f,yield this.plugin.saveSettings()}))}),new or.Setting(t).setName("Keep auto created Notes open").setDesc("When creating a new note should it stay open for direct editing").addToggle(c=>{c.setValue(this.plugin.settings.autoCreateEventKeepOpen),c.onChange(f=>U(this,null,function*(){this.plugin.settings.autoCreateEventKeepOpen=f,yield this.plugin.saveSettings()}))});let i=qf(t,"Import Start Offset","Days in the past from events to import","SubSettings").createEl("input",{type:"number"});i.value=this.plugin.settings.importStartOffset+"",i.min="0",i.step="1",i.addEventListener("input",()=>U(this,null,function*(){this.plugin.settings.importStartOffset=parseInt(i.value),yield this.plugin.saveSettings()}));let a=qf(t,"Import End Offset","Days in the future from events to import","SubSettings").createEl("input",{type:"number"});a.value=this.plugin.settings.importEndOffset+"",a.min="0",a.step="1",a.addEventListener("input",()=>U(this,null,function*(){this.plugin.settings.importEndOffset=parseInt(a.value),yield this.plugin.saveSettings()})),new or.Setting(t).setName("Notifications").setDesc("Show notifications of info and errors").addToggle(c=>{c.setValue(this.plugin.settings.showNotice),c.onChange(f=>U(this,null,function*(){this.plugin.settings.showNotice=f,yield this.plugin.saveSettings()}))});let s=qf(t,"Refresh Interval","Time in seconds between refresh request from google server").createEl("input",{type:"number"});s.value=this.plugin.settings.refreshInterval+"",s.min="10",s.step="1",s.addEventListener("input",()=>U(this,null,function*(){this.plugin.settings.refreshInterval=parseInt(s.value),yield this.plugin.saveSettings()}));let l=this.plugin.settings.insertTemplates;if(l.length&&(new or.Setting(t).setName("Saved Templates"),l.forEach(c=>{let f=new or.Setting(t).setClass("SubSettings").setName(c.name).addButton(d=>{d.setButtonText("Remove"),d.onClick(()=>U(this,null,function*(){this.plugin.settings.insertTemplates.remove(c),f.settingEl.remove(),yield this.plugin.saveSettings()}))})})),Sn()){new or.Setting(t).setName("Default Calendar").addDropdown(f=>U(this,null,function*(){f.addOption("Default","Select a calendar"),(yield tn()).forEach(p=>{f.addOption(p.id,p.summary)}),f.setValue(this.plugin.settings.defaultCalendar),f.onChange(p=>U(this,null,function*(){this.plugin.settings.defaultCalendar=p,yield this.plugin.saveSettings()}))})),t.createEl("h3","Calendar Blacklist");let c=this.plugin.settings.calendarBlackList;new or.Setting(t).setName("Add Item to BlackList").addDropdown(f=>U(this,null,function*(){f.addOption("Default","Select Option to add"),(yield tn()).forEach(p=>{f.addOption(p.id+"_=_"+p.summary,p.summary)}),f.onChange(p=>U(this,null,function*(){let[g,v]=p.split("_=_");c.contains([g,v])||(this.plugin.settings.calendarBlackList=[...c,[g,v]],yield this.plugin.saveSettings());let m=new or.Setting(t).setClass("SubSettings").setName(v).addButton(_=>{_.setButtonText("Remove"),_.onClick(()=>U(this,null,function*(){this.plugin.settings.calendarBlackList.remove([g,v]),m.settingEl.remove(),yield this.plugin.saveSettings()}))})}))})),c.forEach(f=>{let d=new or.Setting(t).setClass("SubSettings").setName(f[1]).addButton(p=>{p.setButtonText("Remove"),p.onClick(()=>U(this,null,function*(){this.plugin.settings.calendarBlackList.remove(f),d.settingEl.remove(),yield this.plugin.saveSettings()}))})})}}};function $p(e=!0){let t=$e.getInstance();return t.settings.googleApiToken==""||t.settings.googleClientId==""||t.settings.googleClientSecret==""?(mr("Google Calendar missing settings",e),!1):!0}function sw(){let e=$e.getInstance();return/^AIza[0-9A-Za-z-_]{35}$/.test(e.settings.googleApiToken)==!1?(new or.Notice("API Token is not the correct format"),!1):/^[0-9a-zA-z-]*\.apps\.googleusercontent\.com$/.test(e.settings.googleClientId)==!1?(new or.Notice("Client ID Token is not the correct format"),!1):/^[0-9a-zA-z-]*$/.test(e.settings.googleClientSecret)==!1?(new or.Notice("Client Secret is not the correct format"),!1):!0}function Sn(e=!0){return!$p(!1)||ji()==""?(mr("Google Calendar missing settings or not logged in",e),!1):!0}var cS=Pt(require("obsidian"));function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(n){Gf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PM(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function OM(e,t){if(e==null)return{};var r=PM(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function MM(e,t){return UM(e)||FM(e,t)||qM(e,t)||GM()}function UM(e){if(Array.isArray(e))return e}function FM(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,l;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(c){a=!0,l=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw l}}return n}}function qM(e,t){if(!!e){if(typeof e=="string")return lw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lw(e,t)}}function lw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var KM={AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"\xC5land Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barth\xE9lemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BQ:"Caribbean Netherlands",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos Islands",CD:"Democratic Republic of the Congo",CF:"Central African Republic",CG:"Republic of the Congo",CH:"Switzerland",CI:"Ivory Coast",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cabo Verde",CW:"Cura\xE7ao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czechia",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"R\xE9union",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Eswatini",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States of America",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands (UK)",VI:"Virgin Islands (US)",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"},VM={"Africa/Abidjan":{u:0,c:["CI","BF","GH","GM","GN","ML","MR","SH","SL","SN","TG"]},"Africa/Accra":{a:"Africa/Abidjan",c:["GH"],r:1},"Africa/Addis_Ababa":{a:"Africa/Nairobi",c:["ET"],r:1},"Africa/Algiers":{u:60,c:["DZ"]},"Africa/Asmara":{a:"Africa/Nairobi",c:["ER"],r:1},"Africa/Asmera":{a:"Africa/Nairobi",c:["ER"],r:1},"Africa/Bamako":{a:"Africa/Abidjan",c:["ML"],r:1},"Africa/Bangui":{a:"Africa/Lagos",c:["CF"],r:1},"Africa/Banjul":{a:"Africa/Abidjan",c:["GM"],r:1},"Africa/Bissau":{u:0,c:["GW"]},"Africa/Blantyre":{a:"Africa/Maputo",c:["MW"],r:1},"Africa/Brazzaville":{a:"Africa/Lagos",c:["CG"],r:1},"Africa/Bujumbura":{a:"Africa/Maputo",c:["BI"],r:1},"Africa/Cairo":{u:120,c:["EG"]},"Africa/Casablanca":{u:60,d:0,c:["MA"]},"Africa/Ceuta":{u:60,d:120,c:["ES"]},"Africa/Conakry":{a:"Africa/Abidjan",c:["GN"],r:1},"Africa/Dakar":{a:"Africa/Abidjan",c:["SN"],r:1},"Africa/Dar_es_Salaam":{a:"Africa/Nairobi",c:["TZ"],r:1},"Africa/Djibouti":{a:"Africa/Nairobi",c:["DJ"],r:1},"Africa/Douala":{a:"Africa/Lagos",c:["CM"],r:1},"Africa/El_Aaiun":{u:60,d:0,c:["EH"]},"Africa/Freetown":{a:"Africa/Abidjan",c:["SL"],r:1},"Africa/Gaborone":{a:"Africa/Maputo",c:["BW"],r:1},"Africa/Harare":{a:"Africa/Maputo",c:["ZW"],r:1},"Africa/Johannesburg":{u:120,c:["ZA","LS","SZ"]},"Africa/Juba":{u:120,c:["SS"]},"Africa/Kampala":{a:"Africa/Nairobi",c:["UG"],r:1},"Africa/Khartoum":{u:120,c:["SD"]},"Africa/Kigali":{a:"Africa/Maputo",c:["RW"],r:1},"Africa/Kinshasa":{a:"Africa/Lagos",c:["CD"],r:1},"Africa/Lagos":{u:60,c:["NG","AO","BJ","CD","CF","CG","CM","GA","GQ","NE"]},"Africa/Libreville":{a:"Africa/Lagos",c:["GA"],r:1},"Africa/Lome":{a:"Africa/Abidjan",c:["TG"],r:1},"Africa/Luanda":{a:"Africa/Lagos",c:["AO"],r:1},"Africa/Lubumbashi":{a:"Africa/Maputo",c:["CD"],r:1},"Africa/Lusaka":{a:"Africa/Maputo",c:["ZM"],r:1},"Africa/Malabo":{a:"Africa/Lagos",c:["GQ"],r:1},"Africa/Maputo":{u:120,c:["MZ","BI","BW","CD","MW","RW","ZM","ZW"]},"Africa/Maseru":{a:"Africa/Johannesburg",c:["LS"],r:1},"Africa/Mbabane":{a:"Africa/Johannesburg",c:["SZ"],r:1},"Africa/Mogadishu":{a:"Africa/Nairobi",c:["SO"],r:1},"Africa/Monrovia":{u:0,c:["LR"]},"Africa/Nairobi":{u:180,c:["KE","DJ","ER","ET","KM","MG","SO","TZ","UG","YT"]},"Africa/Ndjamena":{u:60,c:["TD"]},"Africa/Niamey":{a:"Africa/Lagos",c:["NE"],r:1},"Africa/Nouakchott":{a:"Africa/Abidjan",c:["MR"],r:1},"Africa/Ouagadougou":{a:"Africa/Abidjan",c:["BF"],r:1},"Africa/Porto-Novo":{a:"Africa/Lagos",c:["BJ"],r:1},"Africa/Sao_Tome":{u:0,c:["ST"]},"Africa/Timbuktu":{a:"Africa/Abidjan",c:["ML"],r:1},"Africa/Tripoli":{u:120,c:["LY"]},"Africa/Tunis":{u:60,c:["TN"]},"Africa/Windhoek":{u:120,c:["NA"]},"America/Adak":{u:-600,d:-540,c:["US"]},"America/Anchorage":{u:-540,d:-480,c:["US"]},"America/Anguilla":{a:"America/Puerto_Rico",c:["AI"],r:1},"America/Antigua":{a:"America/Puerto_Rico",c:["AG"],r:1},"America/Araguaina":{u:-180,c:["BR"]},"America/Argentina/Buenos_Aires":{u:-180,c:["AR"]},"America/Argentina/Catamarca":{u:-180,c:["AR"]},"America/Argentina/ComodRivadavia":{a:"America/Argentina/Catamarca",r:1},"America/Argentina/Cordoba":{u:-180,c:["AR"]},"America/Argentina/Jujuy":{u:-180,c:["AR"]},"America/Argentina/La_Rioja":{u:-180,c:["AR"]},"America/Argentina/Mendoza":{u:-180,c:["AR"]},"America/Argentina/Rio_Gallegos":{u:-180,c:["AR"]},"America/Argentina/Salta":{u:-180,c:["AR"]},"America/Argentina/San_Juan":{u:-180,c:["AR"]},"America/Argentina/San_Luis":{u:-180,c:["AR"]},"America/Argentina/Tucuman":{u:-180,c:["AR"]},"America/Argentina/Ushuaia":{u:-180,c:["AR"]},"America/Aruba":{a:"America/Puerto_Rico",c:["AW"],r:1},"America/Asuncion":{u:-240,d:-180,c:["PY"]},"America/Atikokan":{a:"America/Panama",c:["CA"],r:1},"America/Atka":{a:"America/Adak",r:1},"America/Bahia":{u:-180,c:["BR"]},"America/Bahia_Banderas":{u:-360,d:-300,c:["MX"]},"America/Barbados":{u:-240,c:["BB"]},"America/Belem":{u:-180,c:["BR"]},"America/Belize":{u:-360,c:["BZ"]},"America/Blanc-Sablon":{a:"America/Puerto_Rico",c:["CA"],r:1},"America/Boa_Vista":{u:-240,c:["BR"]},"America/Bogota":{u:-300,c:["CO"]},"America/Boise":{u:-420,d:-360,c:["US"]},"America/Buenos_Aires":{a:"America/Argentina/Buenos_Aires",r:1},"America/Cambridge_Bay":{u:-420,d:-360,c:["CA"]},"America/Campo_Grande":{u:-240,c:["BR"]},"America/Cancun":{u:-300,c:["MX"]},"America/Caracas":{u:-240,c:["VE"]},"America/Catamarca":{a:"America/Argentina/Catamarca",r:1},"America/Cayenne":{u:-180,c:["GF"]},"America/Cayman":{a:"America/Panama",c:["KY"],r:1},"America/Chicago":{u:-360,d:-300,c:["US"]},"America/Chihuahua":{u:-420,d:-360,c:["MX"]},"America/Coral_Harbour":{a:"America/Panama",c:["CA"],r:1},"America/Cordoba":{a:"America/Argentina/Cordoba",r:1},"America/Costa_Rica":{u:-360,c:["CR"]},"America/Creston":{a:"America/Phoenix",c:["CA"],r:1},"America/Cuiaba":{u:-240,c:["BR"]},"America/Curacao":{a:"America/Puerto_Rico",c:["CW"],r:1},"America/Danmarkshavn":{u:0,c:["GL"]},"America/Dawson":{u:-420,c:["CA"]},"America/Dawson_Creek":{u:-420,c:["CA"]},"America/Denver":{u:-420,d:-360,c:["US"]},"America/Detroit":{u:-300,d:-240,c:["US"]},"America/Dominica":{a:"America/Puerto_Rico",c:["DM"],r:1},"America/Edmonton":{u:-420,d:-360,c:["CA"]},"America/Eirunepe":{u:-300,c:["BR"]},"America/El_Salvador":{u:-360,c:["SV"]},"America/Ensenada":{a:"America/Tijuana",r:1},"America/Fort_Nelson":{u:-420,c:["CA"]},"America/Fort_Wayne":{a:"America/Indiana/Indianapolis",r:1},"America/Fortaleza":{u:-180,c:["BR"]},"America/Glace_Bay":{u:-240,d:-180,c:["CA"]},"America/Godthab":{a:"America/Nuuk",r:1},"America/Goose_Bay":{u:-240,d:-180,c:["CA"]},"America/Grand_Turk":{u:-300,d:-240,c:["TC"]},"America/Grenada":{a:"America/Puerto_Rico",c:["GD"],r:1},"America/Guadeloupe":{a:"America/Puerto_Rico",c:["GP"],r:1},"America/Guatemala":{u:-360,c:["GT"]},"America/Guayaquil":{u:-300,c:["EC"]},"America/Guyana":{u:-240,c:["GY"]},"America/Halifax":{u:-240,d:-180,c:["CA"]},"America/Havana":{u:-300,d:-240,c:["CU"]},"America/Hermosillo":{u:-420,c:["MX"]},"America/Indiana/Indianapolis":{u:-300,d:-240,c:["US"]},"America/Indiana/Knox":{u:-360,d:-300,c:["US"]},"America/Indiana/Marengo":{u:-300,d:-240,c:["US"]},"America/Indiana/Petersburg":{u:-300,d:-240,c:["US"]},"America/Indiana/Tell_City":{u:-360,d:-300,c:["US"]},"America/Indiana/Vevay":{u:-300,d:-240,c:["US"]},"America/Indiana/Vincennes":{u:-300,d:-240,c:["US"]},"America/Indiana/Winamac":{u:-300,d:-240,c:["US"]},"America/Indianapolis":{a:"America/Indiana/Indianapolis",r:1},"America/Inuvik":{u:-420,d:-360,c:["CA"]},"America/Iqaluit":{u:-300,d:-240,c:["CA"]},"America/Jamaica":{u:-300,c:["JM"]},"America/Jujuy":{a:"America/Argentina/Jujuy",r:1},"America/Juneau":{u:-540,d:-480,c:["US"]},"America/Kentucky/Louisville":{u:-300,d:-240,c:["US"]},"America/Kentucky/Monticello":{u:-300,d:-240,c:["US"]},"America/Knox_IN":{a:"America/Indiana/Knox",r:1},"America/Kralendijk":{a:"America/Puerto_Rico",c:["BQ"],r:1},"America/La_Paz":{u:-240,c:["BO"]},"America/Lima":{u:-300,c:["PE"]},"America/Los_Angeles":{u:-480,d:-420,c:["US"]},"America/Louisville":{a:"America/Kentucky/Louisville",r:1},"America/Lower_Princes":{a:"America/Puerto_Rico",c:["SX"],r:1},"America/Maceio":{u:-180,c:["BR"]},"America/Managua":{u:-360,c:["NI"]},"America/Manaus":{u:-240,c:["BR"]},"America/Marigot":{a:"America/Puerto_Rico",c:["MF"],r:1},"America/Martinique":{u:-240,c:["MQ"]},"America/Matamoros":{u:-360,d:-300,c:["MX"]},"America/Mazatlan":{u:-420,d:-360,c:["MX"]},"America/Mendoza":{a:"America/Argentina/Mendoza",r:1},"America/Menominee":{u:-360,d:-300,c:["US"]},"America/Merida":{u:-360,d:-300,c:["MX"]},"America/Metlakatla":{u:-540,d:-480,c:["US"]},"America/Mexico_City":{u:-360,d:-300,c:["MX"]},"America/Miquelon":{u:-180,d:-120,c:["PM"]},"America/Moncton":{u:-240,d:-180,c:["CA"]},"America/Monterrey":{u:-360,d:-300,c:["MX"]},"America/Montevideo":{u:-180,c:["UY"]},"America/Montreal":{a:"America/Toronto",c:["CA"],r:1},"America/Montserrat":{a:"America/Puerto_Rico",c:["MS"],r:1},"America/Nassau":{a:"America/Toronto",c:["BS"],r:1},"America/New_York":{u:-300,d:-240,c:["US"]},"America/Nipigon":{u:-300,d:-240,c:["CA"]},"America/Nome":{u:-540,d:-480,c:["US"]},"America/Noronha":{u:-120,c:["BR"]},"America/North_Dakota/Beulah":{u:-360,d:-300,c:["US"]},"America/North_Dakota/Center":{u:-360,d:-300,c:["US"]},"America/North_Dakota/New_Salem":{u:-360,d:-300,c:["US"]},"America/Nuuk":{u:-180,d:-120,c:["GL"]},"America/Ojinaga":{u:-420,d:-360,c:["MX"]},"America/Panama":{u:-300,c:["PA","CA","KY"]},"America/Pangnirtung":{u:-300,d:-240,c:["CA"]},"America/Paramaribo":{u:-180,c:["SR"]},"America/Phoenix":{u:-420,c:["US","CA"]},"America/Port-au-Prince":{u:-300,d:-240,c:["HT"]},"America/Port_of_Spain":{a:"America/Puerto_Rico",c:["TT"],r:1},"America/Porto_Acre":{a:"America/Rio_Branco",r:1},"America/Porto_Velho":{u:-240,c:["BR"]},"America/Puerto_Rico":{u:-240,c:["PR","AG","CA","AI","AW","BL","BQ","CW","DM","GD","GP","KN","LC","MF","MS","SX","TT","VC","VG","VI"]},"America/Punta_Arenas":{u:-180,c:["CL"]},"America/Rainy_River":{u:-360,d:-300,c:["CA"]},"America/Rankin_Inlet":{u:-360,d:-300,c:["CA"]},"America/Recife":{u:-180,c:["BR"]},"America/Regina":{u:-360,c:["CA"]},"America/Resolute":{u:-360,d:-300,c:["CA"]},"America/Rio_Branco":{u:-300,c:["BR"]},"America/Rosario":{a:"America/Argentina/Cordoba",r:1},"America/Santa_Isabel":{a:"America/Tijuana",r:1},"America/Santarem":{u:-180,c:["BR"]},"America/Santiago":{u:-240,d:-180,c:["CL"]},"America/Santo_Domingo":{u:-240,c:["DO"]},"America/Sao_Paulo":{u:-180,c:["BR"]},"America/Scoresbysund":{u:-60,d:0,c:["GL"]},"America/Shiprock":{a:"America/Denver",r:1},"America/Sitka":{u:-540,d:-480,c:["US"]},"America/St_Barthelemy":{a:"America/Puerto_Rico",c:["BL"],r:1},"America/St_Johns":{u:-150,d:-90,c:["CA"]},"America/St_Kitts":{a:"America/Puerto_Rico",c:["KN"],r:1},"America/St_Lucia":{a:"America/Puerto_Rico",c:["LC"],r:1},"America/St_Thomas":{a:"America/Puerto_Rico",c:["VI"],r:1},"America/St_Vincent":{a:"America/Puerto_Rico",c:["VC"],r:1},"America/Swift_Current":{u:-360,c:["CA"]},"America/Tegucigalpa":{u:-360,c:["HN"]},"America/Thule":{u:-240,d:-180,c:["GL"]},"America/Thunder_Bay":{u:-300,d:-240,c:["CA"]},"America/Tijuana":{u:-480,d:-420,c:["MX"]},"America/Toronto":{u:-300,d:-240,c:["CA","BS"]},"America/Tortola":{a:"America/Puerto_Rico",c:["VG"],r:1},"America/Vancouver":{u:-480,d:-420,c:["CA"]},"America/Virgin":{a:"America/Puerto_Rico",c:["VI"],r:1},"America/Whitehorse":{u:-420,c:["CA"]},"America/Winnipeg":{u:-360,d:-300,c:["CA"]},"America/Yakutat":{u:-540,d:-480,c:["US"]},"America/Yellowknife":{u:-420,d:-360,c:["CA"]},"Antarctica/Casey":{u:660,c:["AQ"]},"Antarctica/Davis":{u:420,c:["AQ"]},"Antarctica/DumontDUrville":{a:"Pacific/Port_Moresby",c:["AQ"],r:1},"Antarctica/Macquarie":{u:600,d:660,c:["AU"]},"Antarctica/Mawson":{u:300,c:["AQ"]},"Antarctica/McMurdo":{a:"Pacific/Auckland",c:["AQ"],r:1},"Antarctica/Palmer":{u:-180,c:["AQ"]},"Antarctica/Rothera":{u:-180,c:["AQ"]},"Antarctica/South_Pole":{a:"Pacific/Auckland",c:["AQ"],r:1},"Antarctica/Syowa":{a:"Asia/Riyadh",c:["AQ"],r:1},"Antarctica/Troll":{u:0,d:120,c:["AQ"]},"Antarctica/Vostok":{u:360,c:["AQ"]},"Arctic/Longyearbyen":{a:"Europe/Oslo",c:["SJ"],r:1},"Asia/Aden":{a:"Asia/Riyadh",c:["YE"],r:1},"Asia/Almaty":{u:360,c:["KZ"]},"Asia/Amman":{u:120,d:180,c:["JO"]},"Asia/Anadyr":{u:720,c:["RU"]},"Asia/Aqtau":{u:300,c:["KZ"]},"Asia/Aqtobe":{u:300,c:["KZ"]},"Asia/Ashgabat":{u:300,c:["TM"]},"Asia/Ashkhabad":{a:"Asia/Ashgabat",r:1},"Asia/Atyrau":{u:300,c:["KZ"]},"Asia/Baghdad":{u:180,c:["IQ"]},"Asia/Bahrain":{a:"Asia/Qatar",c:["BH"],r:1},"Asia/Baku":{u:240,c:["AZ"]},"Asia/Bangkok":{u:420,c:["TH","KH","LA","VN"]},"Asia/Barnaul":{u:420,c:["RU"]},"Asia/Beirut":{u:120,d:180,c:["LB"]},"Asia/Bishkek":{u:360,c:["KG"]},"Asia/Brunei":{u:480,c:["BN"]},"Asia/Calcutta":{a:"Asia/Kolkata",r:1},"Asia/Chita":{u:540,c:["RU"]},"Asia/Choibalsan":{u:480,c:["MN"]},"Asia/Chongqing":{a:"Asia/Shanghai",r:1},"Asia/Chungking":{a:"Asia/Shanghai",r:1},"Asia/Colombo":{u:330,c:["LK"]},"Asia/Dacca":{a:"Asia/Dhaka",r:1},"Asia/Damascus":{u:120,d:180,c:["SY"]},"Asia/Dhaka":{u:360,c:["BD"]},"Asia/Dili":{u:540,c:["TL"]},"Asia/Dubai":{u:240,c:["AE","OM"]},"Asia/Dushanbe":{u:300,c:["TJ"]},"Asia/Famagusta":{u:120,d:180,c:["CY"]},"Asia/Gaza":{u:120,d:180,c:["PS"]},"Asia/Harbin":{a:"Asia/Shanghai",r:1},"Asia/Hebron":{u:120,d:180,c:["PS"]},"Asia/Ho_Chi_Minh":{u:420,c:["VN"]},"Asia/Hong_Kong":{u:480,c:["HK"]},"Asia/Hovd":{u:420,c:["MN"]},"Asia/Irkutsk":{u:480,c:["RU"]},"Asia/Istanbul":{a:"Europe/Istanbul",r:1},"Asia/Jakarta":{u:420,c:["ID"]},"Asia/Jayapura":{u:540,c:["ID"]},"Asia/Jerusalem":{u:120,d:180,c:["IL"]},"Asia/Kabul":{u:270,c:["AF"]},"Asia/Kamchatka":{u:720,c:["RU"]},"Asia/Karachi":{u:300,c:["PK"]},"Asia/Kashgar":{a:"Asia/Urumqi",r:1},"Asia/Kathmandu":{u:345,c:["NP"]},"Asia/Katmandu":{a:"Asia/Kathmandu",r:1},"Asia/Khandyga":{u:540,c:["RU"]},"Asia/Kolkata":{u:330,c:["IN"]},"Asia/Krasnoyarsk":{u:420,c:["RU"]},"Asia/Kuala_Lumpur":{u:480,c:["MY"]},"Asia/Kuching":{u:480,c:["MY"]},"Asia/Kuwait":{a:"Asia/Riyadh",c:["KW"],r:1},"Asia/Macao":{a:"Asia/Macau",r:1},"Asia/Macau":{u:480,c:["MO"]},"Asia/Magadan":{u:660,c:["RU"]},"Asia/Makassar":{u:480,c:["ID"]},"Asia/Manila":{u:480,c:["PH"]},"Asia/Muscat":{a:"Asia/Dubai",c:["OM"],r:1},"Asia/Nicosia":{u:120,d:180,c:["CY"]},"Asia/Novokuznetsk":{u:420,c:["RU"]},"Asia/Novosibirsk":{u:420,c:["RU"]},"Asia/Omsk":{u:360,c:["RU"]},"Asia/Oral":{u:300,c:["KZ"]},"Asia/Phnom_Penh":{a:"Asia/Bangkok",c:["KH"],r:1},"Asia/Pontianak":{u:420,c:["ID"]},"Asia/Pyongyang":{u:540,c:["KP"]},"Asia/Qatar":{u:180,c:["QA","BH"]},"Asia/Qostanay":{u:360,c:["KZ"]},"Asia/Qyzylorda":{u:300,c:["KZ"]},"Asia/Rangoon":{a:"Asia/Yangon",r:1},"Asia/Riyadh":{u:180,c:["SA","AQ","KW","YE"]},"Asia/Saigon":{a:"Asia/Ho_Chi_Minh",r:1},"Asia/Sakhalin":{u:660,c:["RU"]},"Asia/Samarkand":{u:300,c:["UZ"]},"Asia/Seoul":{u:540,c:["KR"]},"Asia/Shanghai":{u:480,c:["CN"]},"Asia/Singapore":{u:480,c:["SG","MY"]},"Asia/Srednekolymsk":{u:660,c:["RU"]},"Asia/Taipei":{u:480,c:["TW"]},"Asia/Tashkent":{u:300,c:["UZ"]},"Asia/Tbilisi":{u:240,c:["GE"]},"Asia/Tehran":{u:210,d:270,c:["IR"]},"Asia/Tel_Aviv":{a:"Asia/Jerusalem",r:1},"Asia/Thimbu":{a:"Asia/Thimphu",r:1},"Asia/Thimphu":{u:360,c:["BT"]},"Asia/Tokyo":{u:540,c:["JP"]},"Asia/Tomsk":{u:420,c:["RU"]},"Asia/Ujung_Pandang":{a:"Asia/Makassar",r:1},"Asia/Ulaanbaatar":{u:480,c:["MN"]},"Asia/Ulan_Bator":{a:"Asia/Ulaanbaatar",r:1},"Asia/Urumqi":{u:360,c:["CN"]},"Asia/Ust-Nera":{u:600,c:["RU"]},"Asia/Vientiane":{a:"Asia/Bangkok",c:["LA"],r:1},"Asia/Vladivostok":{u:600,c:["RU"]},"Asia/Yakutsk":{u:540,c:["RU"]},"Asia/Yangon":{u:390,c:["MM"]},"Asia/Yekaterinburg":{u:300,c:["RU"]},"Asia/Yerevan":{u:240,c:["AM"]},"Atlantic/Azores":{u:-60,d:0,c:["PT"]},"Atlantic/Bermuda":{u:-240,d:-180,c:["BM"]},"Atlantic/Canary":{u:0,d:60,c:["ES"]},"Atlantic/Cape_Verde":{u:-60,c:["CV"]},"Atlantic/Faeroe":{a:"Atlantic/Faroe",r:1},"Atlantic/Faroe":{u:0,d:60,c:["FO"]},"Atlantic/Jan_Mayen":{a:"Europe/Oslo",c:["SJ"],r:1},"Atlantic/Madeira":{u:0,d:60,c:["PT"]},"Atlantic/Reykjavik":{u:0,c:["IS"]},"Atlantic/South_Georgia":{u:-120,c:["GS"]},"Atlantic/St_Helena":{a:"Africa/Abidjan",c:["SH"],r:1},"Atlantic/Stanley":{u:-180,c:["FK"]},"Australia/ACT":{a:"Australia/Sydney",r:1},"Australia/Adelaide":{u:570,d:630,c:["AU"]},"Australia/Brisbane":{u:600,c:["AU"]},"Australia/Broken_Hill":{u:570,d:630,c:["AU"]},"Australia/Canberra":{a:"Australia/Sydney",r:1},"Australia/Currie":{a:"Australia/Hobart",r:1},"Australia/Darwin":{u:570,c:["AU"]},"Australia/Eucla":{u:525,c:["AU"]},"Australia/Hobart":{u:600,d:660,c:["AU"]},"Australia/LHI":{a:"Australia/Lord_Howe",r:1},"Australia/Lindeman":{u:600,c:["AU"]},"Australia/Lord_Howe":{u:630,d:660,c:["AU"]},"Australia/Melbourne":{u:600,d:660,c:["AU"]},"Australia/NSW":{a:"Australia/Sydney",r:1},"Australia/North":{a:"Australia/Darwin",r:1},"Australia/Perth":{u:480,c:["AU"]},"Australia/Queensland":{a:"Australia/Brisbane",r:1},"Australia/South":{a:"Australia/Adelaide",r:1},"Australia/Sydney":{u:600,d:660,c:["AU"]},"Australia/Tasmania":{a:"Australia/Hobart",r:1},"Australia/Victoria":{a:"Australia/Melbourne",r:1},"Australia/West":{a:"Australia/Perth",r:1},"Australia/Yancowinna":{a:"Australia/Broken_Hill",r:1},"Brazil/Acre":{a:"America/Rio_Branco",r:1},"Brazil/DeNoronha":{a:"America/Noronha",r:1},"Brazil/East":{a:"America/Sao_Paulo",r:1},"Brazil/West":{a:"America/Manaus",r:1},CET:{u:60,d:120},CST6CDT:{u:-360,d:-300},"Canada/Atlantic":{a:"America/Halifax",r:1},"Canada/Central":{a:"America/Winnipeg",r:1},"Canada/Eastern":{a:"America/Toronto",c:["CA"],r:1},"Canada/Mountain":{a:"America/Edmonton",r:1},"Canada/Newfoundland":{a:"America/St_Johns",r:1},"Canada/Pacific":{a:"America/Vancouver",r:1},"Canada/Saskatchewan":{a:"America/Regina",r:1},"Canada/Yukon":{a:"America/Whitehorse",r:1},"Chile/Continental":{a:"America/Santiago",r:1},"Chile/EasterIsland":{a:"Pacific/Easter",r:1},Cuba:{a:"America/Havana",r:1},EET:{u:120,d:180},EST:{u:-300},EST5EDT:{u:-300,d:-240},Egypt:{a:"Africa/Cairo",r:1},Eire:{a:"Europe/Dublin",r:1},"Etc/GMT":{u:0},"Etc/GMT+0":{a:"Etc/GMT",r:1},"Etc/GMT+1":{u:-60},"Etc/GMT+10":{u:-600},"Etc/GMT+11":{u:-660},"Etc/GMT+12":{u:-720},"Etc/GMT+2":{u:-120},"Etc/GMT+3":{u:-180},"Etc/GMT+4":{u:-240},"Etc/GMT+5":{u:-300},"Etc/GMT+6":{u:-360},"Etc/GMT+7":{u:-420},"Etc/GMT+8":{u:-480},"Etc/GMT+9":{u:-540},"Etc/GMT-0":{a:"Etc/GMT",r:1},"Etc/GMT-1":{u:60},"Etc/GMT-10":{u:600},"Etc/GMT-11":{u:660},"Etc/GMT-12":{u:720},"Etc/GMT-13":{u:780},"Etc/GMT-14":{u:840},"Etc/GMT-2":{u:120},"Etc/GMT-3":{u:180},"Etc/GMT-4":{u:240},"Etc/GMT-5":{u:300},"Etc/GMT-6":{u:360},"Etc/GMT-7":{u:420},"Etc/GMT-8":{u:480},"Etc/GMT-9":{u:540},"Etc/GMT0":{a:"Etc/GMT",r:1},"Etc/Greenwich":{a:"Etc/GMT",r:1},"Etc/UCT":{a:"Etc/UTC",r:1},"Etc/UTC":{u:0},"Etc/Universal":{a:"Etc/UTC",r:1},"Etc/Zulu":{a:"Etc/UTC",r:1},"Europe/Amsterdam":{u:60,d:120,c:["NL"]},"Europe/Andorra":{u:60,d:120,c:["AD"]},"Europe/Astrakhan":{u:240,c:["RU"]},"Europe/Athens":{u:120,d:180,c:["GR"]},"Europe/Belfast":{a:"Europe/London",c:["GB"],r:1},"Europe/Belgrade":{u:60,d:120,c:["RS","BA","HR","ME","MK","SI"]},"Europe/Berlin":{u:60,d:120,c:["DE"]},"Europe/Bratislava":{a:"Europe/Prague",c:["SK"],r:1},"Europe/Brussels":{u:60,d:120,c:["BE"]},"Europe/Bucharest":{u:120,d:180,c:["RO"]},"Europe/Budapest":{u:60,d:120,c:["HU"]},"Europe/Busingen":{a:"Europe/Zurich",c:["DE"],r:1},"Europe/Chisinau":{u:120,d:180,c:["MD"]},"Europe/Copenhagen":{u:60,d:120,c:["DK"]},"Europe/Dublin":{u:60,d:0,c:["IE"]},"Europe/Gibraltar":{u:60,d:120,c:["GI"]},"Europe/Guernsey":{a:"Europe/London",c:["GG"],r:1},"Europe/Helsinki":{u:120,d:180,c:["FI","AX"]},"Europe/Isle_of_Man":{a:"Europe/London",c:["IM"],r:1},"Europe/Istanbul":{u:180,c:["TR"]},"Europe/Jersey":{a:"Europe/London",c:["JE"],r:1},"Europe/Kaliningrad":{u:120,c:["RU"]},"Europe/Kiev":{u:120,d:180,c:["UA"]},"Europe/Kirov":{u:180,c:["RU"]},"Europe/Lisbon":{u:0,d:60,c:["PT"]},"Europe/Ljubljana":{a:"Europe/Belgrade",c:["SI"],r:1},"Europe/London":{u:0,d:60,c:["GB","GG","IM","JE"]},"Europe/Luxembourg":{u:60,d:120,c:["LU"]},"Europe/Madrid":{u:60,d:120,c:["ES"]},"Europe/Malta":{u:60,d:120,c:["MT"]},"Europe/Mariehamn":{a:"Europe/Helsinki",c:["AX"],r:1},"Europe/Minsk":{u:180,c:["BY"]},"Europe/Monaco":{u:60,d:120,c:["MC"]},"Europe/Moscow":{u:180,c:["RU"]},"Europe/Nicosia":{a:"Asia/Nicosia",r:1},"Europe/Oslo":{u:60,d:120,c:["NO","SJ","BV"]},"Europe/Paris":{u:60,d:120,c:["FR"]},"Europe/Podgorica":{a:"Europe/Belgrade",c:["ME"],r:1},"Europe/Prague":{u:60,d:120,c:["CZ","SK"]},"Europe/Riga":{u:120,d:180,c:["LV"]},"Europe/Rome":{u:60,d:120,c:["IT","SM","VA"]},"Europe/Samara":{u:240,c:["RU"]},"Europe/San_Marino":{a:"Europe/Rome",c:["SM"],r:1},"Europe/Sarajevo":{a:"Europe/Belgrade",c:["BA"],r:1},"Europe/Saratov":{u:240,c:["RU"]},"Europe/Simferopol":{u:180,c:["RU","UA"]},"Europe/Skopje":{a:"Europe/Belgrade",c:["MK"],r:1},"Europe/Sofia":{u:120,d:180,c:["BG"]},"Europe/Stockholm":{u:60,d:120,c:["SE"]},"Europe/Tallinn":{u:120,d:180,c:["EE"]},"Europe/Tirane":{u:60,d:120,c:["AL"]},"Europe/Tiraspol":{a:"Europe/Chisinau",r:1},"Europe/Ulyanovsk":{u:240,c:["RU"]},"Europe/Uzhgorod":{u:120,d:180,c:["UA"]},"Europe/Vaduz":{a:"Europe/Zurich",c:["LI"],r:1},"Europe/Vatican":{a:"Europe/Rome",c:["VA"],r:1},"Europe/Vienna":{u:60,d:120,c:["AT"]},"Europe/Vilnius":{u:120,d:180,c:["LT"]},"Europe/Volgograd":{u:180,c:["RU"]},"Europe/Warsaw":{u:60,d:120,c:["PL"]},"Europe/Zagreb":{a:"Europe/Belgrade",c:["HR"],r:1},"Europe/Zaporozhye":{u:120,d:180,c:["UA"]},"Europe/Zurich":{u:60,d:120,c:["CH","DE","LI"]},Factory:{u:0},GB:{a:"Europe/London",c:["GB"],r:1},"GB-Eire":{a:"Europe/London",c:["GB"],r:1},GMT:{a:"Etc/GMT",r:1},"GMT+0":{a:"Etc/GMT",r:1},"GMT-0":{a:"Etc/GMT",r:1},GMT0:{a:"Etc/GMT",r:1},Greenwich:{a:"Etc/GMT",r:1},HST:{u:-600},Hongkong:{a:"Asia/Hong_Kong",r:1},Iceland:{a:"Atlantic/Reykjavik",r:1},"Indian/Antananarivo":{a:"Africa/Nairobi",c:["MG"],r:1},"Indian/Chagos":{u:360,c:["IO"]},"Indian/Christmas":{u:420,c:["CX"]},"Indian/Cocos":{u:390,c:["CC"]},"Indian/Comoro":{a:"Africa/Nairobi",c:["KM"],r:1},"Indian/Kerguelen":{u:300,c:["TF","HM"]},"Indian/Mahe":{u:240,c:["SC"]},"Indian/Maldives":{u:300,c:["MV"]},"Indian/Mauritius":{u:240,c:["MU"]},"Indian/Mayotte":{a:"Africa/Nairobi",c:["YT"],r:1},"Indian/Reunion":{u:240,c:["RE","TF"]},Iran:{a:"Asia/Tehran",r:1},Israel:{a:"Asia/Jerusalem",r:1},Jamaica:{a:"America/Jamaica",r:1},Japan:{a:"Asia/Tokyo",r:1},Kwajalein:{a:"Pacific/Kwajalein",r:1},Libya:{a:"Africa/Tripoli",r:1},MET:{u:60,d:120},MST:{u:-420},MST7MDT:{u:-420,d:-360},"Mexico/BajaNorte":{a:"America/Tijuana",r:1},"Mexico/BajaSur":{a:"America/Mazatlan",r:1},"Mexico/General":{a:"America/Mexico_City",r:1},NZ:{a:"Pacific/Auckland",c:["NZ"],r:1},"NZ-CHAT":{a:"Pacific/Chatham",r:1},Navajo:{a:"America/Denver",r:1},PRC:{a:"Asia/Shanghai",r:1},PST8PDT:{u:-480,d:-420},"Pacific/Apia":{u:780,c:["WS"]},"Pacific/Auckland":{u:720,d:780,c:["NZ","AQ"]},"Pacific/Bougainville":{u:660,c:["PG"]},"Pacific/Chatham":{u:765,d:825,c:["NZ"]},"Pacific/Chuuk":{u:600,c:["FM"]},"Pacific/Easter":{u:-360,d:-300,c:["CL"]},"Pacific/Efate":{u:660,c:["VU"]},"Pacific/Enderbury":{a:"Pacific/Kanton",r:1},"Pacific/Fakaofo":{u:780,c:["TK"]},"Pacific/Fiji":{u:720,d:780,c:["FJ"]},"Pacific/Funafuti":{u:720,c:["TV"]},"Pacific/Galapagos":{u:-360,c:["EC"]},"Pacific/Gambier":{u:-540,c:["PF"]},"Pacific/Guadalcanal":{u:660,c:["SB"]},"Pacific/Guam":{u:600,c:["GU","MP"]},"Pacific/Honolulu":{u:-600,c:["US","UM"]},"Pacific/Johnston":{a:"Pacific/Honolulu",c:["UM"],r:1},"Pacific/Kanton":{u:780,c:["KI"]},"Pacific/Kiritimati":{u:840,c:["KI"]},"Pacific/Kosrae":{u:660,c:["FM"]},"Pacific/Kwajalein":{u:720,c:["MH"]},"Pacific/Majuro":{u:720,c:["MH"]},"Pacific/Marquesas":{u:-510,c:["PF"]},"Pacific/Midway":{a:"Pacific/Pago_Pago",c:["UM"],r:1},"Pacific/Nauru":{u:720,c:["NR"]},"Pacific/Niue":{u:-660,c:["NU"]},"Pacific/Norfolk":{u:660,d:720,c:["NF"]},"Pacific/Noumea":{u:660,c:["NC"]},"Pacific/Pago_Pago":{u:-660,c:["AS","UM"]},"Pacific/Palau":{u:540,c:["PW"]},"Pacific/Pitcairn":{u:-480,c:["PN"]},"Pacific/Pohnpei":{u:660,c:["FM"]},"Pacific/Ponape":{a:"Pacific/Pohnpei",r:1},"Pacific/Port_Moresby":{u:600,c:["PG","AQ"]},"Pacific/Rarotonga":{u:-600,c:["CK"]},"Pacific/Saipan":{a:"Pacific/Guam",c:["MP"],r:1},"Pacific/Samoa":{a:"Pacific/Pago_Pago",c:["WS"],r:1},"Pacific/Tahiti":{u:-600,c:["PF"]},"Pacific/Tarawa":{u:720,c:["KI"]},"Pacific/Tongatapu":{u:780,c:["TO"]},"Pacific/Truk":{a:"Pacific/Chuuk",r:1},"Pacific/Wake":{u:720,c:["UM"]},"Pacific/Wallis":{u:720,c:["WF"]},"Pacific/Yap":{a:"Pacific/Chuuk",r:1},Poland:{a:"Europe/Warsaw",r:1},Portugal:{a:"Europe/Lisbon",r:1},ROC:{a:"Asia/Taipei",r:1},ROK:{a:"Asia/Seoul",r:1},Singapore:{a:"Asia/Singapore",c:["SG"],r:1},Turkey:{a:"Europe/Istanbul",r:1},UCT:{a:"Etc/UTC",r:1},"US/Alaska":{a:"America/Anchorage",r:1},"US/Aleutian":{a:"America/Adak",r:1},"US/Arizona":{a:"America/Phoenix",c:["US"],r:1},"US/Central":{a:"America/Chicago",r:1},"US/East-Indiana":{a:"America/Indiana/Indianapolis",r:1},"US/Eastern":{a:"America/New_York",r:1},"US/Hawaii":{a:"Pacific/Honolulu",c:["US"],r:1},"US/Indiana-Starke":{a:"America/Indiana/Knox",r:1},"US/Michigan":{a:"America/Detroit",r:1},"US/Mountain":{a:"America/Denver",r:1},"US/Pacific":{a:"America/Los_Angeles",r:1},"US/Samoa":{a:"Pacific/Pago_Pago",c:["WS"],r:1},UTC:{a:"Etc/UTC",r:1},Universal:{a:"Etc/UTC",r:1},"W-SU":{a:"Europe/Moscow",r:1},WET:{u:0,d:60},Zulu:{a:"Etc/UTC",r:1}},Hl={countries:KM,timezones:VM},ig;function HM(e,t){var r=e.countries[t];if(!r)return null;var n=YM(e)[t]||{};return{id:t,name:r,timezones:n.current||[],allTimezones:n.all||[]}}function YM(e){return ig||(ig=jM(e)),ig}function jM(e){return Object.keys(e.timezones).reduce(function(t,r){var n=e.timezones[r],i=n.c,a=n.a,s=e.timezones[a]||{},l=i||s.c;return l&&l.forEach(function(c){t[c]||Object.assign(t,Gf({},c,{current:[],all:[]})),n.r===void 0&&t[c].current.push(r),t[c].all.push(r)}),t},{})}function WM(e,t){var r=e.timezones[t];if(!r)return null;var n=r.a,i=n===void 0?null:n,a=i?e.timezones[i]:{},s=Vl(Vl({},a),e.timezones[t]),l=s.c||[],c=s.u,f=Number.isInteger(s.d)?s.d:c,d={name:t,countries:l,utcOffset:c,utcOffsetStr:uw(c),dstOffset:f,dstOffsetStr:uw(f),aliasOf:i};return r.r&&(d.deprecated=!0),d}function uw(e){var t=Math.floor(e/60),r=e%60,n=e<0?"-":"+";return"".concat(n).concat(cw(t),":").concat(cw(r))}function cw(e){var t=Math.abs(e),r=t<10?"0":"";return"".concat(r).concat(t)}var zM=["allTimezones"],JM=Object.keys(Hl.timezones).length,ag={},Yl={},fw=0;function QM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(Hl.countries).reduce(function(t,r){return Object.assign(t,Gf({},r,Kf(r,e)))},{})}function XM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return JM!==fw&&Object.keys(Hl.timezones).forEach(Vf),rU(Yl,e)}function Kf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ag[e]||ZM(HM(Hl,e)),nU(ag[e],t)}function ZM(e){!e||(ag[e.id]=e)}function Vf(e){return Yl[e]||$M(WM(Hl,e)),Yl[e]?Vl({},Yl[e]):null}function $M(e){!e||(Yl[e.name]=e,fw=Object.keys(e).length)}function dw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=Vf(e)||{},n=r.countries||[];return n.map(function(i){return Kf(i,t)})}function eU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=dw(e,t),n=MM(r,1),i=n[0];return i||null}function tU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=Kf(e,t);if(!r)return null;var n=r.timezones||[];return n.map(Vf)}function rU(e,t){var r=t||{},n=r.deprecated;return n===!0?e:Object.keys(e).reduce(function(i,a){return e[a].deprecated||Object.assign(i,Gf({},a,e[a])),i},{})}function nU(e,t){if(!e)return null;var r=t||{},n=r.deprecated;e.allTimezones;var i=OM(e,zM),a=n?e.allTimezones:e.timezones;return Vl(Vl({},i),{},{timezones:a})}var hw={getCountry:Kf,getTimezone:Vf,getAllCountries:QM,getAllTimezones:XM,getTimezonesForCountry:tU,getCountriesForTimezone:dw,getCountryForTimezone:eU};var pw=Pt(require("obsidian")),Hf=new Map;function ci(){Hf.clear()}function cr(){return U(this,arguments,function*({startDate:e,endDate:t,exclude:r,include:n}={}){let i=$e.getInstance();e||(e=window.moment()),e=e.startOf("day"),t||(t=e.clone()),t=t.endOf("day");let a=yield tn();n&&n.length?a=a.filter(l=>n.contains(l.id)||n.contains(l.summary)):r&&r.length&&(a=a.filter(l=>!(r.contains(l.id)||r.contains(l.summary))));let s=[];for(let l=0;l<a.length;l++){let c=yield sU(i,a[l],e,t);s=[...s,...c]}return s=s.sort((l,c)=>{let f=window.moment(l.start.date||l.start.dateTime),d=window.moment(c.start.date||c.start.dateTime);return f.isBefore(d,"minute")?-1:1}),s})}function iU(e,t,r,n){return U(this,null,function*(){let i,a=2500,s=[];try{do{let l=`https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(t.id)}/events`;l+=`?key=${e.settings.googleApiToken}`,l+=`&maxResults=${a}`,l+="&singleEvents=True",l+="&orderBy=startTime",l+=`&timeMin=${r}`,l+=`&timeMax=${n}`,i&&i.nextPageToken&&(l+=`&nextPageToken=${i.nextPageToken}`),i=yield(yield(0,pw.requestUrl)({url:l,method:"GET",contentType:"application/json",headers:{Authorization:"Bearer "+(yield Hn())}})).json,i.items.forEach(d=>{d.parent=t});let f=i.items.filter(d=>d.status!="cancelled");s=[...s,...f]}while(i.items.length==a)}catch(l){return console.log(l),mr("Could not load google events"),[]}return s})}function aU(e,t,r){let n=[];return e.forEach(i=>{if(i.start.dateTime&&i.end.dateTime){let a=window.moment(i.end.dateTime),s=window.moment(i.start.dateTime);if(!s.isSame(a,"day")){let l=[],c=a.endOf("day").diff(s.startOf("day"),"days")+1,f=i.summary,d=1;do i.summary=`${f} (Day ${d}/${c})`,i.eventType="multiDay",l=[...l,structuredClone(i)],d++,s=s.add(1,"days"),i.start.dateTime=s.format("YYYY-MM-DD HH:mm");while(!s.isAfter(a,"day"));l=l.filter(p=>{let g=window.moment(p.start.dateTime);return!(t&&g.isBefore(t,"day")||r&&g.isSameOrAfter(r,"day"))}),i.eventType="delete",n=[...n,...l]}}}),e=[...e,...n],e}function sU(e,t,r,n){return U(this,null,function*(){let i=hw.getTimezone(t.timeZone),a=r.toISOString(),s=n.toISOString(),l=JSON.stringify({start:a,end:s,calendar:t.id});if(Hf.has(l)){let{events:f,updated:d}=Hf.get(l);if(d.clone().add(e.settings.refreshInterval,"second").isAfter(window.moment()))return f}let c=yield iU(e,t,a,s);return c=aU(c,r,n),c=c.filter(f=>f.eventType!=="delete"),Hf.set(l,{events:c,updated:window.moment()}),c})}var uS=Pt(require("obsidian"));var lS=Pt(require("obsidian"));function bt(){}function sg(e){return e()}function gw(){return Object.create(null)}function Mr(e){e.forEach(sg)}function mw(e){return typeof e=="function"}function pn(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}var Yf;function jl(e,t){return Yf||(Yf=document.createElement("a")),Yf.href=t,e===Yf.href}function yw(e){return Object.keys(e).length===0}function Bo(e){return e==null?"":e}var mK=typeof window!="undefined";var yK=new Set;var vw=!1;function oU(){vw=!0}function lU(){vw=!1}function te(e,t){e.appendChild(t)}function Yn(e,t,r){let n=uU(e);if(!n.getElementById(t)){let i=ie("style");i.id=t,i.textContent=r,cU(n,i)}}function uU(e){if(!e)return document;let t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function cU(e,t){te(e.head||e,t)}function Ae(e,t,r){e.insertBefore(t,r||null)}function Ee(e){e.parentNode.removeChild(e)}function Vr(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function ie(e){return document.createElement(e)}function Jt(e){return document.createTextNode(e)}function Re(){return Jt(" ")}function jn(){return Jt("")}function Je(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function ee(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function Wl(e){return e===""?null:+e}function fU(e){return Array.from(e.childNodes)}function Wn(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function rn(e,t){e.value=t==null?"":t}function et(e,t,r,n){r===null?e.style.removeProperty(t):e.style.setProperty(t,r,n?"important":"")}function Bi(e,t){for(let r=0;r<e.options.length;r+=1){let n=e.options[r];if(n.__value===t){n.selected=!0;return}}e.selectedIndex=-1}function No(e){let t=e.querySelector(":checked")||e.options[0];return t&&t.__value}var vK=new Map;var zl;function Jl(e){zl=e}function _w(){if(!zl)throw new Error("Function called outside component initialization");return zl}function Ql(e){_w().$$.on_mount.push(e)}function ys(e){_w().$$.on_destroy.push(e)}var Xl=[];var zn=[],jf=[],og=[],dU=Promise.resolve(),lg=!1;function hU(){lg||(lg=!0,dU.then(Ew))}function ta(e){jf.push(e)}function vs(e){og.push(e)}var ug=new Set,Wf=0;function Ew(){let e=zl;do{for(;Wf<Xl.length;){let t=Xl[Wf];Wf++,Jl(t),pU(t.$$)}for(Jl(null),Xl.length=0,Wf=0;zn.length;)zn.pop()();for(let t=0;t<jf.length;t+=1){let r=jf[t];ug.has(r)||(ug.add(r),r())}jf.length=0}while(Xl.length);for(;og.length;)og.pop()();lg=!1,ug.clear(),Jl(e)}function pU(e){if(e.fragment!==null){e.update(),Mr(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ta)}}var zf=new Set,_s;function Jf(){_s={r:0,c:[],p:_s}}function Qf(){_s.r||Mr(_s.c),_s=_s.p}function Jn(e,t){e&&e.i&&(zf.delete(e),e.i(t))}function fi(e,t,r,n){if(e&&e.o){if(zf.has(e))return;zf.add(e),_s.c.push(()=>{zf.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}else n&&n()}var _K=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var EK=new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);function Es(e,t,r){let n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}function Zl(e){e&&e.c()}function Do(e,t,r,n){let{fragment:i,on_mount:a,on_destroy:s,after_update:l}=e.$$;i&&i.m(t,r),n||ta(()=>{let c=a.map(sg).filter(mw);s?s.push(...c):Mr(c),e.$$.on_mount=[]}),l.forEach(ta)}function Cs(e,t){let r=e.$$;r.fragment!==null&&(Mr(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function gU(e,t){e.$$.dirty[0]===-1&&(Xl.push(e),hU(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function gn(e,t,r,n,i,a,s,l=[-1]){let c=zl;Jl(e);let f=e.$$={fragment:null,ctx:null,props:a,update:bt,not_equal:i,bound:gw(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:gw(),dirty:l,skip_bound:!1,root:t.target||c.$$.root};s&&s(f.root);let d=!1;if(f.ctx=r?r(e,t.props||{},(p,g,...v)=>{let m=v.length?v[0]:g;return f.ctx&&i(f.ctx[p],f.ctx[p]=m)&&(!f.skip_bound&&f.bound[p]&&f.bound[p](m),d&&gU(e,p)),g}):[],f.update(),d=!0,Mr(f.before_update),f.fragment=n?n(f.ctx):!1,t.target){if(t.hydrate){oU();let p=fU(t.target);f.fragment&&f.fragment.l(p),p.forEach(Ee)}else f.fragment&&f.fragment.c();t.intro&&Jn(e.$$.fragment),Do(e,t.target,t.anchor,t.customElement),lU(),Ew()}Jl(c)}var mU;typeof HTMLElement=="function"&&(mU=class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(sg).filter(mw);for(let t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(e,t,r){this[e]=r}disconnectedCallback(){Mr(this.$$.on_disconnect)}$destroy(){Cs(this,1),this.$destroy=bt}$on(e,t){let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{let n=r.indexOf(t);n!==-1&&r.splice(n,1)}}$set(e){this.$$set&&!yw(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var nn=class{$destroy(){Cs(this,1),this.$destroy=bt}$on(t,r){let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!yw(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};var Gw=Pt(fg()),{__extends:wK,__assign:bK,__rest:SK,__decorate:TK,__param:xK,__metadata:IK,__awaiter:vr,__generator:kK,__exportStar:RK,__createBinding:BK,__values:NK,__read:DK,__spread:LK,__spreadArrays:PK,__spreadArray:OK,__await:MK,__asyncGenerator:UK,__asyncDelegator:FK,__asyncValues:qK,__makeTemplateObject:GK,__importStar:KK,__importDefault:VK,__classPrivateFieldGet:HK,__classPrivateFieldSet:YK}=Gw.default;var Kw=Pt(require("obsidian"));function ed(e,t=!1){return U(this,null,function*(){var a;let r=$e.getInstance(),n=(a=e.recurringEventId)!=null?a:e.id;return t&&e.recurringEventId&&(n=e.id),(yield(0,Kw.requestUrl)({url:`https://www.googleapis.com/calendar/v3/calendars/${e.parent.id}/events/${n}?key=${r.settings.googleApiToken}`,method:"DELETE",contentType:"application/json",headers:{Authorization:"Bearer "+(yield Hn())}})).status==204})}var Vw=Pt(require("obsidian"));function td(e,t=!1){return U(this,null,function*(){var a;let r=$e.getInstance(),n=(a=e.recurringEventId)!=null?a:e.id;t&&e.recurringEventId&&(n=e.id);let i=e.parent.id;delete e.parent;try{return yield(yield(0,Vw.requestUrl)({url:`https://www.googleapis.com/calendar/v3/calendars/${i}/events/${n}?key=${r.settings.googleApiToken}`,method:"PUT",contentType:"application/json",headers:{Authorization:"Bearer "+(yield Hn())},body:JSON.stringify(e)})).json}catch(s){mr("Could not delete google event");return}})}var Hw=Pt(require("obsidian"));function Yw(e){return U(this,null,function*(){let t=$e.getInstance(),r=e.parent.id;e.start.timeZone=e.parent.timeZone,e.end.timeZone=e.parent.timeZone,delete e.parent;try{return yield(yield(0,Hw.requestUrl)({url:`https://www.googleapis.com/calendar/v3/calendars/${r}/events?key=${t.settings.googleApiToken}`,method:"POST",headers:{Authorization:"Bearer "+(yield Hn())},body:JSON.stringify(e)})).json}catch(n){return mr("Could not create google event"),null}})}var ra=Pt(require("obsidian"));var jw=Pt(rd()),dg=e=>U(void 0,null,function*(){var s,l;if(!e.settings.autoCreateEventNotes||!Sn())return;let t=Math.abs(e.settings.importStartOffset),r=Math.abs(e.settings.importEndOffset),n=window.moment().local().subtract(t,"day"),i=window.moment().local().add(r,"day"),a=yield cr({startDate:n,endDate:i});for(let c=0;c<a.length;c++){let f=(l=(s=a[c].description)==null?void 0:s.match(/:(.*-)?obsidian-?(.*)?:/))!=null?l:[];f.length==3&&(yield zw(a[c],f[1],f[2]))}}),Ww=e=>U(void 0,null,function*(){var r,n;if(!Sn())return;let t=(n=(r=e.description)==null?void 0:r.match(/:(.*-)?obsidian-?(.*)?:/))!=null?n:[];yield zw(e,t==null?void 0:t[1],t==null?void 0:t[2])}),zw=(e,t,r)=>U(void 0,null,function*(){let n=$e.getInstance(),{vault:i}=n.app,{adapter:a}=i,s=app.fileManager.getNewFileParent("").path;t&&(t.endsWith("-")&&(t=t.slice(0,-1)),t="/"+t.split(/[/\\]/).join("/"),(yield a.exists(t))&&(s=t));let l=(0,ra.normalizePath)(`${s}/${e.summary}.md`);if(yield a.exists(l))return;let c=yield i.create(l,"");if(mr(`EventNote ${e.summary} created.`),!n.coreTemplatePlugin&&!n.templaterPlugin||!r)return;r.match(/.*\.md/)||(r=r+".md");let f={state:{mode:"source"},active:!0},d=yield app.workspace.getLeaf(!0);if(yield d.setViewState({type:"MarkdownView"}),yield app.workspace.setActiveLeaf(d,!1,!0),yield d.openFile(c,f),n.templaterPlugin&&n.coreTemplatePlugin?(yield g())||(yield p())||mr("Template not compatable"):n.templaterPlugin?(yield g())||mr("Template not compatable"):n.coreTemplatePlugin&&((yield p())||mr("Template not compatable")),d.view instanceof ra.MarkdownView){let v=d.view.editor.getValue(),m=v,_=/{{gEvent\.([^}>]*)}}/gm,E,A=[];do E=_.exec(v),A.push(E);while(E);A.forEach(x=>{if(x){let B=jw.default.get(e,x[1],"");B===Object(B)&&(B=JSON.stringify(B)),v=v.replace(x[0],B!=null?B:"")}}),v!==m&&d.view.editor.setValue(v)}n.settings.autoCreateEventKeepOpen||d.detach();function p(){return U(this,null,function*(){let v=(0,ra.normalizePath)(n.coreTemplatePlugin.instance.options.folder),m=`${v}/${r}`;if(v==="/"&&(m=r),!(yield a.exists(m)))return mr(`Core Template: ${r} doesn't exit.`),!1;let _=i.getAbstractFileByPath(m);if(!(_ instanceof ra.TFile))return!1;let E=yield i.cachedRead(_);if(E.contains("<%")&&E.contains("%>"))return!1;try{return yield n.coreTemplatePlugin.instance.insertTemplate(_),!0}catch(A){return!1}})}function g(){return U(this,null,function*(){let v=(0,ra.normalizePath)(n.templaterPlugin.settings.templates_folder),m=`${v}/${r}`;if(v==="/"&&(m=r),!(yield a.exists(m)))return mr(`Templater Template: ${r} doesn't exit.`),!1;let _=n.app.vault.getAbstractFileByPath(m);if(!(_ instanceof ra.TFile))return!1;let E=yield i.cachedRead(_);if(E=E.replace(/{{gEvent\.([^}>]*)}}/gm,""),E.contains("{{")&&E.contains("}}"))return!1;try{return yield n.templaterPlugin.templater.append_template_to_active_file(_),!0}catch(A){return!1}})}});var nd=["MO","TU","WE","TH","FR","SA","SU"],_r=function(){function e(t,r){if(r===0)throw new Error("Can't create weekday with n == 0");this.weekday=t,this.n=r}return e.fromStr=function(t){return new e(nd.indexOf(t))},e.prototype.nth=function(t){return this.n===t?this:new e(this.weekday,t)},e.prototype.equals=function(t){return this.weekday===t.weekday&&this.n===t.n},e.prototype.toString=function(){var t=nd[this.weekday];return this.n&&(t=(this.n>0?"+":"")+String(this.n)+t),t},e.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},e}();var Qt=function(e){return e!=null},Tn=function(e){return typeof e=="number"},hg=function(e){return nd.indexOf(e)>=0},Ur=Array.isArray,Qn=function(e,t){t===void 0&&(t=e),arguments.length===1&&(t=e,e=0);for(var r=[],n=e;n<t;n++)r.push(n);return r};var Ct=function(e,t){var r=0,n=[];if(Ur(e))for(;r<t;r++)n[r]=[].concat(e);else for(;r<t;r++)n[r]=e;return n},Jw=function(e){return Ur(e)?e:[e]};function As(e,t,r){r===void 0&&(r=" ");var n=String(e);return t=t>>0,n.length>t?String(n):(t=t-n.length,t>r.length&&(r+=Ct(r,t/r.length)),r.slice(0,t)+String(n))}var Qw=function(e,t,r){var n=e.split(t);return r?n.slice(0,r).concat([n.slice(r).join(t)]):n},Hr=function(e,t){var r=e%t;return r*t<0?r+t:r},id=function(e,t){return{div:Math.floor(e/t),mod:Hr(e,t)}},xn=function(e){return!Qt(e)||e.length===0},hr=function(e){return!xn(e)},St=function(e,t){return hr(e)&&e.indexOf(t)!==-1};var La;(function(e){e.MONTH_DAYS=[31,28,31,30,31,30,31,31,30,31,30,31],e.ONE_DAY=1e3*60*60*24,e.MAXYEAR=9999,e.ORDINAL_BASE=new Date(Date.UTC(1970,0,1)),e.PY_WEEKDAYS=[6,0,1,2,3,4,5],e.getYearDay=function(t){var r=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate());return Math.ceil((r.valueOf()-new Date(t.getUTCFullYear(),0,1).valueOf())/e.ONE_DAY)+1},e.isLeapYear=function(t){return t%4==0&&t%100!=0||t%400==0},e.isDate=function(t){return t instanceof Date},e.isValidDate=function(t){return e.isDate(t)&&!isNaN(t.getTime())},e.tzOffset=function(t){return t.getTimezoneOffset()*60*1e3},e.daysBetween=function(t,r){var n=t.getTime()-e.tzOffset(t),i=r.getTime()-e.tzOffset(r),a=n-i;return Math.round(a/e.ONE_DAY)},e.toOrdinal=function(t){return e.daysBetween(t,e.ORDINAL_BASE)},e.fromOrdinal=function(t){return new Date(e.ORDINAL_BASE.getTime()+t*e.ONE_DAY)},e.getMonthDays=function(t){var r=t.getUTCMonth();return r===1&&e.isLeapYear(t.getUTCFullYear())?29:e.MONTH_DAYS[r]},e.getWeekday=function(t){return e.PY_WEEKDAYS[t.getUTCDay()]},e.monthRange=function(t,r){var n=new Date(Date.UTC(t,r,1));return[e.getWeekday(n),e.getMonthDays(n)]},e.combine=function(t,r){return r=r||t,new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()))},e.clone=function(t){var r=new Date(t.getTime());return r},e.cloneDates=function(t){for(var r=[],n=0;n<t.length;n++)r.push(e.clone(t[n]));return r},e.sort=function(t){t.sort(function(r,n){return r.getTime()-n.getTime()})},e.timeToUntilString=function(t,r){r===void 0&&(r=!0);var n=new Date(t);return[As(n.getUTCFullYear().toString(),4,"0"),As(n.getUTCMonth()+1,2,"0"),As(n.getUTCDate(),2,"0"),"T",As(n.getUTCHours(),2,"0"),As(n.getUTCMinutes(),2,"0"),As(n.getUTCSeconds(),2,"0"),r?"Z":""].join("")},e.untilStringToDate=function(t){var r=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,n=r.exec(t);if(!n)throw new Error("Invalid UNTIL value: "+t);return new Date(Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[5],10)||0,parseInt(n[6],10)||0,parseInt(n[7],10)||0))}})(La||(La={}));var ze=La;var yU=function(){function e(t,r){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=t,this.args=r,t==="between"?(this.maxDate=r.inc?r.before:new Date(r.before.getTime()-1),this.minDate=r.inc?r.after:new Date(r.after.getTime()+1)):t==="before"?this.maxDate=r.inc?r.dt:new Date(r.dt.getTime()-1):t==="after"&&(this.minDate=r.inc?r.dt:new Date(r.dt.getTime()+1))}return e.prototype.accept=function(t){++this.total;var r=this.minDate&&t<this.minDate,n=this.maxDate&&t>this.maxDate;if(this.method==="between"){if(r)return!0;if(n)return!1}else if(this.method==="before"){if(n)return!1}else if(this.method==="after")return r?!0:(this.add(t),!1);return this.add(t)},e.prototype.add=function(t){return this._result.push(t),!0},e.prototype.getValue=function(){var t=this._result;switch(this.method){case"all":case"between":return t;case"before":case"after":default:return t.length?t[t.length-1]:null}},e.prototype.clone=function(){return new e(this.method,this.args)},e}(),na=yU;var vb=Pt(yb()),{__extends:Mo,__assign:an,__rest:I9,__decorate:k9,__param:R9,__metadata:B9,__awaiter:N9,__generator:D9,__exportStar:L9,__createBinding:P9,__values:O9,__read:M9,__spread:U9,__spreadArrays:ws,__await:F9,__asyncGenerator:q9,__asyncDelegator:G9,__asyncValues:K9,__makeTemplateObject:V9,__importStar:H9,__importDefault:Y9,__classPrivateFieldGet:j9,__classPrivateFieldSet:W9}=vb.default;var vU=function(e){Mo(t,e);function t(r,n,i){var a=e.call(this,r,n)||this;return a.iterator=i,a}return t.prototype.add=function(r){return this.iterator(r,this._result.length)?(this._result.push(r),!0):!1},t}(na),gg=vU;var _U={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},bs=_U;var _b=function(e,t){return e.indexOf(t)!==-1},EU=function(e){return e.toString()},CU=function(e,t,r){return t+" "+r+", "+e},AU=function(){function e(t,r,n,i){if(r===void 0&&(r=EU),n===void 0&&(n=bs),i===void 0&&(i=CU),this.text=[],this.language=n||bs,this.gettext=r,this.dateFormatter=i,this.rrule=t,this.options=t.options,this.origOptions=t.origOptions,this.origOptions.bymonthday){var a=[].concat(this.options.bymonthday),s=[].concat(this.options.bynmonthday);a.sort(function(d,p){return d-p}),s.sort(function(d,p){return p-d}),this.bymonthday=a.concat(s),this.bymonthday.length||(this.bymonthday=null)}if(Qt(this.origOptions.byweekday)){var l=Ur(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],c=String(l);this.byweekday={allWeeks:l.filter(function(d){return!d.n}),someWeeks:l.filter(function(d){return Boolean(d.n)}),isWeekdays:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")===-1&&c.indexOf("SU")===-1,isEveryDay:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")!==-1&&c.indexOf("SU")!==-1};var f=function(d,p){return d.weekday-p.weekday};this.byweekday.allWeeks.sort(f),this.byweekday.someWeeks.sort(f),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return e.isFullyConvertible=function(t){var r=!0;if(!(t.options.freq in e.IMPLEMENTED)||t.origOptions.until&&t.origOptions.count)return!1;for(var n in t.origOptions){if(_b(["dtstart","wkst","freq"],n))return!0;if(!_b(e.IMPLEMENTED[t.options.freq],n))return!1}return r},e.prototype.isFullyConvertible=function(){return e.isFullyConvertible(this.rrule)},e.prototype.toString=function(){var t=this.gettext;if(!(this.options.freq in e.IMPLEMENTED))return t("RRule error: Unable to fully convert this rrule to text");if(this.text=[t("every")],this[De.FREQUENCIES[this.options.freq]](),this.options.until){this.add(t("until"));var r=this.options.until;this.add(this.dateFormatter(r.getUTCFullYear(),this.language.monthNames[r.getUTCMonth()],r.getUTCDate()))}else this.options.count&&this.add(t("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?t("times"):t("time"));return this.isFullyConvertible()||this.add(t("(~ approximate)")),this.text.join("")},e.prototype.HOURLY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("hours"):t("hour"))},e.prototype.MINUTELY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("minutes"):t("minute"))},e.prototype.DAILY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?t("weekdays"):t("weekday")):this.add(this.plural(this.options.interval)?t("days"):t("day")),this.origOptions.bymonth&&(this.add(t("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},e.prototype.WEEKLY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?t("weeks"):t("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?t("weekdays"):t("weekday")):this.add(t("on")).add(t("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?t("days"):t("day")):(this.options.interval===1&&this.add(t("week")),this.origOptions.bymonth&&(this.add(t("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday())},e.prototype.MONTHLY=function(){var t=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(t("months")),this.plural(this.options.interval)&&this.add(t("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("months"):t("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(t("on")).add(t("weekdays")):this.byweekday&&this._byweekday()},e.prototype.YEARLY=function(){var t=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(t("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("years"):t("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(t("on the")).add(this.list(this.options.byyearday,this.nth,t("and"))).add(t("day")),this.options.byweekno&&this.add(t("in")).add(this.plural(this.options.byweekno.length)?t("weeks"):t("week")).add(this.list(this.options.byweekno,void 0,t("and")))},e.prototype._bymonthday=function(){var t=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(t("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,t("or"))).add(t("the")).add(this.list(this.bymonthday,this.nth,t("or"))):this.add(t("on the")).add(this.list(this.bymonthday,this.nth,t("and")))},e.prototype._byweekday=function(){var t=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(t("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(t("and")),this.add(t("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,t("and"))))},e.prototype._byhour=function(){var t=this.gettext;this.add(t("at")).add(this.list(this.origOptions.byhour,void 0,t("and")))},e.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},e.prototype.nth=function(t){t=parseInt(t.toString(),10);var r,n,i=this.gettext;if(t===-1)return i("last");switch(n=Math.abs(t),n){case 1:case 21:case 31:r=n+i("st");break;case 2:case 22:r=n+i("nd");break;case 3:case 23:r=n+i("rd");break;default:r=n+i("th")}return t<0?r+" "+i("last"):r},e.prototype.monthtext=function(t){return this.language.monthNames[t-1]},e.prototype.weekdaytext=function(t){var r=Tn(t)?(t+1)%7:t.getJsWeekday();return(t.n?this.nth(t.n)+" ":"")+this.language.dayNames[r]},e.prototype.plural=function(t){return t%100!=1},e.prototype.add=function(t){return this.text.push(" "),this.text.push(t),this},e.prototype.list=function(t,r,n,i){i===void 0&&(i=","),Ur(t)||(t=[t]);var a=function(c,f,d){for(var p="",g=0;g<c.length;g++)g!==0&&(g===c.length-1?p+=" "+d+" ":p+=f+" "),p+=c[g];return p};r=r||function(c){return c.toString()};var s=this,l=function(c){return r&&r.call(s,c)};return n?a(t.map(l),i,n):t.map(l).join(i+" ")},e}(),Ni=AU;var wU=function(){function e(t){this.done=!0,this.rules=t}return e.prototype.start=function(t){return this.text=t,this.done=!1,this.nextSymbol()},e.prototype.isDone=function(){return this.done&&this.symbol===null},e.prototype.nextSymbol=function(){var t,r,n=this;this.symbol=null,this.value=null;do{if(this.done)return!1;var i=void 0;t=null;for(var a in this.rules){i=this.rules[a];var s=i.exec(n.text);s&&(t===null||s[0].length>t[0].length)&&(t=s,r=a)}if(t!=null&&(this.text=this.text.substr(t[0].length),this.text===""&&(this.done=!0)),t==null){this.done=!0,this.symbol=null,this.value=null;return}}while(r==="SKIP");return this.symbol=r,this.value=t,!0},e.prototype.accept=function(t){if(this.symbol===t){if(this.value){var r=this.value;return this.nextSymbol(),r}return this.nextSymbol(),!0}return!1},e.prototype.acceptNumber=function(){return this.accept("number")},e.prototype.expect=function(t){if(this.accept(t))return!0;throw new Error("expected "+t+" but found "+this.symbol)},e}();function eu(e,t){t===void 0&&(t=bs);var r={},n=new wU(t.tokens);if(!n.start(e))return null;return i(),r;function i(){n.expect("every");var g=n.acceptNumber();if(g&&(r.interval=parseInt(g[0],10)),n.isDone())throw new Error("Unexpected end");switch(n.symbol){case"day(s)":r.freq=De.DAILY,n.nextSymbol()&&(s(),p());break;case"weekday(s)":r.freq=De.WEEKLY,r.byweekday=[De.MO,De.TU,De.WE,De.TH,De.FR],n.nextSymbol(),p();break;case"week(s)":r.freq=De.WEEKLY,n.nextSymbol()&&(a(),p());break;case"hour(s)":r.freq=De.HOURLY,n.nextSymbol()&&(a(),p());break;case"minute(s)":r.freq=De.MINUTELY,n.nextSymbol()&&(a(),p());break;case"month(s)":r.freq=De.MONTHLY,n.nextSymbol()&&(a(),p());break;case"year(s)":r.freq=De.YEARLY,n.nextSymbol()&&(a(),p());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":r.freq=De.WEEKLY;var v=n.symbol.substr(0,2).toUpperCase();if(r.byweekday=[De[v]],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var m=c();if(!m)throw new Error("Unexpected symbol "+n.symbol+", expected weekday");r.byweekday.push(De[m]),n.nextSymbol()}d(),p();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(r.freq=De.YEARLY,r.bymonth=[l()],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var _=l();if(!_)throw new Error("Unexpected symbol "+n.symbol+", expected month");r.bymonth.push(_),n.nextSymbol()}a(),p();break;default:throw new Error("Unknown symbol")}}function a(){var g=n.accept("on"),v=n.accept("the");if(!!(g||v))do{var m=f(),_=c(),E=l();if(m)_?(n.nextSymbol(),r.byweekday||(r.byweekday=[]),r.byweekday.push(De[_].nth(m))):(r.bymonthday||(r.bymonthday=[]),r.bymonthday.push(m),n.accept("day(s)"));else if(_)n.nextSymbol(),r.byweekday||(r.byweekday=[]),r.byweekday.push(De[_]);else if(n.symbol==="weekday(s)")n.nextSymbol(),r.byweekday||(r.byweekday=[De.MO,De.TU,De.WE,De.TH,De.FR]);else if(n.symbol==="week(s)"){n.nextSymbol();var A=n.acceptNumber();if(!A)throw new Error("Unexpected symbol "+n.symbol+", expected week number");for(r.byweekno=[parseInt(A[0],10)];n.accept("comma");){if(A=n.acceptNumber(),!A)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");r.byweekno.push(parseInt(A[0],10))}}else if(E)n.nextSymbol(),r.bymonth||(r.bymonth=[]),r.bymonth.push(E);else return}while(n.accept("comma")||n.accept("the")||n.accept("on"))}function s(){var g=n.accept("at");if(!!g)do{var v=n.acceptNumber();if(!v)throw new Error("Unexpected symbol "+n.symbol+", expected hour");for(r.byhour=[parseInt(v[0],10)];n.accept("comma");){if(v=n.acceptNumber(),!v)throw new Error("Unexpected symbol "+n.symbol+"; expected hour");r.byhour.push(parseInt(v[0],10))}}while(n.accept("comma")||n.accept("at"))}function l(){switch(n.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function c(){switch(n.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return n.symbol.substr(0,2).toUpperCase();default:return!1}}function f(){switch(n.symbol){case"last":return n.nextSymbol(),-1;case"first":return n.nextSymbol(),1;case"second":return n.nextSymbol(),n.accept("last")?-2:2;case"third":return n.nextSymbol(),n.accept("last")?-3:3;case"nth":var g=parseInt(n.value[1],10);if(g<-366||g>366)throw new Error("Nth out of range: "+g);return n.nextSymbol(),n.accept("last")?-g:g;default:return!1}}function d(){n.accept("on"),n.accept("the");var g=f();if(!!g)for(r.bymonthday=[g],n.nextSymbol();n.accept("comma");){if(g=f(),!g)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");r.bymonthday.push(g),n.nextSymbol()}}function p(){if(n.symbol==="until"){var g=Date.parse(n.text);if(!g)throw new Error("Cannot parse until date:"+n.text);r.until=new Date(g)}else n.accept("for")&&(r.count=parseInt(n.value[0],10),n.expect("number"))}}var Qe;(function(e){e[e.YEARLY=0]="YEARLY",e[e.MONTHLY=1]="MONTHLY",e[e.WEEKLY=2]="WEEKLY",e[e.DAILY=3]="DAILY",e[e.HOURLY=4]="HOURLY",e[e.MINUTELY=5]="MINUTELY",e[e.SECONDLY=6]="SECONDLY"})(Qe||(Qe={}));function tu(e){return e<Qe.HOURLY}var Eb=function(e,t){return t===void 0&&(t=bs),new De(eu(e,t)||void 0)},Uo=["count","until","interval","byweekday","bymonthday","bymonth"];Ni.IMPLEMENTED=[];Ni.IMPLEMENTED[Qe.HOURLY]=Uo;Ni.IMPLEMENTED[Qe.MINUTELY]=Uo;Ni.IMPLEMENTED[Qe.DAILY]=["byhour"].concat(Uo);Ni.IMPLEMENTED[Qe.WEEKLY]=Uo;Ni.IMPLEMENTED[Qe.MONTHLY]=Uo;Ni.IMPLEMENTED[Qe.YEARLY]=["byweekno","byyearday"].concat(Uo);var Cb=function(e,t,r,n){return new Ni(e,t,r,n).toString()},Ab=Ni.isFullyConvertible;var Fo=function(){function e(t,r,n,i){this.hour=t,this.minute=r,this.second=n,this.millisecond=i||0}return e.prototype.getHours=function(){return this.hour},e.prototype.getMinutes=function(){return this.minute},e.prototype.getSeconds=function(){return this.second},e.prototype.getMilliseconds=function(){return this.millisecond},e.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},e}();var wb=function(e){Mo(t,e);function t(r,n,i,a,s,l,c){var f=e.call(this,a,s,l,c)||this;return f.year=r,f.month=n,f.day=i,f}return t.fromDate=function(r){return new this(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.valueOf()%1e3)},t.prototype.getWeekday=function(){return La.getWeekday(new Date(this.getTime()))},t.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},t.prototype.getDay=function(){return this.day},t.prototype.getMonth=function(){return this.month},t.prototype.getYear=function(){return this.year},t.prototype.addYears=function(r){this.year+=r},t.prototype.addMonths=function(r){if(this.month+=r,this.month>12){var n=Math.floor(this.month/12),i=Hr(this.month,12);this.month=i,this.year+=n,this.month===0&&(this.month=12,--this.year)}},t.prototype.addWeekly=function(r,n){n>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-n))+r*7:this.day+=-(this.getWeekday()-n)+r*7,this.fixDay()},t.prototype.addDaily=function(r){this.day+=r,this.fixDay()},t.prototype.addHours=function(r,n,i){for(n&&(this.hour+=Math.floor((23-this.hour)/r)*r);;){this.hour+=r;var a=id(this.hour,24),s=a.div,l=a.mod;if(s&&(this.hour=l,this.addDaily(s)),xn(i)||St(i,this.hour))break}},t.prototype.addMinutes=function(r,n,i,a){for(n&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/r)*r);;){this.minute+=r;var s=id(this.minute,60),l=s.div,c=s.mod;if(l&&(this.minute=c,this.addHours(l,!1,i)),(xn(i)||St(i,this.hour))&&(xn(a)||St(a,this.minute)))break}},t.prototype.addSeconds=function(r,n,i,a,s){for(n&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/r)*r);;){this.second+=r;var l=id(this.second,60),c=l.div,f=l.mod;if(c&&(this.second=f,this.addMinutes(c,!1,i,a)),(xn(i)||St(i,this.hour))&&(xn(a)||St(a,this.minute))&&(xn(s)||St(s,this.second)))break}},t.prototype.fixDay=function(){if(!(this.day<=28)){var r=La.monthRange(this.year,this.month-1)[1];if(!(this.day<=r))for(;this.day>r;){if(this.day-=r,++this.month,this.month===13&&(this.month=1,++this.year,this.year>La.MAXYEAR))return;r=La.monthRange(this.year,this.month-1)[1]}}},t.prototype.add=function(r,n){var i=r.freq,a=r.interval,s=r.wkst,l=r.byhour,c=r.byminute,f=r.bysecond;switch(i){case Qe.YEARLY:return this.addYears(a);case Qe.MONTHLY:return this.addMonths(a);case Qe.WEEKLY:return this.addWeekly(a,s);case Qe.DAILY:return this.addDaily(a);case Qe.HOURLY:return this.addHours(a,n,l);case Qe.MINUTELY:return this.addMinutes(a,n,l,c);case Qe.SECONDLY:return this.addSeconds(a,n,l,c,f)}},t}(Fo);function mg(e){for(var t=[],r=Object.keys(e),n=0,i=r;n<i.length;n++){var a=i[n];St(Tb,a)||t.push(a),ze.isDate(e[a])&&!ze.isValidDate(e[a])&&t.push(a)}if(t.length)throw new Error("Invalid options: "+t.join(", "));return an({},e)}function bb(e){var t=an(an({},ru),mg(e));if(Qt(t.byeaster)&&(t.freq=De.YEARLY),!(Qt(t.freq)&&De.FREQUENCIES[t.freq]))throw new Error("Invalid frequency: "+t.freq+" "+e.freq);if(t.dtstart||(t.dtstart=new Date(new Date().setMilliseconds(0))),Qt(t.wkst)?Tn(t.wkst)||(t.wkst=t.wkst.weekday):t.wkst=De.MO.weekday,Qt(t.bysetpos)){Tn(t.bysetpos)&&(t.bysetpos=[t.bysetpos]);for(var r=0;r<t.bysetpos.length;r++){var n=t.bysetpos[r];if(n===0||!(n>=-366&&n<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(Boolean(t.byweekno)||hr(t.byweekno)||hr(t.byyearday)||Boolean(t.bymonthday)||hr(t.bymonthday)||Qt(t.byweekday)||Qt(t.byeaster)))switch(t.freq){case De.YEARLY:t.bymonth||(t.bymonth=t.dtstart.getUTCMonth()+1),t.bymonthday=t.dtstart.getUTCDate();break;case De.MONTHLY:t.bymonthday=t.dtstart.getUTCDate();break;case De.WEEKLY:t.byweekday=[ze.getWeekday(t.dtstart)];break}if(Qt(t.bymonth)&&!Ur(t.bymonth)&&(t.bymonth=[t.bymonth]),Qt(t.byyearday)&&!Ur(t.byyearday)&&Tn(t.byyearday)&&(t.byyearday=[t.byyearday]),!Qt(t.bymonthday))t.bymonthday=[],t.bynmonthday=[];else if(Ur(t.bymonthday)){for(var i=[],a=[],r=0;r<t.bymonthday.length;r++){var n=t.bymonthday[r];n>0?i.push(n):n<0&&a.push(n)}t.bymonthday=i,t.bynmonthday=a}else t.bymonthday<0?(t.bynmonthday=[t.bymonthday],t.bymonthday=[]):(t.bynmonthday=[],t.bymonthday=[t.bymonthday]);if(Qt(t.byweekno)&&!Ur(t.byweekno)&&(t.byweekno=[t.byweekno]),!Qt(t.byweekday))t.bynweekday=null;else if(Tn(t.byweekday))t.byweekday=[t.byweekday],t.bynweekday=null;else if(hg(t.byweekday))t.byweekday=[_r.fromStr(t.byweekday).weekday],t.bynweekday=null;else if(t.byweekday instanceof _r)!t.byweekday.n||t.freq>De.MONTHLY?(t.byweekday=[t.byweekday.weekday],t.bynweekday=null):(t.bynweekday=[[t.byweekday.weekday,t.byweekday.n]],t.byweekday=null);else{for(var s=[],l=[],r=0;r<t.byweekday.length;r++){var c=t.byweekday[r];if(Tn(c)){s.push(c);continue}else if(hg(c)){s.push(_r.fromStr(c).weekday);continue}!c.n||t.freq>De.MONTHLY?s.push(c.weekday):l.push([c.weekday,c.n])}t.byweekday=hr(s)?s:null,t.bynweekday=hr(l)?l:null}return Qt(t.byhour)?Tn(t.byhour)&&(t.byhour=[t.byhour]):t.byhour=t.freq<De.HOURLY?[t.dtstart.getUTCHours()]:null,Qt(t.byminute)?Tn(t.byminute)&&(t.byminute=[t.byminute]):t.byminute=t.freq<De.MINUTELY?[t.dtstart.getUTCMinutes()]:null,Qt(t.bysecond)?Tn(t.bysecond)&&(t.bysecond=[t.bysecond]):t.bysecond=t.freq<De.SECONDLY?[t.dtstart.getUTCSeconds()]:null,{parsedOptions:t}}function Sb(e){var t=e.dtstart.getTime()%1e3;if(!tu(e.freq))return[];var r=[];return e.byhour.forEach(function(n){e.byminute.forEach(function(i){e.bysecond.forEach(function(a){r.push(new Fo(n,i,a,t))})})}),r}function nu(e){var t=e.split(`
`).map(bU).filter(function(r){return r!==null});return an(an({},t[0]),t[1])}function iu(e){var t={},r=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(e);if(!r)return t;var n=r[0],i=r[1],a=r[2];return i&&(t.tzid=i),t.dtstart=ze.untilStringToDate(a),t}function bU(e){if(e=e.replace(/^\s+|\s+$/,""),!e.length)return null;var t=/^([A-Z]+?)[:;]/.exec(e.toUpperCase());if(!t)return xb(e);var r=t[0],n=t[1];switch(n.toUpperCase()){case"RRULE":case"EXRULE":return xb(e);case"DTSTART":return iu(e);default:throw new Error("Unsupported RFC prop "+n+" in "+e)}}function xb(e){var t=e.replace(/^RRULE:/i,""),r=iu(t),n=e.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return n.forEach(function(i){var a=i.split("="),s=a[0],l=a[1];switch(s.toUpperCase()){case"FREQ":r.freq=Qe[l.toUpperCase()];break;case"WKST":r.wkst=Xn[l.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var c=SU(l),f=s.toLowerCase();r[f]=c;break;case"BYWEEKDAY":case"BYDAY":r.byweekday=TU(l);break;case"DTSTART":case"TZID":var d=iu(e);r.tzid=d.tzid,r.dtstart=d.dtstart;break;case"UNTIL":r.until=ze.untilStringToDate(l);break;case"BYEASTER":r.byeaster=Number(l);break;default:throw new Error("Unknown RRULE property '"+s+"'")}}),r}function SU(e){if(e.indexOf(",")!==-1){var t=e.split(",");return t.map(Ib)}return Ib(e)}function Ib(e){return/^[+-]?\d+$/.test(e)?Number(e):e}function TU(e){var t=e.split(",");return t.map(function(r){if(r.length===2)return Xn[r];var n=r.match(/^([+-]?\d{1,2})([A-Z]{2})$/),i=Number(n[1]),a=n[2],s=Xn[a].weekday;return new _r(s,i)})}var Ss=function(){function e(t,r){this.date=t,this.tzid=r}return Object.defineProperty(e.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!0,configurable:!0}),e.prototype.toString=function(){var t=ze.timeToUntilString(this.date.getTime(),this.isUTC);return this.isUTC?":"+t:";TZID="+this.tzid+":"+t},e.prototype.getTime=function(){return this.date.getTime()},e.prototype.rezonedDate=function(){var t;if(this.isUTC)return this.date;var r=Intl.DateTimeFormat().resolvedOptions().timeZone,n=new Date(this.date.toLocaleString(void 0,{timeZone:r})),i=new Date(this.date.toLocaleString(void 0,{timeZone:(t=this.tzid,t!=null?t:"UTC")})),a=i.getTime()-n.getTime();return new Date(this.date.getTime()-a)},e}();function au(e){for(var t=[],r="",n=Object.keys(e),i=Object.keys(ru),a=0;a<n.length;a++)if(n[a]!=="tzid"&&!!St(i,n[a])){var s=n[a].toUpperCase(),l=e[n[a]],c="";if(!(!Qt(l)||Ur(l)&&!l.length)){switch(s){case"FREQ":c=De.FREQUENCIES[e.freq];break;case"WKST":Tn(l)?c=new _r(l).toString():c=l.toString();break;case"BYWEEKDAY":s="BYDAY",c=Jw(l).map(function(v){return v instanceof _r?v:Ur(v)?new _r(v[0],v[1]):new _r(v)}).toString();break;case"DTSTART":r=xU(l,e.tzid);break;case"UNTIL":c=ze.timeToUntilString(l,!e.tzid);break;default:if(Ur(l)){for(var f=[],d=0;d<l.length;d++)f[d]=String(l[d]);c=f.toString()}else c=String(l)}c&&t.push([s,c])}}var p=t.map(function(v){var m=v[0],_=v[1];return m+"="+_.toString()}).join(";"),g="";return p!==""&&(g="RRULE:"+p),[r,g].filter(function(v){return!!v}).join(`
`)}function xU(e,t){return e?"DTSTART"+new Ss(new Date(e),t).toString():""}function IU(e,t){return Array.isArray(e)?!Array.isArray(t)||e.length!==t.length?!1:e.every(function(r,n){return r.getTime()===t[n].getTime()}):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():e===t}var kb=function(){function e(){this.all=!1,this.before=[],this.after=[],this.between=[]}return e.prototype._cacheAdd=function(t,r,n){r&&(r=r instanceof Date?ze.clone(r):ze.cloneDates(r)),t==="all"?this.all=r:(n._value=r,this[t].push(n))},e.prototype._cacheGet=function(t,r){var n=!1,i=r?Object.keys(r):[],a=function(d){for(var p=0;p<i.length;p++){var g=i[p];if(!IU(r[g],d[g]))return!0}return!1},s=this[t];if(t==="all")n=this.all;else if(Ur(s))for(var l=0;l<s.length;l++){var c=s[l];if(!(i.length&&a(c))){n=c._value;break}}if(!n&&this.all){for(var f=new na(t,r),l=0;l<this.all.length&&f.accept(this.all[l]);l++);n=f.getValue(),this._cacheAdd(t,n,r)}return Ur(n)?ze.cloneDates(n):n instanceof Date?ze.clone(n):n},e}();var Rb=ws(Ct(1,31),Ct(2,28),Ct(3,31),Ct(4,30),Ct(5,31),Ct(6,30),Ct(7,31),Ct(8,31),Ct(9,30),Ct(10,31),Ct(11,30),Ct(12,31),Ct(1,7)),Bb=ws(Ct(1,31),Ct(2,29),Ct(3,31),Ct(4,30),Ct(5,31),Ct(6,30),Ct(7,31),Ct(8,31),Ct(9,30),Ct(10,31),Ct(11,30),Ct(12,31),Ct(1,7)),kU=Qn(1,29),RU=Qn(1,30),Pa=Qn(1,31),Yr=Qn(1,32),Nb=ws(Yr,RU,Yr,Pa,Yr,Pa,Yr,Yr,Pa,Yr,Pa,Yr,Yr.slice(0,7)),Db=ws(Yr,kU,Yr,Pa,Yr,Pa,Yr,Yr,Pa,Yr,Pa,Yr,Yr.slice(0,7)),BU=Qn(-28,0),NU=Qn(-29,0),Oa=Qn(-30,0),jr=Qn(-31,0),Lb=ws(jr,NU,jr,Oa,jr,Oa,jr,jr,Oa,jr,Oa,jr,jr.slice(0,7)),Pb=ws(jr,BU,jr,Oa,jr,Oa,jr,jr,Oa,jr,Oa,jr,jr.slice(0,7)),Ob=[0,31,60,91,121,152,182,213,244,274,305,335,366],Mb=[0,31,59,90,120,151,181,212,243,273,304,334,365],yg=function(){for(var e=[],t=0;t<55;t++)e=e.concat(Qn(7));return e}();function Ub(e,t){var r=new Date(Date.UTC(e,0,1)),n=ze.isLeapYear(e)?366:365,i=ze.isLeapYear(e+1)?366:365,a=ze.toOrdinal(r),s=ze.getWeekday(r),l=an(an({yearlen:n,nextyearlen:i,yearordinal:a,yearweekday:s},DU(e)),{wnomask:null});if(xn(t.byweekno))return l;l.wnomask=Ct(0,n+7);var c,f,d=c=Hr(7-s+t.wkst,7);d>=4?(d=0,f=l.yearlen+Hr(s-t.wkst,7)):f=n-d;for(var p=Math.floor(f/7),g=Hr(f,7),v=Math.floor(p+g/4),m=0;m<t.byweekno.length;m++){var _=t.byweekno[m];if(_<0&&(_+=v+1),_>0&&_<=v){var E=void 0;_>1?(E=d+(_-1)*7,d!==c&&(E-=7-c)):E=d;for(var A=0;A<7&&(l.wnomask[E]=1,E++,l.wdaymask[E]!==t.wkst);A++);}}if(St(t.byweekno,1)){var E=d+v*7;if(d!==c&&(E-=7-c),E<n)for(var m=0;m<7&&(l.wnomask[E]=1,E+=1,l.wdaymask[E]!==t.wkst);m++);}if(d){var x=void 0;if(St(t.byweekno,-1))x=-1;else{var B=ze.getWeekday(new Date(Date.UTC(e-1,0,1))),L=Hr(7-B.valueOf()+t.wkst,7),N=ze.isLeapYear(e-1)?366:365,P=void 0;L>=4?(L=0,P=N+Hr(B-t.wkst,7)):P=n-d,x=Math.floor(52+Hr(P,7)/4)}if(St(t.byweekno,x))for(var E=0;E<d;E++)l.wnomask[E]=1}return l}function DU(e){var t=ze.isLeapYear(e)?366:365,r=new Date(Date.UTC(e,0,1)),n=ze.getWeekday(r);return t===365?{mmask:Rb,mdaymask:Db,nmdaymask:Pb,wdaymask:yg.slice(n),mrange:Mb}:{mmask:Bb,mdaymask:Nb,nmdaymask:Lb,wdaymask:yg.slice(n),mrange:Ob}}function Fb(e,t,r,n,i,a){var s={lastyear:e,lastmonth:t,nwdaymask:[]},l=[];if(a.freq===De.YEARLY)if(xn(a.bymonth))l=[[0,r]];else for(var c=0;c<a.bymonth.length;c++)t=a.bymonth[c],l.push(n.slice(t-1,t+1));else a.freq===De.MONTHLY&&(l=[n.slice(t-1,t+1)]);if(xn(l))return s;s.nwdaymask=Ct(0,r);for(var c=0;c<l.length;c++)for(var f=l[c],d=f[0],p=f[1]-1,g=0;g<a.bynweekday.length;g++){var v=void 0,m=a.bynweekday[g],_=m[0],E=m[1];E<0?(v=p+(E+1)*7,v-=Hr(i[v]-_,7)):(v=d+(E-1)*7,v+=Hr(7-i[v]+_,7)),d<=v&&v<=p&&(s.nwdaymask[v]=1)}return s}function qb(e,t){t===void 0&&(t=0);var r=e%19,n=Math.floor(e/100),i=e%100,a=Math.floor(n/4),s=n%4,l=Math.floor((n+8)/25),c=Math.floor((n-l+1)/3),f=Math.floor(19*r+n-a-c+15)%30,d=Math.floor(i/4),p=i%4,g=Math.floor(32+2*s+2*d-f-p)%7,v=Math.floor((r+11*f+22*g)/451),m=Math.floor((f+g-7*v+114)/31),_=(f+g-7*v+114)%31+1,E=Date.UTC(e,m-1,_+t),A=Date.UTC(e,0,1);return[Math.ceil((E-A)/(1e3*60*60*24))]}var LU=function(){function e(t){this.options=t}return e.prototype.rebuild=function(t,r){var n=this.options;if(t!==this.lastyear&&(this.yearinfo=Ub(t,n)),hr(n.bynweekday)&&(r!==this.lastmonth||t!==this.lastyear)){var i=this.yearinfo,a=i.yearlen,s=i.mrange,l=i.wdaymask;this.monthinfo=Fb(t,r,a,s,l,n)}Qt(n.byeaster)&&(this.eastermask=qb(t,n.byeaster))},Object.defineProperty(e.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!0,configurable:!0}),e.prototype.ydayset=function(){return[Qn(this.yearlen),0,this.yearlen]},e.prototype.mdayset=function(t,r,n){for(var i=this.mrange[r-1],a=this.mrange[r],s=Ct(null,this.yearlen),l=i;l<a;l++)s[l]=l;return[s,i,a]},e.prototype.wdayset=function(t,r,n){for(var i=Ct(null,this.yearlen+7),a=ze.toOrdinal(new Date(Date.UTC(t,r-1,n)))-this.yearordinal,s=a,l=0;l<7&&(i[a]=a,++a,this.wdaymask[a]!==this.options.wkst);l++);return[i,s,a]},e.prototype.ddayset=function(t,r,n){var i=Ct(null,this.yearlen),a=ze.toOrdinal(new Date(Date.UTC(t,r-1,n)))-this.yearordinal;return i[a]=a,[i,a,a+1]},e.prototype.htimeset=function(t,r,n,i){var a=this,s=[];return this.options.byminute.forEach(function(l){s=s.concat(a.mtimeset(t,l,n,i))}),ze.sort(s),s},e.prototype.mtimeset=function(t,r,n,i){var a=this.options.bysecond.map(function(s){return new Fo(t,r,s,i)});return ze.sort(a),a},e.prototype.stimeset=function(t,r,n,i){return[new Fo(t,r,n,i)]},e.prototype.getdayset=function(t){switch(t){case Qe.YEARLY:return this.ydayset.bind(this);case Qe.MONTHLY:return this.mdayset.bind(this);case Qe.WEEKLY:return this.wdayset.bind(this);case Qe.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},e.prototype.gettimeset=function(t){switch(t){case Qe.HOURLY:return this.htimeset.bind(this);case Qe.MINUTELY:return this.mtimeset.bind(this);case Qe.SECONDLY:return this.stimeset.bind(this)}},e}(),Gb=LU;function Kb(e,t,r,n,i,a){for(var s=[],l=0;l<e.length;l++){var c=void 0,f=void 0,d=e[l];d<0?(c=Math.floor(d/t.length),f=Hr(d,t.length)):(c=Math.floor((d-1)/t.length),f=Hr(d-1,t.length));for(var p=[],g=r;g<n;g++){var v=a[g];!Qt(v)||p.push(v)}var m=void 0;c<0?m=p.slice(c)[0]:m=p[c];var _=t[f],E=ze.fromOrdinal(i.yearordinal+m),A=ze.combine(E,_);St(s,A)||s.push(A)}return ze.sort(s),s}function od(e,t){var r=t.dtstart,n=t.freq,i=t.interval,a=t.until,s=t.bysetpos,l=t.count;if(l===0||i===0)return ia(e);var c=wb.fromDate(r),f=new Gb(t);f.rebuild(c.year,c.month);for(var d=MU(f,c,t);;){var p=f.getdayset(n)(c.year,c.month,c.day),g=p[0],v=p[1],m=p[2],_=OU(g,v,m,f,t);if(hr(s))for(var E=Kb(s,d,v,m,f,g),A=0;A<E.length;A++){var x=E[A];if(a&&x>a)return ia(e);if(x>=r){var B=Vb(x,t);if(!e.accept(B)||l&&(--l,!l))return ia(e)}}else for(var A=v;A<m;A++){var L=g[A];if(!!Qt(L))for(var N=ze.fromOrdinal(f.yearordinal+L),P=0;P<d.length;P++){var ae=d[P],x=ze.combine(N,ae);if(a&&x>a)return ia(e);if(x>=r){var B=Vb(x,t);if(!e.accept(B)||l&&(--l,!l))return ia(e)}}}if(t.interval===0||(c.add(t,_),c.year>ze.MAXYEAR))return ia(e);tu(n)||(d=f.gettimeset(n)(c.hour,c.minute,c.second,0)),f.rebuild(c.year,c.month)}}function PU(e,t,r){var n=r.bymonth,i=r.byweekno,a=r.byweekday,s=r.byeaster,l=r.bymonthday,c=r.bynmonthday,f=r.byyearday;return hr(n)&&!St(n,e.mmask[t])||hr(i)&&!e.wnomask[t]||hr(a)&&!St(a,e.wdaymask[t])||hr(e.nwdaymask)&&!e.nwdaymask[t]||s!==null&&!St(e.eastermask,t)||(hr(l)||hr(c))&&!St(l,e.mdaymask[t])&&!St(c,e.nmdaymask[t])||hr(f)&&(t<e.yearlen&&!St(f,t+1)&&!St(f,-e.yearlen+t)||t>=e.yearlen&&!St(f,t+1-e.yearlen)&&!St(f,-e.nextyearlen+t-e.yearlen))}function Vb(e,t){return new Ss(e,t.tzid).rezonedDate()}function ia(e){return e.getValue()}function OU(e,t,r,n,i){for(var a=!1,s=t;s<r;s++){var l=e[s];a=PU(n,l,i),a&&(e[l]=null)}return a}function MU(e,t,r){var n=r.freq,i=r.byhour,a=r.byminute,s=r.bysecond;return tu(n)?Sb(r):n>=De.HOURLY&&hr(i)&&!St(i,t.hour)||n>=De.MINUTELY&&hr(a)&&!St(a,t.minute)||n>=De.SECONDLY&&hr(s)&&!St(s,t.second)?[]:e.gettimeset(n)(t.hour,t.minute,t.second,t.millisecond)}var Xn={MO:new _r(0),TU:new _r(1),WE:new _r(2),TH:new _r(3),FR:new _r(4),SA:new _r(5),SU:new _r(6)},ru={freq:Qe.YEARLY,dtstart:null,interval:1,wkst:Xn.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},Tb=Object.keys(ru),De=function(){function e(t,r){t===void 0&&(t={}),r===void 0&&(r=!1),this._cache=r?null:new kb,this.origOptions=mg(t);var n=bb(t).parsedOptions;this.options=n}return e.parseText=function(t,r){return eu(t,r)},e.fromText=function(t,r){return Eb(t,r)},e.fromString=function(t){return new e(e.parseString(t)||void 0)},e.prototype._iter=function(t){return od(t,this.options)},e.prototype._cacheGet=function(t,r){return this._cache?this._cache._cacheGet(t,r):!1},e.prototype._cacheAdd=function(t,r,n){if(!!this._cache)return this._cache._cacheAdd(t,r,n)},e.prototype.all=function(t){if(t)return this._iter(new gg("all",{},t));var r=this._cacheGet("all");return r===!1&&(r=this._iter(new na("all",{})),this._cacheAdd("all",r)),r},e.prototype.between=function(t,r,n,i){if(n===void 0&&(n=!1),!ze.isValidDate(t)||!ze.isValidDate(r))throw new Error("Invalid date passed in to RRule.between");var a={before:r,after:t,inc:n};if(i)return this._iter(new gg("between",a,i));var s=this._cacheGet("between",a);return s===!1&&(s=this._iter(new na("between",a)),this._cacheAdd("between",s,a)),s},e.prototype.before=function(t,r){if(r===void 0&&(r=!1),!ze.isValidDate(t))throw new Error("Invalid date passed in to RRule.before");var n={dt:t,inc:r},i=this._cacheGet("before",n);return i===!1&&(i=this._iter(new na("before",n)),this._cacheAdd("before",i,n)),i},e.prototype.after=function(t,r){if(r===void 0&&(r=!1),!ze.isValidDate(t))throw new Error("Invalid date passed in to RRule.after");var n={dt:t,inc:r},i=this._cacheGet("after",n);return i===!1&&(i=this._iter(new na("after",n)),this._cacheAdd("after",i,n)),i},e.prototype.count=function(){return this.all().length},e.prototype.toString=function(){return au(this.origOptions)},e.prototype.toText=function(t,r,n){return Cb(this,t,r,n)},e.prototype.isFullyConvertibleToText=function(){return Ab(this)},e.prototype.clone=function(){return new e(this.origOptions)},e.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],e.YEARLY=Qe.YEARLY,e.MONTHLY=Qe.MONTHLY,e.WEEKLY=Qe.WEEKLY,e.DAILY=Qe.DAILY,e.HOURLY=Qe.HOURLY,e.MINUTELY=Qe.MINUTELY,e.SECONDLY=Qe.SECONDLY,e.MO=Xn.MO,e.TU=Xn.TU,e.WE=Xn.WE,e.TH=Xn.TH,e.FR=Xn.FR,e.SA=Xn.SA,e.SU=Xn.SU,e.parseString=nu,e.optionsToString=au,e}();function Hb(e,t,r,n,i,a){var s={},l=e.accept;function c(g,v){r.forEach(function(m){m.between(g,v,!0).forEach(function(_){s[Number(_)]=!0})})}i.forEach(function(g){var v=new Ss(g,a).rezonedDate();s[Number(v)]=!0}),e.accept=function(g){var v=Number(g);return isNaN(v)?l.call(this,g):!s[v]&&(c(new Date(v-1),new Date(v+1)),!s[v])?(s[v]=!0,l.call(this,g)):!0},e.method==="between"&&(c(e.args.after,e.args.before),e.accept=function(g){var v=Number(g);return s[v]?!0:(s[v]=!0,l.call(this,g))});for(var f=0;f<n.length;f++){var d=new Ss(n[f],a).rezonedDate();if(!e.accept(new Date(d.getTime())))break}t.forEach(function(g){od(e,g.options)});var p=e._result;switch(ze.sort(p),e.method){case"all":case"between":return p;case"before":return p.length&&p[p.length-1]||null;case"after":default:return p.length&&p[0]||null}}var Yb={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function UU(e,t){var r=[],n=[],i=[],a=[],s=iu(e),l=s.dtstart,c=s.tzid,f=VU(e,t.unfold);return f.forEach(function(d){if(!!d){var p=KU(d),g=p.name,v=p.parms,m=p.value;switch(g.toUpperCase()){case"RRULE":if(v.length)throw new Error("unsupported RRULE parm: "+v.join(","));r.push(nu(d));break;case"RDATE":var _=/RDATE(?:;TZID=([^:=]+))?/i.exec(d),E=_[0],A=_[1];A&&!c&&(c=A),n=n.concat(jb(m,v));break;case"EXRULE":if(v.length)throw new Error("unsupported EXRULE parm: "+v.join(","));i.push(nu(m));break;case"EXDATE":a=a.concat(jb(m,v));break;case"DTSTART":break;default:throw new Error("unsupported property: "+g)}}}),{dtstart:l,tzid:c,rrulevals:r,rdatevals:n,exrulevals:i,exdatevals:a}}function FU(e,t){var r=UU(e,t),n=r.rrulevals,i=r.rdatevals,a=r.exrulevals,s=r.exdatevals,l=r.dtstart,c=r.tzid,f=t.cache===!1;if(t.compatible&&(t.forceset=!0,t.unfold=!0),t.forceset||n.length>1||i.length||a.length||s.length){var d=new su(f);return d.dtstart(l),d.tzid(c||void 0),n.forEach(function(g){d.rrule(new De(vg(g,l,c),f))}),i.forEach(function(g){d.rdate(g)}),a.forEach(function(g){d.exrule(new De(vg(g,l,c),f))}),s.forEach(function(g){d.exdate(g)}),t.compatible&&t.dtstart&&d.rdate(l),d}var p=n[0]||{};return new De(vg(p,p.dtstart||t.dtstart||l,p.tzid||t.tzid||c),f)}function ld(e,t){return t===void 0&&(t={}),FU(e,qU(t))}function vg(e,t,r){return an(an({},e),{dtstart:t,tzid:r})}function qU(e){var t=[],r=Object.keys(e),n=Object.keys(Yb);if(r.forEach(function(i){St(n,i)||t.push(i)}),t.length)throw new Error("Invalid options: "+t.join(", "));return an(an({},Yb),e)}function GU(e){if(e.indexOf(":")===-1)return{name:"RRULE",value:e};var t=Qw(e,":",1),r=t[0],n=t[1];return{name:r,value:n}}function KU(e){var t=GU(e),r=t.name,n=t.value,i=r.split(";");if(!i)throw new Error("empty property name");return{name:i[0].toUpperCase(),parms:i.slice(1),value:n}}function VU(e,t){if(t===void 0&&(t=!1),e=e&&e.trim(),!e)throw new Error("Invalid empty string");if(!t)return e.split(/\s/);for(var r=e.split(`
`),n=0;n<r.length;){var i=r[n]=r[n].replace(/\s+$/g,"");i?n>0&&i[0]===" "?(r[n-1]+=i.slice(1),r.splice(n,1)):n+=1:r.splice(n,1)}return r}function HU(e){e.forEach(function(t){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(t))throw new Error("unsupported RDATE/EXDATE parm: "+t)})}function jb(e,t){return HU(t),e.split(",").map(function(r){return ze.untilStringToDate(r)})}function Wb(e){var t=this;return function(r){if(r!==void 0&&(t["_"+e]=r),t["_"+e]!==void 0)return t["_"+e];for(var n=0;n<t._rrule.length;n++){var i=t._rrule[n].origOptions[e];if(i)return i}}}var su=function(e){Mo(t,e);function t(r){r===void 0&&(r=!1);var n=e.call(this,{},r)||this;return n.dtstart=Wb.apply(n,["dtstart"]),n.tzid=Wb.apply(n,["tzid"]),n._rrule=[],n._rdate=[],n._exrule=[],n._exdate=[],n}return t.prototype._iter=function(r){return Hb(r,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},t.prototype.rrule=function(r){zb(r,this._rrule)},t.prototype.exrule=function(r){zb(r,this._exrule)},t.prototype.rdate=function(r){Jb(r,this._rdate)},t.prototype.exdate=function(r){Jb(r,this._exdate)},t.prototype.rrules=function(){return this._rrule.map(function(r){return ld(r.toString())})},t.prototype.exrules=function(){return this._exrule.map(function(r){return ld(r.toString())})},t.prototype.rdates=function(){return this._rdate.map(function(r){return new Date(r.getTime())})},t.prototype.exdates=function(){return this._exdate.map(function(r){return new Date(r.getTime())})},t.prototype.valueOf=function(){var r=[];return!this._rrule.length&&this._dtstart&&(r=r.concat(au({dtstart:this._dtstart}))),this._rrule.forEach(function(n){r=r.concat(n.toString().split(`
`))}),this._exrule.forEach(function(n){r=r.concat(n.toString().split(`
`).map(function(i){return i.replace(/^RRULE:/,"EXRULE:")}).filter(function(i){return!/^DTSTART/.test(i)}))}),this._rdate.length&&r.push(Qb("RDATE",this._rdate,this.tzid())),this._exdate.length&&r.push(Qb("EXDATE",this._exdate,this.tzid())),r},t.prototype.toString=function(){return this.valueOf().join(`
`)},t.prototype.clone=function(){var r=new t(!!this._cache);return this._rrule.forEach(function(n){return r.rrule(n.clone())}),this._exrule.forEach(function(n){return r.exrule(n.clone())}),this._rdate.forEach(function(n){return r.rdate(new Date(n.getTime()))}),this._exdate.forEach(function(n){return r.exdate(new Date(n.getTime()))}),r},t}(De);function zb(e,t){if(!(e instanceof De))throw new TypeError(String(e)+" is not RRule instance");St(t.map(String),String(e))||t.push(e)}function Jb(e,t){if(!(e instanceof Date))throw new TypeError(String(e)+" is not Date instance");St(t.map(Number),Number(e))||(t.push(e),ze.sort(t))}function Qb(e,t,r){var n=!r||r.toUpperCase()==="UTC",i=n?e+":":e+";TZID="+r+":",a=t.map(function(s){return ze.timeToUntilString(s.valueOf(),n)}).join(",");return""+i+a}function YU(e){Yn(e,"svelte-1wq45u1",".weekActive.svelte-1wq45u1.svelte-1wq45u1{background-color:rgb(61, 102, 214) !important}.weekInActive.svelte-1wq45u1.svelte-1wq45u1{background-color:#2a2a2a !important}.buttonRow.svelte-1wq45u1.svelte-1wq45u1{display:flex;flex-direction:row;align-items:center;justify-content:space-around;padding:5px}.summaryInput.svelte-1wq45u1.svelte-1wq45u1{border:none;border-bottom:2px solid;border-radius:0px;height:40px;font-size:35px;text-align:center}.disabled.svelte-1wq45u1.svelte-1wq45u1{opacity:0.2}label.svelte-1wq45u1.svelte-1wq45u1{margin-top:5px}.googleFullDayContainer.svelte-1wq45u1.svelte-1wq45u1{margin-top:10px;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.googleEventButtonContainer.svelte-1wq45u1.svelte-1wq45u1{margin-top:10px;display:flex;flex-direction:column;justify-content:space-around}.googleEventButtonContainer.svelte-1wq45u1 button.svelte-1wq45u1{width:40%}")}function Xb(e,t,r){let n=e.slice();return n[39]=t[r],n[40]=t,n[41]=r,n}function Zb(e,t,r){let n=e.slice();return n[42]=t[r],n}function jU(e){let t,r,n,i,a,s,l=e[3],c=[];for(let f=0;f<l.length;f+=1)c[f]=$b(Zb(e,l,f));return{c(){t=ie("label"),t.textContent="Calendar",r=Re(),n=ie("select");for(let f=0;f<c.length;f+=1)c[f].c();ee(t,"for","calendar"),ee(t,"class","svelte-1wq45u1"),ee(n,"name","calendar"),ee(n,"class","dropdown"),n.disabled=i=e[0].id!==void 0},m(f,d){Ae(f,t,d),Ae(f,r,d),Ae(f,n,d);for(let p=0;p<c.length;p+=1)c[p].m(n,null);a||(s=Je(n,"change",e[16]),a=!0)},p(f,d){if(d[0]&9){l=f[3];let p;for(p=0;p<l.length;p+=1){let g=Zb(f,l,p);c[p]?c[p].p(g,d):(c[p]=$b(g),c[p].c(),c[p].m(n,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=l.length}d[0]&1&&i!==(i=f[0].id!==void 0)&&(n.disabled=i)},d(f){f&&Ee(t),f&&Ee(r),f&&Ee(n),Vr(c,f),a=!1,s()}}}function WU(e){let t;return{c(){t=ie("span"),t.textContent="Loading"},m(r,n){Ae(r,t,n)},p:bt,d(r){r&&Ee(t)}}}function $b(e){let t,r=e[42].summary+"",n,i,a,s;return{c(){t=ie("option"),n=Jt(r),ee(t,"id",i=e[42].id),t.__value=a=e[42].id,t.value=t.__value,t.selected=s=e[42].id==e[0].parent.id},m(l,c){Ae(l,t,c),te(t,n)},p(l,c){c[0]&8&&r!==(r=l[42].summary+"")&&Wn(n,r),c[0]&8&&i!==(i=l[42].id)&&ee(t,"id",i),c[0]&8&&a!==(a=l[42].id)&&(t.__value=a,t.value=t.__value),c[0]&9&&s!==(s=l[42].id==l[0].parent.id)&&(t.selected=s)},d(l){l&&Ee(t)}}}function zU(e){let t,r,n,i,a,s,l,c,f,d;return{c(){t=ie("label"),t.textContent="Start Date",r=Re(),n=ie("input"),i=Re(),a=ie("label"),a.textContent="End Date",s=Re(),l=ie("input"),ee(t,"for","eventStartDate"),ee(t,"class","svelte-1wq45u1"),ee(n,"type","datetime-local"),ee(n,"name","eventStartDate"),ee(a,"for","eventEndDate"),ee(a,"class","svelte-1wq45u1"),ee(l,"type","datetime-local"),ee(l,"name","eventEndDate"),ee(l,"min",c=window.moment(e[1]).format("YYYY-MM-DDThh:mm"))},m(p,g){Ae(p,t,g),Ae(p,r,g),Ae(p,n,g),rn(n,e[1]),Ae(p,i,g),Ae(p,a,g),Ae(p,s,g),Ae(p,l,g),rn(l,e[2]),f||(d=[Je(n,"input",e[28]),Je(l,"input",e[29])],f=!0)},p(p,g){g[0]&2&&rn(n,p[1]),g[0]&2&&c!==(c=window.moment(p[1]).format("YYYY-MM-DDThh:mm"))&&ee(l,"min",c),g[0]&4&&rn(l,p[2])},d(p){p&&Ee(t),p&&Ee(r),p&&Ee(n),p&&Ee(i),p&&Ee(a),p&&Ee(s),p&&Ee(l),f=!1,Mr(d)}}}function JU(e){let t,r,n,i,a;return{c(){t=ie("label"),t.textContent="Date",r=Re(),n=ie("input"),ee(t,"for","eventDate"),ee(t,"class","svelte-1wq45u1"),ee(n,"type","date"),ee(n,"name","eventDate")},m(s,l){Ae(s,t,l),Ae(s,r,l),Ae(s,n,l),rn(n,e[12]),i||(a=Je(n,"input",e[27]),i=!0)},p(s,l){l[0]&4096&&rn(n,s[12])},d(s){s&&Ee(t),s&&Ee(r),s&&Ee(n),i=!1,a()}}}function eS(e){let t,r,n,i,a,s,l,c,f=e[6]&&tS(e);return{c(){t=ie("div"),r=ie("label"),r.textContent="Reccuring",n=Re(),i=ie("input"),a=Re(),f&&f.c(),s=jn(),ee(r,"for","reaccuring"),ee(r,"class","svelte-1wq45u1"),ee(i,"type","checkbox"),ee(i,"name","reaccuring"),ee(t,"class","googleFullDayContainer svelte-1wq45u1")},m(d,p){Ae(d,t,p),te(t,r),te(t,n),te(t,i),i.checked=e[6],Ae(d,a,p),f&&f.m(d,p),Ae(d,s,p),l||(c=Je(i,"change",e[30]),l=!0)},p(d,p){p[0]&64&&(i.checked=d[6]),d[6]?f?f.p(d,p):(f=tS(d),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(d){d&&Ee(t),d&&Ee(a),f&&f.d(d),d&&Ee(s),l=!1,c()}}}function tS(e){let t,r,n,i,a,s,l,c,f,d,p,g,v,m,_,E,A,x,B,L,N,P,ae,j,V,me,ye,we,Ke;function Oe(nt,Xe){if(nt[9]=="Until")return XU;if(nt[9]=="For")return QU}let Ie=Oe(e,[-1,-1]),Pe=Ie&&Ie(e),_e=e[7]===Qe.WEEKLY&&rS(e);return{c(){t=ie("div"),r=ie("span"),r.textContent="Repeat every",n=Re(),i=ie("input"),a=Re(),s=ie("select"),l=ie("option"),c=Jt("Days"),d=ie("option"),p=Jt("Weeks"),v=ie("option"),m=Jt("Months"),E=ie("option"),A=Jt("Years"),B=Re(),L=ie("select"),N=ie("option"),N.textContent="Forever",P=ie("option"),P.textContent="Until",ae=ie("option"),ae.textContent="For",j=Re(),Pe&&Pe.c(),V=Re(),me=ie("br"),ye=Re(),_e&&_e.c(),ee(i,"type","number"),ee(i,"name","recurringInterval"),ee(i,"step","1"),ee(i,"min","1"),et(i,"width","90px",!1),l.__value=f=Qe.DAILY,l.value=l.__value,ee(d,"default",""),d.__value=g=Qe.WEEKLY,d.value=d.__value,v.__value=_=Qe.MONTHLY,v.value=v.__value,E.__value=x=Qe.YEARLY,E.value=E.__value,ee(s,"class","dropdown"),e[7]===void 0&&ta(()=>e[32].call(s)),ee(N,"default",""),N.__value="Forever",N.value=N.__value,P.__value="Until",P.value=P.__value,ae.__value="For",ae.value=ae.__value,ee(L,"class","dropdown"),e[9]===void 0&&ta(()=>e[33].call(L))},m(nt,Xe){Ae(nt,t,Xe),te(t,r),te(t,n),te(t,i),rn(i,e[8]),te(t,a),te(t,s),te(s,l),te(l,c),te(s,d),te(d,p),te(s,v),te(v,m),te(s,E),te(E,A),Bi(s,e[7]),te(t,B),te(t,L),te(L,N),te(L,P),te(L,ae),Bi(L,e[9]),te(t,j),Pe&&Pe.m(t,null),te(t,V),te(t,me),te(t,ye),_e&&_e.m(t,null),we||(Ke=[Je(i,"input",e[31]),Je(s,"change",e[32]),Je(L,"change",e[33])],we=!0)},p(nt,Xe){Xe[0]&256&&Wl(i.value)!==nt[8]&&rn(i,nt[8]),Xe[0]&128&&Bi(s,nt[7]),Xe[0]&512&&Bi(L,nt[9]),Ie===(Ie=Oe(nt,Xe))&&Pe?Pe.p(nt,Xe):(Pe&&Pe.d(1),Pe=Ie&&Ie(nt),Pe&&(Pe.c(),Pe.m(t,V))),nt[7]===Qe.WEEKLY?_e?_e.p(nt,Xe):(_e=rS(nt),_e.c(),_e.m(t,null)):_e&&(_e.d(1),_e=null)},d(nt){nt&&Ee(t),Pe&&Pe.d(),_e&&_e.d(),we=!1,Mr(Ke)}}}function QU(e){let t,r,n,i,a;return{c(){t=ie("input"),r=Re(),n=ie("span"),n.textContent="times",ee(t,"type","number"),ee(t,"name","recurringCount"),ee(t,"step","1"),ee(t,"min","1"),t.required=!0,et(t,"width","90px",!1)},m(s,l){Ae(s,t,l),rn(t,e[10]),Ae(s,r,l),Ae(s,n,l),i||(a=Je(t,"input",e[35]),i=!0)},p(s,l){l[0]&1024&&Wl(t.value)!==s[10]&&rn(t,s[10])},d(s){s&&Ee(t),s&&Ee(r),s&&Ee(n),i=!1,a()}}}function XU(e){let t,r,n;return{c(){t=ie("input"),ee(t,"type","date"),ee(t,"name","recurringEndDate"),t.required=!0},m(i,a){Ae(i,t,a),rn(t,e[11]),r||(n=Je(t,"input",e[34]),r=!0)},p(i,a){a[0]&2048&&rn(t,i[11])},d(i){i&&Ee(t),r=!1,n()}}}function rS(e){let t,r=e[13],n=[];for(let i=0;i<r.length;i+=1)n[i]=nS(Xb(e,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();t=jn()},m(i,a){for(let s=0;s<n.length;s+=1)n[s].m(i,a);Ae(i,t,a)},p(i,a){if(a[0]&8192){r=i[13];let s;for(s=0;s<r.length;s+=1){let l=Xb(i,r,s);n[s]?n[s].p(l,a):(n[s]=nS(l),n[s].c(),n[s].m(t.parentNode,t))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(i){Vr(n,i),i&&Ee(t)}}}function nS(e){let t,r=e[39][0].toString()+"",n,i,a,s,l;function c(){return e[36](e[39],e[40],e[41])}return{c(){t=ie("button"),n=Jt(r),i=Re(),ee(t,"class",a=""+(Bo(e[39][1]?"weekActive":"weekInActive")+" svelte-1wq45u1"))},m(f,d){Ae(f,t,d),te(t,n),te(t,i),s||(l=Je(t,"click",c),s=!0)},p(f,d){e=f,d[0]&8192&&r!==(r=e[39][0].toString()+"")&&Wn(n,r),d[0]&8192&&a!==(a=""+(Bo(e[39][1]?"weekActive":"weekInActive")+" svelte-1wq45u1"))&&ee(t,"class",a)},d(f){f&&Ee(t),s=!1,l()}}}function ZU(e){let t,r,n,i;return{c(){t=ie("div"),r=ie("button"),r.textContent="Create",ee(r,"class","svelte-1wq45u1"),ee(t,"class","buttonRow svelte-1wq45u1")},m(a,s){Ae(a,t,s),te(t,r),n||(i=Je(r,"click",e[17]),n=!0)},p:bt,d(a){a&&Ee(t),n=!1,i()}}}function $U(e){let t,r,n,i,a,s,l,c,f,d,p,g;function v(A,x){return A[6]?t8:e8}let m=v(e,[-1,-1]),_=m(e),E=e[6]&&iS(e);return{c(){t=ie("div"),_.c(),r=Re(),n=ie("button"),n.textContent="Open/Create",i=Re(),a=ie("div"),s=ie("button"),s.textContent="Update",l=Re(),c=ie("button"),c.textContent="Delete",f=Re(),E&&E.c(),d=jn(),ee(n,"class","svelte-1wq45u1"),ee(t,"class","buttonRow svelte-1wq45u1"),ee(s,"class","svelte-1wq45u1"),ee(c,"class","svelte-1wq45u1"),ee(a,"class","buttonRow svelte-1wq45u1")},m(A,x){Ae(A,t,x),_.m(t,null),te(t,r),te(t,n),Ae(A,i,x),Ae(A,a,x),te(a,s),te(a,l),te(a,c),Ae(A,f,x),E&&E.m(A,x),Ae(A,d,x),p||(g=[Je(n,"click",e[22]),Je(s,"click",e[20]),Je(c,"click",e[18])],p=!0)},p(A,x){m===(m=v(A,x))&&_?_.p(A,x):(_.d(1),_=m(A),_&&(_.c(),_.m(t,r))),A[6]?E?E.p(A,x):(E=iS(A),E.c(),E.m(d.parentNode,d)):E&&(E.d(1),E=null)},d(A){A&&Ee(t),_.d(),A&&Ee(i),A&&Ee(a),A&&Ee(f),E&&E.d(A),A&&Ee(d),p=!1,Mr(g)}}}function e8(e){let t,r,n;return{c(){t=ie("button"),t.textContent="Single Event",ee(t,"class","svelte-1wq45u1")},m(i,a){Ae(i,t,a),r||(n=Je(t,"click",e[23]),r=!0)},p:bt,d(i){i&&Ee(t),r=!1,n()}}}function t8(e){let t,r,n;return{c(){t=ie("button"),t.textContent="Recurring Event",ee(t,"class","svelte-1wq45u1")},m(i,a){Ae(i,t,a),r||(n=Je(t,"click",e[23]),r=!0)},p:bt,d(i){i&&Ee(t),r=!1,n()}}}function iS(e){let t,r,n,i,a,s;return{c(){t=ie("div"),r=ie("button"),r.textContent="Update All",n=Re(),i=ie("button"),i.textContent="Delete All",r.disabled=!0,ee(r,"class","disabled svelte-1wq45u1"),ee(i,"class","svelte-1wq45u1"),ee(t,"class","buttonRow svelte-1wq45u1")},m(l,c){Ae(l,t,c),te(t,r),te(t,n),te(t,i),a||(s=[Je(r,"click",e[21]),Je(i,"click",e[19])],a=!0)},p:bt,d(l){l&&Ee(t),a=!1,Mr(s)}}}function r8(e){let t,r,n,i,a,s,l,c,f,d,p,g,v,m,_,E,A,x,B;function L(Oe,Ie){return Oe[4]?WU:jU}let N=L(e,[-1,-1]),P=N(e);function ae(Oe,Ie){return Oe[5]?JU:zU}let j=ae(e,[-1,-1]),V=j(e),me=!e[0].id&&eS(e);function ye(Oe,Ie){return Oe[0].id?$U:ZU}let we=ye(e,[-1,-1]),Ke=we(e);return{c(){t=ie("div"),r=ie("input"),n=Re(),i=ie("label"),i.textContent="Description",a=Re(),s=ie("textarea"),c=Re(),P.c(),f=Re(),d=ie("div"),p=ie("label"),p.textContent="Full Day",g=Re(),v=ie("input"),m=Re(),V.c(),_=Re(),me&&me.c(),E=Re(),A=ie("div"),Ke.c(),ee(r,"class","summaryInput svelte-1wq45u1"),ee(r,"name","summary"),ee(r,"type","text"),ee(r,"placeholder","Summary"),ee(i,"for","description"),ee(i,"class","svelte-1wq45u1"),ee(s,"name","description"),s.value=l=e[14](),ee(p,"for","fullDay"),ee(p,"class","svelte-1wq45u1"),ee(v,"type","checkbox"),ee(v,"name","fullDay"),ee(d,"class","googleFullDayContainer svelte-1wq45u1"),ee(A,"class","googleEventButtonContainer svelte-1wq45u1"),ee(t,"class","googleEventDetails")},m(Oe,Ie){Ae(Oe,t,Ie),te(t,r),rn(r,e[0].summary),te(t,n),te(t,i),te(t,a),te(t,s),te(t,c),P.m(t,null),te(t,f),te(t,d),te(d,p),te(d,g),te(d,v),v.checked=e[5],te(t,m),V.m(t,null),te(t,_),me&&me.m(t,null),te(t,E),te(t,A),Ke.m(A,null),x||(B=[Je(r,"input",e[25]),Je(s,"change",e[15]),Je(v,"change",e[26])],x=!0)},p(Oe,Ie){Ie[0]&1&&r.value!==Oe[0].summary&&rn(r,Oe[0].summary),N===(N=L(Oe,Ie))&&P?P.p(Oe,Ie):(P.d(1),P=N(Oe),P&&(P.c(),P.m(t,f))),Ie[0]&32&&(v.checked=Oe[5]),j===(j=ae(Oe,Ie))&&V?V.p(Oe,Ie):(V.d(1),V=j(Oe),V&&(V.c(),V.m(t,_))),Oe[0].id?me&&(me.d(1),me=null):me?me.p(Oe,Ie):(me=eS(Oe),me.c(),me.m(t,E)),we===(we=ye(Oe,Ie))&&Ke?Ke.p(Oe,Ie):(Ke.d(1),Ke=we(Oe),Ke&&(Ke.c(),Ke.m(A,null)))},i:bt,o:bt,d(Oe){Oe&&Ee(t),P.d(),V.d(),me&&me.d(),Ke.d(),x=!1,Mr(B)}}}function aS(){let e=15,t=1e3*60*e;return window.moment(new Date(Math.round(new Date().getTime()/t)*t))}function n8(e,t,r){let{event:n}=t,{closeFunction:i}=t,a,s=!0,l,c,f,d=1,p,g,v,m=$e.getInstance(),_,E,A,x=[[De.MO,!0],[De.TU,!0],[De.WE,!0],[De.TH,!0],[De.FR,!0],[De.SA,!0],[De.SU,!0]];function B(Be){return l?(Be.start.date=window.moment(A).format("YYYY-MM-DD"),Be.end.date=window.moment(A).format("YYYY-MM-DD"),delete Be.start.dateTime,delete Be.end.dateTime):(Be.start.dateTime=window.moment(_).format(),Be.end.dateTime=window.moment(E).format(),delete Be.start.date,delete Be.end.date),Be}Ql(()=>vr(void 0,void 0,void 0,function*(){var Be,Le,He,I;if(r(3,a=yield tn()),r(4,s=!1),r(5,l=((Be=n==null?void 0:n.start)===null||Be===void 0?void 0:Be.dateTime)==null&&((Le=n==null?void 0:n.start)===null||Le===void 0?void 0:Le.date)!==void 0),r(6,c=(n==null?void 0:n.recurringEventId)!==void 0),n.id==null){r(0,n.summary=(He=n.summary)!==null&&He!==void 0?He:"",n),r(0,n.description=(I=n.description)!==null&&I!==void 0?I:"",n),r(0,n.parent=a.find(D=>D.id===m.settings.defaultCalendar),n),n.parent||r(0,n.parent=a[a.length-1],n),r(6,c=!1);let R=aS();r(1,_=R.format("YYYY-MM-DDTHH:mm")),r(2,E=R.add(1,"hour").format("YYYY-MM-DDTHH:mm")),r(12,A=R.format("YYYY-MM-DD")),n.start.date&&r(12,A=window.moment(n.start.date).format("YYYY-MM-DD")),n.start.dateTime&&n.end.dateTime&&(r(1,_=window.moment(n.start.dateTime).format("YYYY-MM-DDTHH:mm")),r(2,E=window.moment(n.end.dateTime).format("YYYY-MM-DDTHH:mm")))}else if(l){let R=aS();r(1,_=R.format("YYYY-MM-DDTHH:mm")),r(2,E=R.add(1,"hour").format("YYYY-MM-DDTHH:mm")),r(12,A=window.moment(n.start.date).format("YYYY-MM-DD"))}else r(1,_=window.moment(n.start.dateTime).format("YYYY-MM-DDTHH:mm")),r(2,E=window.moment(n.end.dateTime).format("YYYY-MM-DDTHH:mm")),r(12,A=window.moment().format("YYYY-MM-DD"))}));let L=()=>n.description?n.description.replace(/<\/?[^>]+(>|$)/g,""):"",N=Be=>{Be.target instanceof HTMLTextAreaElement&&r(0,n.description=Be.target.value,n)},P=Be=>{let Le=Be.target;if(Le instanceof HTMLSelectElement){let He=Le.value;r(0,n.parent.id=He,n)}},ae=()=>vr(void 0,void 0,void 0,function*(){if(c){let Le=x.map(D=>{if(D[1])return D[0]});Le=Le.filter(D=>D!==void 0);let He=new su,I={freq:f,interval:d};p==="For"?I.count=g:p==="Until"&&(I.until=new Date(v)),f===De.WEEKLY&&Le.length&&(I.byweekday=Le);let R=new De(I);He.rrule(R),r(0,n.recurrence=He.valueOf(),n)}(yield Yw(B(n))).id&&i()}),j=Be=>vr(void 0,void 0,void 0,function*(){let Le=!1;n.recurringEventId?Le=yield ed(n,!0):Le=yield ed(n),Le&&i()}),V=()=>vr(void 0,void 0,void 0,function*(){(yield ed(B(n)))&&i()}),me=()=>vr(void 0,void 0,void 0,function*(){let Be=B(n),Le;Be.recurringEventId?Le=yield td(Be,!0):Le=yield td(Be),Le.id&&i()}),ye=()=>vr(void 0,void 0,void 0,function*(){(yield td(B(n))).id&&i()}),we=()=>vr(void 0,void 0,void 0,function*(){let Be=m.app.vault.getFiles().find(Le=>Le.basename==n.summary);Be?(m.app.workspace.getLeaf(!0).openFile(Be),i()):yield Ww(n)}),Ke=()=>{window.open(n.htmlLink)};function Oe(){n.summary=this.value,r(0,n)}function Ie(){l=this.checked,r(5,l)}function Pe(){A=this.value,r(12,A)}function _e(){_=this.value,r(1,_)}function nt(){E=this.value,r(2,E),r(1,_)}function Xe(){c=this.checked,r(6,c)}function Nt(){d=Wl(this.value),r(8,d)}function At(){f=No(this),r(7,f)}function it(){p=No(this),r(9,p)}function fe(){v=this.value,r(11,v)}function Dt(){g=Wl(this.value),r(10,g)}let Tt=(Be,Le,He)=>{r(13,Le[He][1]=!Be[1],x)};return e.$$set=Be=>{"event"in Be&&r(0,n=Be.event),"closeFunction"in Be&&r(24,i=Be.closeFunction)},e.$$.update=()=>{if(e.$$.dirty[0]&6){e:{let Be=window.moment(_);window.moment(E).isBefore(Be)&&r(2,E=Be.add(1,"hour").format("YYYY-MM-DDTHH:mm"))}}},[n,_,E,a,s,l,c,f,d,p,g,v,A,x,L,N,P,ae,j,V,me,ye,we,Ke,i,Oe,Ie,Pe,_e,nt,Xe,Nt,At,it,fe,Dt,Tt]}var sS=class extends nn{constructor(t){super();gn(this,t,n8,r8,pn,{event:0,closeFunction:24},YU,[-1,-1])}},oS=sS;var Zn=class extends lS.Modal{constructor(t,r){super($e.getInstance().app);this.selectedEvent=t,r&&(this.closeFunction=r)}onOpen(){return U(this,null,function*(){let{contentEl:t}=this;new oS({target:t,props:{event:this.selectedEvent,closeFunction:()=>{this.closeFunction&&this.closeFunction(),this.close()}}})})}onClose(){let{contentEl:t}=this;t.empty()}};var aa=class extends uS.FuzzySuggestModal{constructor(t,r=window.moment(),n=!1,i){super($e.getInstance().app);this.eventList=t,this.setPlaceholder(`${r.format("MM/DD/YYYY")} Arrow left/right to switch day`),this.emptyStateText="No events found enter to create a new one",this.eventsChanged=n,this.currentDate=r,i&&(this.closeFunction=i),this.inputEl.addEventListener("keyup",a=>U(this,null,function*(){let s=!1;!this.getSuggestions(this.inputEl.value).length&&a.key=="Enter"&&new Zn({summary:this.inputEl.value,start:{date:r.format()},end:{}},()=>{this.eventsChanged=!0,this.close()}).open(),a.key=="ArrowRight"?(a.ctrlKey?this.currentDate=this.currentDate.add(1,"month"):a.shiftKey?this.currentDate=this.currentDate.add(1,"week"):this.currentDate=this.currentDate.add(1,"day"),s=!0):a.key=="ArrowLeft"&&(a.ctrlKey?this.currentDate=this.currentDate.subtract(1,"month"):a.shiftKey?this.currentDate=this.currentDate.subtract(1,"week"):this.currentDate=this.currentDate.subtract(1,"day"),s=!0),s&&(this.setPlaceholder("Loading"),this.eventList=yield cr({startDate:r}),this.inputEl.dispatchEvent(new Event("input")),this.setPlaceholder(`${r.format("MM/DD/YYYY")} Arrow left and right to switch day`))}))}getItems(){return this.eventList}getItemText(t){return t.start.date?`${t.start.date}		 | ${t.summary}	`:`${window.moment(t.start.dateTime).format("YYYY-MM-DD HH:mm")}	 | ${t.summary}	`}onChooseItem(t){return U(this,null,function*(){this.open(),new Zn(t,()=>this.eventsChanged=!0).open()})}onClose(){this.closeFunction&&this.eventsChanged&&this.closeFunction()}};var ud=class extends cS.FuzzySuggestModal{constructor(t){super($e.getInstance().app);this.calendarList=t,this.setPlaceholder("Select a calendar to view it")}getItems(){return this.calendarList}getItemText(t){return`${t.summary}	`}onChooseItem(t){return U(this,null,function*(){let r=yield cr({include:[t.id]});new aa(r).open()})}};var Ma;(function(i){i.web="web",i.month="month",i.day="day",i.schedule="schedule"})(Ma||(Ma={}));var Sd=Pt(require("obsidian"));var yS=Pt(pS());function ou(e){return e.getHours()/24+e.getMinutes()/(60*24)}function gS(e,t){if(e.start.date||(e==null?void 0:e.eventType)=="multiDay")return 0;let r=ou(new Date(e.start.dateTime));return t*r}function mS(e,t){if(e.start.date||(e==null?void 0:e.eventType)=="multiDay")return 25;let r=ou(new Date(e.start.dateTime)),n=ou(new Date(e.end.dateTime));return t*(n-r)}function c8(e){Yn(e,"svelte-10n616",'.event.svelte-10n616{display:flex;padding:10px;padding-top:0;position:absolute;width:150px;left:40px;border-radius:5px;color:black;font-size:0.5em;box-shadow:3px 2px 8px 4px rgba(0,0,0,0.36);overflow:hidden}.hourLine.svelte-10n616::after{content:"";position:absolute;width:90%;left:25px;border-bottom:1px solid white}.hourText.svelte-10n616{display:block;font-family:"consolas"}.timeline.svelte-10n616,.hourText.svelte-10n616,.hourTextContainer.svelte-10n616{overflow:hidden}.timeDisplay.svelte-10n616{position:absolute;height:3px;background:red;overflow:visible}.timeline.svelte-10n616{position:relative;display:flex;flex-direction:row;overflow:visible}')}function vS(e,t,r){let n=e.slice();return n[15]=t[r],n[17]=r,n}function _S(e,t,r){let n=e.slice();return n[18]=t[r],n[17]=r,n}function ES(e,t,r){let n=e.slice();return n[18]=t[r],n[17]=r,n}function f8(e){let t,r,n,i,a=`-${e[1]/52}px`,s,l=window.moment().isSame(e[0],"day"),c,f=`${e[1]}px`,d=`${e[2]}px`,p={length:24},g=[];for(let x=0;x<p.length;x+=1)g[x]=CS(ES(e,p,x));let v={length:24},m=[];for(let x=0;x<v.length;x+=1)m[x]=AS(_S(e,v,x));let _=l&&wS(e),E=e[5],A=[];for(let x=0;x<E.length;x+=1)A[x]=bS(vS(e,E,x));return{c(){t=ie("div"),r=ie("div");for(let x=0;x<g.length;x+=1)g[x].c();n=Re(),i=ie("div");for(let x=0;x<m.length;x+=1)m[x].c();s=Re(),_&&_.c(),c=Re();for(let x=0;x<A.length;x+=1)A[x].c();ee(r,"class","hourLineContainer"),ee(i,"class","hourTextContainer svelte-10n616"),et(i,"margin-top",a,!1),ee(t,"class","timeline svelte-10n616"),et(t,"height",f,!1),et(t,"width",d,!1)},m(x,B){Ae(x,t,B),te(t,r);for(let L=0;L<g.length;L+=1)g[L].m(r,null);te(t,n),te(t,i);for(let L=0;L<m.length;L+=1)m[L].m(i,null);te(t,s),_&&_.m(t,null),te(t,c);for(let L=0;L<A.length;L+=1)A[L].m(t,null)},p(x,B){if(B&2){p={length:24};let L;for(L=0;L<p.length;L+=1){let N=ES(x,p,L);g[L]?g[L].p(N,B):(g[L]=CS(N),g[L].c(),g[L].m(r,null))}for(;L<g.length;L+=1)g[L].d(1);g.length=p.length}if(B&2){v={length:24};let L;for(L=0;L<v.length;L+=1){let N=_S(x,v,L);m[L]?m[L].p(N,B):(m[L]=AS(N),m[L].c(),m[L].m(i,null))}for(;L<m.length;L+=1)m[L].d(1);m.length=v.length}if(B&2&&a!==(a=`-${x[1]/52}px`)&&et(i,"margin-top",a,!1),B&1&&(l=window.moment().isSame(x[0],"day")),l?_?_.p(x,B):(_=wS(x),_.c(),_.m(t,c)):_&&(_.d(1),_=null),B&96){E=x[5];let L;for(L=0;L<E.length;L+=1){let N=vS(x,E,L);A[L]?A[L].p(N,B):(A[L]=bS(N),A[L].c(),A[L].m(t,null))}for(;L<A.length;L+=1)A[L].d(1);A.length=E.length}B&2&&f!==(f=`${x[1]}px`)&&et(t,"height",f,!1),B&4&&d!==(d=`${x[2]}px`)&&et(t,"width",d,!1)},d(x){x&&Ee(t),Vr(g,x),Vr(m,x),_&&_.d(),Vr(A,x)}}}function d8(e){let t;return{c(){t=ie("p"),t.textContent="Loading"},m(r,n){Ae(r,t,n)},p:bt,d(r){r&&Ee(t)}}}function CS(e){let t,r=`${e[1]/24}px`;return{c(){t=ie("div"),ee(t,"class","hourLine svelte-10n616"),et(t,"height",r,!1)},m(n,i){Ae(n,t,i)},p(n,i){i&2&&r!==(r=`${n[1]/24}px`)&&et(t,"height",r,!1)},d(n){n&&Ee(t)}}}function AS(e){let t,r,n=`${e[1]/24}px`,i=`${e[1]/50}px`;return{c(){t=ie("span"),r=Jt(e[17]),ee(t,"class","hourText svelte-10n616"),et(t,"height",n,!1),et(t,"font-size",i,!1)},m(a,s){Ae(a,t,s),te(t,r)},p(a,s){s&2&&n!==(n=`${a[1]/24}px`)&&et(t,"height",n,!1),s&2&&i!==(i=`${a[1]/50}px`)&&et(t,"font-size",i,!1)},d(a){a&&Ee(t)}}}function wS(e){let t,r=`${e[4]}px`,n=`${e[2]}px`;return{c(){t=ie("div"),ee(t,"class","timeDisplay svelte-10n616"),et(t,"top",r,!1),et(t,"width",n,!1)},m(i,a){Ae(i,t,a)},p(i,a){a&16&&r!==(r=`${i[4]}px`)&&et(t,"top",r,!1),a&4&&n!==(n=`${i[2]}px`)&&et(t,"width",n,!1)},d(i){i&&Ee(t)}}}function bS(e){let t,r=e[15].event.summary+"",n,i,a=`${e[15].y}px`,s=`${e[15].x}px`,l=`${e[15].width}px`,c=`${e[15].height}px`,f,d;function p(...g){return e[10](e[15],...g)}return{c(){t=ie("div"),n=Jt(r),ee(t,"class","event svelte-10n616"),ee(t,"id",i=e[15].event.id),et(t,"top",a,!1),et(t,"left",s,!1),et(t,"width",l,!1),et(t,"height",c,!1),et(t,"background",Kl(e[15].event),!1)},m(g,v){Ae(g,t,v),te(t,n),f||(d=Je(t,"click",p),f=!0)},p(g,v){e=g,v&32&&r!==(r=e[15].event.summary+"")&&Wn(n,r),v&32&&i!==(i=e[15].event.id)&&ee(t,"id",i),v&32&&a!==(a=`${e[15].y}px`)&&et(t,"top",a,!1),v&32&&s!==(s=`${e[15].x}px`)&&et(t,"left",s,!1),v&32&&l!==(l=`${e[15].width}px`)&&et(t,"width",l,!1),v&32&&c!==(c=`${e[15].height}px`)&&et(t,"height",c,!1),v&32&&et(t,"background",Kl(e[15].event),!1)},d(g){g&&Ee(t),f=!1,d()}}}function h8(e){let t;function r(a,s){return a[3]?d8:f8}let n=r(e,-1),i=n(e);return{c(){i.c(),t=jn()},m(a,s){i.m(a,s),Ae(a,t,s)},p(a,[s]){n===(n=r(a,s))&&i?i.p(a,s):(i.d(1),i=n(a),i&&(i.c(),i.m(t.parentNode,t)))},i:bt,o:bt,d(a){i.d(a),a&&Ee(t)}}}function p8(e,t,r){let{height:n=700}=t,{width:i=300}=t,{date:a=window.moment()}=t,{include:s}=t,{exclude:l}=t,c=!0,f=0,d=[],p=[],g,v=()=>vr(void 0,void 0,void 0,function*(){yield _();let x=ou(new Date);r(4,f=Math.floor(n*x))}),m=()=>{let x=new yS.default;d.forEach(N=>{let P=N.start.date||N.start.dateTime;x.has(P)?x.get(P).push(N):x.set(P,[N])});let B=0,L=null;for(let N of x.values()){if(N[0].start.dateTime){let P=window.moment(N[0].start.dateTime);L&&P.isBefore(L,"minutes")?B++:B=0,L=window.moment(N[0].end.dateTime)}N.forEach((P,ae)=>{let j=30+B*10,V=(i-j)/N.length;r(5,p=[...p,{event:P,x:j+V*ae,y:gS(P,n),width:V,height:mS(P,n),fullDay:P.start.date!=null}])})}},_=()=>vr(void 0,void 0,void 0,function*(){if(!a.isValid())return;let x=yield cr({startDate:a,include:s,exclude:l});JSON.stringify(x)!=JSON.stringify(d)&&(d=x,r(5,p=[]),m()),r(3,c=!1)}),E=(x,B)=>{B.shiftKey?window.open(x.htmlLink):new Zn(x,()=>{ci(),r(0,a),r(9,g)}).open()};ys(()=>{clearInterval(g)});let A=(x,B)=>E(x.event,B);return e.$$set=x=>{"height"in x&&r(1,n=x.height),"width"in x&&r(2,i=x.width),"date"in x&&r(0,a=x.date),"include"in x&&r(7,s=x.include),"exclude"in x&&r(8,l=x.exclude)},e.$$.update=()=>{if(e.$$.dirty&513){e:r(0,a),r(9,g),g&&clearInterval(g),r(3,c=!0),r(9,g=setInterval(v,5e3)),v()}},[a,n,i,c,f,p,E,s,l,g,A]}var SS=class extends nn{constructor(t){super();gn(this,t,p8,h8,pn,{height:1,width:2,date:0,include:7,exclude:8},c8)}},TS=SS;function g8(e){Yn(e,"svelte-169s007",".fixedSizeButton.svelte-169s007{text-align:center;padding:10px 5%;margin:0}.titleContainer.svelte-169s007{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.navigationContainer.svelte-169s007{display:flex;flex-direction:row;align-items:center;justify-content:space-around;flex-wrap:wrap;padding-bottom:30px}")}function xS(e){let t,r,n,i,a,s=e[0].format("YYYY-MM-DD")+"",l,c,f,d,p,g,v,m,_,E,A,x,B,L;return{c(){t=ie("div"),r=ie("button"),r.textContent="+",n=Re(),i=ie("h3"),a=Jt("Google Calendar "),l=Jt(s),c=Re(),f=ie("div"),d=ie("button"),d.textContent="<<",p=Re(),g=ie("button"),g.textContent="<",v=Re(),m=ie("button"),m.textContent="Today",_=Re(),E=ie("button"),E.textContent=">",A=Re(),x=ie("button"),x.textContent=">>",ee(r,"aria-label","Create Event"),ee(t,"class","titleContainer svelte-169s007"),ee(d,"class","fixedSizeButton svelte-169s007"),ee(d,"aria-label","Back 1 week"),ee(g,"class","fixedSizeButton svelte-169s007"),ee(g,"aria-label","Back 1 day"),ee(m,"class","fixedSizeButton svelte-169s007"),ee(m,"aria-label","Jump to today"),ee(E,"class","fixedSizeButton svelte-169s007"),ee(E,"aria-label","Forward 1 day"),ee(x,"class","fixedSizeButton svelte-169s007"),ee(x,"aria-label","Forward 1 week"),ee(f,"class","navigationContainer svelte-169s007")},m(N,P){Ae(N,t,P),te(t,r),te(t,n),te(t,i),te(i,a),te(i,l),Ae(N,c,P),Ae(N,f,P),te(f,d),te(f,p),te(f,g),te(f,v),te(f,m),te(f,_),te(f,E),te(f,A),te(f,x),B||(L=[Je(r,"click",e[11]),Je(d,"click",e[6]),Je(g,"click",e[7]),Je(m,"click",e[8]),Je(E,"click",e[10]),Je(x,"click",e[9])],B=!0)},p(N,P){P&1&&s!==(s=N[0].format("YYYY-MM-DD")+"")&&Wn(l,s)},d(N){N&&Ee(t),N&&Ee(c),N&&Ee(f),B=!1,Mr(L)}}}function m8(e){let t,r,n,i,a,s=e[3]&&e[0]&&xS(e);function l(f){e[13](f)}let c={height:e[1],width:e[2],include:e[4],exclude:e[5]};return e[0]!==void 0&&(c.date=e[0]),n=new TS({props:c}),zn.push(()=>Es(n,"date",l)),{c(){t=ie("div"),s&&s.c(),r=Re(),Zl(n.$$.fragment),et(t,"padding-left","10px")},m(f,d){Ae(f,t,d),s&&s.m(t,null),te(t,r),Do(n,t,null),a=!0},p(f,[d]){f[3]&&f[0]?s?s.p(f,d):(s=xS(f),s.c(),s.m(t,r)):s&&(s.d(1),s=null);let p={};d&2&&(p.height=f[1]),d&4&&(p.width=f[2]),d&16&&(p.include=f[4]),d&32&&(p.exclude=f[5]),!i&&d&1&&(i=!0,p.date=f[0],vs(()=>i=!1)),n.$set(p)},i(f){a||(Jn(n.$$.fragment,f),a=!0)},o(f){fi(n.$$.fragment,f),a=!1},d(f){f&&Ee(t),s&&s.d(),Cs(n)}}}function y8(e,t,r){let{height:n=void 0}=t,{width:i=void 0}=t,{date:a=void 0}=t,{navigation:s=!1}=t,{include:l}=t,{exclude:c}=t,f=0,d=()=>r(12,f-=7),p=()=>r(12,f-=1),g=()=>r(12,f=0),v=()=>r(12,f+=7),m=()=>r(12,f+=1),_=A=>{new Zn({start:{},end:{}},()=>{ci(),r(0,a),r(3,s),r(12,f)}).open()};function E(A){a=A,r(0,a),r(3,s),r(12,f)}return e.$$set=A=>{"height"in A&&r(1,n=A.height),"width"in A&&r(2,i=A.width),"date"in A&&r(0,a=A.date),"navigation"in A&&r(3,s=A.navigation),"include"in A&&r(4,l=A.include),"exclude"in A&&r(5,c=A.exclude)},e.$$.update=()=>{if(e.$$.dirty&4105){e:r(0,a=s?window.moment().local().add(f,"days"):a)}},[a,n,i,s,l,c,d,p,g,v,m,_,f,E]}var IS=class extends nn{constructor(t){super();gn(this,t,y8,m8,pn,{height:1,width:2,date:0,navigation:3,include:4,exclude:5},g8)}},fd=IS;function v8(e){Yn(e,"svelte-1ficnkj",".fullSize.svelte-1ficnkj,.content.svelte-1ficnkj,.box.svelte-1ficnkj{width:100%;height:100%;overflow:scoll !important}")}function _8(e){let t,r,n=`${e[0]}px`,i=`${e[1]}px`;return{c(){t=ie("webview"),jl(t.src,r=e[3])||ee(t,"src",r),ee(t,"allowpopups",""),ee(t,"dom-ready",e[4]),et(t,"width",n,!1),et(t,"height",i,!1)},m(a,s){Ae(a,t,s),e[7](t)},p(a,s){s&8&&!jl(t.src,r=a[3])&&ee(t,"src",r),s&1&&n!==(n=`${a[0]}px`)&&et(t,"width",n,!1),s&2&&i!==(i=`${a[1]}px`)&&et(t,"height",i,!1)},d(a){a&&Ee(t),e[7](null)}}}function E8(e){let t,r;return{c(){t=ie("webview"),jl(t.src,r=e[3])||ee(t,"src",r),ee(t,"allowpopups",""),ee(t,"dom-ready",e[4]),ee(t,"class","fullSize svelte-1ficnkj")},m(n,i){Ae(n,t,i),e[6](t)},p(n,i){i&8&&!jl(t.src,r=n[3])&&ee(t,"src",r)},d(n){n&&Ee(t),e[6](null)}}}function C8(e){let t,r;function n(s,l){return s[0]==0?E8:_8}let i=n(e,-1),a=i(e);return{c(){t=ie("div"),r=ie("div"),a.c(),ee(r,"class","content svelte-1ficnkj"),ee(t,"class","box svelte-1ficnkj")},m(s,l){Ae(s,t,l),te(t,r),a.m(r,null)},p(s,[l]){i===(i=n(s,l))&&a?a.p(s,l):(a.d(1),a=i(s),a&&(a.c(),a.m(r,null)))},i:bt,o:bt,d(s){s&&Ee(t),a.d()}}}function A8(e,t,r){let{date:n=window.moment()}=t,{width:i=0}=t,{height:a=0}=t,s,l="";n.isValid()?l=`https://calendar.google.com/calendar/u/0/r/day/${n.format("yyyy/M/D")}`:l="https://calendar.google.com/calendar/u/0/r/day/";let c=()=>{s.insertCSS(`
    html body div div div div {
        margin-left: -256px;
    }
  `)};function f(p){zn[p?"unshift":"push"](()=>{s=p,r(2,s)})}function d(p){zn[p?"unshift":"push"](()=>{s=p,r(2,s)})}return e.$$set=p=>{"date"in p&&r(5,n=p.date),"width"in p&&r(0,i=p.width),"height"in p&&r(1,a=p.height)},[i,a,s,l,c,n,f,d]}var kS=class extends nn{constructor(t){super();gn(this,t,A8,C8,pn,{date:5,width:0,height:1},v8)}},dd=kS;var QH=Pt(require("obsidian"));function Br(){}function lu(e,t){for(let r in t)e[r]=t[r];return e}function w8(e){return e&&typeof e=="object"&&typeof e.then=="function"}function RS(e){return e()}function BS(){return Object.create(null)}function Fa(e){e.forEach(RS)}function Di(e){return typeof e=="function"}function Eg(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function hd(e,t){return e!=e?t==t:e!==t}function b8(e){return Object.keys(e).length===0}function NS(e,t,r,n){if(e){let i=DS(e,t,r,n);return e[0](i)}}function DS(e,t,r,n){return e[1]&&n?lu(r.ctx.slice(),e[1](n(t))):r.ctx}function S8(e,t,r,n){if(e[2]&&n){let i=e[2](n(r));if(t.dirty===void 0)return i;if(typeof i=="object"){let a=[],s=Math.max(t.dirty.length,i.length);for(let l=0;l<s;l+=1)a[l]=t.dirty[l]|i[l];return a}return t.dirty|i}return t.dirty}function LS(e,t,r,n,i,a,s){let l=S8(t,n,i,a);if(l){let c=DS(t,r,n,s);e.p(c,l)}}function Go(e){return e==null?"":e}function dt(e,t){e.appendChild(t)}function Nr(e,t,r){e.insertBefore(t,r||null)}function wr(e){e.parentNode.removeChild(e)}function pd(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function qt(e){return document.createElement(e)}function Ko(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function xs(e){return document.createTextNode(e)}function In(){return xs(" ")}function gd(){return xs("")}function sa(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function st(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function PS(e,t){let r=Object.getOwnPropertyDescriptors(e.__proto__);for(let n in t)t[n]==null?e.removeAttribute(n):n==="style"?e.style.cssText=t[n]:n==="__value"?e.value=e[n]=t[n]:r[n]&&r[n].set?e[n]=t[n]:st(e,n,t[n])}function T8(e){return Array.from(e.childNodes)}function uu(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function pr(e,t,r){e.classList[r?"add":"remove"](t)}var md;function qa(e){md=e}function x8(){if(!md)throw new Error("Function called outside component initialization");return md}var cu=[],OS=[],yd=[],MS=[],I8=Promise.resolve(),Cg=!1;function k8(){Cg||(Cg=!0,I8.then(Sg))}function Ag(e){yd.push(e)}var wg=!1,bg=new Set;function Sg(){if(!wg){wg=!0;do{for(let e=0;e<cu.length;e+=1){let t=cu[e];qa(t),R8(t.$$)}for(qa(null),cu.length=0;OS.length;)OS.pop()();for(let e=0;e<yd.length;e+=1){let t=yd[e];bg.has(t)||(bg.add(t),t())}yd.length=0}while(cu.length);for(;MS.length;)MS.pop()();Cg=!1,wg=!1,bg.clear()}}function R8(e){if(e.fragment!==null){e.update(),Fa(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ag)}}var vd=new Set,Is;function ks(){Is={r:0,c:[],p:Is}}function Rs(){Is.r||Fa(Is.c),Is=Is.p}function Kt(e,t){e&&e.i&&(vd.delete(e),e.i(t))}function ar(e,t,r,n){if(e&&e.o){if(vd.has(e))return;vd.add(e),Is.c.push(()=>{vd.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}}function US(e,t){let r=t.token={};function n(i,a,s,l){if(t.token!==r)return;t.resolved=l;let c=t.ctx;s!==void 0&&(c=c.slice(),c[s]=l);let f=i&&(t.current=i)(c),d=!1;t.block&&(t.blocks?t.blocks.forEach((p,g)=>{g!==a&&p&&(ks(),ar(p,1,1,()=>{t.blocks[g]===p&&(t.blocks[g]=null)}),Rs())}):t.block.d(1),f.c(),Kt(f,1),f.m(t.mount(),t.anchor),d=!0),t.block=f,t.blocks&&(t.blocks[a]=f),d&&Sg()}if(w8(e)){let i=x8();if(e.then(a=>{qa(i),n(t.then,1,t.value,a),qa(null)},a=>{if(qa(i),n(t.catch,2,t.error,a),qa(null),!t.hasCatch)throw a}),t.current!==t.pending)return n(t.pending,0),!0}else{if(t.current!==t.then)return n(t.then,1,t.value,e),!0;t.resolved=e}}function FS(e,t){ar(e,1,1,()=>{t.delete(e.key)})}function qS(e,t,r,n,i,a,s,l,c,f,d,p){let g=e.length,v=a.length,m=g,_={};for(;m--;)_[e[m].key]=m;let E=[],A=new Map,x=new Map;for(m=v;m--;){let P=p(i,a,m),ae=r(P),j=s.get(ae);j?n&&j.p(P,t):(j=f(ae,P),j.c()),A.set(ae,E[m]=j),ae in _&&x.set(ae,Math.abs(m-_[ae]))}let B=new Set,L=new Set;function N(P){Kt(P,1),P.m(l,d),s.set(P.key,P),d=P.first,v--}for(;g&&v;){let P=E[v-1],ae=e[g-1],j=P.key,V=ae.key;P===ae?(d=P.first,g--,v--):A.has(V)?!s.has(j)||B.has(j)?N(P):L.has(V)?g--:x.get(j)>x.get(V)?(L.add(j),N(P)):(B.add(V),g--):(c(ae,s),g--)}for(;g--;){let P=e[g];A.has(P.key)||c(P,s)}for(;v;)N(E[v-1]);return E}function _d(e,t){let r={},n={},i={$$scope:1},a=e.length;for(;a--;){let s=e[a],l=t[a];if(l){for(let c in s)c in l||(n[c]=1);for(let c in l)i[c]||(r[c]=l[c],i[c]=1);e[a]=l}else for(let c in s)i[c]=1}for(let s in n)s in r||(r[s]=void 0);return r}function Tg(e){return typeof e=="object"&&e!==null?e:{}}function oa(e){e&&e.c()}function Li(e,t,r,n){let{fragment:i,on_mount:a,on_destroy:s,after_update:l}=e.$$;i&&i.m(t,r),n||Ag(()=>{let c=a.map(RS).filter(Di);s?s.push(...c):Fa(c),e.$$.on_mount=[]}),l.forEach(Ag)}function Pi(e,t){let r=e.$$;r.fragment!==null&&(Fa(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function B8(e,t){e.$$.dirty[0]===-1&&(cu.push(e),k8(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Bs(e,t,r,n,i,a,s=[-1]){let l=md;qa(e);let c=e.$$={fragment:null,ctx:null,props:a,update:Br,not_equal:i,bound:BS(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:BS(),dirty:s,skip_bound:!1},f=!1;if(c.ctx=r?r(e,t.props||{},(d,p,...g)=>{let v=g.length?g[0]:p;return c.ctx&&i(c.ctx[d],c.ctx[d]=v)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](v),f&&B8(e,d)),p}):[],c.update(),f=!0,Fa(c.before_update),c.fragment=n?n(c.ctx):!1,t.target){if(t.hydrate){let d=T8(t.target);c.fragment&&c.fragment.l(d),d.forEach(wr)}else c.fragment&&c.fragment.c();t.intro&&Kt(e.$$.fragment),Li(e,t.target,t.anchor,t.customElement),Sg()}qa(l)}var Ga=class{$destroy(){Pi(this,1),this.$destroy=Br}$on(t,r){let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!b8(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};function N8(e,t="day"){let r=e.clone().startOf(t).format();return`${t}-${r}`}var Ed=N8;function D8(){var e=qt("style");e.id="svelte-1widvzq-style",e.textContent=".dot.svelte-1widvzq,.hollow.svelte-1widvzq{display:inline-block;height:6px;width:6px;margin:0 1px}.filled.svelte-1widvzq{fill:var(--color-dot)}.active.filled.svelte-1widvzq{fill:var(--text-on-accent)}.hollow.svelte-1widvzq{fill:none;stroke:var(--color-dot)}.active.hollow.svelte-1widvzq{fill:none;stroke:var(--text-on-accent)}",dt(document.head,e)}function L8(e){let t,r,n;return{c(){t=Ko("svg"),r=Ko("circle"),st(r,"cx","3"),st(r,"cy","3"),st(r,"r","2"),st(t,"class",n=""+(Go(`hollow ${e[0]}`)+" svelte-1widvzq")),st(t,"viewBox","0 0 6 6"),st(t,"xmlns","http://www.w3.org/2000/svg"),pr(t,"active",e[2])},m(i,a){Nr(i,t,a),dt(t,r)},p(i,a){a&1&&n!==(n=""+(Go(`hollow ${i[0]}`)+" svelte-1widvzq"))&&st(t,"class",n),a&5&&pr(t,"active",i[2])},d(i){i&&wr(t)}}}function P8(e){let t,r,n;return{c(){t=Ko("svg"),r=Ko("circle"),st(r,"cx","3"),st(r,"cy","3"),st(r,"r","2"),st(t,"class",n=""+(Go(`dot filled ${e[0]}`)+" svelte-1widvzq")),st(t,"viewBox","0 0 6 6"),st(t,"xmlns","http://www.w3.org/2000/svg"),pr(t,"active",e[2])},m(i,a){Nr(i,t,a),dt(t,r)},p(i,a){a&1&&n!==(n=""+(Go(`dot filled ${i[0]}`)+" svelte-1widvzq"))&&st(t,"class",n),a&5&&pr(t,"active",i[2])},d(i){i&&wr(t)}}}function O8(e){let t;function r(a,s){return a[1]?P8:L8}let n=r(e),i=n(e);return{c(){i.c(),t=gd()},m(a,s){i.m(a,s),Nr(a,t,s)},p(a,[s]){n===(n=r(a))&&i?i.p(a,s):(i.d(1),i=n(a),i&&(i.c(),i.m(t.parentNode,t)))},i:Br,o:Br,d(a){i.d(a),a&&wr(t)}}}function M8(e,t,r){let{className:n=""}=t,{isFilled:i}=t,{isActive:a}=t;return e.$$set=s=>{"className"in s&&r(0,n=s.className),"isFilled"in s&&r(1,i=s.isFilled),"isActive"in s&&r(2,a=s.isActive)},[n,i,a]}var xg=class extends Ga{constructor(t){super();document.getElementById("svelte-1widvzq-style")||D8(),Bs(this,t,M8,O8,Eg,{className:0,isFilled:1,isActive:2})}},U8=e=>({}),GS=e=>({metadata:null}),F8=e=>({metadata:e&1}),KS=e=>({metadata:e[3]});function q8(e){let t,r=e[2].default,n=NS(r,e,e[1],GS);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&a&2&&LS(n,r,i,i[1],a,U8,GS)},i(i){t||(Kt(n,i),t=!0)},o(i){ar(n,i),t=!1},d(i){n&&n.d(i)}}}function G8(e){let t,r,n,i={ctx:e,current:null,token:null,hasCatch:!1,pending:H8,then:V8,catch:K8,value:3,blocks:[,,,]};return US(r=e[0],i),{c(){t=gd(),i.block.c()},m(a,s){Nr(a,t,s),i.block.m(a,i.anchor=s),i.mount=()=>t.parentNode,i.anchor=t,n=!0},p(a,s){if(e=a,i.ctx=e,!(s&1&&r!==(r=e[0])&&US(r,i))){let l=e.slice();l[3]=i.resolved,i.block.p(l,s)}},i(a){n||(Kt(i.block),n=!0)},o(a){for(let s=0;s<3;s+=1){let l=i.blocks[s];ar(l)}n=!1},d(a){a&&wr(t),i.block.d(a),i.token=null,i=null}}}function K8(e){return{c:Br,m:Br,p:Br,i:Br,o:Br,d:Br}}function V8(e){let t,r=e[2].default,n=NS(r,e,e[1],KS);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),t=!0},p(i,a){n&&n.p&&a&3&&LS(n,r,i,i[1],a,F8,KS)},i(i){t||(Kt(n,i),t=!0)},o(i){ar(n,i),t=!1},d(i){n&&n.d(i)}}}function H8(e){return{c:Br,m:Br,p:Br,i:Br,o:Br,d:Br}}function Y8(e){let t,r,n,i,a=[G8,q8],s=[];function l(c,f){return c[0]?0:1}return t=l(e),r=s[t]=a[t](e),{c(){r.c(),n=gd()},m(c,f){s[t].m(c,f),Nr(c,n,f),i=!0},p(c,[f]){let d=t;t=l(c),t===d?s[t].p(c,f):(ks(),ar(s[d],1,1,()=>{s[d]=null}),Rs(),r=s[t],r?r.p(c,f):(r=s[t]=a[t](c),r.c()),Kt(r,1),r.m(n.parentNode,n))},i(c){i||(Kt(r),i=!0)},o(c){ar(r),i=!1},d(c){s[t].d(c),c&&wr(n)}}}function j8(e,t,r){let{$$slots:n={},$$scope:i}=t,{metadata:a}=t;return e.$$set=s=>{"metadata"in s&&r(0,a=s.metadata),"$$scope"in s&&r(1,i=s.$$scope)},[a,i,n]}var Ig=class extends Ga{constructor(t){super();Bs(this,t,j8,Y8,hd,{metadata:0})}};function W8(){return navigator.appVersion.indexOf("Mac")!==-1}function Cd(e){return W8()?e.metaKey:e.ctrlKey}function z8(...e){return window.moment.weekdaysShort(!0)}function VS(e){return e.isoWeekday()===6||e.isoWeekday()===7}function J8(e){return e[0].weekday(0)}function Q8(e,...t){let r=window.moment().locale(),n=[],i,a=e.clone().locale(r).date(1),s=a.weekday(),l=a.clone().subtract(s,"days");for(let c=0;c<42;c++)c%7==0&&(i={days:[],weekNum:l.week()},n.push(i)),i.days.push(l),l=l.clone().add(1,"days");return n}function X8(){var e=qt("style");e.id="svelte-q3wqg9-style",e.textContent=".day.svelte-q3wqg9{background-color:var(--color-background-day);border-radius:4px;color:var(--color-text-day);cursor:pointer;font-size:0.8em;height:100%;padding:4px;position:relative;text-align:center;transition:background-color 0.1s ease-in, color 0.1s ease-in;vertical-align:baseline}.day.svelte-q3wqg9:hover{background-color:var(--interactive-hover)}.day.active.svelte-q3wqg9:hover{background-color:var(--interactive-accent-hover)}.adjacent-month.svelte-q3wqg9{opacity:0.25}.today.svelte-q3wqg9{color:var(--color-text-today)}.day.svelte-q3wqg9:active,.active.svelte-q3wqg9,.active.today.svelte-q3wqg9{color:var(--text-on-accent);background-color:var(--interactive-accent)}.dot-container.svelte-q3wqg9{display:flex;flex-wrap:wrap;justify-content:center;line-height:6px;min-height:6px}",dt(document.head,e)}function HS(e,t,r){let n=e.slice();return n[11]=t[r],n}function YS(e){let t,r,n=[e[11]],i={};for(let a=0;a<n.length;a+=1)i=lu(i,n[a]);return t=new xg({props:i}),{c(){oa(t.$$.fragment)},m(a,s){Li(t,a,s),r=!0},p(a,s){let l=s&128?_d(n,[Tg(a[11])]):{};t.$set(l)},i(a){r||(Kt(t.$$.fragment,a),r=!0)},o(a){ar(t.$$.fragment,a),r=!1},d(a){Pi(t,a)}}}function Z8(e){let t,r=e[0].format("D")+"",n,i,a,s,l,c,f,d=e[7].dots,p=[];for(let _=0;_<d.length;_+=1)p[_]=YS(HS(e,d,_));let g=_=>ar(p[_],1,1,()=>{p[_]=null}),v=[{class:s=`day ${e[7].classes.join(" ")}`},e[7].dataAttributes||{}],m={};for(let _=0;_<v.length;_+=1)m=lu(m,v[_]);return{c(){t=qt("div"),n=xs(r),i=In(),a=qt("div");for(let _=0;_<p.length;_+=1)p[_].c();st(a,"class","dot-container svelte-q3wqg9"),PS(t,m),pr(t,"active",e[6]===Ed(e[0],"day")),pr(t,"adjacent-month",!e[0].isSame(e[5],"month")),pr(t,"today",e[0].isSame(e[4],"day")),pr(t,"svelte-q3wqg9",!0)},m(_,E){Nr(_,t,E),dt(t,n),dt(t,i),dt(t,a);for(let A=0;A<p.length;A+=1)p[A].m(a,null);l=!0,c||(f=[sa(t,"click",function(){Di(e[2]&&e[8])&&(e[2]&&e[8]).apply(this,arguments)}),sa(t,"contextmenu",function(){Di(e[3]&&e[9])&&(e[3]&&e[9]).apply(this,arguments)}),sa(t,"pointerover",function(){Di(e[1]&&e[10])&&(e[1]&&e[10]).apply(this,arguments)})],c=!0)},p(_,E){if(e=_,(!l||E&1)&&r!==(r=e[0].format("D")+"")&&uu(n,r),E&128){d=e[7].dots;let A;for(A=0;A<d.length;A+=1){let x=HS(e,d,A);p[A]?(p[A].p(x,E),Kt(p[A],1)):(p[A]=YS(x),p[A].c(),Kt(p[A],1),p[A].m(a,null))}for(ks(),A=d.length;A<p.length;A+=1)g(A);Rs()}PS(t,m=_d(v,[(!l||E&128&&s!==(s=`day ${e[7].classes.join(" ")}`))&&{class:s},E&128&&(e[7].dataAttributes||{})])),pr(t,"active",e[6]===Ed(e[0],"day")),pr(t,"adjacent-month",!e[0].isSame(e[5],"month")),pr(t,"today",e[0].isSame(e[4],"day")),pr(t,"svelte-q3wqg9",!0)},i(_){if(!l){for(let E=0;E<d.length;E+=1)Kt(p[E]);l=!0}},o(_){p=p.filter(Boolean);for(let E=0;E<p.length;E+=1)ar(p[E]);l=!1},d(_){_&&wr(t),pd(p,_),c=!1,Fa(f)}}}function $8(e){let t,r,n;return r=new Ig({props:{metadata:e[7],$$slots:{default:[Z8,({metadata:i})=>({7:i}),({metadata:i})=>i?128:0]},$$scope:{ctx:e}}}),{c(){t=qt("td"),oa(r.$$.fragment)},m(i,a){Nr(i,t,a),Li(r,t,null),n=!0},p(i,[a]){let s={};a&128&&(s.metadata=i[7]),a&16639&&(s.$$scope={dirty:a,ctx:i}),r.$set(s)},i(i){n||(Kt(r.$$.fragment,i),n=!0)},o(i){ar(r.$$.fragment,i),n=!1},d(i){i&&wr(t),Pi(r)}}}function eF(e,t,r){let{date:n}=t,{metadata:i}=t,{onHover:a}=t,{onClick:s}=t,{onContextMenu:l}=t,{today:c}=t,{displayedMonth:f=null}=t,{selectedId:d=null}=t,p=m=>s(n,Cd(m)),g=m=>l(n,m),v=m=>a(n,m.target,Cd(m));return e.$$set=m=>{"date"in m&&r(0,n=m.date),"metadata"in m&&r(7,i=m.metadata),"onHover"in m&&r(1,a=m.onHover),"onClick"in m&&r(2,s=m.onClick),"onContextMenu"in m&&r(3,l=m.onContextMenu),"today"in m&&r(4,c=m.today),"displayedMonth"in m&&r(5,f=m.displayedMonth),"selectedId"in m&&r(6,d=m.selectedId)},[n,a,s,l,c,f,d,i,p,g,v]}var jS=class extends Ga{constructor(t){super();document.getElementById("svelte-q3wqg9-style")||X8(),Bs(this,t,eF,$8,hd,{date:0,metadata:7,onHover:1,onClick:2,onContextMenu:3,today:4,displayedMonth:5,selectedId:6})}};function tF(){var e=qt("style");e.id="svelte-156w7na-style",e.textContent=".arrow.svelte-156w7na.svelte-156w7na{align-items:center;cursor:pointer;display:flex;justify-content:center;width:24px}.arrow.is-mobile.svelte-156w7na.svelte-156w7na{width:32px}.right.svelte-156w7na.svelte-156w7na{transform:rotate(180deg)}.arrow.svelte-156w7na svg.svelte-156w7na{color:var(--color-arrow);height:16px;width:16px}",dt(document.head,e)}function rF(e){let t,r,n,i,a;return{c(){t=qt("div"),r=Ko("svg"),n=Ko("path"),st(n,"fill","currentColor"),st(n,"d","M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"),st(r,"focusable","false"),st(r,"role","img"),st(r,"xmlns","http://www.w3.org/2000/svg"),st(r,"viewBox","0 0 320 512"),st(r,"class","svelte-156w7na"),st(t,"class","arrow svelte-156w7na"),st(t,"aria-label",e[1]),pr(t,"is-mobile",e[3]),pr(t,"right",e[2]==="right")},m(s,l){Nr(s,t,l),dt(t,r),dt(r,n),i||(a=sa(t,"click",function(){Di(e[0])&&e[0].apply(this,arguments)}),i=!0)},p(s,[l]){e=s,l&2&&st(t,"aria-label",e[1]),l&4&&pr(t,"right",e[2]==="right")},i:Br,o:Br,d(s){s&&wr(t),i=!1,a()}}}function nF(e,t,r){let{onClick:n}=t,{tooltip:i}=t,{direction:a}=t,s=window.app.isMobile;return e.$$set=l=>{"onClick"in l&&r(0,n=l.onClick),"tooltip"in l&&r(1,i=l.tooltip),"direction"in l&&r(2,a=l.direction)},[n,i,a,s]}var kg=class extends Ga{constructor(t){super();document.getElementById("svelte-156w7na-style")||tF(),Bs(this,t,nF,rF,Eg,{onClick:0,tooltip:1,direction:2})}};function iF(){var e=qt("style");e.id="svelte-1vwr9dd-style",e.textContent=".nav.svelte-1vwr9dd.svelte-1vwr9dd{align-items:center;display:flex;margin:0.6em 0 1em;padding:0 8px;width:100%}.nav.is-mobile.svelte-1vwr9dd.svelte-1vwr9dd{padding:0}.title.svelte-1vwr9dd.svelte-1vwr9dd{color:var(--color-text-title);font-size:1.5em;margin:0}.is-mobile.svelte-1vwr9dd .title.svelte-1vwr9dd{font-size:1.3em}.month.svelte-1vwr9dd.svelte-1vwr9dd{font-weight:500;text-transform:capitalize}.year.svelte-1vwr9dd.svelte-1vwr9dd{color:var(--interactive-accent)}.right-nav.svelte-1vwr9dd.svelte-1vwr9dd{display:flex;justify-content:center;margin-left:auto}.reset-button.svelte-1vwr9dd.svelte-1vwr9dd{cursor:pointer;border-radius:4px;color:var(--text-muted);font-size:0.7em;font-weight:600;letter-spacing:1px;margin:0 4px;padding:0px 4px;text-transform:uppercase}.is-mobile.svelte-1vwr9dd .reset-button.svelte-1vwr9dd{display:none}",dt(document.head,e)}function aF(e){let t,r,n,i=e[0].format("MMM")+"",a,s,l,c=e[0].format("YYYY")+"",f,d,p,g,v,m,_,E,A,x,B;return g=new kg({props:{direction:"left",onClick:e[3],tooltip:"Previous Month"}}),E=new kg({props:{direction:"right",onClick:e[2],tooltip:"Next Month"}}),{c(){t=qt("div"),r=qt("h3"),n=qt("span"),a=xs(i),s=In(),l=qt("span"),f=xs(c),d=In(),p=qt("div"),oa(g.$$.fragment),v=In(),m=qt("div"),m.textContent=`${e[4]}`,_=In(),oa(E.$$.fragment),st(n,"class","month svelte-1vwr9dd"),st(l,"class","year svelte-1vwr9dd"),st(r,"class","title svelte-1vwr9dd"),st(m,"class","reset-button svelte-1vwr9dd"),st(p,"class","right-nav svelte-1vwr9dd"),st(t,"class","nav svelte-1vwr9dd"),pr(t,"is-mobile",e[5])},m(L,N){Nr(L,t,N),dt(t,r),dt(r,n),dt(n,a),dt(r,s),dt(r,l),dt(l,f),dt(t,d),dt(t,p),Li(g,p,null),dt(p,v),dt(p,m),dt(p,_),Li(E,p,null),A=!0,x||(B=[sa(r,"click",function(){Di(e[1])&&e[1].apply(this,arguments)}),sa(m,"click",function(){Di(e[1])&&e[1].apply(this,arguments)})],x=!0)},p(L,[N]){e=L,(!A||N&1)&&i!==(i=e[0].format("MMM")+"")&&uu(a,i),(!A||N&1)&&c!==(c=e[0].format("YYYY")+"")&&uu(f,c);let P={};N&8&&(P.onClick=e[3]),g.$set(P);let ae={};N&4&&(ae.onClick=e[2]),E.$set(ae)},i(L){A||(Kt(g.$$.fragment,L),Kt(E.$$.fragment,L),A=!0)},o(L){ar(g.$$.fragment,L),ar(E.$$.fragment,L),A=!1},d(L){L&&wr(t),Pi(g),Pi(E),x=!1,Fa(B)}}}function sF(e,t,r){let{displayedMonth:n}=t,{today:i}=t,{resetDisplayedMonth:a}=t,{incrementDisplayedMonth:s}=t,{decrementDisplayedMonth:l}=t,c=i.calendar().split(/\d|\s/)[0],f=window.app.isMobile;return e.$$set=d=>{"displayedMonth"in d&&r(0,n=d.displayedMonth),"today"in d&&r(6,i=d.today),"resetDisplayedMonth"in d&&r(1,a=d.resetDisplayedMonth),"incrementDisplayedMonth"in d&&r(2,s=d.incrementDisplayedMonth),"decrementDisplayedMonth"in d&&r(3,l=d.decrementDisplayedMonth)},[n,a,s,l,c,f,i]}var WS=class extends Ga{constructor(t){super();document.getElementById("svelte-1vwr9dd-style")||iF(),Bs(this,t,sF,aF,Eg,{displayedMonth:0,today:6,resetDisplayedMonth:1,incrementDisplayedMonth:2,decrementDisplayedMonth:3})}};function oF(){var e=qt("style");e.id="svelte-egt0yd-style",e.textContent="td.svelte-egt0yd{border-right:1px solid var(--background-modifier-border)}.week-num.svelte-egt0yd{background-color:var(--color-background-weeknum);border-radius:4px;color:var(--color-text-weeknum);cursor:pointer;font-size:0.65em;height:100%;padding:4px;text-align:center;transition:background-color 0.1s ease-in, color 0.1s ease-in;vertical-align:baseline}.week-num.svelte-egt0yd:hover{background-color:var(--interactive-hover)}.week-num.active.svelte-egt0yd:hover{background-color:var(--interactive-accent-hover)}.active.svelte-egt0yd{color:var(--text-on-accent);background-color:var(--interactive-accent)}.dot-container.svelte-egt0yd{display:flex;flex-wrap:wrap;justify-content:center;line-height:6px;min-height:6px}",dt(document.head,e)}function zS(e,t,r){let n=e.slice();return n[11]=t[r],n}function JS(e){let t,r,n=[e[11]],i={};for(let a=0;a<n.length;a+=1)i=lu(i,n[a]);return t=new xg({props:i}),{c(){oa(t.$$.fragment)},m(a,s){Li(t,a,s),r=!0},p(a,s){let l=s&64?_d(n,[Tg(a[11])]):{};t.$set(l)},i(a){r||(Kt(t.$$.fragment,a),r=!0)},o(a){ar(t.$$.fragment,a),r=!1},d(a){Pi(t,a)}}}function lF(e){let t,r,n,i,a,s,l,c,f=e[6].dots,d=[];for(let g=0;g<f.length;g+=1)d[g]=JS(zS(e,f,g));let p=g=>ar(d[g],1,1,()=>{d[g]=null});return{c(){t=qt("div"),r=xs(e[0]),n=In(),i=qt("div");for(let g=0;g<d.length;g+=1)d[g].c();st(i,"class","dot-container svelte-egt0yd"),st(t,"class",a=""+(Go(`week-num ${e[6].classes.join(" ")}`)+" svelte-egt0yd")),pr(t,"active",e[5]===Ed(e[1][0],"week"))},m(g,v){Nr(g,t,v),dt(t,r),dt(t,n),dt(t,i);for(let m=0;m<d.length;m+=1)d[m].m(i,null);s=!0,l||(c=[sa(t,"click",function(){Di(e[3]&&e[8])&&(e[3]&&e[8]).apply(this,arguments)}),sa(t,"contextmenu",function(){Di(e[4]&&e[9])&&(e[4]&&e[9]).apply(this,arguments)}),sa(t,"pointerover",function(){Di(e[2]&&e[10])&&(e[2]&&e[10]).apply(this,arguments)})],l=!0)},p(g,v){if(e=g,(!s||v&1)&&uu(r,e[0]),v&64){f=e[6].dots;let m;for(m=0;m<f.length;m+=1){let _=zS(e,f,m);d[m]?(d[m].p(_,v),Kt(d[m],1)):(d[m]=JS(_),d[m].c(),Kt(d[m],1),d[m].m(i,null))}for(ks(),m=f.length;m<d.length;m+=1)p(m);Rs()}(!s||v&64&&a!==(a=""+(Go(`week-num ${e[6].classes.join(" ")}`)+" svelte-egt0yd")))&&st(t,"class",a),v&98&&pr(t,"active",e[5]===Ed(e[1][0],"week"))},i(g){if(!s){for(let v=0;v<f.length;v+=1)Kt(d[v]);s=!0}},o(g){d=d.filter(Boolean);for(let v=0;v<d.length;v+=1)ar(d[v]);s=!1},d(g){g&&wr(t),pd(d,g),l=!1,Fa(c)}}}function uF(e){let t,r,n;return r=new Ig({props:{metadata:e[6],$$slots:{default:[lF,({metadata:i})=>({6:i}),({metadata:i})=>i?64:0]},$$scope:{ctx:e}}}),{c(){t=qt("td"),oa(r.$$.fragment),st(t,"class","svelte-egt0yd")},m(i,a){Nr(i,t,a),Li(r,t,null),n=!0},p(i,[a]){let s={};a&64&&(s.metadata=i[6]),a&16639&&(s.$$scope={dirty:a,ctx:i}),r.$set(s)},i(i){n||(Kt(r.$$.fragment,i),n=!0)},o(i){ar(r.$$.fragment,i),n=!1},d(i){i&&wr(t),Pi(r)}}}function cF(e,t,r){let{weekNum:n}=t,{days:i}=t,{metadata:a}=t,{onHover:s}=t,{onClick:l}=t,{onContextMenu:c}=t,{selectedId:f=null}=t,d,p=m=>l(d,Cd(m)),g=m=>c(i[0],m),v=m=>s(d,m.target,Cd(m));return e.$$set=m=>{"weekNum"in m&&r(0,n=m.weekNum),"days"in m&&r(1,i=m.days),"metadata"in m&&r(6,a=m.metadata),"onHover"in m&&r(2,s=m.onHover),"onClick"in m&&r(3,l=m.onClick),"onContextMenu"in m&&r(4,c=m.onContextMenu),"selectedId"in m&&r(5,f=m.selectedId)},e.$$.update=()=>{e.$$.dirty&2&&r(7,d=J8(i))},[n,i,s,l,c,f,a,d,p,g,v]}var QS=class extends Ga{constructor(t){super();document.getElementById("svelte-egt0yd-style")||oF(),Bs(this,t,cF,uF,hd,{weekNum:0,days:1,metadata:6,onHover:2,onClick:3,onContextMenu:4,selectedId:5})}};function XS(e){return U(this,null,function*(){let t={dots:[],classes:[],dataAttributes:{}};return(yield Promise.all(e)).reduce((n,i)=>({classes:[...n.classes,...i.classes||[]],dataAttributes:Object.assign(n.dataAttributes,i.dataAttributes),dots:[...n.dots,...i.dots||[]]}),t)})}function ZS(e,t,...r){return XS(e.map(n=>n.getDailyMetadata(t)))}function $S(e,t,...r){return XS(e.map(n=>n.getWeeklyMetadata(t)))}function fF(){var e=qt("style");e.id="svelte-pcimu8-style",e.textContent=".container.svelte-pcimu8{--color-background-heading:transparent;--color-background-day:transparent;--color-background-weeknum:transparent;--color-background-weekend:transparent;--color-dot:var(--text-muted);--color-arrow:var(--text-muted);--color-button:var(--text-muted);--color-text-title:var(--text-normal);--color-text-heading:var(--text-muted);--color-text-day:var(--text-normal);--color-text-today:var(--interactive-accent);--color-text-weeknum:var(--text-muted)}.container.svelte-pcimu8{padding:0 8px}.container.is-mobile.svelte-pcimu8{padding:0}th.svelte-pcimu8{text-align:center}.weekend.svelte-pcimu8{background-color:var(--color-background-weekend)}.calendar.svelte-pcimu8{border-collapse:collapse;width:100%}th.svelte-pcimu8{background-color:var(--color-background-heading);color:var(--color-text-heading);font-size:0.6em;letter-spacing:1px;padding:4px;text-transform:uppercase}",dt(document.head,e)}function eT(e,t,r){let n=e.slice();return n[18]=t[r],n}function tT(e,t,r){let n=e.slice();return n[21]=t[r],n}function rT(e,t,r){let n=e.slice();return n[24]=t[r],n}function nT(e,t,r){let n=e.slice();return n[27]=t[r],n}function iT(e){let t;return{c(){t=qt("col")},m(r,n){Nr(r,t,n)},d(r){r&&wr(t)}}}function aT(e){let t;return{c(){t=qt("col"),st(t,"class","svelte-pcimu8"),pr(t,"weekend",VS(e[27]))},m(r,n){Nr(r,t,n)},p(r,n){n&16384&&pr(t,"weekend",VS(r[27]))},d(r){r&&wr(t)}}}function sT(e){let t;return{c(){t=qt("th"),t.textContent="W",st(t,"class","svelte-pcimu8")},m(r,n){Nr(r,t,n)},d(r){r&&wr(t)}}}function oT(e){let t,r=e[24]+"",n;return{c(){t=qt("th"),n=xs(r),st(t,"class","svelte-pcimu8")},m(i,a){Nr(i,t,a),dt(t,n)},p(i,a){a&32768&&r!==(r=i[24]+"")&&uu(n,r)},d(i){i&&wr(t)}}}function lT(e){let t,r,n=[e[18],{metadata:$S(e[8],e[18].days[0],e[10])},{onClick:e[7]},{onContextMenu:e[5]},{onHover:e[3]},{selectedId:e[9]}],i={};for(let a=0;a<n.length;a+=1)i=lu(i,n[a]);return t=new QS({props:i}),{c(){oa(t.$$.fragment)},m(a,s){Li(t,a,s),r=!0},p(a,s){let l=s&18344?_d(n,[s&16384&&Tg(a[18]),s&17664&&{metadata:$S(a[8],a[18].days[0],a[10])},s&128&&{onClick:a[7]},s&32&&{onContextMenu:a[5]},s&8&&{onHover:a[3]},s&512&&{selectedId:a[9]}]):{};t.$set(l)},i(a){r||(Kt(t.$$.fragment,a),r=!0)},o(a){ar(t.$$.fragment,a),r=!1},d(a){Pi(t,a)}}}function uT(e,t){let r,n,i;return n=new jS({props:{date:t[21],today:t[10],displayedMonth:t[0],onClick:t[6],onContextMenu:t[4],onHover:t[2],metadata:ZS(t[8],t[21],t[10]),selectedId:t[9]}}),{key:e,first:null,c(){r=gd(),oa(n.$$.fragment),this.first=r},m(a,s){Nr(a,r,s),Li(n,a,s),i=!0},p(a,s){t=a;let l={};s&16384&&(l.date=t[21]),s&1024&&(l.today=t[10]),s&1&&(l.displayedMonth=t[0]),s&64&&(l.onClick=t[6]),s&16&&(l.onContextMenu=t[4]),s&4&&(l.onHover=t[2]),s&17664&&(l.metadata=ZS(t[8],t[21],t[10])),s&512&&(l.selectedId=t[9]),n.$set(l)},i(a){i||(Kt(n.$$.fragment,a),i=!0)},o(a){ar(n.$$.fragment,a),i=!1},d(a){a&&wr(r),Pi(n,a)}}}function cT(e,t){let r,n,i=[],a=new Map,s,l,c=t[1]&&lT(t),f=t[18].days,d=p=>p[21].format();for(let p=0;p<f.length;p+=1){let g=tT(t,f,p),v=d(g);a.set(v,i[p]=uT(v,g))}return{key:e,first:null,c(){r=qt("tr"),c&&c.c(),n=In();for(let p=0;p<i.length;p+=1)i[p].c();s=In(),this.first=r},m(p,g){Nr(p,r,g),c&&c.m(r,null),dt(r,n);for(let v=0;v<i.length;v+=1)i[v].m(r,null);dt(r,s),l=!0},p(p,g){t=p,t[1]?c?(c.p(t,g),g&2&&Kt(c,1)):(c=lT(t),c.c(),Kt(c,1),c.m(r,n)):c&&(ks(),ar(c,1,1,()=>{c=null}),Rs()),g&18261&&(f=t[18].days,ks(),i=qS(i,g,d,1,t,f,a,r,FS,uT,s,tT),Rs())},i(p){if(!l){Kt(c);for(let g=0;g<f.length;g+=1)Kt(i[g]);l=!0}},o(p){ar(c);for(let g=0;g<i.length;g+=1)ar(i[g]);l=!1},d(p){p&&wr(r),c&&c.d();for(let g=0;g<i.length;g+=1)i[g].d()}}}function dF(e){let t,r,n,i,a,s,l,c,f,d,p,g,v=[],m=new Map,_;r=new WS({props:{today:e[10],displayedMonth:e[0],incrementDisplayedMonth:e[11],decrementDisplayedMonth:e[12],resetDisplayedMonth:e[13]}});let E=e[1]&&iT(),A=e[14][1].days,x=[];for(let j=0;j<A.length;j+=1)x[j]=aT(nT(e,A,j));let B=e[1]&&sT(),L=e[15],N=[];for(let j=0;j<L.length;j+=1)N[j]=oT(rT(e,L,j));let P=e[14],ae=j=>j[18].weekNum;for(let j=0;j<P.length;j+=1){let V=eT(e,P,j),me=ae(V);m.set(me,v[j]=cT(me,V))}return{c(){t=qt("div"),oa(r.$$.fragment),n=In(),i=qt("table"),a=qt("colgroup"),E&&E.c(),s=In();for(let j=0;j<x.length;j+=1)x[j].c();l=In(),c=qt("thead"),f=qt("tr"),B&&B.c(),d=In();for(let j=0;j<N.length;j+=1)N[j].c();p=In(),g=qt("tbody");for(let j=0;j<v.length;j+=1)v[j].c();st(i,"class","calendar svelte-pcimu8"),st(t,"id","calendar-container"),st(t,"class","container svelte-pcimu8"),pr(t,"is-mobile",e[16])},m(j,V){Nr(j,t,V),Li(r,t,null),dt(t,n),dt(t,i),dt(i,a),E&&E.m(a,null),dt(a,s);for(let me=0;me<x.length;me+=1)x[me].m(a,null);dt(i,l),dt(i,c),dt(c,f),B&&B.m(f,null),dt(f,d);for(let me=0;me<N.length;me+=1)N[me].m(f,null);dt(i,p),dt(i,g);for(let me=0;me<v.length;me+=1)v[me].m(g,null);_=!0},p(j,[V]){let me={};if(V&1024&&(me.today=j[10]),V&1&&(me.displayedMonth=j[0]),r.$set(me),j[1]?E||(E=iT(),E.c(),E.m(a,s)):E&&(E.d(1),E=null),V&16384){A=j[14][1].days;let ye;for(ye=0;ye<A.length;ye+=1){let we=nT(j,A,ye);x[ye]?x[ye].p(we,V):(x[ye]=aT(we),x[ye].c(),x[ye].m(a,null))}for(;ye<x.length;ye+=1)x[ye].d(1);x.length=A.length}if(j[1]?B||(B=sT(),B.c(),B.m(f,d)):B&&(B.d(1),B=null),V&32768){L=j[15];let ye;for(ye=0;ye<L.length;ye+=1){let we=rT(j,L,ye);N[ye]?N[ye].p(we,V):(N[ye]=oT(we),N[ye].c(),N[ye].m(f,null))}for(;ye<N.length;ye+=1)N[ye].d(1);N.length=L.length}V&18431&&(P=j[14],ks(),v=qS(v,V,ae,1,j,P,m,g,FS,cT,null,eT),Rs())},i(j){if(!_){Kt(r.$$.fragment,j);for(let V=0;V<P.length;V+=1)Kt(v[V]);_=!0}},o(j){ar(r.$$.fragment,j);for(let V=0;V<v.length;V+=1)ar(v[V]);_=!1},d(j){j&&wr(t),Pi(r),E&&E.d(),pd(x,j),B&&B.d(),pd(N,j);for(let V=0;V<v.length;V+=1)v[V].d()}}}function hF(e,t,r){let{localeData:n}=t,{showWeekNums:i=!1}=t,{onHoverDay:a}=t,{onHoverWeek:s}=t,{onContextMenuDay:l}=t,{onContextMenuWeek:c}=t,{onClickDay:f}=t,{onClickWeek:d}=t,{sources:p=[]}=t,{selectedId:g}=t,{today:v=window.moment()}=t,{displayedMonth:m=v}=t,_,E,A=window.app.isMobile;function x(){r(0,m=m.clone().add(1,"month"))}function B(){r(0,m=m.clone().subtract(1,"month"))}function L(){r(0,m=v.clone())}return e.$$set=N=>{"localeData"in N&&r(17,n=N.localeData),"showWeekNums"in N&&r(1,i=N.showWeekNums),"onHoverDay"in N&&r(2,a=N.onHoverDay),"onHoverWeek"in N&&r(3,s=N.onHoverWeek),"onContextMenuDay"in N&&r(4,l=N.onContextMenuDay),"onContextMenuWeek"in N&&r(5,c=N.onContextMenuWeek),"onClickDay"in N&&r(6,f=N.onClickDay),"onClickWeek"in N&&r(7,d=N.onClickWeek),"sources"in N&&r(8,p=N.sources),"selectedId"in N&&r(9,g=N.selectedId),"today"in N&&r(10,v=N.today),"displayedMonth"in N&&r(0,m=N.displayedMonth)},e.$$.update=()=>{e.$$.dirty&131073&&r(14,_=Q8(m,n)),e.$$.dirty&132096&&r(15,E=z8(v,n))},[m,i,a,s,l,c,f,d,p,g,v,x,B,L,_,E,A,n]}var Ad=class extends Ga{constructor(t){super();document.getElementById("svelte-pcimu8-style")||fF(),Bs(this,t,hF,dF,hd,{localeData:17,showWeekNums:1,onHoverDay:2,onHoverWeek:3,onContextMenuDay:4,onContextMenuWeek:5,onClickDay:6,onClickWeek:7,sources:8,selectedId:9,today:10,displayedMonth:0,incrementDisplayedMonth:11,decrementDisplayedMonth:12,resetDisplayedMonth:13})}get incrementDisplayedMonth(){return this.$$.ctx[11]}get decrementDisplayedMonth(){return this.$$.ctx[12]}get resetDisplayedMonth(){return this.$$.ctx[13]}};function pF(e){let t,r,n,i=`${e[1]}px`,a=`${e[2]}px`,s,l=[yF,mF],c=[];function f(d,p){return d[3]?0:1}return r=f(e,-1),n=c[r]=l[r](e),{c(){t=ie("div"),n.c(),ee(t,"class","calendarContainer"),et(t,"width",i,!1),et(t,"height",a,!1)},m(d,p){Ae(d,t,p),c[r].m(t,null),s=!0},p(d,p){let g=r;r=f(d,p),r===g?c[r].p(d,p):(Jf(),fi(c[g],1,1,()=>{c[g]=null}),Qf(),n=c[r],n?n.p(d,p):(n=c[r]=l[r](d),n.c()),Jn(n,1),n.m(t,null)),p&2&&i!==(i=`${d[1]}px`)&&et(t,"width",i,!1),p&4&&a!==(a=`${d[2]}px`)&&et(t,"height",a,!1)},i(d){s||(Jn(n),s=!0)},o(d){fi(n),s=!1},d(d){d&&Ee(t),c[r].d()}}}function gF(e){let t,r,n,i,a=[_F,vF],s=[];function l(c,f){return c[3]?0:1}return r=l(e,-1),n=s[r]=a[r](e),{c(){t=ie("div"),n.c(),ee(t,"class","calendarContainer")},m(c,f){Ae(c,t,f),s[r].m(t,null),i=!0},p(c,f){let d=r;r=l(c,f),r===d?s[r].p(c,f):(Jf(),fi(s[d],1,1,()=>{s[d]=null}),Qf(),n=s[r],n?n.p(c,f):(n=s[r]=a[r](c),n.c()),Jn(n,1),n.m(t,null))},i(c){i||(Jn(n),i=!0)},o(c){fi(n),i=!1},d(c){c&&Ee(t),s[r].d()}}}function mF(e){let t,r,n,i,a;function s(f){e[11](f)}function l(f){e[12](f)}let c={showWeekNums:!1,onClickDay:e[5]};return e[4]!==void 0&&(c.sources=e[4]),e[0]!==void 0&&(c.displayedMonth=e[0]),r=new Ad({props:c}),zn.push(()=>Es(r,"sources",s)),zn.push(()=>Es(r,"displayedMonth",l)),{c(){t=ie("div"),Zl(r.$$.fragment)},m(f,d){Ae(f,t,d),Do(r,t,null),a=!0},p(f,d){let p={};!n&&d&16&&(n=!0,p.sources=f[4],vs(()=>n=!1)),!i&&d&1&&(i=!0,p.displayedMonth=f[0],vs(()=>i=!1)),r.$set(p)},i(f){a||(Jn(r.$$.fragment,f),a=!0)},o(f){fi(r.$$.fragment,f),a=!1},d(f){f&&Ee(t),Cs(r)}}}function yF(e){let t;return{c(){t=ie("p"),t.textContent="Loading..."},m(r,n){Ae(r,t,n)},p:bt,i:bt,o:bt,d(r){r&&Ee(t)}}}function vF(e){let t,r,n,i,a;function s(f){e[9](f)}function l(f){e[10](f)}let c={showWeekNums:!1,onClickDay:e[5]};return e[4]!==void 0&&(c.sources=e[4]),e[0]!==void 0&&(c.displayedMonth=e[0]),r=new Ad({props:c}),zn.push(()=>Es(r,"sources",s)),zn.push(()=>Es(r,"displayedMonth",l)),{c(){t=ie("div"),Zl(r.$$.fragment)},m(f,d){Ae(f,t,d),Do(r,t,null),a=!0},p(f,d){let p={};!n&&d&16&&(n=!0,p.sources=f[4],vs(()=>n=!1)),!i&&d&1&&(i=!0,p.displayedMonth=f[0],vs(()=>i=!1)),r.$set(p)},i(f){a||(Jn(r.$$.fragment,f),a=!0)},o(f){fi(r.$$.fragment,f),a=!1},d(f){f&&Ee(t),Cs(r)}}}function _F(e){let t;return{c(){t=ie("p"),t.textContent="Loading..."},m(r,n){Ae(r,t,n)},p:bt,i:bt,o:bt,d(r){r&&Ee(t)}}}function EF(e){let t,r,n,i,a=[gF,pF],s=[];function l(c,f){return c[1]==0||c[2]==0?0:1}return t=l(e,-1),r=s[t]=a[t](e),{c(){r.c(),n=jn()},m(c,f){s[t].m(c,f),Ae(c,n,f),i=!0},p(c,[f]){let d=t;t=l(c,f),t===d?s[t].p(c,f):(Jf(),fi(s[d],1,1,()=>{s[d]=null}),Qf(),r=s[t],r?r.p(c,f):(r=s[t]=a[t](c),r.c()),Jn(r,1),r.m(n.parentNode,n))},i(c){i||(Jn(r),i=!0)},o(c){fi(r),i=!1},d(c){s[t].d(c),c&&Ee(n)}}}function CF(e,t,r){let{displayedMonth:n=window.moment()}=t,{width:i=0}=t,{height:a=0}=t,{include:s}=t,{exclude:l}=t,c,f,d=!0,p;function g(B){return vr(this,void 0,void 0,function*(){let L=B.clone().subtract(1,"month").startOf("month"),N=B.clone().add(1,"month").endOf("month"),P=yield cr({startDate:L,endDate:N,include:s,exclude:l});f=P;let ae={getDailyMetadata:j=>vr(this,void 0,void 0,function*(){let V=v(P,j),me=V.map(ye=>({isFilled:!0,className:"googleCalendarDot",color:"#FFFFFF"}));return{dataAttributes:{amount:V.length+""},dots:me}})};r(3,d=!1),r(4,p=null),r(4,p=[ae])})}let v=(B,L)=>B.filter(N=>N.start.date?window.moment(N.start.date).isSame(L,"day"):window.moment(N.start.dateTime).isSame(L,"day")),m=(B,L)=>{new aa(v(f,B),B,!1,()=>{ci(),r(0,n)}).open()};ys(()=>{clearInterval(c)});function _(B){p=B,r(4,p)}function E(B){n=B,r(0,n)}function A(B){p=B,r(4,p)}function x(B){n=B,r(0,n)}return e.$$set=B=>{"displayedMonth"in B&&r(0,n=B.displayedMonth),"width"in B&&r(1,i=B.width),"height"in B&&r(2,a=B.height),"include"in B&&r(6,s=B.include),"exclude"in B&&r(7,l=B.exclude)},e.$$.update=()=>{if(e.$$.dirty&257){e:c&&clearInterval(c),r(8,c=setInterval(()=>g(n),5e3)),g(n)}},[n,i,a,d,p,m,s,l,c,_,E,A,x]}var fT=class extends nn{constructor(t){super();gn(this,t,CF,EF,pn,{displayedMonth:0,width:1,height:2,include:6,exclude:7})}},wd=fT;function AF(e){Yn(e,"svelte-1f1t9un",'.scheduleContainer.svelte-1f1t9un{padding:10px}.scheduleContent.svelte-1f1t9un{display:flex;flex-direction:column;align-items:flex-start;white-space:nowrap}.dayContainer.svelte-1f1t9un{display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;border-bottom:1px solid white;margin:2px 0px;padding:2px 0px;flex-wrap:wrap}.dateDisplay.svelte-1f1t9un{display:flex;flex-direction:row;align-items:flex-end;width:105px;min-width:105px}.dayNumber.svelte-1f1t9un{border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;display:inline-block;font-weight:bold;line-height:40px;text-align:center;width:40px;min-width:40px;cursor:pointer}.today.svelte-1f1t9un{color:white;background:#4285f4;text-decoration:none}.dayText.svelte-1f1t9un{font-size:15px}.dayEvents.svelte-1f1t9un{display:flex;flex-direction:column;flex:1}.dayEvent.svelte-1f1t9un{display:flex;flex:1;flex-direction:row;align-items:center;padding:5px;border-radius:10px;cursor:pointer;flex-wrap:wrap}.dayEvent.svelte-1f1t9un:hover{background-color:rgba(128, 128, 128, 0.129)}.circleTime.svelte-1f1t9un{display:flex;flex-direction:row;width:220px;min-width:220px}.recurringCircleContainer.svelte-1f1t9un,.circleContainer.svelte-1f1t9un{position:relative;display:flex;width:30px;min-width:30px;height:30px;align-items:center;justify-content:center}.recurringCircleContainer.svelte-1f1t9un::after{content:"\u21BA";position:absolute;width:30px;height:30px;text-align:center;line-height:30px;font-size:30px;color:rgb(164, 164, 164);white-space:nowrap}.circle.svelte-1f1t9un{width:10px;min-width:10px;height:10px;border-radius:50%}.timeContainer.svelte-1f1t9un{width:150px;min-width:150px}.eventTitleContainer.svelte-1f1t9un{white-space:nowrap}')}function dT(e,t,r){let n=e.slice();return n[15]=t[r][0],n[1]=t[r][1],n}function hT(e,t,r){let n=e.slice();return n[18]=t[r],n}function wF(e){let t,r=[...e[2]],n=[];for(let i=0;i<r.length;i+=1)n[i]=gT(dT(e,r,i));return{c(){t=ie("div");for(let i=0;i<n.length;i+=1)n[i].c();ee(t,"class","scheduleContent svelte-1f1t9un")},m(i,a){Ae(i,t,a);for(let s=0;s<n.length;s+=1)n[s].m(t,null)},p(i,a){if(a&124){r=[...i[2]];let s;for(s=0;s<r.length;s+=1){let l=dT(i,r,s);n[s]?n[s].p(l,a):(n[s]=gT(l),n[s].c(),n[s].m(t,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(i){i&&Ee(t),Vr(n,i)}}}function bF(e){let t;return{c(){t=ie("span"),t.textContent="LOADING"},m(r,n){Ae(r,t,n)},p:bt,d(r){r&&Ee(t)}}}function pT(e){let t,r,n,i,a,s,l,c,f=e[3](e[18])+"",d,p,g,v,m=e[18].summary+"",_,E,A,x;function B(...L){return e[13](e[18],...L)}return{c(){t=ie("div"),r=ie("div"),n=ie("div"),i=ie("div"),s=Re(),l=ie("div"),c=ie("span"),d=Jt(f),p=Re(),g=ie("div"),v=ie("span"),_=Jt(m),E=Re(),ee(i,"class","circle svelte-1f1t9un"),et(i,"background",Kl(e[18]),!1),ee(n,"class",a=""+(Bo(e[18].recurringEventId?"recurringCircleContainer":"circleContainer")+" svelte-1f1t9un")),ee(l,"class","timeContainer svelte-1f1t9un"),ee(r,"class","circleTime svelte-1f1t9un"),ee(g,"class","eventTitleContainer svelte-1f1t9un"),ee(t,"class","dayEvent svelte-1f1t9un")},m(L,N){Ae(L,t,N),te(t,r),te(r,n),te(n,i),te(r,s),te(r,l),te(l,c),te(c,d),te(t,p),te(t,g),te(g,v),te(v,_),te(t,E),A||(x=Je(t,"click",B),A=!0)},p(L,N){e=L},d(L){L&&Ee(t),A=!1,x()}}}function gT(e){let t,r,n,i,a=e[15].slice(0,2)+"",s,l,c,f,d=e[15].slice(2)+"",p,g,v,m,_,E;function A(){return e[12](e[1])}let x=e[1],B=[];for(let L=0;L<x.length;L+=1)B[L]=pT(hT(e,x,L));return{c(){t=ie("div"),r=ie("div"),n=ie("div"),i=ie("span"),s=Jt(a),c=Re(),f=ie("span"),p=Jt(d),g=Re(),v=ie("div");for(let L=0;L<B.length;L+=1)B[L].c();m=Re(),ee(n,"class",l=""+(Bo(e[6](e[1][0])?"dayNumber today":"dayNumber")+" svelte-1f1t9un")),ee(f,"class","dayText svelte-1f1t9un"),ee(r,"class","dateDisplay svelte-1f1t9un"),ee(v,"class","dayEvents svelte-1f1t9un"),ee(t,"class","dayContainer svelte-1f1t9un")},m(L,N){Ae(L,t,N),te(t,r),te(r,n),te(n,i),te(i,s),te(r,c),te(r,f),te(f,p),te(t,g),te(t,v);for(let P=0;P<B.length;P+=1)B[P].m(v,null);te(t,m),_||(E=Je(n,"click",A),_=!0)},p(L,N){if(e=L,N&28){x=e[1];let P;for(P=0;P<x.length;P+=1){let ae=hT(e,x,P);B[P]?B[P].p(ae,N):(B[P]=pT(ae),B[P].c(),B[P].m(v,null))}for(;P<B.length;P+=1)B[P].d(1);B.length=x.length}},d(L){L&&Ee(t),Vr(B,L),_=!1,E()}}}function SF(e){let t;function r(a,s){return a[0]?bF:wF}let n=r(e,-1),i=n(e);return{c(){t=ie("div"),i.c(),ee(t,"class","scheduleContainer svelte-1f1t9un")},m(a,s){Ae(a,t,s),i.m(t,null)},p(a,[s]){n===(n=r(a,s))&&i?i.p(a,s):(i.d(1),i=n(a),i&&(i.c(),i.m(t,null)))},i:bt,o:bt,d(a){a&&Ee(t),i.d()}}}function TF(e,t,r){let{timeSpan:n=7}=t,{date:i=window.moment()}=t,{include:a}=t,{exclude:s}=t,l,c=new Map,f=!1,d=[],p=()=>vr(void 0,void 0,void 0,function*(){let x=yield cr({startDate:i,endDate:i.clone().add(n,"day"),include:a,exclude:s});JSON.stringify(x)!=JSON.stringify(d)&&(c.clear(),r(1,d=x),d.forEach(B=>{let L=B.start.date?window.moment(B.start.date).format("DD MMM, ddd"):window.moment(B.start.dateTime).format("DD MMM, ddd");c.has(L)?c.get(L).push(B):c.set(L,[B])}),r(0,f=!1))}),g=x=>{if(x.start.date)return"All day";{let B=window.moment(x.start.dateTime).format("hh:mma"),L=window.moment(x.end.dateTime).format("hh:mma");return`${B}-${L}`}},v=(x,B)=>{B.shiftKey?window.open(x.htmlLink):new Zn(x,()=>{ci(),r(7,i),r(11,l)}).open()},m=x=>vr(void 0,void 0,void 0,function*(){let B=window.moment(x.start.date||x.start.dateTime),L=yield cr({startDate:B});new aa(L,B,!1,()=>{ci(),r(7,i),r(11,l)}).open()}),_=x=>{let B=window.moment(x.start.date||x.start.dateTime);return window.moment().local().isSame(B,"day")};ys(()=>{clearInterval(l)});let E=x=>m(x[0]),A=(x,B)=>v(x,B);return e.$$set=x=>{"timeSpan"in x&&r(8,n=x.timeSpan),"date"in x&&r(7,i=x.date),"include"in x&&r(9,a=x.include),"exclude"in x&&r(10,s=x.exclude)},e.$$.update=()=>{if(e.$$.dirty&2176){e:r(7,i),r(11,l),l&&clearInterval(l),r(0,f=!0),r(11,l=setInterval(p,5e3)),p()}},[f,d,c,g,v,m,_,i,n,a,s,l,E,A]}var mT=class extends nn{constructor(t){super();gn(this,t,TF,SF,pn,{timeSpan:8,date:7,include:9,exclude:10},AF)}},bd=mT;var yT=Pt(require("obsidian")),Vo=class extends yT.MarkdownRenderChild{constructor(t,r,n){super(r);this.a=t,this.b=n}load(){this.comp=new this.a({target:this.containerEl,props:this.b})}unload(){this.comp.$destroy()}};function vT(e,t,r){return U(this,null,function*(){let{type:n,height:i,width:a,date:s,navigation:l,timespan:c,exclude:f,include:d}=(0,Sd.parseYaml)(e);n||(n=Ma.day);let p=["YYYY-MM-DD","YYYY.MM.DD","YYYY/MM/DD","MM-DD-YYYY","MM.DD.YYYY","MM/DD/YYYY","DD-MM-YYYY","DD.MM.YYYY","DD/MM/YYYY"];if(s==null||s=="today"||s=="tomorrow"||s=="yesterday"||window.moment(s,p,!0).isValid()){let g;s==null?g=void 0:s=="today"?g=window.moment():s=="tomorrow"?g=window.moment().add(1,"day"):s=="yesterday"?g=window.moment().subtract(1,"day"):g=window.moment(s),t.style.padding="10px",n==Ma.web?Sd.Platform.isDesktopApp&&r.addChild(new Vo(dd,t,{height:i!=null?i:500,width:a!=null?a:500,date:g})):n==Ma.day?r.addChild(new Vo(fd,t,{height:i,width:a,date:g,navigation:l,include:d,exclude:f})):n==Ma.month?r.addChild(new Vo(wd,t,{height:i,width:a,displayedMonth:g,include:d,exclude:f})):n==Ma.schedule&&r.addChild(new Vo(bd,t,{timeSpan:c,date:g,include:d,exclude:f}))}})}var _T=Pt(require("obsidian"));var fu="google-calendar-view-day",Rg=class extends _T.ItemView{constructor(t){super(t)}getViewType(){return fu}getDisplayText(){return"Timeline View"}getIcon(){return"calendar-with-checkmark"}onOpen(){return U(this,null,function*(){this.timeline=new fd({target:this.contentEl,props:{navigation:!0}})})}onClose(){return U(this,null,function*(){this.timeline.$destroy()})}};var ET=Pt(require("obsidian"));var du="google-calendar-view-month",Bg=class extends ET.ItemView{constructor(t){super(t)}getViewType(){return du}getDisplayText(){return"Calendar Month View"}getIcon(){return"calendar-with-checkmark"}onOpen(){return U(this,null,function*(){this.calendar=new wd({target:this.contentEl,props:{}})})}onClose(){return U(this,null,function*(){this.calendar.$destroy()})}};var CT=Pt(require("obsidian"));var hu="google-calendar-view-web",Ng=class extends CT.ItemView{constructor(t){super(t)}getViewType(){return hu}getDisplayText(){return"Calendar Web View"}getIcon(){return"calendar-with-checkmark"}onOpen(){return U(this,null,function*(){this.calendar=new dd({target:this.contentEl})})}onClose(){return U(this,null,function*(){this.calendar.$destroy()})}};var AT=Pt(require("obsidian"));var pu="google-calendar-view-schedule",Dg=class extends AT.ItemView{constructor(t){super(t)}getViewType(){return pu}getDisplayText(){return"Calendar Month View"}getIcon(){return"calendar-with-checkmark"}onOpen(){return U(this,null,function*(){this.calendar=new bd({target:this.contentEl,props:{}})})}onClose(){return U(this,null,function*(){this.calendar.$destroy()})}};var wT=Pt(require("obsidian")),Lg=class extends wT.FuzzySuggestModal{constructor(t,r,n,i,a){super($e.getInstance().app);this.eventList=t,this.setPlaceholder("Select an event to insert"),this.editor=r,this.start=n,this.end=i,this.word=a}getItems(){return this.eventList}getItemText(t){return`${t.summary}	`}onChooseItem(t){return U(this,null,function*(){let r=`[${t.summary}](${t.htmlLink}&cal=${t.parent.id})`;this.editor.replaceRange(r,this.start,this.end,this.word)})}};function bT(e){gu("@today",e)||gu("@tomorrow",e)||gu("@yesterday",e)||gu("@REGEX",e)||gu("@YYYY-MM-DD",e)}function gu(e,t){var s;let r=t.getCursor(),n=t.getCursor(),i="",a=window.moment();if(e==="@REGEX"){let l=t.getLine(r.line);if(l.length>50)return!1;let c=(s=l.match(/.*@([+,-])(\d+) /))!=null?s:[];if(c.length!=3||t.getCursor().ch!=c.index+c[0].length)return!1;if(n=Qr(Kr({},r),{ch:r.ch-c[1].length-c[2].length-1}),n.ch<0)return;i=t.getRange(n,r),c[1]=="+"?a=window.moment().add(c[2],"day"):a=window.moment().subtract(c[2],"day")}else if(e==="@YYYY-MM-DD"){if(n=Qr(Kr({},r),{ch:r.ch-e.length}),i=t.getRange(n,r),i.length!="@YYYY-MM-DD".length||!i.startsWith("@")||i.substring(1).length>100)return!1;let l=window.moment(i.substring(1));if(l.isValid())a=l;else return!1}else{if(n=Qr(Kr({},r),{ch:r.ch-e.length}),n.ch<0||t.getRange(n,r)!=e)return!1;switch(e){case"@today":a=window.moment();break;case"@tomorrow":a=window.moment().add(1,"day");break;case"@yesterday":a=window.moment().add(-1,"day");break;default:return!1}}return cr({startDate:a}).then(l=>{new Lg(l,t,n,r,i).open()}),!0}var ST=Pt(require("obsidian"));function Td(e,t){return U(this,null,function*(){let r=$e.getInstance();return yield(yield(0,ST.requestUrl)({url:`https://www.googleapis.com/calendar/v3/calendars/${t}/events/${e}?key=${r.settings.googleApiToken}`,method:"GET",headers:{Authorization:"Bearer "+(yield Hn())}})).json})}var TT=Pt(rd());function xF(e){return U(this,null,function*(){let t=/\[.*]\(https:\/\/www\.google\.com\/calendar\/event\?eid=(.*)&cal=(.*)\)/g,r,n=[];do r=t.exec(e),r&&n.push(r);while(r);return n.length?yield Promise.all(n.map(a=>U(this,null,function*(){if(a){let s=atob(a[1]).split(" ")[0];return yield Td(s,a[2])}}))):[]})}function xT(e){return U(this,null,function*(){let t=e.getCursor(),r=e.getValue(),n=/{{gEvent(\d?).(.*)}} /g,i,a=[];do i=n.exec(r),i&&a.push(i);while(i);if(!a.length)return;let s=yield xF(r);!s.length||a.forEach(l=>U(this,null,function*(){let c=l[1]?parseInt(l[1]):0,f=e.getCursor();if(f.ch-=3,e.getRange(f,e.getCursor())!="}} ")return!1;let d=TT.default.get(s[c],l[2],"");d===Object(d)&&(d=JSON.stringify(d)),r=r.replace(l[0],d!=null?d:""),e.setValue(r),t.ch+=d.length-l[0].length,e.setCursor(t)}))})}var IT=Pt(require("obsidian"));var Ho=[".anyoneCanAddSelf",".attachments",".attachments[0]",".attachments[0]fileId",".attachments[0]fileUrl",".attachments[0]iconLink",".attachments[0]mimeType",".attachments[0]title",".attendees",".attendeesOmitted",".attendees[0]",".attendees[0].additionalGuests",".attendees[0].comment",".attendees[0].displayName",".attendees[0].email",".attendees[0].id",".attendees[0].optional",".attendees[0].organizer",".attendees[0].resource",".attendees[0].responseStatus",".attendees[0].self",".colorId",".conferenceData",".conferenceData.conferenceId",".conferenceData.conferenceSolution",".conferenceData.conferenceSolution.iconUri",".conferenceData.conferenceSolution.key",".conferenceData.conferenceSolution.key.type",".conferenceData.conferenceSolution.name",".conferenceData.createRequest",".conferenceData.createRequest.conferenceSolutionKey",".conferenceData.createRequest.conferenceSolutionKey.type",".conferenceData.createRequest.requestId",".conferenceData.createRequest.status",".conferenceData.createRequest.status.statusCode",".conferenceData.entryPoints",".conferenceData.entryPoints[0]",".conferenceData.entryPoints[0].accessCode",".conferenceData.entryPoints[0].entryPointType",".conferenceData.entryPoints[0].label",".conferenceData.entryPoints[0].meetingCode",".conferenceData.entryPoints[0].passcode",".conferenceData.entryPoints[0].password",".conferenceData.entryPoints[0].pin",".conferenceData.entryPoints[0].uri",".conferenceData.notes",".conferenceData.signature",".created",".creator",".creator.displayName",".creator.email",".creator.id",".creator.self",".description",".end",".end.date",".end.dateTime",".end.timeZone",".endTimeUnspecified",".etag",".eventType",".extendedProperties",".extendedProperties.private",".extendedProperties.shared",".gadget",".gadget.display",".gadget.height",".gadget.iconLink",".gadget.link",".gadget.preferences",".gadget.title",".gadget.type",".gadget.width",".guestsCanInviteOthers",".guestsCanModify",".guestsCanSeeOtherGuests",".hangoutLink",".htmlLink",".iCalUID",".id",".kind",".location",".locked",".organizer",".organizer.displayName",".organizer.email",".organizer.id",".organizer.self",".originalStartTime",".originalStartTime.date",".originalStartTime.dateTime",".originalStartTime.timeZone",".privateCopy",".recurrence",".recurrence[0]",".recurringEventId",".reminders",".reminders.overrides",".reminders.overrides[0]",".reminders.overrides[0].method",".reminders.overrides[0].minutes",".reminders.useDefault",".sequence",".source",".source.title",".source.url",".start",".start.date",".start.dateTime",".start.timeZone",".status",".summary",".transparency",".updated",".visibility"];var Pg=class extends IT.EditorSuggest{constructor(t){super(t)}onTrigger(t,r){let i=r.getLine(t.line).substring(0,t.ch).match(/{{gEvent(\d)?(\S+$)/);if(i){let a="{{gEvent".length;return i[1]&&a++,{end:t,start:{ch:i.index+a,line:t.line},query:i[2]}}}getSuggestions(t){return Ho.filter(r=>t.query===r.substring(0,t.query.length))}renderSuggestion(t,r){r.createEl("span",{text:t,cls:"suggestionText"})}selectSuggestion(t){if(!this.context)return;let{editor:r}=this.context;if(r.replaceRange(t,this.context.start,this.context.end),Ho.filter(i=>i.startsWith(`${t}.`)).length==0){let i=r.getCursor(),a=structuredClone(i);a.ch+=2,(r.getLine(a.line).length<a.ch||r.getRange(i,a)!="}}")&&r.replaceRange("}}",i),r.setCursor(a)}}};var VT=Pt(require("obsidian"));var mu=Pt(require("obsidian")),Og=class extends mu.Modal{constructor(t,r){super(t);this.onSubmit=r}onOpen(){let{contentEl:t}=this;t.createEl("h1",{text:"Enter a name for the template"}),new mu.Setting(t).setName("Name").addText(r=>r.onChange(n=>{this.result=n})),new mu.Setting(t).addButton(r=>r.setButtonText("Save").setCta().onClick(()=>{this.close(),this.onSubmit(this.result)}))}onClose(){let{contentEl:t}=this;t.empty()}};function IF(e){Yn(e,"svelte-6isfqn",".optionContainer.svelte-6isfqn{display:flex;flex-direction:column}.header.svelte-6isfqn{display:grid;grid-template-columns:[first] 30% auto [last] 30%}.center.svelte-6isfqn{text-align:center}.settingsContainer.svelte-6isfqn{display:flex;flex-direction:row;flex:1 1;gap:20px}.optionItem.svelte-6isfqn{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.input.svelte-6isfqn,.eventList.svelte-6isfqn,.optionList.svelte-6isfqn,.calendarList.svelte-6isfqn{width:100%;display:flex;flex-direction:column}.eventList.svelte-6isfqn,.optionList.svelte-6isfqn,.calendarList.svelte-6isfqn{padding-left:16px}button.svelte-6isfqn{align-self:center}")}function kT(e,t,r){let n=e.slice();return n[21]=t[r],n}function RT(e,t,r){let n=e.slice();return n[21]=t[r],n}function BT(e,t,r){let n=e.slice();return n[26]=t[r],n[27]=t,n[28]=r,n}function NT(e,t,r){let n=e.slice();return n[29]=t[r],n[30]=t,n[31]=r,n}function DT(e,t,r){let n=e.slice();return n[32]=t[r],n}function LT(e){let t,r=e[0].settings.insertTemplates,n=[];for(let i=0;i<r.length;i+=1)n[i]=PT(DT(e,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();t=jn()},m(i,a){for(let s=0;s<n.length;s+=1)n[s].m(i,a);Ae(i,t,a)},p(i,a){if(a[0]&1){r=i[0].settings.insertTemplates;let s;for(s=0;s<r.length;s+=1){let l=DT(i,r,s);n[s]?n[s].p(l,a):(n[s]=PT(l),n[s].c(),n[s].m(t.parentNode,t))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(i){Vr(n,i),i&&Ee(t)}}}function PT(e){let t,r=e[32].name+"",n,i;return{c(){t=ie("option"),n=Jt(r),t.__value=i=e[32].name,t.value=t.__value},m(a,s){Ae(a,t,s),te(t,n)},p(a,s){s[0]&1&&r!==(r=a[32].name+"")&&Wn(n,r),s[0]&1&&i!==(i=a[32].name)&&(t.__value=i,t.value=t.__value)},d(a){a&&Ee(t)}}}function kF(e){let t;return{c(){t=ie("span"),t.textContent="Loading..."},m(r,n){Ae(r,t,n)},p:bt,d(r){r&&Ee(t)}}}function RF(e){let t,r=e[4],n=[];for(let i=0;i<r.length;i+=1)n[i]=OT(NT(e,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();t=jn()},m(i,a){for(let s=0;s<n.length;s+=1)n[s].m(i,a);Ae(i,t,a)},p(i,a){if(a[0]&144){r=i[4];let s;for(s=0;s<r.length;s+=1){let l=NT(i,r,s);n[s]?n[s].p(l,a):(n[s]=OT(l),n[s].c(),n[s].m(t.parentNode,t))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(i){Vr(n,i),i&&Ee(t)}}}function OT(e){let t,r,n=e[29][0].summary+"",i,a,s,l,c,f,d,p;function g(){e[17].call(l,e[30],e[31])}return{c(){t=ie("div"),r=ie("label"),i=Jt(n),s=Re(),l=ie("input"),f=Re(),ee(r,"for",a=e[29][0].id),ee(l,"type","checkbox"),ee(l,"id",c=e[29][0].id),ee(t,"class","optionItem svelte-6isfqn")},m(v,m){Ae(v,t,m),te(t,r),te(r,i),te(t,s),te(t,l),l.checked=e[29][1],te(t,f),d||(p=[Je(l,"change",g),Je(l,"change",e[7])],d=!0)},p(v,m){e=v,m[0]&16&&n!==(n=e[29][0].summary+"")&&Wn(i,n),m[0]&16&&a!==(a=e[29][0].id)&&ee(r,"for",a),m[0]&16&&c!==(c=e[29][0].id)&&ee(l,"id",c),m[0]&16&&(l.checked=e[29][1])},d(v){v&&Ee(t),d=!1,Mr(p)}}}function BF(e){let t;return{c(){t=ie("span"),t.textContent="Loading..."},m(r,n){Ae(r,t,n)},p:bt,d(r){r&&Ee(t)}}}function NF(e){let t,r=e[3],n=[];for(let i=0;i<r.length;i+=1)n[i]=MT(BT(e,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();t=jn()},m(i,a){for(let s=0;s<n.length;s+=1)n[s].m(i,a);Ae(i,t,a)},p(i,a){if(a[0]&8){r=i[3];let s;for(s=0;s<r.length;s+=1){let l=BT(i,r,s);n[s]?n[s].p(l,a):(n[s]=MT(l),n[s].c(),n[s].m(t.parentNode,t))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(i){Vr(n,i),i&&Ee(t)}}}function MT(e){let t,r,n=e[26][0].summary+"",i,a,s,l,c,f,d,p;function g(){e[18].call(l,e[27],e[28])}return{c(){t=ie("div"),r=ie("label"),i=Jt(n),s=Re(),l=ie("input"),f=Re(),ee(r,"for",a=e[26][0].id),ee(l,"type","checkbox"),ee(l,"id",c=e[26][0].id),ee(t,"class","optionItem svelte-6isfqn")},m(v,m){Ae(v,t,m),te(t,r),te(r,i),te(t,s),te(t,l),l.checked=e[26][1],te(t,f),d||(p=Je(l,"change",g),d=!0)},p(v,m){e=v,m[0]&8&&n!==(n=e[26][0].summary+"")&&Wn(i,n),m[0]&8&&a!==(a=e[26][0].id)&&ee(r,"for",a),m[0]&8&&c!==(c=e[26][0].id)&&ee(l,"id",c),m[0]&8&&(l.checked=e[26][1])},d(v){v&&Ee(t),d=!1,p()}}}function UT(e){let t,r,n,i,a,s,l,c=Ho,f=[];for(let g=0;g<c.length;g+=1)f[g]=FT(RT(e,c,g));let d=e[5],p=[];for(let g=0;g<d.length;g+=1)p[g]=qT(kT(e,d,g));return{c(){t=ie("h4"),t.textContent="Table structure",r=Re(),n=ie("select");for(let g=0;g<f.length;g+=1)f[g].c();i=Re(),a=ie("div");for(let g=0;g<p.length;g+=1)p[g].c();ee(n,"name","tableOptions"),ee(n,"class","dropdown"),ee(a,"class","optionList svelte-6isfqn")},m(g,v){Ae(g,t,v),Ae(g,r,v),Ae(g,n,v);for(let m=0;m<f.length;m+=1)f[m].m(n,null);Ae(g,i,v),Ae(g,a,v);for(let m=0;m<p.length;m+=1)p[m].m(a,null);s||(l=Je(n,"change",e[8]),s=!0)},p(g,v){if(v&0){c=Ho;let m;for(m=0;m<c.length;m+=1){let _=RT(g,c,m);f[m]?f[m].p(_,v):(f[m]=FT(_),f[m].c(),f[m].m(n,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=c.length}if(v[0]&544){d=g[5];let m;for(m=0;m<d.length;m+=1){let _=kT(g,d,m);p[m]?p[m].p(_,v):(p[m]=qT(_),p[m].c(),p[m].m(a,null))}for(;m<p.length;m+=1)p[m].d(1);p.length=d.length}},d(g){g&&Ee(t),g&&Ee(r),g&&Ee(n),Vr(f,g),g&&Ee(i),g&&Ee(a),Vr(p,g),s=!1,l()}}}function FT(e){let t,r=e[21]+"",n,i;return{c(){t=ie("option"),n=Jt(r),t.__value=i=e[21],t.value=t.__value},m(a,s){Ae(a,t,s),te(t,n)},p:bt,d(a){a&&Ee(t)}}}function qT(e){let t,r,n=e[21]+"",i,a,s,l,c,f,d;function p(){return e[19](e[21])}return{c(){t=ie("div"),r=ie("span"),i=Jt(n),a=Re(),s=ie("input"),c=Re(),ee(s,"type","checkbox"),ee(s,"id",l=e[21]),s.checked=!0,ee(t,"class","optionItem svelte-6isfqn")},m(g,v){Ae(g,t,v),te(t,r),te(r,i),te(t,a),te(t,s),te(t,c),f||(d=Je(s,"click",p),f=!0)},p(g,v){e=g,v[0]&32&&n!==(n=e[21]+"")&&Wn(i,n),v[0]&32&&l!==(l=e[21])&&ee(s,"id",l)},d(g){g&&Ee(t),f=!1,d()}}}function DF(e){let t,r,n,i,a,s,l,c,f,d,p,g,v,m,_,E,A,x,B,L,N,P,ae,j,V,me,ye,we,Ke,Oe,Ie,Pe,_e,nt,Xe,Nt,At,it=e[0].settings.insertTemplates.length&&LT(e);function fe(R,D){return R[4]?RF:kF}let Dt=fe(e,[-1,-1]),Tt=Dt(e);function Be(R,D){return R[3]?NF:BF}let Le=Be(e,[-1,-1]),He=Le(e),I=e[2]=="table"&&UT(e);return{c(){t=ie("div"),r=ie("div"),n=ie("select"),i=ie("option"),i.textContent="None",it&&it.c(),a=Re(),s=ie("h1"),s.textContent="Insert Options",l=Re(),c=ie("button"),c.textContent="Save as template",f=Re(),d=ie("hr"),p=Re(),g=ie("div"),v=ie("div"),m=ie("label"),m.textContent="Insert type",_=Re(),E=ie("select"),A=ie("option"),A.textContent="Bullet",x=ie("option"),x.textContent="Table",B=Re(),L=ie("div"),N=ie("label"),N.textContent="Insert date",P=Re(),ae=ie("input"),V=Re(),me=ie("h4"),me.textContent="Calendars",ye=Re(),we=ie("div"),Tt.c(),Ke=Re(),Oe=ie("h4"),Oe.textContent="Events",Ie=Re(),Pe=ie("div"),He.c(),_e=Re(),I&&I.c(),nt=Re(),Xe=ie("button"),Xe.textContent="Insert",i.__value="None",i.value=i.__value,ee(n,"class","dropdown left"),e[1]===void 0&&ta(()=>e[15].call(n)),ee(s,"class","center svelte-6isfqn"),ee(c,"class","right svelte-6isfqn"),ee(r,"class","header svelte-6isfqn"),ee(m,"for","insertType"),ee(A,"default",""),A.__value="bullet",A.value=A.__value,x.__value="table",x.value=x.__value,ee(E,"class","dropdown"),e[2]===void 0&&ta(()=>e[16].call(E)),ee(v,"class","input svelte-6isfqn"),ee(N,"for","date"),ee(ae,"type","date"),ee(ae,"name","date"),ee(ae,"id","date"),ae.value=j=window.moment().format("YYYY-MM-DD"),ee(L,"class","input svelte-6isfqn"),ee(g,"class","settingsContainer svelte-6isfqn"),ee(we,"class","calendarList svelte-6isfqn"),ee(Pe,"class","eventList svelte-6isfqn"),ee(Xe,"class","svelte-6isfqn"),ee(t,"class","optionContainer svelte-6isfqn")},m(R,D){Ae(R,t,D),te(t,r),te(r,n),te(n,i),it&&it.m(n,null),Bi(n,e[1]),te(r,a),te(r,s),te(r,l),te(r,c),te(t,f),te(t,d),te(t,p),te(t,g),te(g,v),te(v,m),te(v,_),te(v,E),te(E,A),te(E,x),Bi(E,e[2]),te(g,B),te(g,L),te(L,N),te(L,P),te(L,ae),te(t,V),te(t,me),te(t,ye),te(t,we),Tt.m(we,null),te(t,Ke),te(t,Oe),te(t,Ie),te(t,Pe),He.m(Pe,null),te(t,_e),I&&I.m(t,null),te(t,nt),te(t,Xe),Nt||(At=[Je(n,"change",e[15]),Je(n,"change",e[12]),Je(c,"click",e[11]),Je(E,"change",e[16]),Je(ae,"change",e[10]),Je(Xe,"click",e[6])],Nt=!0)},p(R,D){R[0].settings.insertTemplates.length?it?it.p(R,D):(it=LT(R),it.c(),it.m(n,null)):it&&(it.d(1),it=null),D[0]&3&&Bi(n,R[1]),D[0]&4&&Bi(E,R[2]),Dt===(Dt=fe(R,D))&&Tt?Tt.p(R,D):(Tt.d(1),Tt=Dt(R),Tt&&(Tt.c(),Tt.m(we,null))),Le===(Le=Be(R,D))&&He?He.p(R,D):(He.d(1),He=Le(R),He&&(He.c(),He.m(Pe,null))),R[2]=="table"?I?I.p(R,D):(I=UT(R),I.c(),I.m(t,nt)):I&&(I.d(1),I=null)},i:bt,o:bt,d(R){R&&Ee(t),it&&it.d(),Tt.d(),He.d(),I&&I.d(),Nt=!1,Mr(At)}}}function LF(e,t,r){let{onSubmit:n}=t,{insertEventsModal:i}=t,a=$e.getInstance(),s,l,c,f,d=[".summary",".description"];Ql(()=>vr(void 0,void 0,void 0,function*(){let j=yield tn();r(4,f=j.map(me=>[me,!0]));let V=yield cr();r(3,c=V.map(me=>[me,!0]))}));let p=()=>{let j=c.filter(V=>V[1]).map(V=>V[0]);n(l,j,d,i)},g=j=>{c.forEach(V=>{V[0].parent.id==j.target.id&&(V[1]=j.target.checked)}),r(3,c)},v=j=>{let V=j.target.value;V=="on"&&(V=j.target.id),d.contains(V)?d.remove(V):d.push(V),r(5,d)},m=j=>{d.contains(j)&&d.remove(j),r(5,d)},_=j=>vr(void 0,void 0,void 0,function*(){let V=yield tn();r(4,f=V.map(ye=>[ye,!0]));let me=yield cr({startDate:window.moment(j.target.value).local()});r(3,c=me.map(ye=>[ye,!0])),r(3,c)}),E=()=>f.filter(j=>j[1]).map(j=>j[0].id),A=()=>{new Og(app,j=>{let V={name:j,insertType:l,tableOptions:d,calendarList:E()};r(0,a.settings.insertTemplates=[...a.settings.insertTemplates,V],a),a.saveSettings(),mr("Added template")}).open()},x=j=>{let V=j.target.value;if(V=="None")return;let ye=a.settings.insertTemplates.find(we=>we.name==V);!ye||(r(2,l=ye.insertType),r(5,d=ye.tableOptions),f.forEach(we=>we[1]=ye.calendarList.contains(we[0].id)),c.forEach(we=>we[1]=ye.calendarList.contains(we[0].parent.id)),r(4,f),r(3,c))};function B(){s=No(this),r(1,s),r(0,a)}function L(){l=No(this),r(2,l)}function N(j,V){j[V][1]=this.checked,r(4,f)}function P(j,V){j[V][1]=this.checked,r(3,c)}let ae=j=>m(j);return e.$$set=j=>{"onSubmit"in j&&r(13,n=j.onSubmit),"insertEventsModal"in j&&r(14,i=j.insertEventsModal)},[a,s,l,c,f,d,p,g,v,m,_,A,x,n,i,B,L,N,P,ae]}var GT=class extends nn{constructor(t){super();gn(this,t,LF,DF,pn,{onSubmit:13,insertEventsModal:14},IF,[-1,-1])}},KT=GT;var HT=Pt(rd()),Mg=class extends VT.Modal{constructor(t){super($e.getInstance().app);this.editor=t}onOpen(){return U(this,null,function*(){let{contentEl:t}=this;new KT({target:t,props:{onSubmit:this.onSubmit,insertEventsModal:this}})})}onClose(){let{contentEl:t}=this;t.empty()}onSubmit(t,r,n,i){let a="",s="",l="";t=="bullet"?(r.forEach(c=>{l+=`
- ${`[${c.summary}](${c.htmlLink}&cal=${c.parent.id})`}`}),i.editor.replaceRange(l,i.editor.getCursor())):t=="table"&&(n.forEach(c=>{c=c.split(".").join(" ").toLocaleUpperCase(),a+=`| ${c} `,s+="| ---- "}),a+=`|
`,s+=`|
`,r.forEach(c=>{n.forEach(f=>{let d=HT.default.get(c,f.substring(1),"");f==".summary"&&(d=`[${d}](${c.htmlLink}&cal=${c.parent.id})`),f.startsWith(".start")&&!f.contains("timeZone")&&(d=(c.start.date?window.moment(c.start.date):window.moment(c.start.dateTime)).format("YYYY-MM-DD HH:mm")),f.startsWith(".end")&&!f.contains("timeZone")&&(d=(c.start.date?window.moment(c.end.date):window.moment(c.end.dateTime)).format("YYYY-MM-DD HH:mm")),l+=`| ${d} `}),l+=`|
`}),i.editor.replaceRange(a+s+l,i.editor.getCursor())),i.close()}};var Ug=class{constructor(){}make(){return{getCalendars:()=>tn(),getEvent:(t,r)=>Td(t,r),getEvents:t=>cr(t)}}};var PF={googleClientId:"",googleClientSecret:"",googleApiToken:"",googleRefreshToken:"",refreshInterval:10,showNotice:!0,autoCreateEventNotes:!0,autoCreateEventKeepOpen:!1,importStartOffset:1,importEndOffset:1,defaultCalendar:"",calendarBlackList:[],insertTemplates:[]},$e=class extends yu.Plugin{constructor(){super(...arguments);this.initView=t=>U(this,null,function*(){this.app.workspace.getLeavesOfType(t).length===0&&(yield this.app.workspace.getRightLeaf(!1).setViewState({type:t})),this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(t).first())});this.onLayoutReady=()=>{var n;let t=(n=this.app.internalPlugins)==null?void 0:n.plugins.templates;t&&t.enabled&&(this.coreTemplatePlugin=t);let r=this.app.plugins.plugins["templater-obsidian"];r&&r._loaded&&(this.templaterPlugin=r),dg(this)}}static getInstance(){return $e.instance}onload(){return U(this,null,function*(){$e.instance=this,this.api=new Ug().make(),yield this.loadSettings(),this.app.workspace.onLayoutReady(this.onLayoutReady),this.registerMarkdownCodeBlockProcessor("gEvent",(t,r,n)=>vT(t,r,n)),this.registerEditorSuggest(new Pg(this.app)),this.registerView(fu,t=>new Rg(t)),this.registerView(du,t=>new Bg(t)),this.registerView(hu,t=>new Ng(t)),this.registerView(pu,t=>new Dg(t)),this.registerEvent(this.app.workspace.on("editor-change",t=>{bT(t),xT(t)})),this.addCommand({id:"open-google-calendar-timline-view",name:"Open Google Calendar timeline view",callback:()=>this.initView(fu)}),this.addCommand({id:"open-google-calendar-month-view",name:"Open Google Calendar month view",callback:()=>this.initView(du)}),this.addCommand({id:"open-google-calendar-web-view",name:"Open Google Calendar web view",callback:()=>this.initView(hu)}),this.addCommand({id:"open-google-calendar-schedule-view",name:"Open Google Calendar schedule view",callback:()=>this.initView(pu)}),this.addCommand({id:"list-google-calendars",name:"List Google Calendars",checkCallback:t=>{let r=Sn(!1);if(t)return r;!r||tn().then(n=>{new ud(n).open()})}}),this.addCommand({id:"create-google-calendar-event",name:"Create Google Calendar Event",checkCallback:t=>{let r=Sn(!1);if(t)return r;!r||new Zn({start:{},end:{}},()=>{ci()}).open()}}),this.addCommand({id:"list-google-calendars",name:"List Google Calendars",checkCallback:t=>{let r=Sn(!1);if(t)return r;!r||tn().then(n=>{new ud(n).open()})}}),this.addCommand({id:"list-google-events",name:"List Google Events",checkCallback:t=>{let r=Sn(!1);if(t)return r;!r||cr().then(n=>{new aa(n).open()})}}),this.addCommand({id:"google-calendar-trigger-auto-import",name:"Google Calendar Trigger Auto Import",checkCallback:t=>{let r=Sn(!1);if(t)return r;!r||dg(this)}}),this.addCommand({id:"insert-google-event-codeblock",name:"Insert Google Event CodeBlock",editorCallback:t=>{t.replaceRange("```gEvent\ndate: "+window.moment().format("YYYY-MM-DD")+"\ntype: day\n```",t.getCursor())}}),this.addCommand({id:"insert-google-event-template",name:"Insert Google Event Template",editorCallback:t=>{t.replaceRange("{{gEvent.}}",t.getCursor());let r=t.getCursor();r.ch+="{{gEvent.".length,t.setCursor(r)}}),this.addCommand({id:"insert-google-events",name:"Insert Google events",editorCheckCallback:(t,r)=>{let n=Sn(!1);if(t)return n;!n||new Mg(r).open()}}),this.addCommand({id:"copy-google-calendar-refresh-token",name:"Copy Google Calendar Refresh Token to Clipboard",callback:()=>{let t=ji();if(t==null||t==""){new yu.Notice("No Refresh Token. Please Login.");return}navigator.clipboard.writeText(t),new yu.Notice("Token copied")}}),this.addSettingTab(new ng(this.app,this))})}onunload(){this.app.workspace.detachLeavesOfType(fu),this.app.workspace.detachLeavesOfType(du),this.app.workspace.detachLeavesOfType(hu),this.app.workspace.detachLeavesOfType(pu)}loadSettings(){return U(this,null,function*(){this.settings=Object.assign({},PF,yield this.loadData())})}saveSettings(){return U(this,null,function*(){yield this.saveData(this.settings)})}};
/*!
 * rrule.js - Library for working with recurrence rules for calendar dates.
 * https://github.com/jakubroztocil/rrule
 *
 * Copyright 2010, Jakub Roztocil and Lars Schoning
 * Licenced under the BSD licence.
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 * Based on:
 * python-dateutil - Extensions to the standard Python datetime module.
 * Copyright (c) 2003-2011 - Gustavo Niemeyer <gustavo@niemeyer.net>
 * Copyright (c) 2012 - Tomi Pieviläinen <tomi.pievilainen@iki.fi>
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 */
/*!
* rrule.js - Library for working with recurrence rules for calendar dates.
* https://github.com/jakubroztocil/rrule
*
* Copyright 2010, Jakub Roztocil and Lars Schoning
* Licenced under the BSD licence.
* https://github.com/jakubroztocil/rrule/blob/master/LICENCE
*
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
